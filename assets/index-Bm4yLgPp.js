function mF(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in t)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function l1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var sT={exports:{}},mv={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U2;function gF(){if(U2)return mv;U2=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,r,s){var o=null;if(s!==void 0&&(o=""+s),r.key!==void 0&&(o=""+r.key),"key"in r){s={};for(var l in r)l!=="key"&&(s[l]=r[l])}else s=r;return r=s.ref,{$$typeof:t,type:i,key:o,ref:r!==void 0?r:null,props:s}}return mv.Fragment=e,mv.jsx=n,mv.jsxs=n,mv}var V2;function vF(){return V2||(V2=1,sT.exports=gF()),sT.exports}var pe=vF(),aT={exports:{}},on={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k2;function yF(){if(k2)return on;k2=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.iterator;function y(G){return G===null||typeof G!="object"?null:(G=g&&G[g]||G["@@iterator"],typeof G=="function"?G:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,C={};function T(G,te,ve){this.props=G,this.context=te,this.refs=C,this.updater=ve||b}T.prototype.isReactComponent={},T.prototype.setState=function(G,te){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,te,"setState")},T.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function _(){}_.prototype=T.prototype;function w(G,te,ve){this.props=G,this.context=te,this.refs=C,this.updater=ve||b}var R=w.prototype=new _;R.constructor=w,S(R,T.prototype),R.isPureReactComponent=!0;var N=Array.isArray,D={H:null,A:null,T:null,S:null,V:null},I=Object.prototype.hasOwnProperty;function V(G,te,ve,Me,De,qe){return ve=qe.ref,{$$typeof:t,type:G,key:te,ref:ve!==void 0?ve:null,props:qe}}function B(G,te){return V(G.type,te,void 0,void 0,void 0,G.props)}function L(G){return typeof G=="object"&&G!==null&&G.$$typeof===t}function z(G){var te={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(ve){return te[ve]})}var F=/\/+/g;function j(G,te){return typeof G=="object"&&G!==null&&G.key!=null?z(""+G.key):te.toString(36)}function Z(){}function se(G){switch(G.status){case"fulfilled":return G.value;case"rejected":throw G.reason;default:switch(typeof G.status=="string"?G.then(Z,Z):(G.status="pending",G.then(function(te){G.status==="pending"&&(G.status="fulfilled",G.value=te)},function(te){G.status==="pending"&&(G.status="rejected",G.reason=te)})),G.status){case"fulfilled":return G.value;case"rejected":throw G.reason}}throw G}function ie(G,te,ve,Me,De){var qe=typeof G;(qe==="undefined"||qe==="boolean")&&(G=null);var me=!1;if(G===null)me=!0;else switch(qe){case"bigint":case"string":case"number":me=!0;break;case"object":switch(G.$$typeof){case t:case e:me=!0;break;case m:return me=G._init,ie(me(G._payload),te,ve,Me,De)}}if(me)return De=De(G),me=Me===""?"."+j(G,0):Me,N(De)?(ve="",me!=null&&(ve=me.replace(F,"$&/")+"/"),ie(De,te,ve,"",function(_e){return _e})):De!=null&&(L(De)&&(De=B(De,ve+(De.key==null||G&&G.key===De.key?"":(""+De.key).replace(F,"$&/")+"/")+me)),te.push(De)),1;me=0;var Pe=Me===""?".":Me+":";if(N(G))for(var de=0;de<G.length;de++)Me=G[de],qe=Pe+j(Me,de),me+=ie(Me,te,ve,qe,De);else if(de=y(G),typeof de=="function")for(G=de.call(G),de=0;!(Me=G.next()).done;)Me=Me.value,qe=Pe+j(Me,de++),me+=ie(Me,te,ve,qe,De);else if(qe==="object"){if(typeof G.then=="function")return ie(se(G),te,ve,Me,De);throw te=String(G),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return me}function k(G,te,ve){if(G==null)return G;var Me=[],De=0;return ie(G,Me,"","",function(qe){return te.call(ve,qe,De++)}),Me}function q(G){if(G._status===-1){var te=G._result;te=te(),te.then(function(ve){(G._status===0||G._status===-1)&&(G._status=1,G._result=ve)},function(ve){(G._status===0||G._status===-1)&&(G._status=2,G._result=ve)}),G._status===-1&&(G._status=0,G._result=te)}if(G._status===1)return G._result.default;throw G._result}var $=typeof reportError=="function"?reportError:function(G){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof G=="object"&&G!==null&&typeof G.message=="string"?String(G.message):String(G),error:G});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",G);return}console.error(G)};function ne(){}return on.Children={map:k,forEach:function(G,te,ve){k(G,function(){te.apply(this,arguments)},ve)},count:function(G){var te=0;return k(G,function(){te++}),te},toArray:function(G){return k(G,function(te){return te})||[]},only:function(G){if(!L(G))throw Error("React.Children.only expected to receive a single React element child.");return G}},on.Component=T,on.Fragment=n,on.Profiler=r,on.PureComponent=w,on.StrictMode=i,on.Suspense=d,on.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,on.__COMPILER_RUNTIME={__proto__:null,c:function(G){return D.H.useMemoCache(G)}},on.cache=function(G){return function(){return G.apply(null,arguments)}},on.cloneElement=function(G,te,ve){if(G==null)throw Error("The argument must be a React element, but you passed "+G+".");var Me=S({},G.props),De=G.key,qe=void 0;if(te!=null)for(me in te.ref!==void 0&&(qe=void 0),te.key!==void 0&&(De=""+te.key),te)!I.call(te,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&te.ref===void 0||(Me[me]=te[me]);var me=arguments.length-2;if(me===1)Me.children=ve;else if(1<me){for(var Pe=Array(me),de=0;de<me;de++)Pe[de]=arguments[de+2];Me.children=Pe}return V(G.type,De,void 0,void 0,qe,Me)},on.createContext=function(G){return G={$$typeof:o,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null},G.Provider=G,G.Consumer={$$typeof:s,_context:G},G},on.createElement=function(G,te,ve){var Me,De={},qe=null;if(te!=null)for(Me in te.key!==void 0&&(qe=""+te.key),te)I.call(te,Me)&&Me!=="key"&&Me!=="__self"&&Me!=="__source"&&(De[Me]=te[Me]);var me=arguments.length-2;if(me===1)De.children=ve;else if(1<me){for(var Pe=Array(me),de=0;de<me;de++)Pe[de]=arguments[de+2];De.children=Pe}if(G&&G.defaultProps)for(Me in me=G.defaultProps,me)De[Me]===void 0&&(De[Me]=me[Me]);return V(G,qe,void 0,void 0,null,De)},on.createRef=function(){return{current:null}},on.forwardRef=function(G){return{$$typeof:l,render:G}},on.isValidElement=L,on.lazy=function(G){return{$$typeof:m,_payload:{_status:-1,_result:G},_init:q}},on.memo=function(G,te){return{$$typeof:h,type:G,compare:te===void 0?null:te}},on.startTransition=function(G){var te=D.T,ve={};D.T=ve;try{var Me=G(),De=D.S;De!==null&&De(ve,Me),typeof Me=="object"&&Me!==null&&typeof Me.then=="function"&&Me.then(ne,$)}catch(qe){$(qe)}finally{D.T=te}},on.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},on.use=function(G){return D.H.use(G)},on.useActionState=function(G,te,ve){return D.H.useActionState(G,te,ve)},on.useCallback=function(G,te){return D.H.useCallback(G,te)},on.useContext=function(G){return D.H.useContext(G)},on.useDebugValue=function(){},on.useDeferredValue=function(G,te){return D.H.useDeferredValue(G,te)},on.useEffect=function(G,te,ve){var Me=D.H;if(typeof ve=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Me.useEffect(G,te)},on.useId=function(){return D.H.useId()},on.useImperativeHandle=function(G,te,ve){return D.H.useImperativeHandle(G,te,ve)},on.useInsertionEffect=function(G,te){return D.H.useInsertionEffect(G,te)},on.useLayoutEffect=function(G,te){return D.H.useLayoutEffect(G,te)},on.useMemo=function(G,te){return D.H.useMemo(G,te)},on.useOptimistic=function(G,te){return D.H.useOptimistic(G,te)},on.useReducer=function(G,te,ve){return D.H.useReducer(G,te,ve)},on.useRef=function(G){return D.H.useRef(G)},on.useState=function(G){return D.H.useState(G)},on.useSyncExternalStore=function(G,te,ve){return D.H.useSyncExternalStore(G,te,ve)},on.useTransition=function(){return D.H.useTransition()},on.version="19.1.1",on}var B2;function Vm(){return B2||(B2=1,aT.exports=yF()),aT.exports}var H=Vm();const Hf=l1(H),F2=mF({__proto__:null,default:Hf},[H]);var oT={exports:{}},gv={},lT={exports:{}},cT={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H2;function xF(){return H2||(H2=1,(function(t){function e(k,q){var $=k.length;k.push(q);e:for(;0<$;){var ne=$-1>>>1,G=k[ne];if(0<r(G,q))k[ne]=q,k[$]=G,$=ne;else break e}}function n(k){return k.length===0?null:k[0]}function i(k){if(k.length===0)return null;var q=k[0],$=k.pop();if($!==q){k[0]=$;e:for(var ne=0,G=k.length,te=G>>>1;ne<te;){var ve=2*(ne+1)-1,Me=k[ve],De=ve+1,qe=k[De];if(0>r(Me,$))De<G&&0>r(qe,Me)?(k[ne]=qe,k[De]=$,ne=De):(k[ne]=Me,k[ve]=$,ne=ve);else if(De<G&&0>r(qe,$))k[ne]=qe,k[De]=$,ne=De;else break e}}return q}function r(k,q){var $=k.sortIndex-q.sortIndex;return $!==0?$:k.id-q.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var d=[],h=[],m=1,g=null,y=3,b=!1,S=!1,C=!1,T=!1,_=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function N(k){for(var q=n(h);q!==null;){if(q.callback===null)i(h);else if(q.startTime<=k)i(h),q.sortIndex=q.expirationTime,e(d,q);else break;q=n(h)}}function D(k){if(C=!1,N(k),!S)if(n(d)!==null)S=!0,I||(I=!0,j());else{var q=n(h);q!==null&&ie(D,q.startTime-k)}}var I=!1,V=-1,B=5,L=-1;function z(){return T?!0:!(t.unstable_now()-L<B)}function F(){if(T=!1,I){var k=t.unstable_now();L=k;var q=!0;try{e:{S=!1,C&&(C=!1,w(V),V=-1),b=!0;var $=y;try{t:{for(N(k),g=n(d);g!==null&&!(g.expirationTime>k&&z());){var ne=g.callback;if(typeof ne=="function"){g.callback=null,y=g.priorityLevel;var G=ne(g.expirationTime<=k);if(k=t.unstable_now(),typeof G=="function"){g.callback=G,N(k),q=!0;break t}g===n(d)&&i(d),N(k)}else i(d);g=n(d)}if(g!==null)q=!0;else{var te=n(h);te!==null&&ie(D,te.startTime-k),q=!1}}break e}finally{g=null,y=$,b=!1}q=void 0}}finally{q?j():I=!1}}}var j;if(typeof R=="function")j=function(){R(F)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,se=Z.port2;Z.port1.onmessage=F,j=function(){se.postMessage(null)}}else j=function(){_(F,0)};function ie(k,q){V=_(function(){k(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(k){k.callback=null},t.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<k?Math.floor(1e3/k):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_next=function(k){switch(y){case 1:case 2:case 3:var q=3;break;default:q=y}var $=y;y=q;try{return k()}finally{y=$}},t.unstable_requestPaint=function(){T=!0},t.unstable_runWithPriority=function(k,q){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var $=y;y=k;try{return q()}finally{y=$}},t.unstable_scheduleCallback=function(k,q,$){var ne=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?ne+$:ne):$=ne,k){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=$+G,k={id:m++,callback:q,priorityLevel:k,startTime:$,expirationTime:G,sortIndex:-1},$>ne?(k.sortIndex=$,e(h,k),n(d)===null&&k===n(h)&&(C?(w(V),V=-1):C=!0,ie(D,$-ne))):(k.sortIndex=G,e(d,k),S||b||(S=!0,I||(I=!0,j()))),k},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(k){var q=y;return function(){var $=y;y=q;try{return k.apply(this,arguments)}finally{y=$}}}})(cT)),cT}var G2;function bF(){return G2||(G2=1,lT.exports=xF()),lT.exports}var uT={exports:{}},Kr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W2;function SF(){if(W2)return Kr;W2=1;var t=Vm();function e(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)h+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},r=Symbol.for("react.portal");function s(d,h,m){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:g==null?null:""+g,children:d,containerInfo:h,implementation:m}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(d,h){if(d==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Kr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Kr.createPortal=function(d,h){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return s(d,h,null,m)},Kr.flushSync=function(d){var h=o.T,m=i.p;try{if(o.T=null,i.p=2,d)return d()}finally{o.T=h,i.p=m,i.d.f()}},Kr.preconnect=function(d,h){typeof d=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,i.d.C(d,h))},Kr.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},Kr.preinit=function(d,h){if(typeof d=="string"&&h&&typeof h.as=="string"){var m=h.as,g=l(m,h.crossOrigin),y=typeof h.integrity=="string"?h.integrity:void 0,b=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;m==="style"?i.d.S(d,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:y,fetchPriority:b}):m==="script"&&i.d.X(d,{crossOrigin:g,integrity:y,fetchPriority:b,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Kr.preinitModule=function(d,h){if(typeof d=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var m=l(h.as,h.crossOrigin);i.d.M(d,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&i.d.M(d)},Kr.preload=function(d,h){if(typeof d=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var m=h.as,g=l(m,h.crossOrigin);i.d.L(d,m,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Kr.preloadModule=function(d,h){if(typeof d=="string")if(h){var m=l(h.as,h.crossOrigin);i.d.m(d,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else i.d.m(d)},Kr.requestFormReset=function(d){i.d.r(d)},Kr.unstable_batchedUpdates=function(d,h){return d(h)},Kr.useFormState=function(d,h,m){return o.H.useFormState(d,h,m)},Kr.useFormStatus=function(){return o.H.useHostTransitionStatus()},Kr.version="19.1.1",Kr}var j2;function PI(){if(j2)return uT.exports;j2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),uT.exports=SF(),uT.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X2;function _F(){if(X2)return gv;X2=1;var t=bF(),e=Vm(),n=PI();function i(a){var c="https://react.dev/errors/"+a;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)c+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+a+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var c=a,p=a;if(a.alternate)for(;c.return;)c=c.return;else{a=c;do c=a,(c.flags&4098)!==0&&(p=c.return),a=c.return;while(a)}return c.tag===3?p:null}function o(a){if(a.tag===13){var c=a.memoizedState;if(c===null&&(a=a.alternate,a!==null&&(c=a.memoizedState)),c!==null)return c.dehydrated}return null}function l(a){if(s(a)!==a)throw Error(i(188))}function d(a){var c=a.alternate;if(!c){if(c=s(a),c===null)throw Error(i(188));return c!==a?null:a}for(var p=a,v=c;;){var E=p.return;if(E===null)break;var A=E.alternate;if(A===null){if(v=E.return,v!==null){p=v;continue}break}if(E.child===A.child){for(A=E.child;A;){if(A===p)return l(E),a;if(A===v)return l(E),c;A=A.sibling}throw Error(i(188))}if(p.return!==v.return)p=E,v=A;else{for(var U=!1,X=E.child;X;){if(X===p){U=!0,p=E,v=A;break}if(X===v){U=!0,v=E,p=A;break}X=X.sibling}if(!U){for(X=A.child;X;){if(X===p){U=!0,p=A,v=E;break}if(X===v){U=!0,v=A,p=E;break}X=X.sibling}if(!U)throw Error(i(189))}}if(p.alternate!==v)throw Error(i(190))}if(p.tag!==3)throw Error(i(188));return p.stateNode.current===p?a:c}function h(a){var c=a.tag;if(c===5||c===26||c===27||c===6)return a;for(a=a.child;a!==null;){if(c=h(a),c!==null)return c;a=a.sibling}return null}var m=Object.assign,g=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),w=Symbol.for("react.consumer"),R=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function j(a){return a===null||typeof a!="object"?null:(a=F&&a[F]||a["@@iterator"],typeof a=="function"?a:null)}var Z=Symbol.for("react.client.reference");function se(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===Z?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case S:return"Fragment";case T:return"Profiler";case C:return"StrictMode";case D:return"Suspense";case I:return"SuspenseList";case L:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case b:return"Portal";case R:return(a.displayName||"Context")+".Provider";case w:return(a._context.displayName||"Context")+".Consumer";case N:var c=a.render;return a=a.displayName,a||(a=c.displayName||c.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case V:return c=a.displayName||null,c!==null?c:se(a.type)||"Memo";case B:c=a._payload,a=a._init;try{return se(a(c))}catch{}}return null}var ie=Array.isArray,k=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},ne=[],G=-1;function te(a){return{current:a}}function ve(a){0>G||(a.current=ne[G],ne[G]=null,G--)}function Me(a,c){G++,ne[G]=a.current,a.current=c}var De=te(null),qe=te(null),me=te(null),Pe=te(null);function de(a,c){switch(Me(me,c),Me(qe,a),Me(De,null),c.nodeType){case 9:case 11:a=(a=c.documentElement)&&(a=a.namespaceURI)?d2(a):0;break;default:if(a=c.tagName,c=c.namespaceURI)c=d2(c),a=f2(c,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}ve(De),Me(De,a)}function _e(){ve(De),ve(qe),ve(me)}function Xe(a){a.memoizedState!==null&&Me(Pe,a);var c=De.current,p=f2(c,a.type);c!==p&&(Me(qe,a),Me(De,p))}function dt(a){qe.current===a&&(ve(De),ve(qe)),Pe.current===a&&(ve(Pe),uv._currentValue=$)}var Rt=Object.prototype.hasOwnProperty,ee=t.unstable_scheduleCallback,Ve=t.unstable_cancelCallback,Ue=t.unstable_shouldYield,Ie=t.unstable_requestPaint,Ne=t.unstable_now,it=t.unstable_getCurrentPriorityLevel,je=t.unstable_ImmediatePriority,Ke=t.unstable_UserBlockingPriority,Tt=t.unstable_NormalPriority,Pt=t.unstable_LowPriority,Q=t.unstable_IdlePriority,W=t.log,ye=t.unstable_setDisableYieldValue,Re=null,ke=null;function Oe(a){if(typeof W=="function"&&ye(a),ke&&typeof ke.setStrictMode=="function")try{ke.setStrictMode(Re,a)}catch{}}var lt=Math.clz32?Math.clz32:vt,tt=Math.log,gt=Math.LN2;function vt(a){return a>>>=0,a===0?32:31-(tt(a)/gt|0)|0}var We=256,st=4194304;function Et(a){var c=a&42;if(c!==0)return c;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function yt(a,c,p){var v=a.pendingLanes;if(v===0)return 0;var E=0,A=a.suspendedLanes,U=a.pingedLanes;a=a.warmLanes;var X=v&134217727;return X!==0?(v=X&~A,v!==0?E=Et(v):(U&=X,U!==0?E=Et(U):p||(p=X&~a,p!==0&&(E=Et(p))))):(X=v&~A,X!==0?E=Et(X):U!==0?E=Et(U):p||(p=v&~a,p!==0&&(E=Et(p)))),E===0?0:c!==0&&c!==E&&(c&A)===0&&(A=E&-E,p=c&-c,A>=p||A===32&&(p&4194048)!==0)?c:E}function at(a,c){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&c)===0}function Ft(a,c){switch(a){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ce(){var a=We;return We<<=1,(We&4194048)===0&&(We=256),a}function Qe(){var a=st;return st<<=1,(st&62914560)===0&&(st=4194304),a}function nt(a){for(var c=[],p=0;31>p;p++)c.push(a);return c}function ht(a,c){a.pendingLanes|=c,c!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Ye(a,c,p,v,E,A){var U=a.pendingLanes;a.pendingLanes=p,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=p,a.entangledLanes&=p,a.errorRecoveryDisabledLanes&=p,a.shellSuspendCounter=0;var X=a.entanglements,re=a.expirationTimes,Se=a.hiddenUpdates;for(p=U&~p;0<p;){var ze=31-lt(p),He=1<<ze;X[ze]=0,re[ze]=-1;var Te=Se[ze];if(Te!==null)for(Se[ze]=null,ze=0;ze<Te.length;ze++){var Ce=Te[ze];Ce!==null&&(Ce.lane&=-536870913)}p&=~He}v!==0&&Fe(a,v,0),A!==0&&E===0&&a.tag!==0&&(a.suspendedLanes|=A&~(U&~c))}function Fe(a,c,p){a.pendingLanes|=c,a.suspendedLanes&=~c;var v=31-lt(c);a.entangledLanes|=c,a.entanglements[v]=a.entanglements[v]|1073741824|p&4194090}function xt(a,c){var p=a.entangledLanes|=c;for(a=a.entanglements;p;){var v=31-lt(p),E=1<<v;E&c|a[v]&c&&(a[v]|=c),p&=~E}}function It(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function gn(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function fn(){var a=q.p;return a!==0?a:(a=window.event,a===void 0?32:N2(a.type))}function Ps(a,c){var p=q.p;try{return q.p=a,c()}finally{q.p=p}}var Ti=Math.random().toString(36).slice(2),Mi="__reactFiber$"+Ti,ri="__reactProps$"+Ti,Is="__reactContainer$"+Ti,as="__reactEvents$"+Ti,Md="__reactListeners$"+Ti,os="__reactHandles$"+Ti,ls="__reactResources$"+Ti,cs="__reactMarker$"+Ti;function jn(a){delete a[Mi],delete a[ri],delete a[as],delete a[Md],delete a[os]}function la(a){var c=a[Mi];if(c)return c;for(var p=a.parentNode;p;){if(c=p[Is]||p[Mi]){if(p=c.alternate,c.child!==null||p!==null&&p.child!==null)for(a=g2(a);a!==null;){if(p=a[Mi])return p;a=g2(a)}return c}a=p,p=a.parentNode}return null}function Na(a){if(a=a[Mi]||a[Is]){var c=a.tag;if(c===5||c===6||c===13||c===26||c===27||c===3)return a}return null}function Qo(a){var c=a.tag;if(c===5||c===26||c===27||c===6)return a.stateNode;throw Error(i(33))}function co(a){var c=a[ls];return c||(c=a[ls]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function Ci(a){a[cs]=!0}var iu=new Set,ru={};function Y(a,c){ue(a,c),ue(a+"Capture",c)}function ue(a,c){for(ru[a]=c,a=0;a<c.length;a++)iu.add(c[a])}var be=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),we={},he={};function $e(a){return Rt.call(he,a)?!0:Rt.call(we,a)?!1:be.test(a)?he[a]=!0:(we[a]=!0,!1)}function rt(a,c,p){if($e(c))if(p===null)a.removeAttribute(c);else{switch(typeof p){case"undefined":case"function":case"symbol":a.removeAttribute(c);return;case"boolean":var v=c.toLowerCase().slice(0,5);if(v!=="data-"&&v!=="aria-"){a.removeAttribute(c);return}}a.setAttribute(c,""+p)}}function pt(a,c,p){if(p===null)a.removeAttribute(c);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(c);return}a.setAttribute(c,""+p)}}function ot(a,c,p,v){if(v===null)a.removeAttribute(p);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(p);return}a.setAttributeNS(c,p,""+v)}}var Ct,Nt;function _t(a){if(Ct===void 0)try{throw Error()}catch(p){var c=p.stack.trim().match(/\n( *(at )?)/);Ct=c&&c[1]||"",Nt=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ct+a+Nt}var en=!1;function yn(a,c){if(!a||en)return"";en=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var v={DetermineComponentFrameRoot:function(){try{if(c){var He=function(){throw Error()};if(Object.defineProperty(He.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(He,[])}catch(Ce){var Te=Ce}Reflect.construct(a,[],He)}else{try{He.call()}catch(Ce){Te=Ce}a.call(He.prototype)}}else{try{throw Error()}catch(Ce){Te=Ce}(He=a())&&typeof He.catch=="function"&&He.catch(function(){})}}catch(Ce){if(Ce&&Te&&typeof Ce.stack=="string")return[Ce.stack,Te.stack]}return[null,null]}};v.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var E=Object.getOwnPropertyDescriptor(v.DetermineComponentFrameRoot,"name");E&&E.configurable&&Object.defineProperty(v.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var A=v.DetermineComponentFrameRoot(),U=A[0],X=A[1];if(U&&X){var re=U.split(`
`),Se=X.split(`
`);for(E=v=0;v<re.length&&!re[v].includes("DetermineComponentFrameRoot");)v++;for(;E<Se.length&&!Se[E].includes("DetermineComponentFrameRoot");)E++;if(v===re.length||E===Se.length)for(v=re.length-1,E=Se.length-1;1<=v&&0<=E&&re[v]!==Se[E];)E--;for(;1<=v&&0<=E;v--,E--)if(re[v]!==Se[E]){if(v!==1||E!==1)do if(v--,E--,0>E||re[v]!==Se[E]){var ze=`
`+re[v].replace(" at new "," at ");return a.displayName&&ze.includes("<anonymous>")&&(ze=ze.replace("<anonymous>",a.displayName)),ze}while(1<=v&&0<=E);break}}}finally{en=!1,Error.prepareStackTrace=p}return(p=a?a.displayName||a.name:"")?_t(p):""}function Qn(a){switch(a.tag){case 26:case 27:case 5:return _t(a.type);case 16:return _t("Lazy");case 13:return _t("Suspense");case 19:return _t("SuspenseList");case 0:case 15:return yn(a.type,!1);case 11:return yn(a.type.render,!1);case 1:return yn(a.type,!0);case 31:return _t("Activity");default:return""}}function Dn(a){try{var c="";do c+=Qn(a),a=a.return;while(a);return c}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}function Zt(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function wt(a){var c=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function Jn(a){var c=wt(a)?"checked":"value",p=Object.getOwnPropertyDescriptor(a.constructor.prototype,c),v=""+a[c];if(!a.hasOwnProperty(c)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var E=p.get,A=p.set;return Object.defineProperty(a,c,{configurable:!0,get:function(){return E.call(this)},set:function(U){v=""+U,A.call(this,U)}}),Object.defineProperty(a,c,{enumerable:p.enumerable}),{getValue:function(){return v},setValue:function(U){v=""+U},stopTracking:function(){a._valueTracker=null,delete a[c]}}}}function cn(a){a._valueTracker||(a._valueTracker=Jn(a))}function Zi(a){if(!a)return!1;var c=a._valueTracker;if(!c)return!0;var p=c.getValue(),v="";return a&&(v=wt(a)?a.checked?"true":"false":a.value),a=v,a!==p?(c.setValue(a),!0):!1}function Ls(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var Qi=/[\n"\\]/g;function Pi(a){return a.replace(Qi,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function zn(a,c,p,v,E,A,U,X){a.name="",U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"?a.type=U:a.removeAttribute("type"),c!=null?U==="number"?(c===0&&a.value===""||a.value!=c)&&(a.value=""+Zt(c)):a.value!==""+Zt(c)&&(a.value=""+Zt(c)):U!=="submit"&&U!=="reset"||a.removeAttribute("value"),c!=null?Ji(a,U,Zt(c)):p!=null?Ji(a,U,Zt(p)):v!=null&&a.removeAttribute("value"),E==null&&A!=null&&(a.defaultChecked=!!A),E!=null&&(a.checked=E&&typeof E!="function"&&typeof E!="symbol"),X!=null&&typeof X!="function"&&typeof X!="symbol"&&typeof X!="boolean"?a.name=""+Zt(X):a.removeAttribute("name")}function pr(a,c,p,v,E,A,U,X){if(A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(a.type=A),c!=null||p!=null){if(!(A!=="submit"&&A!=="reset"||c!=null))return;p=p!=null?""+Zt(p):"",c=c!=null?""+Zt(c):p,X||c===a.value||(a.value=c),a.defaultValue=c}v=v??E,v=typeof v!="function"&&typeof v!="symbol"&&!!v,a.checked=X?a.checked:!!v,a.defaultChecked=!!v,U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"&&(a.name=U)}function Ji(a,c,p){c==="number"&&Ls(a.ownerDocument)===a||a.defaultValue===""+p||(a.defaultValue=""+p)}function oi(a,c,p,v){if(a=a.options,c){c={};for(var E=0;E<p.length;E++)c["$"+p[E]]=!0;for(p=0;p<a.length;p++)E=c.hasOwnProperty("$"+a[p].value),a[p].selected!==E&&(a[p].selected=E),E&&v&&(a[p].defaultSelected=!0)}else{for(p=""+Zt(p),c=null,E=0;E<a.length;E++){if(a[E].value===p){a[E].selected=!0,v&&(a[E].defaultSelected=!0);return}c!==null||a[E].disabled||(c=a[E])}c!==null&&(c.selected=!0)}}function er(a,c,p){if(c!=null&&(c=""+Zt(c),c!==a.value&&(a.value=c),p==null)){a.defaultValue!==c&&(a.defaultValue=c);return}a.defaultValue=p!=null?""+Zt(p):""}function ac(a,c,p,v){if(c==null){if(v!=null){if(p!=null)throw Error(i(92));if(ie(v)){if(1<v.length)throw Error(i(93));v=v[0]}p=v}p==null&&(p=""),c=p}p=Zt(c),a.defaultValue=p,v=a.textContent,v===p&&v!==""&&v!==null&&(a.value=v)}function Ii(a,c){if(c){var p=a.firstChild;if(p&&p===a.lastChild&&p.nodeType===3){p.nodeValue=c;return}}a.textContent=c}var D0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Cd(a,c,p){var v=c.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?v?a.setProperty(c,""):c==="float"?a.cssFloat="":a[c]="":v?a.setProperty(c,p):typeof p!="number"||p===0||D0.has(c)?c==="float"?a.cssFloat=p:a[c]=(""+p).trim():a[c]=p+"px"}function wd(a,c,p){if(c!=null&&typeof c!="object")throw Error(i(62));if(a=a.style,p!=null){for(var v in p)!p.hasOwnProperty(v)||c!=null&&c.hasOwnProperty(v)||(v.indexOf("--")===0?a.setProperty(v,""):v==="float"?a.cssFloat="":a[v]="");for(var E in c)v=c[E],c.hasOwnProperty(E)&&p[E]!==v&&Cd(a,E,v)}else for(var A in c)c.hasOwnProperty(A)&&Cd(a,A,c[A])}function xh(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ng=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),P0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ad(a){return P0.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var bh=null;function Sh(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Jo=null,oc=null;function ig(a){var c=Na(a);if(c&&(a=c.stateNode)){var p=a[ri]||null;e:switch(a=c.stateNode,c.type){case"input":if(zn(a,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),c=p.name,p.type==="radio"&&c!=null){for(p=a;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+Pi(""+c)+'"][type="radio"]'),c=0;c<p.length;c++){var v=p[c];if(v!==a&&v.form===a.form){var E=v[ri]||null;if(!E)throw Error(i(90));zn(v,E.value,E.defaultValue,E.defaultValue,E.checked,E.defaultChecked,E.type,E.name)}}for(c=0;c<p.length;c++)v=p[c],v.form===a.form&&Zi(v)}break e;case"textarea":er(a,p.value,p.defaultValue);break e;case"select":c=p.value,c!=null&&oi(a,!!p.multiple,c,!1)}}}var Rd=!1;function rg(a,c,p){if(Rd)return a(c,p);Rd=!0;try{var v=a(c);return v}finally{if(Rd=!1,(Jo!==null||oc!==null)&&(qa(),Jo&&(c=Jo,a=oc,oc=Jo=null,ig(c),a)))for(c=0;c<a.length;c++)ig(a[c])}}function su(a,c){var p=a.stateNode;if(p===null)return null;var v=p[ri]||null;if(v===null)return null;p=v[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(a=a.type,v=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!v;break e;default:a=!1}if(a)return null;if(p&&typeof p!="function")throw Error(i(231,c,typeof p));return p}var Da=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Od=!1;if(Da)try{var au={};Object.defineProperty(au,"passive",{get:function(){Od=!0}}),window.addEventListener("test",au,au),window.removeEventListener("test",au,au)}catch{Od=!1}var uo=null,sg=null,_h=null;function ag(){if(_h)return _h;var a,c=sg,p=c.length,v,E="value"in uo?uo.value:uo.textContent,A=E.length;for(a=0;a<p&&c[a]===E[a];a++);var U=p-a;for(v=1;v<=U&&c[p-v]===E[A-v];v++);return _h=E.slice(a,1<v?1-v:void 0)}function el(a){var c=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&c===13&&(a=13)):a=c,a===10&&(a=13),32<=a||a===13?a:0}function ou(){return!0}function Nd(){return!1}function Cr(a){function c(p,v,E,A,U){this._reactName=p,this._targetInst=E,this.type=v,this.nativeEvent=A,this.target=U,this.currentTarget=null;for(var X in a)a.hasOwnProperty(X)&&(p=a[X],this[X]=p?p(A):A[X]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?ou:Nd,this.isPropagationStopped=Nd,this}return m(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=ou)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=ou)},persist:function(){},isPersistent:ou}),c}var tl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lu=Cr(tl),cu=m({},tl,{view:0,detail:0}),I0=Cr(cu),fo,uu,du,fu=m({},cu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pd,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==du&&(du&&a.type==="mousemove"?(fo=a.screenX-du.screenX,uu=a.screenY-du.screenY):uu=fo=0,du=a),fo)},movementY:function(a){return"movementY"in a?a.movementY:uu}}),og=Cr(fu),L0=m({},fu,{dataTransfer:0}),EE=Cr(L0),tr=m({},cu,{relatedTarget:0}),Eh=Cr(tr),z0=m({},tl,{animationName:0,elapsedTime:0,pseudoElement:0}),U0=Cr(z0),V0=m({},tl,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),k0=Cr(V0),Dd=m({},tl,{data:0}),Th=Cr(Dd),B0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},F0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},H0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lg(a){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(a):(a=H0[a])?!!c[a]:!1}function Pd(){return lg}var G0=m({},cu,{key:function(a){if(a.key){var c=B0[a.key]||a.key;if(c!=="Unidentified")return c}return a.type==="keypress"?(a=el(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?F0[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pd,charCode:function(a){return a.type==="keypress"?el(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?el(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),cg=Cr(G0),ug=m({},fu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mh=Cr(ug),W0=m({},cu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pd}),dg=Cr(W0),j0=m({},tl,{propertyName:0,elapsedTime:0,pseudoElement:0}),ho=Cr(j0),fg=m({},fu,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),TE=Cr(fg),X0=m({},tl,{newState:0,oldState:0}),nl=Cr(X0),po=[9,13,27,32],Id=Da&&"CompositionEvent"in window,lc=null;Da&&"documentMode"in document&&(lc=document.documentMode);var Ld=Da&&"TextEvent"in window&&!lc,zd=Da&&(!Id||lc&&8<lc&&11>=lc),il=" ",nr=!1;function Ud(a,c){switch(a){case"keyup":return po.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hg(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var rl=!1;function Vd(a,c){switch(a){case"compositionend":return hg(c);case"keypress":return c.which!==32?null:(nr=!0,il);case"textInput":return a=c.data,a===il&&nr?null:a;default:return null}}function pg(a,c){if(rl)return a==="compositionend"||!Id&&Ud(a,c)?(a=ag(),_h=sg=uo=null,rl=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return zd&&c.locale!=="ko"?null:c.data;default:return null}}var Ch={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mg(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c==="input"?!!Ch[a.type]:c==="textarea"}function Fr(a,c,p,v){Jo?oc?oc.push(v):oc=[v]:Jo=v,c=jx(c,"onChange"),0<c.length&&(p=new lu("onChange","change",null,p,v),a.push({event:p,listeners:c}))}var hu=null,cc=null;function q0(a){a2(a,0)}function kd(a){var c=Qo(a);if(Zi(c))return a}function wh(a,c){if(a==="change")return c}var Ah=!1;if(Da){var Rh;if(Da){var pu="oninput"in document;if(!pu){var mu=document.createElement("div");mu.setAttribute("oninput","return;"),pu=typeof mu.oninput=="function"}Rh=pu}else Rh=!1;Ah=Rh&&(!document.documentMode||9<document.documentMode)}function si(){hu&&(hu.detachEvent("onpropertychange",Y0),cc=hu=null)}function Y0(a){if(a.propertyName==="value"&&kd(cc)){var c=[];Fr(c,cc,a,Sh(a)),rg(q0,c)}}function ME(a,c,p){a==="focusin"?(si(),hu=c,cc=p,hu.attachEvent("onpropertychange",Y0)):a==="focusout"&&si()}function K0(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return kd(cc)}function Bd(a,c){if(a==="click")return kd(c)}function sl(a,c){if(a==="input"||a==="change")return kd(c)}function $0(a,c){return a===c&&(a!==0||1/a===1/c)||a!==a&&c!==c}var Hr=typeof Object.is=="function"?Object.is:$0;function ca(a,c){if(Hr(a,c))return!0;if(typeof a!="object"||a===null||typeof c!="object"||c===null)return!1;var p=Object.keys(a),v=Object.keys(c);if(p.length!==v.length)return!1;for(v=0;v<p.length;v++){var E=p[v];if(!Rt.call(c,E)||!Hr(a[E],c[E]))return!1}return!0}function Gr(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function gg(a,c){var p=Gr(a);a=0;for(var v;p;){if(p.nodeType===3){if(v=a+p.textContent.length,a<=c&&v>=c)return{node:p,offset:c-a};a=v}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=Gr(p)}}function vg(a,c){return a&&c?a===c?!0:a&&a.nodeType===3?!1:c&&c.nodeType===3?vg(a,c.parentNode):"contains"in a?a.contains(c):a.compareDocumentPosition?!!(a.compareDocumentPosition(c)&16):!1:!1}function yg(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var c=Ls(a.document);c instanceof a.HTMLIFrameElement;){try{var p=typeof c.contentWindow.location.href=="string"}catch{p=!1}if(p)a=c.contentWindow;else break;c=Ls(a.document)}return c}function Fd(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c&&(c==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||c==="textarea"||a.contentEditable==="true")}var xg=Da&&"documentMode"in document&&11>=document.documentMode,mo=null,Oh=null,Hd=null,Nh=!1;function bg(a,c,p){var v=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;Nh||mo==null||mo!==Ls(v)||(v=mo,"selectionStart"in v&&Fd(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),Hd&&ca(Hd,v)||(Hd=v,v=jx(Oh,"onSelect"),0<v.length&&(c=new lu("onSelect","select",null,c,p),a.push({event:c,listeners:v}),c.target=mo)))}function ir(a,c){var p={};return p[a.toLowerCase()]=c.toLowerCase(),p["Webkit"+a]="webkit"+c,p["Moz"+a]="moz"+c,p}var al={animationend:ir("Animation","AnimationEnd"),animationiteration:ir("Animation","AnimationIteration"),animationstart:ir("Animation","AnimationStart"),transitionrun:ir("Transition","TransitionRun"),transitionstart:ir("Transition","TransitionStart"),transitioncancel:ir("Transition","TransitionCancel"),transitionend:ir("Transition","TransitionEnd")},Dh={},Z0={};Da&&(Z0=document.createElement("div").style,"AnimationEvent"in window||(delete al.animationend.animation,delete al.animationiteration.animation,delete al.animationstart.animation),"TransitionEvent"in window||delete al.transitionend.transition);function go(a){if(Dh[a])return Dh[a];if(!al[a])return a;var c=al[a],p;for(p in c)if(c.hasOwnProperty(p)&&p in Z0)return Dh[a]=c[p];return a}var wr=go("animationend"),Sg=go("animationiteration"),Wr=go("animationstart"),Q0=go("transitionrun"),vo=go("transitionstart"),gu=go("transitioncancel"),yo=go("transitionend"),Ph=new Map,Gd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gd.push("scrollEnd");function Bi(a,c){Ph.set(a,c),Y(c,[a])}var _g=new WeakMap;function rr(a,c){if(typeof a=="object"&&a!==null){var p=_g.get(a);return p!==void 0?p:(c={value:a,source:c,stack:Dn(c)},_g.set(a,c),c)}return{value:a,source:c,stack:Dn(c)}}var mr=[],zs=0,Ih=0;function Wd(){for(var a=zs,c=Ih=zs=0;c<a;){var p=mr[c];mr[c++]=null;var v=mr[c];mr[c++]=null;var E=mr[c];mr[c++]=null;var A=mr[c];if(mr[c++]=null,v!==null&&E!==null){var U=v.pending;U===null?E.next=E:(E.next=U.next,U.next=E),v.pending=E}A!==0&&Eg(p,E,A)}}function ol(a,c,p,v){mr[zs++]=a,mr[zs++]=c,mr[zs++]=p,mr[zs++]=v,Ih|=v,a.lanes|=v,a=a.alternate,a!==null&&(a.lanes|=v)}function Lh(a,c,p,v){return ol(a,c,p,v),vu(a)}function xo(a,c){return ol(a,null,null,c),vu(a)}function Eg(a,c,p){a.lanes|=p;var v=a.alternate;v!==null&&(v.lanes|=p);for(var E=!1,A=a.return;A!==null;)A.childLanes|=p,v=A.alternate,v!==null&&(v.childLanes|=p),A.tag===22&&(a=A.stateNode,a===null||a._visibility&1||(E=!0)),a=A,A=A.return;return a.tag===3?(A=a.stateNode,E&&c!==null&&(E=31-lt(p),a=A.hiddenUpdates,v=a[E],v===null?a[E]=[c]:v.push(c),c.lane=p|536870912),A):null}function vu(a){if(50<Xa)throw Xa=0,wc=null,Error(i(185));for(var c=a.return;c!==null;)a=c,c=a.return;return a.tag===3?a.stateNode:null}var ll={};function Tg(a,c,p,v){this.tag=a,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jr(a,c,p,v){return new Tg(a,c,p,v)}function jd(a){return a=a.prototype,!(!a||!a.isReactComponent)}function vi(a,c){var p=a.alternate;return p===null?(p=jr(a.tag,c,a.key,a.mode),p.elementType=a.elementType,p.type=a.type,p.stateNode=a.stateNode,p.alternate=a,a.alternate=p):(p.pendingProps=c,p.type=a.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=a.flags&65011712,p.childLanes=a.childLanes,p.lanes=a.lanes,p.child=a.child,p.memoizedProps=a.memoizedProps,p.memoizedState=a.memoizedState,p.updateQueue=a.updateQueue,c=a.dependencies,p.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},p.sibling=a.sibling,p.index=a.index,p.ref=a.ref,p.refCleanup=a.refCleanup,p}function Mg(a,c){a.flags&=65011714;var p=a.alternate;return p===null?(a.childLanes=0,a.lanes=c,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=p.childLanes,a.lanes=p.lanes,a.child=p.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=p.memoizedProps,a.memoizedState=p.memoizedState,a.updateQueue=p.updateQueue,a.type=p.type,c=p.dependencies,a.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),a}function Fi(a,c,p,v,E,A){var U=0;if(v=a,typeof a=="function")jd(a)&&(U=1);else if(typeof a=="string")U=nF(a,p,De.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case L:return a=jr(31,p,c,E),a.elementType=L,a.lanes=A,a;case S:return cl(p.children,E,A,c);case C:U=8,E|=24;break;case T:return a=jr(12,p,c,E|2),a.elementType=T,a.lanes=A,a;case D:return a=jr(13,p,c,E),a.elementType=D,a.lanes=A,a;case I:return a=jr(19,p,c,E),a.elementType=I,a.lanes=A,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case _:case R:U=10;break e;case w:U=9;break e;case N:U=11;break e;case V:U=14;break e;case B:U=16,v=null;break e}U=29,p=Error(i(130,a===null?"null":typeof a,"")),v=null}return c=jr(U,p,c,E),c.elementType=a,c.type=v,c.lanes=A,c}function cl(a,c,p,v){return a=jr(7,a,v,c),a.lanes=p,a}function Xd(a,c,p){return a=jr(6,a,null,c),a.lanes=p,a}function zh(a,c,p){return c=jr(4,a.children!==null?a.children:[],a.key,c),c.lanes=p,c.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},c}var yu=[],Xr=0,qd=null,xu=0,sr=[],us=0,ul=null,Pa=1,Ia="";function bo(a,c){yu[Xr++]=xu,yu[Xr++]=qd,qd=a,xu=c}function Uh(a,c,p){sr[us++]=Pa,sr[us++]=Ia,sr[us++]=ul,ul=a;var v=Pa;a=Ia;var E=32-lt(v)-1;v&=~(1<<E),p+=1;var A=32-lt(c)+E;if(30<A){var U=E-E%5;A=(v&(1<<U)-1).toString(32),v>>=U,E-=U,Pa=1<<32-lt(c)+E|p<<E|v,Ia=A+a}else Pa=1<<A|p<<E|v,Ia=a}function Cg(a){a.return!==null&&(bo(a,1),Uh(a,1,0))}function wg(a){for(;a===qd;)qd=yu[--Xr],yu[Xr]=null,xu=yu[--Xr],yu[Xr]=null;for(;a===ul;)ul=sr[--us],sr[us]=null,Ia=sr[--us],sr[us]=null,Pa=sr[--us],sr[us]=null}var Ar=null,li=null,En=!1,Us=null,ds=!1,Vh=Error(i(519));function dl(a){var c=Error(i(418,""));throw uc(rr(c,a)),Vh}function J0(a){var c=a.stateNode,p=a.type,v=a.memoizedProps;switch(c[Mi]=a,c[ri]=v,p){case"dialog":mn("cancel",c),mn("close",c);break;case"iframe":case"object":case"embed":mn("load",c);break;case"video":case"audio":for(p=0;p<rv.length;p++)mn(rv[p],c);break;case"source":mn("error",c);break;case"img":case"image":case"link":mn("error",c),mn("load",c);break;case"details":mn("toggle",c);break;case"input":mn("invalid",c),pr(c,v.value,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name,!0),cn(c);break;case"select":mn("invalid",c);break;case"textarea":mn("invalid",c),ac(c,v.value,v.defaultValue,v.children),cn(c)}p=v.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||c.textContent===""+p||v.suppressHydrationWarning===!0||u2(c.textContent,p)?(v.popover!=null&&(mn("beforetoggle",c),mn("toggle",c)),v.onScroll!=null&&mn("scroll",c),v.onScrollEnd!=null&&mn("scrollend",c),v.onClick!=null&&(c.onclick=Xx),c=!0):c=!1,c||dl(a)}function Ag(a){for(Ar=a.return;Ar;)switch(Ar.tag){case 5:case 13:ds=!1;return;case 27:case 3:ds=!0;return;default:Ar=Ar.return}}function ua(a){if(a!==Ar)return!1;if(!En)return Ag(a),En=!0,!1;var c=a.tag,p;if((p=c!==3&&c!==27)&&((p=c===5)&&(p=a.type,p=!(p!=="form"&&p!=="button")||jE(a.type,a.memoizedProps)),p=!p),p&&li&&dl(a),Ag(a),c===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(317));e:{for(a=a.nextSibling,c=0;a;){if(a.nodeType===8)if(p=a.data,p==="/$"){if(c===0){li=Io(a.nextSibling);break e}c--}else p!=="$"&&p!=="$!"&&p!=="$?"||c++;a=a.nextSibling}li=null}}else c===27?(c=li,Wu(a.type)?(a=KE,KE=null,li=a):li=c):li=Ar?Io(a.stateNode.nextSibling):null;return!0}function bu(){li=Ar=null,En=!1}function An(){var a=Us;return a!==null&&(Lt===null?Lt=a:Lt.push.apply(Lt,a),Us=null),a}function uc(a){Us===null?Us=[a]:Us.push(a)}var Rg=te(null),fl=null,So=null;function hl(a,c,p){Me(Rg,c._currentValue),c._currentValue=p}function _o(a){a._currentValue=Rg.current,ve(Rg)}function Og(a,c,p){for(;a!==null;){var v=a.alternate;if((a.childLanes&c)!==c?(a.childLanes|=c,v!==null&&(v.childLanes|=c)):v!==null&&(v.childLanes&c)!==c&&(v.childLanes|=c),a===p)break;a=a.return}}function Yd(a,c,p,v){var E=a.child;for(E!==null&&(E.return=a);E!==null;){var A=E.dependencies;if(A!==null){var U=E.child;A=A.firstContext;e:for(;A!==null;){var X=A;A=E;for(var re=0;re<c.length;re++)if(X.context===c[re]){A.lanes|=p,X=A.alternate,X!==null&&(X.lanes|=p),Og(A.return,p,a),v||(U=null);break e}A=X.next}}else if(E.tag===18){if(U=E.return,U===null)throw Error(i(341));U.lanes|=p,A=U.alternate,A!==null&&(A.lanes|=p),Og(U,p,a),U=null}else U=E.child;if(U!==null)U.return=E;else for(U=E;U!==null;){if(U===a){U=null;break}if(E=U.sibling,E!==null){E.return=U.return,U=E;break}U=U.return}E=U}}function Vs(a,c,p,v){a=null;for(var E=c,A=!1;E!==null;){if(!A){if((E.flags&524288)!==0)A=!0;else if((E.flags&262144)!==0)break}if(E.tag===10){var U=E.alternate;if(U===null)throw Error(i(387));if(U=U.memoizedProps,U!==null){var X=E.type;Hr(E.pendingProps.value,U.value)||(a!==null?a.push(X):a=[X])}}else if(E===Pe.current){if(U=E.alternate,U===null)throw Error(i(387));U.memoizedState.memoizedState!==E.memoizedState.memoizedState&&(a!==null?a.push(uv):a=[uv])}E=E.return}a!==null&&Yd(c,a,p,v),c.flags|=262144}function Kd(a){for(a=a.firstContext;a!==null;){if(!Hr(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function La(a){fl=a,So=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function ui(a){return kh(fl,a)}function $d(a,c){return fl===null&&La(a),kh(a,c)}function kh(a,c){var p=c._currentValue;if(c={context:c,memoizedValue:p,next:null},So===null){if(a===null)throw Error(i(308));So=c,a.dependencies={lanes:0,firstContext:c},a.flags|=524288}else So=So.next=c;return p}var Ng=typeof AbortController<"u"?AbortController:function(){var a=[],c=this.signal={aborted:!1,addEventListener:function(p,v){a.push(v)}};this.abort=function(){c.aborted=!0,a.forEach(function(p){return p()})}},CE=t.unstable_scheduleCallback,ex=t.unstable_NormalPriority,wi={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bh(){return{controller:new Ng,data:new Map,refCount:0}}function Su(a){a.refCount--,a.refCount===0&&CE(ex,function(){a.controller.abort()})}var _u=null,Zd=0,Qt=0,Eu=null;function fs(a,c){if(_u===null){var p=_u=[];Zd=0,Qt=zE(),Eu={status:"pending",value:void 0,then:function(v){p.push(v)}}}return Zd++,c.then(Fh,Fh),c}function Fh(){if(--Zd===0&&_u!==null){Eu!==null&&(Eu.status="fulfilled");var a=_u;_u=null,Qt=0,Eu=null;for(var c=0;c<a.length;c++)(0,a[c])()}}function wE(a,c){var p=[],v={status:"pending",value:null,reason:null,then:function(E){p.push(E)}};return a.then(function(){v.status="fulfilled",v.value=c;for(var E=0;E<p.length;E++)(0,p[E])(c)},function(E){for(v.status="rejected",v.reason=E,E=0;E<p.length;E++)(0,p[E])(void 0)}),v}var Qd=k.S;k.S=function(a,c){typeof c=="object"&&c!==null&&typeof c.then=="function"&&fs(a,c),Qd!==null&&Qd(a,c)};var ks=te(null);function pl(){var a=ks.current;return a!==null?a:Kt.pooledCache}function Jd(a,c){c===null?Me(ks,ks.current):Me(ks,c.pool)}function Hh(){var a=pl();return a===null?null:{parent:wi._currentValue,pool:a}}var ef=Error(i(460)),Dg=Error(i(474)),da=Error(i(542)),tf={then:function(){}};function Gh(a){return a=a.status,a==="fulfilled"||a==="rejected"}function Tu(){}function Wh(a,c,p){switch(p=a[p],p===void 0?a.push(c):p!==c&&(c.then(Tu,Tu),c=p),c.status){case"fulfilled":return c.value;case"rejected":throw a=c.reason,tx(a),a;default:if(typeof c.status=="string")c.then(Tu,Tu);else{if(a=Kt,a!==null&&100<a.shellSuspendCounter)throw Error(i(482));a=c,a.status="pending",a.then(function(v){if(c.status==="pending"){var E=c;E.status="fulfilled",E.value=v}},function(v){if(c.status==="pending"){var E=c;E.status="rejected",E.reason=v}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw a=c.reason,tx(a),a}throw Bs=c,ef}}var Bs=null;function Pg(){if(Bs===null)throw Error(i(459));var a=Bs;return Bs=null,a}function tx(a){if(a===ef||a===da)throw Error(i(483))}var Eo=!1;function Ig(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ht(a,c){a=a.updateQueue,c.updateQueue===a&&(c.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function za(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function To(a,c,p){var v=a.updateQueue;if(v===null)return null;if(v=v.shared,(Rn&2)!==0){var E=v.pending;return E===null?c.next=c:(c.next=E.next,E.next=c),v.pending=c,c=vu(a),Eg(a,null,p),c}return ol(a,v,c,p),vu(a)}function dc(a,c,p){if(c=c.updateQueue,c!==null&&(c=c.shared,(p&4194048)!==0)){var v=c.lanes;v&=a.pendingLanes,p|=v,c.lanes=p,xt(a,p)}}function Mu(a,c){var p=a.updateQueue,v=a.alternate;if(v!==null&&(v=v.updateQueue,p===v)){var E=null,A=null;if(p=p.firstBaseUpdate,p!==null){do{var U={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};A===null?E=A=U:A=A.next=U,p=p.next}while(p!==null);A===null?E=A=c:A=A.next=c}else E=A=c;p={baseState:v.baseState,firstBaseUpdate:E,lastBaseUpdate:A,shared:v.shared,callbacks:v.callbacks},a.updateQueue=p;return}a=p.lastBaseUpdate,a===null?p.firstBaseUpdate=c:a.next=c,p.lastBaseUpdate=c}var Lg=!1;function nf(){if(Lg){var a=Eu;if(a!==null)throw a}}function Cu(a,c,p,v){Lg=!1;var E=a.updateQueue;Eo=!1;var A=E.firstBaseUpdate,U=E.lastBaseUpdate,X=E.shared.pending;if(X!==null){E.shared.pending=null;var re=X,Se=re.next;re.next=null,U===null?A=Se:U.next=Se,U=re;var ze=a.alternate;ze!==null&&(ze=ze.updateQueue,X=ze.lastBaseUpdate,X!==U&&(X===null?ze.firstBaseUpdate=Se:X.next=Se,ze.lastBaseUpdate=re))}if(A!==null){var He=E.baseState;U=0,ze=Se=re=null,X=A;do{var Te=X.lane&-536870913,Ce=Te!==X.lane;if(Ce?(Ot&Te)===Te:(v&Te)===Te){Te!==0&&Te===Qt&&(Lg=!0),ze!==null&&(ze=ze.next={lane:0,tag:X.tag,payload:X.payload,callback:null,next:null});e:{var jt=a,Vt=X;Te=c;var $n=p;switch(Vt.tag){case 1:if(jt=Vt.payload,typeof jt=="function"){He=jt.call($n,He,Te);break e}He=jt;break e;case 3:jt.flags=jt.flags&-65537|128;case 0:if(jt=Vt.payload,Te=typeof jt=="function"?jt.call($n,He,Te):jt,Te==null)break e;He=m({},He,Te);break e;case 2:Eo=!0}}Te=X.callback,Te!==null&&(a.flags|=64,Ce&&(a.flags|=8192),Ce=E.callbacks,Ce===null?E.callbacks=[Te]:Ce.push(Te))}else Ce={lane:Te,tag:X.tag,payload:X.payload,callback:X.callback,next:null},ze===null?(Se=ze=Ce,re=He):ze=ze.next=Ce,U|=Te;if(X=X.next,X===null){if(X=E.shared.pending,X===null)break;Ce=X,X=Ce.next,Ce.next=null,E.lastBaseUpdate=Ce,E.shared.pending=null}}while(!0);ze===null&&(re=He),E.baseState=re,E.firstBaseUpdate=Se,E.lastBaseUpdate=ze,A===null&&(E.shared.lanes=0),xa|=U,a.lanes=U,a.memoizedState=He}}function wu(a,c){if(typeof a!="function")throw Error(i(191,a));a.call(c)}function nx(a,c){var p=a.callbacks;if(p!==null)for(a.callbacks=null,a=0;a<p.length;a++)wu(p[a],c)}var Au=te(null),jh=te(0);function ix(a,c){a=Xs,Me(jh,a),Me(Au,c),Xs=a|c.baseLanes}function zg(){Me(jh,Xs),Me(Au,Au.current)}function rf(){Xs=jh.current,ve(Au),ve(jh)}var Mo=0,Jt=null,Pn=null,Ai=null,Xh=!1,ml=!1,Rr=!1,Li=0,Fs=0,ar=null,rx=0;function yi(){throw Error(i(321))}function gr(a,c){if(c===null)return!1;for(var p=0;p<c.length&&p<a.length;p++)if(!Hr(a[p],c[p]))return!1;return!0}function Co(a,c,p,v,E,A){return Mo=A,Jt=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,k.H=a===null||a.memoizedState===null?tp:Qg,Rr=!1,A=p(v,E),Rr=!1,ml&&(A=ax(c,p,v,E)),sx(a),A}function sx(a){k.H=of;var c=Pn!==null&&Pn.next!==null;if(Mo=0,Ai=Pn=Jt=null,Xh=!1,Fs=0,ar=null,c)throw Error(i(300));a===null||Hi||(a=a.dependencies,a!==null&&Kd(a)&&(Hi=!0))}function ax(a,c,p,v){Jt=a;var E=0;do{if(ml&&(ar=null),Fs=0,ml=!1,25<=E)throw Error(i(301));if(E+=1,Ai=Pn=null,a.updateQueue!=null){var A=a.updateQueue;A.lastEffect=null,A.events=null,A.stores=null,A.memoCache!=null&&(A.memoCache.index=0)}k.H=Dx,A=c(p,v)}while(ml);return A}function AE(){var a=k.H,c=a.useState()[0];return c=typeof c.then=="function"?fa(c):c,a=a.useState()[0],(Pn!==null?Pn.memoizedState:null)!==a&&(Jt.flags|=1024),c}function Ug(){var a=Li!==0;return Li=0,a}function qh(a,c,p){c.updateQueue=a.updateQueue,c.flags&=-2053,a.lanes&=~p}function Vg(a){if(Xh){for(a=a.memoizedState;a!==null;){var c=a.queue;c!==null&&(c.pending=null),a=a.next}Xh=!1}Mo=0,Ai=Pn=Jt=null,ml=!1,Fs=Li=0,ar=null}function Or(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ai===null?Jt.memoizedState=Ai=a:Ai=Ai.next=a,Ai}function Ri(){if(Pn===null){var a=Jt.alternate;a=a!==null?a.memoizedState:null}else a=Pn.next;var c=Ai===null?Jt.memoizedState:Ai.next;if(c!==null)Ai=c,Pn=a;else{if(a===null)throw Jt.alternate===null?Error(i(467)):Error(i(310));Pn=a,a={memoizedState:Pn.memoizedState,baseState:Pn.baseState,baseQueue:Pn.baseQueue,queue:Pn.queue,next:null},Ai===null?Jt.memoizedState=Ai=a:Ai=Ai.next=a}return Ai}function gl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fa(a){var c=Fs;return Fs+=1,ar===null&&(ar=[]),a=Wh(ar,a,c),c=Jt,(Ai===null?c.memoizedState:Ai.next)===null&&(c=c.alternate,k.H=c===null||c.memoizedState===null?tp:Qg),a}function Yh(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return fa(a);if(a.$$typeof===R)return ui(a)}throw Error(i(438,String(a)))}function kg(a){var c=null,p=Jt.updateQueue;if(p!==null&&(c=p.memoCache),c==null){var v=Jt.alternate;v!==null&&(v=v.updateQueue,v!==null&&(v=v.memoCache,v!=null&&(c={data:v.data.map(function(E){return E.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),p===null&&(p=gl(),Jt.updateQueue=p),p.memoCache=c,p=c.data[c.index],p===void 0)for(p=c.data[c.index]=Array(a),v=0;v<a;v++)p[v]=z;return c.index++,p}function wo(a,c){return typeof c=="function"?c(a):c}function vl(a){var c=Ri();return Bg(c,Pn,a)}function Bg(a,c,p){var v=a.queue;if(v===null)throw Error(i(311));v.lastRenderedReducer=p;var E=a.baseQueue,A=v.pending;if(A!==null){if(E!==null){var U=E.next;E.next=A.next,A.next=U}c.baseQueue=E=A,v.pending=null}if(A=a.baseState,E===null)a.memoizedState=A;else{c=E.next;var X=U=null,re=null,Se=c,ze=!1;do{var He=Se.lane&-536870913;if(He!==Se.lane?(Ot&He)===He:(Mo&He)===He){var Te=Se.revertLane;if(Te===0)re!==null&&(re=re.next={lane:0,revertLane:0,action:Se.action,hasEagerState:Se.hasEagerState,eagerState:Se.eagerState,next:null}),He===Qt&&(ze=!0);else if((Mo&Te)===Te){Se=Se.next,Te===Qt&&(ze=!0);continue}else He={lane:0,revertLane:Se.revertLane,action:Se.action,hasEagerState:Se.hasEagerState,eagerState:Se.eagerState,next:null},re===null?(X=re=He,U=A):re=re.next=He,Jt.lanes|=Te,xa|=Te;He=Se.action,Rr&&p(A,He),A=Se.hasEagerState?Se.eagerState:p(A,He)}else Te={lane:He,revertLane:Se.revertLane,action:Se.action,hasEagerState:Se.hasEagerState,eagerState:Se.eagerState,next:null},re===null?(X=re=Te,U=A):re=re.next=Te,Jt.lanes|=He,xa|=He;Se=Se.next}while(Se!==null&&Se!==c);if(re===null?U=A:re.next=X,!Hr(A,a.memoizedState)&&(Hi=!0,ze&&(p=Eu,p!==null)))throw p;a.memoizedState=A,a.baseState=U,a.baseQueue=re,v.lastRenderedState=A}return E===null&&(v.lanes=0),[a.memoizedState,v.dispatch]}function Fg(a){var c=Ri(),p=c.queue;if(p===null)throw Error(i(311));p.lastRenderedReducer=a;var v=p.dispatch,E=p.pending,A=c.memoizedState;if(E!==null){p.pending=null;var U=E=E.next;do A=a(A,U.action),U=U.next;while(U!==E);Hr(A,c.memoizedState)||(Hi=!0),c.memoizedState=A,c.baseQueue===null&&(c.baseState=A),p.lastRenderedState=A}return[A,v]}function ox(a,c,p){var v=Jt,E=Ri(),A=En;if(A){if(p===void 0)throw Error(i(407));p=p()}else p=c();var U=!Hr((Pn||E).memoizedState,p);U&&(E.memoizedState=p,Hi=!0),E=E.queue;var X=cx.bind(null,v,E,a);if(Nu(2048,8,X,[a]),E.getSnapshot!==c||U||Ai!==null&&Ai.memoizedState.tag&1){if(v.flags|=2048,Ou(9,sf(),lx.bind(null,v,E,p,c),null),Kt===null)throw Error(i(349));A||(Mo&124)!==0||Ru(v,c,p)}return p}function Ru(a,c,p){a.flags|=16384,a={getSnapshot:c,value:p},c=Jt.updateQueue,c===null?(c=gl(),Jt.updateQueue=c,c.stores=[a]):(p=c.stores,p===null?c.stores=[a]:p.push(a))}function lx(a,c,p,v){c.value=p,c.getSnapshot=v,ux(c)&&dx(a)}function cx(a,c,p){return p(function(){ux(c)&&dx(a)})}function ux(a){var c=a.getSnapshot;a=a.value;try{var p=c();return!Hr(a,p)}catch{return!0}}function dx(a){var c=xo(a,2);c!==null&&Pr(c,a,2)}function Hg(a){var c=Or();if(typeof a=="function"){var p=a;if(a=p(),Rr){Oe(!0);try{p()}finally{Oe(!1)}}}return c.memoizedState=c.baseState=a,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wo,lastRenderedState:a},c}function fx(a,c,p,v){return a.baseState=p,Bg(a,Pn,typeof v=="function"?v:wo)}function RE(a,c,p,v,E){if(ep(a))throw Error(i(485));if(a=c.action,a!==null){var A={payload:E,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(U){A.listeners.push(U)}};k.T!==null?p(!0):A.isTransition=!1,v(A),p=c.pending,p===null?(A.next=c.pending=A,hx(c,A)):(A.next=p.next,c.pending=p.next=A)}}function hx(a,c){var p=c.action,v=c.payload,E=a.state;if(c.isTransition){var A=k.T,U={};k.T=U;try{var X=p(E,v),re=k.S;re!==null&&re(U,X),px(a,c,X)}catch(Se){Gg(a,c,Se)}finally{k.T=A}}else try{A=p(E,v),px(a,c,A)}catch(Se){Gg(a,c,Se)}}function px(a,c,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(v){mx(a,c,v)},function(v){return Gg(a,c,v)}):mx(a,c,p)}function mx(a,c,p){c.status="fulfilled",c.value=p,gx(c),a.state=p,c=a.pending,c!==null&&(p=c.next,p===c?a.pending=null:(p=p.next,c.next=p,hx(a,p)))}function Gg(a,c,p){var v=a.pending;if(a.pending=null,v!==null){v=v.next;do c.status="rejected",c.reason=p,gx(c),c=c.next;while(c!==v)}a.action=null}function gx(a){a=a.listeners;for(var c=0;c<a.length;c++)(0,a[c])()}function Wg(a,c){return c}function vx(a,c){if(En){var p=Kt.formState;if(p!==null){e:{var v=Jt;if(En){if(li){t:{for(var E=li,A=ds;E.nodeType!==8;){if(!A){E=null;break t}if(E=Io(E.nextSibling),E===null){E=null;break t}}A=E.data,E=A==="F!"||A==="F"?E:null}if(E){li=Io(E.nextSibling),v=E.data==="F!";break e}}dl(v)}v=!1}v&&(c=p[0])}}return p=Or(),p.memoizedState=p.baseState=c,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wg,lastRenderedState:c},p.queue=v,p=Ox.bind(null,Jt,v),v.dispatch=p,v=Hg(!1),A=Jh.bind(null,Jt,!1,v.queue),v=Or(),E={state:c,dispatch:null,action:a,pending:null},v.queue=E,p=RE.bind(null,Jt,E,A,p),E.dispatch=p,v.memoizedState=a,[c,p,!1]}function yx(a){var c=Ri();return xx(c,Pn,a)}function xx(a,c,p){if(c=Bg(a,c,Wg)[0],a=vl(wo)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var v=fa(c)}catch(U){throw U===ef?da:U}else v=c;c=Ri();var E=c.queue,A=E.dispatch;return p!==c.memoizedState&&(Jt.flags|=2048,Ou(9,sf(),OE.bind(null,E,p),null)),[v,A,a]}function OE(a,c){a.action=c}function bx(a){var c=Ri(),p=Pn;if(p!==null)return xx(c,p,a);Ri(),c=c.memoizedState,p=Ri();var v=p.queue.dispatch;return p.memoizedState=a,[c,v,!1]}function Ou(a,c,p,v){return a={tag:a,create:p,deps:v,inst:c,next:null},c=Jt.updateQueue,c===null&&(c=gl(),Jt.updateQueue=c),p=c.lastEffect,p===null?c.lastEffect=a.next=a:(v=p.next,p.next=a,a.next=v,c.lastEffect=a),a}function sf(){return{destroy:void 0,resource:void 0}}function jg(){return Ri().memoizedState}function Kh(a,c,p,v){var E=Or();v=v===void 0?null:v,Jt.flags|=a,E.memoizedState=Ou(1|c,sf(),p,v)}function Nu(a,c,p,v){var E=Ri();v=v===void 0?null:v;var A=E.memoizedState.inst;Pn!==null&&v!==null&&gr(v,Pn.memoizedState.deps)?E.memoizedState=Ou(c,A,p,v):(Jt.flags|=a,E.memoizedState=Ou(1|c,A,p,v))}function Xg(a,c){Kh(8390656,8,a,c)}function qg(a,c){Nu(2048,8,a,c)}function $h(a,c){return Nu(4,2,a,c)}function Zh(a,c){return Nu(4,4,a,c)}function Sx(a,c){if(typeof c=="function"){a=a();var p=c(a);return function(){typeof p=="function"?p():c(null)}}if(c!=null)return a=a(),c.current=a,function(){c.current=null}}function _x(a,c,p){p=p!=null?p.concat([a]):null,Nu(4,4,Sx.bind(null,c,a),p)}function Yg(){}function Ex(a,c){var p=Ri();c=c===void 0?null:c;var v=p.memoizedState;return c!==null&&gr(c,v[1])?v[0]:(p.memoizedState=[a,c],a)}function Kg(a,c){var p=Ri();c=c===void 0?null:c;var v=p.memoizedState;if(c!==null&&gr(c,v[1]))return v[0];if(v=a(),Rr){Oe(!0);try{a()}finally{Oe(!1)}}return p.memoizedState=[v,c],v}function Qh(a,c,p){return p===void 0||(Mo&1073741824)!==0?a.memoizedState=c:(a.memoizedState=p,a=fp(),Jt.lanes|=a,xa|=a,p)}function Tx(a,c,p,v){return Hr(p,c)?p:Au.current!==null?(a=Qh(a,p,v),Hr(a,c)||(Hi=!0),a):(Mo&42)===0?(Hi=!0,a.memoizedState=p):(a=fp(),Jt.lanes|=a,xa|=a,c)}function Mx(a,c,p,v,E){var A=q.p;q.p=A!==0&&8>A?A:8;var U=k.T,X={};k.T=X,Jh(a,!1,c,p);try{var re=E(),Se=k.S;if(Se!==null&&Se(X,re),re!==null&&typeof re=="object"&&typeof re.then=="function"){var ze=wE(re,v);af(a,c,ze,hi(a))}else af(a,c,v,hi(a))}catch(He){af(a,c,{then:function(){},status:"rejected",reason:He},hi())}finally{q.p=A,k.T=U}}function NE(){}function $g(a,c,p,v){if(a.tag!==5)throw Error(i(476));var E=Cx(a).queue;Mx(a,E,c,$,p===null?NE:function(){return wx(a),p(v)})}function Cx(a){var c=a.memoizedState;if(c!==null)return c;c={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wo,lastRenderedState:$},next:null};var p={};return c.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wo,lastRenderedState:p},next:null},a.memoizedState=c,a=a.alternate,a!==null&&(a.memoizedState=c),c}function wx(a){var c=Cx(a).next.queue;af(a,c,{},hi())}function Zg(){return ui(uv)}function Ax(){return Ri().memoizedState}function Rx(){return Ri().memoizedState}function DE(a){for(var c=a.return;c!==null;){switch(c.tag){case 24:case 3:var p=hi();a=za(p);var v=To(c,a,p);v!==null&&(Pr(v,c,p),dc(v,c,p)),c={cache:Bh()},a.payload=c;return}c=c.return}}function PE(a,c,p){var v=hi();p={lane:v,revertLane:0,action:p,hasEagerState:!1,eagerState:null,next:null},ep(a)?Nx(c,p):(p=Lh(a,c,p,v),p!==null&&(Pr(p,a,v),hs(p,c,v)))}function Ox(a,c,p){var v=hi();af(a,c,p,v)}function af(a,c,p,v){var E={lane:v,revertLane:0,action:p,hasEagerState:!1,eagerState:null,next:null};if(ep(a))Nx(c,E);else{var A=a.alternate;if(a.lanes===0&&(A===null||A.lanes===0)&&(A=c.lastRenderedReducer,A!==null))try{var U=c.lastRenderedState,X=A(U,p);if(E.hasEagerState=!0,E.eagerState=X,Hr(X,U))return ol(a,c,E,0),Kt===null&&Wd(),!1}catch{}finally{}if(p=Lh(a,c,E,v),p!==null)return Pr(p,a,v),hs(p,c,v),!0}return!1}function Jh(a,c,p,v){if(v={lane:2,revertLane:zE(),action:v,hasEagerState:!1,eagerState:null,next:null},ep(a)){if(c)throw Error(i(479))}else c=Lh(a,p,v,2),c!==null&&Pr(c,a,2)}function ep(a){var c=a.alternate;return a===Jt||c!==null&&c===Jt}function Nx(a,c){ml=Xh=!0;var p=a.pending;p===null?c.next=c:(c.next=p.next,p.next=c),a.pending=c}function hs(a,c,p){if((p&4194048)!==0){var v=c.lanes;v&=a.pendingLanes,p|=v,c.lanes=p,xt(a,p)}}var of={readContext:ui,use:Yh,useCallback:yi,useContext:yi,useEffect:yi,useImperativeHandle:yi,useLayoutEffect:yi,useInsertionEffect:yi,useMemo:yi,useReducer:yi,useRef:yi,useState:yi,useDebugValue:yi,useDeferredValue:yi,useTransition:yi,useSyncExternalStore:yi,useId:yi,useHostTransitionStatus:yi,useFormState:yi,useActionState:yi,useOptimistic:yi,useMemoCache:yi,useCacheRefresh:yi},tp={readContext:ui,use:Yh,useCallback:function(a,c){return Or().memoizedState=[a,c===void 0?null:c],a},useContext:ui,useEffect:Xg,useImperativeHandle:function(a,c,p){p=p!=null?p.concat([a]):null,Kh(4194308,4,Sx.bind(null,c,a),p)},useLayoutEffect:function(a,c){return Kh(4194308,4,a,c)},useInsertionEffect:function(a,c){Kh(4,2,a,c)},useMemo:function(a,c){var p=Or();c=c===void 0?null:c;var v=a();if(Rr){Oe(!0);try{a()}finally{Oe(!1)}}return p.memoizedState=[v,c],v},useReducer:function(a,c,p){var v=Or();if(p!==void 0){var E=p(c);if(Rr){Oe(!0);try{p(c)}finally{Oe(!1)}}}else E=c;return v.memoizedState=v.baseState=E,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:E},v.queue=a,a=a.dispatch=PE.bind(null,Jt,a),[v.memoizedState,a]},useRef:function(a){var c=Or();return a={current:a},c.memoizedState=a},useState:function(a){a=Hg(a);var c=a.queue,p=Ox.bind(null,Jt,c);return c.dispatch=p,[a.memoizedState,p]},useDebugValue:Yg,useDeferredValue:function(a,c){var p=Or();return Qh(p,a,c)},useTransition:function(){var a=Hg(!1);return a=Mx.bind(null,Jt,a.queue,!0,!1),Or().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,c,p){var v=Jt,E=Or();if(En){if(p===void 0)throw Error(i(407));p=p()}else{if(p=c(),Kt===null)throw Error(i(349));(Ot&124)!==0||Ru(v,c,p)}E.memoizedState=p;var A={value:p,getSnapshot:c};return E.queue=A,Xg(cx.bind(null,v,A,a),[a]),v.flags|=2048,Ou(9,sf(),lx.bind(null,v,A,p,c),null),p},useId:function(){var a=Or(),c=Kt.identifierPrefix;if(En){var p=Ia,v=Pa;p=(v&~(1<<32-lt(v)-1)).toString(32)+p,c=""+c+"R"+p,p=Li++,0<p&&(c+="H"+p.toString(32)),c+=""}else p=rx++,c=""+c+"r"+p.toString(32)+"";return a.memoizedState=c},useHostTransitionStatus:Zg,useFormState:vx,useActionState:vx,useOptimistic:function(a){var c=Or();c.memoizedState=c.baseState=a;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=p,c=Jh.bind(null,Jt,!0,p),p.dispatch=c,[a,c]},useMemoCache:kg,useCacheRefresh:function(){return Or().memoizedState=DE.bind(null,Jt)}},Qg={readContext:ui,use:Yh,useCallback:Ex,useContext:ui,useEffect:qg,useImperativeHandle:_x,useInsertionEffect:$h,useLayoutEffect:Zh,useMemo:Kg,useReducer:vl,useRef:jg,useState:function(){return vl(wo)},useDebugValue:Yg,useDeferredValue:function(a,c){var p=Ri();return Tx(p,Pn.memoizedState,a,c)},useTransition:function(){var a=vl(wo)[0],c=Ri().memoizedState;return[typeof a=="boolean"?a:fa(a),c]},useSyncExternalStore:ox,useId:Ax,useHostTransitionStatus:Zg,useFormState:yx,useActionState:yx,useOptimistic:function(a,c){var p=Ri();return fx(p,Pn,a,c)},useMemoCache:kg,useCacheRefresh:Rx},Dx={readContext:ui,use:Yh,useCallback:Ex,useContext:ui,useEffect:qg,useImperativeHandle:_x,useInsertionEffect:$h,useLayoutEffect:Zh,useMemo:Kg,useReducer:Fg,useRef:jg,useState:function(){return Fg(wo)},useDebugValue:Yg,useDeferredValue:function(a,c){var p=Ri();return Pn===null?Qh(p,a,c):Tx(p,Pn.memoizedState,a,c)},useTransition:function(){var a=Fg(wo)[0],c=Ri().memoizedState;return[typeof a=="boolean"?a:fa(a),c]},useSyncExternalStore:ox,useId:Ax,useHostTransitionStatus:Zg,useFormState:bx,useActionState:bx,useOptimistic:function(a,c){var p=Ri();return Pn!==null?fx(p,Pn,a,c):(p.baseState=a,[a,p.queue.dispatch])},useMemoCache:kg,useCacheRefresh:Rx},fc=null,lf=0;function cf(a){var c=lf;return lf+=1,fc===null&&(fc=[]),Wh(fc,a,c)}function Du(a,c){c=c.props.ref,a.ref=c!==void 0?c:null}function np(a,c){throw c.$$typeof===g?Error(i(525)):(a=Object.prototype.toString.call(c),Error(i(31,a==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":a)))}function Px(a){var c=a._init;return c(a._payload)}function Ix(a){function c(fe,le){if(a){var xe=fe.deletions;xe===null?(fe.deletions=[le],fe.flags|=16):xe.push(le)}}function p(fe,le){if(!a)return null;for(;le!==null;)c(fe,le),le=le.sibling;return null}function v(fe){for(var le=new Map;fe!==null;)fe.key!==null?le.set(fe.key,fe):le.set(fe.index,fe),fe=fe.sibling;return le}function E(fe,le){return fe=vi(fe,le),fe.index=0,fe.sibling=null,fe}function A(fe,le,xe){return fe.index=xe,a?(xe=fe.alternate,xe!==null?(xe=xe.index,xe<le?(fe.flags|=67108866,le):xe):(fe.flags|=67108866,le)):(fe.flags|=1048576,le)}function U(fe){return a&&fe.alternate===null&&(fe.flags|=67108866),fe}function X(fe,le,xe,Be){return le===null||le.tag!==6?(le=Xd(xe,fe.mode,Be),le.return=fe,le):(le=E(le,xe),le.return=fe,le)}function re(fe,le,xe,Be){var bt=xe.type;return bt===S?ze(fe,le,xe.props.children,Be,xe.key):le!==null&&(le.elementType===bt||typeof bt=="object"&&bt!==null&&bt.$$typeof===B&&Px(bt)===le.type)?(le=E(le,xe.props),Du(le,xe),le.return=fe,le):(le=Fi(xe.type,xe.key,xe.props,null,fe.mode,Be),Du(le,xe),le.return=fe,le)}function Se(fe,le,xe,Be){return le===null||le.tag!==4||le.stateNode.containerInfo!==xe.containerInfo||le.stateNode.implementation!==xe.implementation?(le=zh(xe,fe.mode,Be),le.return=fe,le):(le=E(le,xe.children||[]),le.return=fe,le)}function ze(fe,le,xe,Be,bt){return le===null||le.tag!==7?(le=cl(xe,fe.mode,Be,bt),le.return=fe,le):(le=E(le,xe),le.return=fe,le)}function He(fe,le,xe){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return le=Xd(""+le,fe.mode,xe),le.return=fe,le;if(typeof le=="object"&&le!==null){switch(le.$$typeof){case y:return xe=Fi(le.type,le.key,le.props,null,fe.mode,xe),Du(xe,le),xe.return=fe,xe;case b:return le=zh(le,fe.mode,xe),le.return=fe,le;case B:var Be=le._init;return le=Be(le._payload),He(fe,le,xe)}if(ie(le)||j(le))return le=cl(le,fe.mode,xe,null),le.return=fe,le;if(typeof le.then=="function")return He(fe,cf(le),xe);if(le.$$typeof===R)return He(fe,$d(fe,le),xe);np(fe,le)}return null}function Te(fe,le,xe,Be){var bt=le!==null?le.key:null;if(typeof xe=="string"&&xe!==""||typeof xe=="number"||typeof xe=="bigint")return bt!==null?null:X(fe,le,""+xe,Be);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case y:return xe.key===bt?re(fe,le,xe,Be):null;case b:return xe.key===bt?Se(fe,le,xe,Be):null;case B:return bt=xe._init,xe=bt(xe._payload),Te(fe,le,xe,Be)}if(ie(xe)||j(xe))return bt!==null?null:ze(fe,le,xe,Be,null);if(typeof xe.then=="function")return Te(fe,le,cf(xe),Be);if(xe.$$typeof===R)return Te(fe,le,$d(fe,xe),Be);np(fe,xe)}return null}function Ce(fe,le,xe,Be,bt){if(typeof Be=="string"&&Be!==""||typeof Be=="number"||typeof Be=="bigint")return fe=fe.get(xe)||null,X(le,fe,""+Be,bt);if(typeof Be=="object"&&Be!==null){switch(Be.$$typeof){case y:return fe=fe.get(Be.key===null?xe:Be.key)||null,re(le,fe,Be,bt);case b:return fe=fe.get(Be.key===null?xe:Be.key)||null,Se(le,fe,Be,bt);case B:var pn=Be._init;return Be=pn(Be._payload),Ce(fe,le,xe,Be,bt)}if(ie(Be)||j(Be))return fe=fe.get(xe)||null,ze(le,fe,Be,bt,null);if(typeof Be.then=="function")return Ce(fe,le,xe,cf(Be),bt);if(Be.$$typeof===R)return Ce(fe,le,xe,$d(le,Be),bt);np(le,Be)}return null}function jt(fe,le,xe,Be){for(var bt=null,pn=null,At=le,kt=le=0,xr=null;At!==null&&kt<xe.length;kt++){At.index>kt?(xr=At,At=null):xr=At.sibling;var Nn=Te(fe,At,xe[kt],Be);if(Nn===null){At===null&&(At=xr);break}a&&At&&Nn.alternate===null&&c(fe,At),le=A(Nn,le,kt),pn===null?bt=Nn:pn.sibling=Nn,pn=Nn,At=xr}if(kt===xe.length)return p(fe,At),En&&bo(fe,kt),bt;if(At===null){for(;kt<xe.length;kt++)At=He(fe,xe[kt],Be),At!==null&&(le=A(At,le,kt),pn===null?bt=At:pn.sibling=At,pn=At);return En&&bo(fe,kt),bt}for(At=v(At);kt<xe.length;kt++)xr=Ce(At,fe,kt,xe[kt],Be),xr!==null&&(a&&xr.alternate!==null&&At.delete(xr.key===null?kt:xr.key),le=A(xr,le,kt),pn===null?bt=xr:pn.sibling=xr,pn=xr);return a&&At.forEach(function(Ku){return c(fe,Ku)}),En&&bo(fe,kt),bt}function Vt(fe,le,xe,Be){if(xe==null)throw Error(i(151));for(var bt=null,pn=null,At=le,kt=le=0,xr=null,Nn=xe.next();At!==null&&!Nn.done;kt++,Nn=xe.next()){At.index>kt?(xr=At,At=null):xr=At.sibling;var Ku=Te(fe,At,Nn.value,Be);if(Ku===null){At===null&&(At=xr);break}a&&At&&Ku.alternate===null&&c(fe,At),le=A(Ku,le,kt),pn===null?bt=Ku:pn.sibling=Ku,pn=Ku,At=xr}if(Nn.done)return p(fe,At),En&&bo(fe,kt),bt;if(At===null){for(;!Nn.done;kt++,Nn=xe.next())Nn=He(fe,Nn.value,Be),Nn!==null&&(le=A(Nn,le,kt),pn===null?bt=Nn:pn.sibling=Nn,pn=Nn);return En&&bo(fe,kt),bt}for(At=v(At);!Nn.done;kt++,Nn=xe.next())Nn=Ce(At,fe,kt,Nn.value,Be),Nn!==null&&(a&&Nn.alternate!==null&&At.delete(Nn.key===null?kt:Nn.key),le=A(Nn,le,kt),pn===null?bt=Nn:pn.sibling=Nn,pn=Nn);return a&&At.forEach(function(pF){return c(fe,pF)}),En&&bo(fe,kt),bt}function $n(fe,le,xe,Be){if(typeof xe=="object"&&xe!==null&&xe.type===S&&xe.key===null&&(xe=xe.props.children),typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case y:e:{for(var bt=xe.key;le!==null;){if(le.key===bt){if(bt=xe.type,bt===S){if(le.tag===7){p(fe,le.sibling),Be=E(le,xe.props.children),Be.return=fe,fe=Be;break e}}else if(le.elementType===bt||typeof bt=="object"&&bt!==null&&bt.$$typeof===B&&Px(bt)===le.type){p(fe,le.sibling),Be=E(le,xe.props),Du(Be,xe),Be.return=fe,fe=Be;break e}p(fe,le);break}else c(fe,le);le=le.sibling}xe.type===S?(Be=cl(xe.props.children,fe.mode,Be,xe.key),Be.return=fe,fe=Be):(Be=Fi(xe.type,xe.key,xe.props,null,fe.mode,Be),Du(Be,xe),Be.return=fe,fe=Be)}return U(fe);case b:e:{for(bt=xe.key;le!==null;){if(le.key===bt)if(le.tag===4&&le.stateNode.containerInfo===xe.containerInfo&&le.stateNode.implementation===xe.implementation){p(fe,le.sibling),Be=E(le,xe.children||[]),Be.return=fe,fe=Be;break e}else{p(fe,le);break}else c(fe,le);le=le.sibling}Be=zh(xe,fe.mode,Be),Be.return=fe,fe=Be}return U(fe);case B:return bt=xe._init,xe=bt(xe._payload),$n(fe,le,xe,Be)}if(ie(xe))return jt(fe,le,xe,Be);if(j(xe)){if(bt=j(xe),typeof bt!="function")throw Error(i(150));return xe=bt.call(xe),Vt(fe,le,xe,Be)}if(typeof xe.then=="function")return $n(fe,le,cf(xe),Be);if(xe.$$typeof===R)return $n(fe,le,$d(fe,xe),Be);np(fe,xe)}return typeof xe=="string"&&xe!==""||typeof xe=="number"||typeof xe=="bigint"?(xe=""+xe,le!==null&&le.tag===6?(p(fe,le.sibling),Be=E(le,xe),Be.return=fe,fe=Be):(p(fe,le),Be=Xd(xe,fe.mode,Be),Be.return=fe,fe=Be),U(fe)):p(fe,le)}return function(fe,le,xe,Be){try{lf=0;var bt=$n(fe,le,xe,Be);return fc=null,bt}catch(At){if(At===ef||At===da)throw At;var pn=jr(29,At,null,fe.mode);return pn.lanes=Be,pn.return=fe,pn}finally{}}}var hc=Ix(!0),Lx=Ix(!1),kn=te(null),ha=null;function yl(a){var c=a.alternate;Me(xi,xi.current&1),Me(kn,a),ha===null&&(c===null||Au.current!==null||c.memoizedState!==null)&&(ha=a)}function zx(a){if(a.tag===22){if(Me(xi,xi.current),Me(kn,a),ha===null){var c=a.alternate;c!==null&&c.memoizedState!==null&&(ha=a)}}else xl()}function xl(){Me(xi,xi.current),Me(kn,kn.current)}function Ua(a){ve(kn),ha===a&&(ha=null),ve(xi)}var xi=te(0);function Ao(a){for(var c=a;c!==null;){if(c.tag===13){var p=c.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||YE(p)))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}function bl(a,c,p,v){c=a.memoizedState,p=p(v,c),p=p==null?c:m({},c,p),a.memoizedState=p,a.lanes===0&&(a.updateQueue.baseState=p)}var Nr={enqueueSetState:function(a,c,p){a=a._reactInternals;var v=hi(),E=za(v);E.payload=c,p!=null&&(E.callback=p),c=To(a,E,v),c!==null&&(Pr(c,a,v),dc(c,a,v))},enqueueReplaceState:function(a,c,p){a=a._reactInternals;var v=hi(),E=za(v);E.tag=1,E.payload=c,p!=null&&(E.callback=p),c=To(a,E,v),c!==null&&(Pr(c,a,v),dc(c,a,v))},enqueueForceUpdate:function(a,c){a=a._reactInternals;var p=hi(),v=za(p);v.tag=2,c!=null&&(v.callback=c),c=To(a,v,p),c!==null&&(Pr(c,a,p),dc(c,a,p))}};function Ux(a,c,p,v,E,A,U){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(v,A,U):c.prototype&&c.prototype.isPureReactComponent?!ca(p,v)||!ca(E,A):!0}function Vx(a,c,p,v){a=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(p,v),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(p,v),c.state!==a&&Nr.enqueueReplaceState(c,c.state,null)}function Va(a,c){var p=c;if("ref"in c){p={};for(var v in c)v!=="ref"&&(p[v]=c[v])}if(a=a.defaultProps){p===c&&(p=m({},p));for(var E in a)p[E]===void 0&&(p[E]=a[E])}return p}var pc=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function uf(a){pc(a)}function ip(a){console.error(a)}function kx(a){pc(a)}function rp(a,c){try{var p=a.onUncaughtError;p(c.value,{componentStack:c.stack})}catch(v){setTimeout(function(){throw v})}}function Hs(a,c,p){try{var v=a.onCaughtError;v(p.value,{componentStack:p.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(E){setTimeout(function(){throw E})}}function sp(a,c,p){return p=za(p),p.tag=3,p.payload={element:null},p.callback=function(){rp(a,c)},p}function Bx(a){return a=za(a),a.tag=3,a}function ap(a,c,p,v){var E=p.type.getDerivedStateFromError;if(typeof E=="function"){var A=v.value;a.payload=function(){return E(A)},a.callback=function(){Hs(c,p,v)}}var U=p.stateNode;U!==null&&typeof U.componentDidCatch=="function"&&(a.callback=function(){Hs(c,p,v),typeof E!="function"&&(Ss===null?Ss=new Set([this]):Ss.add(this));var X=v.stack;this.componentDidCatch(v.value,{componentStack:X!==null?X:""})})}function IE(a,c,p,v,E){if(p.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){if(c=p.alternate,c!==null&&Vs(c,p,E,!0),p=kn.current,p!==null){switch(p.tag){case 13:return ha===null?u():p.alternate===null&&ei===0&&(ei=3),p.flags&=-257,p.flags|=65536,p.lanes=E,v===tf?p.flags|=16384:(c=p.updateQueue,c===null?p.updateQueue=new Set([v]):c.add(v),Ae(a,v,E)),!1;case 22:return p.flags|=65536,v===tf?p.flags|=16384:(c=p.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([v])},p.updateQueue=c):(p=c.retryQueue,p===null?c.retryQueue=new Set([v]):p.add(v)),Ae(a,v,E)),!1}throw Error(i(435,p.tag))}return Ae(a,v,E),u(),!1}if(En)return c=kn.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=E,v!==Vh&&(a=Error(i(422),{cause:v}),uc(rr(a,p)))):(v!==Vh&&(c=Error(i(423),{cause:v}),uc(rr(c,p))),a=a.current.alternate,a.flags|=65536,E&=-E,a.lanes|=E,v=rr(v,p),E=sp(a.stateNode,v,E),Mu(a,E),ei!==4&&(ei=2)),!1;var A=Error(i(520),{cause:v});if(A=rr(A,p),On===null?On=[A]:On.push(A),ei!==4&&(ei=2),c===null)return!0;v=rr(v,p),p=c;do{switch(p.tag){case 3:return p.flags|=65536,a=E&-E,p.lanes|=a,a=sp(p.stateNode,v,a),Mu(p,a),!1;case 1:if(c=p.type,A=p.stateNode,(p.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(Ss===null||!Ss.has(A))))return p.flags|=65536,E&=-E,p.lanes|=E,E=Bx(E),ap(E,a,p,v),Mu(p,E),!1}p=p.return}while(p!==null);return!1}var Fx=Error(i(461)),Hi=!1;function bi(a,c,p,v){c.child=a===null?Lx(c,null,p,v):hc(c,a.child,p,v)}function qr(a,c,p,v,E){p=p.render;var A=c.ref;if("ref"in v){var U={};for(var X in v)X!=="ref"&&(U[X]=v[X])}else U=v;return La(c),v=Co(a,c,p,U,A,E),X=Ug(),a!==null&&!Hi?(qh(a,c,E),Gi(a,c,E)):(En&&X&&Cg(c),c.flags|=1,bi(a,c,v,E),c.child)}function Yr(a,c,p,v,E){if(a===null){var A=p.type;return typeof A=="function"&&!jd(A)&&A.defaultProps===void 0&&p.compare===null?(c.tag=15,c.type=A,Jg(a,c,A,v,E)):(a=Fi(p.type,null,v,c,c.mode,E),a.ref=c.ref,a.return=c,c.child=a)}if(A=a.child,!df(a,E)){var U=A.memoizedProps;if(p=p.compare,p=p!==null?p:ca,p(U,v)&&a.ref===c.ref)return Gi(a,c,E)}return c.flags|=1,a=vi(A,v),a.ref=c.ref,a.return=c,c.child=a}function Jg(a,c,p,v,E){if(a!==null){var A=a.memoizedProps;if(ca(A,v)&&a.ref===c.ref)if(Hi=!1,c.pendingProps=v=A,df(a,E))(a.flags&131072)!==0&&(Hi=!0);else return c.lanes=a.lanes,Gi(a,c,E)}return Pu(a,c,p,v,E)}function mc(a,c,p){var v=c.pendingProps,E=v.children,A=a!==null?a.memoizedState:null;if(v.mode==="hidden"){if((c.flags&128)!==0){if(v=A!==null?A.baseLanes|p:p,a!==null){for(E=c.child=a.child,A=0;E!==null;)A=A|E.lanes|E.childLanes,E=E.sibling;c.childLanes=A&~v}else c.childLanes=0,c.child=null;return gc(a,c,v,p)}if((p&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},a!==null&&Jd(c,A!==null?A.cachePool:null),A!==null?ix(c,A):zg(),zx(c);else return c.lanes=c.childLanes=536870912,gc(a,c,A!==null?A.baseLanes|p:p,p)}else A!==null?(Jd(c,A.cachePool),ix(c,A),xl(),c.memoizedState=null):(a!==null&&Jd(c,null),zg(),xl());return bi(a,c,E,p),c.child}function gc(a,c,p,v){var E=pl();return E=E===null?null:{parent:wi._currentValue,pool:E},c.memoizedState={baseLanes:p,cachePool:E},a!==null&&Jd(c,null),zg(),zx(c),a!==null&&Vs(a,c,v,!0),null}function vc(a,c){var p=c.ref;if(p===null)a!==null&&a.ref!==null&&(c.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(i(284));(a===null||a.ref!==p)&&(c.flags|=4194816)}}function Pu(a,c,p,v,E){return La(c),p=Co(a,c,p,v,void 0,E),v=Ug(),a!==null&&!Hi?(qh(a,c,E),Gi(a,c,E)):(En&&v&&Cg(c),c.flags|=1,bi(a,c,p,E),c.child)}function ps(a,c,p,v,E,A){return La(c),c.updateQueue=null,p=ax(c,v,p,E),sx(a),v=Ug(),a!==null&&!Hi?(qh(a,c,A),Gi(a,c,A)):(En&&v&&Cg(c),c.flags|=1,bi(a,c,p,A),c.child)}function ms(a,c,p,v,E){if(La(c),c.stateNode===null){var A=ll,U=p.contextType;typeof U=="object"&&U!==null&&(A=ui(U)),A=new p(v,A),c.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,A.updater=Nr,c.stateNode=A,A._reactInternals=c,A=c.stateNode,A.props=v,A.state=c.memoizedState,A.refs={},Ig(c),U=p.contextType,A.context=typeof U=="object"&&U!==null?ui(U):ll,A.state=c.memoizedState,U=p.getDerivedStateFromProps,typeof U=="function"&&(bl(c,p,U,v),A.state=c.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(U=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),U!==A.state&&Nr.enqueueReplaceState(A,A.state,null),Cu(c,v,A,E),nf(),A.state=c.memoizedState),typeof A.componentDidMount=="function"&&(c.flags|=4194308),v=!0}else if(a===null){A=c.stateNode;var X=c.memoizedProps,re=Va(p,X);A.props=re;var Se=A.context,ze=p.contextType;U=ll,typeof ze=="object"&&ze!==null&&(U=ui(ze));var He=p.getDerivedStateFromProps;ze=typeof He=="function"||typeof A.getSnapshotBeforeUpdate=="function",X=c.pendingProps!==X,ze||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(X||Se!==U)&&Vx(c,A,v,U),Eo=!1;var Te=c.memoizedState;A.state=Te,Cu(c,v,A,E),nf(),Se=c.memoizedState,X||Te!==Se||Eo?(typeof He=="function"&&(bl(c,p,He,v),Se=c.memoizedState),(re=Eo||Ux(c,p,re,v,Te,Se,U))?(ze||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(c.flags|=4194308)):(typeof A.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=v,c.memoizedState=Se),A.props=v,A.state=Se,A.context=U,v=re):(typeof A.componentDidMount=="function"&&(c.flags|=4194308),v=!1)}else{A=c.stateNode,Ht(a,c),U=c.memoizedProps,ze=Va(p,U),A.props=ze,He=c.pendingProps,Te=A.context,Se=p.contextType,re=ll,typeof Se=="object"&&Se!==null&&(re=ui(Se)),X=p.getDerivedStateFromProps,(Se=typeof X=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(U!==He||Te!==re)&&Vx(c,A,v,re),Eo=!1,Te=c.memoizedState,A.state=Te,Cu(c,v,A,E),nf();var Ce=c.memoizedState;U!==He||Te!==Ce||Eo||a!==null&&a.dependencies!==null&&Kd(a.dependencies)?(typeof X=="function"&&(bl(c,p,X,v),Ce=c.memoizedState),(ze=Eo||Ux(c,p,ze,v,Te,Ce,re)||a!==null&&a.dependencies!==null&&Kd(a.dependencies))?(Se||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(v,Ce,re),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(v,Ce,re)),typeof A.componentDidUpdate=="function"&&(c.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof A.componentDidUpdate!="function"||U===a.memoizedProps&&Te===a.memoizedState||(c.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||U===a.memoizedProps&&Te===a.memoizedState||(c.flags|=1024),c.memoizedProps=v,c.memoizedState=Ce),A.props=v,A.state=Ce,A.context=re,v=ze):(typeof A.componentDidUpdate!="function"||U===a.memoizedProps&&Te===a.memoizedState||(c.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||U===a.memoizedProps&&Te===a.memoizedState||(c.flags|=1024),v=!1)}return A=v,vc(a,c),v=(c.flags&128)!==0,A||v?(A=c.stateNode,p=v&&typeof p.getDerivedStateFromError!="function"?null:A.render(),c.flags|=1,a!==null&&v?(c.child=hc(c,a.child,null,E),c.child=hc(c,null,p,E)):bi(a,c,p,E),c.memoizedState=A.state,a=c.child):a=Gi(a,c,E),a}function Sl(a,c,p,v){return bu(),c.flags|=256,bi(a,c,p,v),c.child}var pa={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ma(a){return{baseLanes:a,cachePool:Hh()}}function zi(a,c,p){return a=a!==null?a.childLanes&~p:0,c&&(a|=qs),a}function Iu(a,c,p){var v=c.pendingProps,E=!1,A=(c.flags&128)!==0,U;if((U=A)||(U=a!==null&&a.memoizedState===null?!1:(xi.current&2)!==0),U&&(E=!0,c.flags&=-129),U=(c.flags&32)!==0,c.flags&=-33,a===null){if(En){if(E?yl(c):xl(),En){var X=li,re;if(re=X){e:{for(re=X,X=ds;re.nodeType!==8;){if(!X){X=null;break e}if(re=Io(re.nextSibling),re===null){X=null;break e}}X=re}X!==null?(c.memoizedState={dehydrated:X,treeContext:ul!==null?{id:Pa,overflow:Ia}:null,retryLane:536870912,hydrationErrors:null},re=jr(18,null,null,0),re.stateNode=X,re.return=c,c.child=re,Ar=c,li=null,re=!0):re=!1}re||dl(c)}if(X=c.memoizedState,X!==null&&(X=X.dehydrated,X!==null))return YE(X)?c.lanes=32:c.lanes=536870912,null;Ua(c)}return X=v.children,v=v.fallback,E?(xl(),E=c.mode,X=yc({mode:"hidden",children:X},E),v=cl(v,E,p,null),X.return=c,v.return=c,X.sibling=v,c.child=X,E=c.child,E.memoizedState=ma(p),E.childLanes=zi(a,U,p),c.memoizedState=pa,v):(yl(c),ka(c,X))}if(re=a.memoizedState,re!==null&&(X=re.dehydrated,X!==null)){if(A)c.flags&256?(yl(c),c.flags&=-257,c=or(a,c,p)):c.memoizedState!==null?(xl(),c.child=a.child,c.flags|=128,c=null):(xl(),E=v.fallback,X=c.mode,v=yc({mode:"visible",children:v.children},X),E=cl(E,X,p,null),E.flags|=2,v.return=c,E.return=c,v.sibling=E,c.child=v,hc(c,a.child,null,p),v=c.child,v.memoizedState=ma(p),v.childLanes=zi(a,U,p),c.memoizedState=pa,c=E);else if(yl(c),YE(X)){if(U=X.nextSibling&&X.nextSibling.dataset,U)var Se=U.dgst;U=Se,v=Error(i(419)),v.stack="",v.digest=U,uc({value:v,source:null,stack:null}),c=or(a,c,p)}else if(Hi||Vs(a,c,p,!1),U=(p&a.childLanes)!==0,Hi||U){if(U=Kt,U!==null&&(v=p&-p,v=(v&42)!==0?1:It(v),v=(v&(U.suspendedLanes|p))!==0?0:v,v!==0&&v!==re.retryLane))throw re.retryLane=v,xo(a,v),Pr(U,a,v),Fx;X.data==="$?"||u(),c=or(a,c,p)}else X.data==="$?"?(c.flags|=192,c.child=a.child,c=null):(a=re.treeContext,li=Io(X.nextSibling),Ar=c,En=!0,Us=null,ds=!1,a!==null&&(sr[us++]=Pa,sr[us++]=Ia,sr[us++]=ul,Pa=a.id,Ia=a.overflow,ul=c),c=ka(c,v.children),c.flags|=4096);return c}return E?(xl(),E=v.fallback,X=c.mode,re=a.child,Se=re.sibling,v=vi(re,{mode:"hidden",children:v.children}),v.subtreeFlags=re.subtreeFlags&65011712,Se!==null?E=vi(Se,E):(E=cl(E,X,p,null),E.flags|=2),E.return=c,v.return=c,v.sibling=E,c.child=v,v=E,E=c.child,X=a.child.memoizedState,X===null?X=ma(p):(re=X.cachePool,re!==null?(Se=wi._currentValue,re=re.parent!==Se?{parent:Se,pool:Se}:re):re=Hh(),X={baseLanes:X.baseLanes|p,cachePool:re}),E.memoizedState=X,E.childLanes=zi(a,U,p),c.memoizedState=pa,v):(yl(c),p=a.child,a=p.sibling,p=vi(p,{mode:"visible",children:v.children}),p.return=c,p.sibling=null,a!==null&&(U=c.deletions,U===null?(c.deletions=[a],c.flags|=16):U.push(a)),c.child=p,c.memoizedState=null,p)}function ka(a,c){return c=yc({mode:"visible",children:c},a.mode),c.return=a,a.child=c}function yc(a,c){return a=jr(22,a,null,c),a.lanes=0,a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},a}function or(a,c,p){return hc(c,a.child,null,p),a=ka(c,c.pendingProps.children),a.flags|=2,c.memoizedState=null,a}function lr(a,c,p){a.lanes|=c;var v=a.alternate;v!==null&&(v.lanes|=c),Og(a.return,c,p)}function vn(a,c,p,v,E){var A=a.memoizedState;A===null?a.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:v,tail:p,tailMode:E}:(A.isBackwards=c,A.rendering=null,A.renderingStartTime=0,A.last=v,A.tail=p,A.tailMode=E)}function Gs(a,c,p){var v=c.pendingProps,E=v.revealOrder,A=v.tail;if(bi(a,c,v.children,p),v=xi.current,(v&2)!==0)v=v&1|2,c.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=c.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&lr(a,p,c);else if(a.tag===19)lr(a,p,c);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===c)break e;for(;a.sibling===null;){if(a.return===null||a.return===c)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}v&=1}switch(Me(xi,v),E){case"forwards":for(p=c.child,E=null;p!==null;)a=p.alternate,a!==null&&Ao(a)===null&&(E=p),p=p.sibling;p=E,p===null?(E=c.child,c.child=null):(E=p.sibling,p.sibling=null),vn(c,!1,E,p,A);break;case"backwards":for(p=null,E=c.child,c.child=null;E!==null;){if(a=E.alternate,a!==null&&Ao(a)===null){c.child=E;break}a=E.sibling,E.sibling=p,p=E,E=a}vn(c,!0,p,null,A);break;case"together":vn(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function Gi(a,c,p){if(a!==null&&(c.dependencies=a.dependencies),xa|=c.lanes,(p&c.childLanes)===0)if(a!==null){if(Vs(a,c,p,!1),(p&c.childLanes)===0)return null}else return null;if(a!==null&&c.child!==a.child)throw Error(i(153));if(c.child!==null){for(a=c.child,p=vi(a,a.pendingProps),c.child=p,p.return=c;a.sibling!==null;)a=a.sibling,p=p.sibling=vi(a,a.pendingProps),p.return=c;p.sibling=null}return c.child}function df(a,c){return(a.lanes&c)!==0?!0:(a=a.dependencies,!!(a!==null&&Kd(a)))}function Ws(a,c,p){switch(c.tag){case 3:de(c,c.stateNode.containerInfo),hl(c,wi,a.memoizedState.cache),bu();break;case 27:case 5:Xe(c);break;case 4:de(c,c.stateNode.containerInfo);break;case 10:hl(c,c.type,c.memoizedProps.value);break;case 13:var v=c.memoizedState;if(v!==null)return v.dehydrated!==null?(yl(c),c.flags|=128,null):(p&c.child.childLanes)!==0?Iu(a,c,p):(yl(c),a=Gi(a,c,p),a!==null?a.sibling:null);yl(c);break;case 19:var E=(a.flags&128)!==0;if(v=(p&c.childLanes)!==0,v||(Vs(a,c,p,!1),v=(p&c.childLanes)!==0),E){if(v)return Gs(a,c,p);c.flags|=128}if(E=c.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),Me(xi,xi.current),v)break;return null;case 22:case 23:return c.lanes=0,mc(a,c,p);case 24:hl(c,wi,a.memoizedState.cache)}return Gi(a,c,p)}function xc(a,c,p){if(a!==null)if(a.memoizedProps!==c.pendingProps)Hi=!0;else{if(!df(a,p)&&(c.flags&128)===0)return Hi=!1,Ws(a,c,p);Hi=(a.flags&131072)!==0}else Hi=!1,En&&(c.flags&1048576)!==0&&Uh(c,xu,c.index);switch(c.lanes=0,c.tag){case 16:e:{a=c.pendingProps;var v=c.elementType,E=v._init;if(v=E(v._payload),c.type=v,typeof v=="function")jd(v)?(a=Va(v,a),c.tag=1,c=ms(null,c,v,a,p)):(c.tag=0,c=Pu(null,c,v,a,p));else{if(v!=null){if(E=v.$$typeof,E===N){c.tag=11,c=qr(null,c,v,a,p);break e}else if(E===V){c.tag=14,c=Yr(null,c,v,a,p);break e}}throw c=se(v)||v,Error(i(306,c,""))}}return c;case 0:return Pu(a,c,c.type,c.pendingProps,p);case 1:return v=c.type,E=Va(v,c.pendingProps),ms(a,c,v,E,p);case 3:e:{if(de(c,c.stateNode.containerInfo),a===null)throw Error(i(387));v=c.pendingProps;var A=c.memoizedState;E=A.element,Ht(a,c),Cu(c,v,null,p);var U=c.memoizedState;if(v=U.cache,hl(c,wi,v),v!==A.cache&&Yd(c,[wi],p,!0),nf(),v=U.element,A.isDehydrated)if(A={element:v,isDehydrated:!1,cache:U.cache},c.updateQueue.baseState=A,c.memoizedState=A,c.flags&256){c=Sl(a,c,v,p);break e}else if(v!==E){E=rr(Error(i(424)),c),uc(E),c=Sl(a,c,v,p);break e}else{switch(a=c.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(li=Io(a.firstChild),Ar=c,En=!0,Us=null,ds=!0,p=Lx(c,null,v,p),c.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling}else{if(bu(),v===E){c=Gi(a,c,p);break e}bi(a,c,v,p)}c=c.child}return c;case 26:return vc(a,c),a===null?(p=b2(c.type,null,c.pendingProps,null))?c.memoizedState=p:En||(p=c.type,a=c.pendingProps,v=qx(me.current).createElement(p),v[Mi]=c,v[ri]=a,Ir(v,p,a),Ci(v),c.stateNode=v):c.memoizedState=b2(c.type,a.memoizedProps,c.pendingProps,a.memoizedState),null;case 27:return Xe(c),a===null&&En&&(v=c.stateNode=v2(c.type,c.pendingProps,me.current),Ar=c,ds=!0,E=li,Wu(c.type)?(KE=E,li=Io(v.firstChild)):li=E),bi(a,c,c.pendingProps.children,p),vc(a,c),a===null&&(c.flags|=4194304),c.child;case 5:return a===null&&En&&((E=v=li)&&(v=G5(v,c.type,c.pendingProps,ds),v!==null?(c.stateNode=v,Ar=c,li=Io(v.firstChild),ds=!1,E=!0):E=!1),E||dl(c)),Xe(c),E=c.type,A=c.pendingProps,U=a!==null?a.memoizedProps:null,v=A.children,jE(E,A)?v=null:U!==null&&jE(E,U)&&(c.flags|=32),c.memoizedState!==null&&(E=Co(a,c,AE,null,null,p),uv._currentValue=E),vc(a,c),bi(a,c,v,p),c.child;case 6:return a===null&&En&&((a=p=li)&&(p=W5(p,c.pendingProps,ds),p!==null?(c.stateNode=p,Ar=c,li=null,a=!0):a=!1),a||dl(c)),null;case 13:return Iu(a,c,p);case 4:return de(c,c.stateNode.containerInfo),v=c.pendingProps,a===null?c.child=hc(c,null,v,p):bi(a,c,v,p),c.child;case 11:return qr(a,c,c.type,c.pendingProps,p);case 7:return bi(a,c,c.pendingProps,p),c.child;case 8:return bi(a,c,c.pendingProps.children,p),c.child;case 12:return bi(a,c,c.pendingProps.children,p),c.child;case 10:return v=c.pendingProps,hl(c,c.type,v.value),bi(a,c,v.children,p),c.child;case 9:return E=c.type._context,v=c.pendingProps.children,La(c),E=ui(E),v=v(E),c.flags|=1,bi(a,c,v,p),c.child;case 14:return Yr(a,c,c.type,c.pendingProps,p);case 15:return Jg(a,c,c.type,c.pendingProps,p);case 19:return Gs(a,c,p);case 31:return v=c.pendingProps,p=c.mode,v={mode:v.mode,children:v.children},a===null?(p=yc(v,p),p.ref=c.ref,c.child=p,p.return=c,c=p):(p=vi(a.child,v),p.ref=c.ref,c.child=p,p.return=c,c=p),c;case 22:return mc(a,c,p);case 24:return La(c),v=ui(wi),a===null?(E=pl(),E===null&&(E=Kt,A=Bh(),E.pooledCache=A,A.refCount++,A!==null&&(E.pooledCacheLanes|=p),E=A),c.memoizedState={parent:v,cache:E},Ig(c),hl(c,wi,E)):((a.lanes&p)!==0&&(Ht(a,c),Cu(c,null,null,p),nf()),E=a.memoizedState,A=c.memoizedState,E.parent!==v?(E={parent:v,cache:v},c.memoizedState=E,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=E),hl(c,wi,v)):(v=A.cache,hl(c,wi,v),v!==E.cache&&Yd(c,[wi],p,!0))),bi(a,c,c.pendingProps.children,p),c.child;case 29:throw c.pendingProps}throw Error(i(156,c.tag))}function ga(a){a.flags|=4}function ff(a,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!M2(c)){if(c=kn.current,c!==null&&((Ot&4194048)===Ot?ha!==null:(Ot&62914560)!==Ot&&(Ot&536870912)===0||c!==ha))throw Bs=tf,Dg;a.flags|=8192}}function Ro(a,c){c!==null&&(a.flags|=4),a.flags&16384&&(c=a.tag!==22?Qe():536870912,a.lanes|=c,bn|=c)}function bc(a,c){if(!En)switch(a.tailMode){case"hidden":c=a.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?a.tail=null:p.sibling=null;break;case"collapsed":p=a.tail;for(var v=null;p!==null;)p.alternate!==null&&(v=p),p=p.sibling;v===null?c||a.tail===null?a.tail=null:a.tail.sibling=null:v.sibling=null}}function Xn(a){var c=a.alternate!==null&&a.alternate.child===a.child,p=0,v=0;if(c)for(var E=a.child;E!==null;)p|=E.lanes|E.childLanes,v|=E.subtreeFlags&65011712,v|=E.flags&65011712,E.return=a,E=E.sibling;else for(E=a.child;E!==null;)p|=E.lanes|E.childLanes,v|=E.subtreeFlags,v|=E.flags,E.return=a,E=E.sibling;return a.subtreeFlags|=v,a.childLanes=p,c}function ev(a,c,p){var v=c.pendingProps;switch(wg(c),c.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xn(c),null;case 1:return Xn(c),null;case 3:return p=c.stateNode,v=null,a!==null&&(v=a.memoizedState.cache),c.memoizedState.cache!==v&&(c.flags|=2048),_o(wi),_e(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(a===null||a.child===null)&&(ua(c)?ga(c):a===null||a.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,An())),Xn(c),null;case 26:return p=c.memoizedState,a===null?(ga(c),p!==null?(Xn(c),ff(c,p)):(Xn(c),c.flags&=-16777217)):p?p!==a.memoizedState?(ga(c),Xn(c),ff(c,p)):(Xn(c),c.flags&=-16777217):(a.memoizedProps!==v&&ga(c),Xn(c),c.flags&=-16777217),null;case 27:dt(c),p=me.current;var E=c.type;if(a!==null&&c.stateNode!=null)a.memoizedProps!==v&&ga(c);else{if(!v){if(c.stateNode===null)throw Error(i(166));return Xn(c),null}a=De.current,ua(c)?J0(c):(a=v2(E,v,p),c.stateNode=a,ga(c))}return Xn(c),null;case 5:if(dt(c),p=c.type,a!==null&&c.stateNode!=null)a.memoizedProps!==v&&ga(c);else{if(!v){if(c.stateNode===null)throw Error(i(166));return Xn(c),null}if(a=De.current,ua(c))J0(c);else{switch(E=qx(me.current),a){case 1:a=E.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:a=E.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":a=E.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":a=E.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":a=E.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof v.is=="string"?E.createElement("select",{is:v.is}):E.createElement("select"),v.multiple?a.multiple=!0:v.size&&(a.size=v.size);break;default:a=typeof v.is=="string"?E.createElement(p,{is:v.is}):E.createElement(p)}}a[Mi]=c,a[ri]=v;e:for(E=c.child;E!==null;){if(E.tag===5||E.tag===6)a.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===c)break e;for(;E.sibling===null;){if(E.return===null||E.return===c)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}c.stateNode=a;e:switch(Ir(a,p,v),p){case"button":case"input":case"select":case"textarea":a=!!v.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&ga(c)}}return Xn(c),c.flags&=-16777217,null;case 6:if(a&&c.stateNode!=null)a.memoizedProps!==v&&ga(c);else{if(typeof v!="string"&&c.stateNode===null)throw Error(i(166));if(a=me.current,ua(c)){if(a=c.stateNode,p=c.memoizedProps,v=null,E=Ar,E!==null)switch(E.tag){case 27:case 5:v=E.memoizedProps}a[Mi]=c,a=!!(a.nodeValue===p||v!==null&&v.suppressHydrationWarning===!0||u2(a.nodeValue,p)),a||dl(c)}else a=qx(a).createTextNode(v),a[Mi]=c,c.stateNode=a}return Xn(c),null;case 13:if(v=c.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(E=ua(c),v!==null&&v.dehydrated!==null){if(a===null){if(!E)throw Error(i(318));if(E=c.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(i(317));E[Mi]=c}else bu(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Xn(c),E=!1}else E=An(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=E),E=!0;if(!E)return c.flags&256?(Ua(c),c):(Ua(c),null)}if(Ua(c),(c.flags&128)!==0)return c.lanes=p,c;if(p=v!==null,a=a!==null&&a.memoizedState!==null,p){v=c.child,E=null,v.alternate!==null&&v.alternate.memoizedState!==null&&v.alternate.memoizedState.cachePool!==null&&(E=v.alternate.memoizedState.cachePool.pool);var A=null;v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(A=v.memoizedState.cachePool.pool),A!==E&&(v.flags|=2048)}return p!==a&&p&&(c.child.flags|=8192),Ro(c,c.updateQueue),Xn(c),null;case 4:return _e(),a===null&&BE(c.stateNode.containerInfo),Xn(c),null;case 10:return _o(c.type),Xn(c),null;case 19:if(ve(xi),E=c.memoizedState,E===null)return Xn(c),null;if(v=(c.flags&128)!==0,A=E.rendering,A===null)if(v)bc(E,!1);else{if(ei!==0||a!==null&&(a.flags&128)!==0)for(a=c.child;a!==null;){if(A=Ao(a),A!==null){for(c.flags|=128,bc(E,!1),a=A.updateQueue,c.updateQueue=a,Ro(c,a),c.subtreeFlags=0,a=p,p=c.child;p!==null;)Mg(p,a),p=p.sibling;return Me(xi,xi.current&1|2),c.child}a=a.sibling}E.tail!==null&&Ne()>vr&&(c.flags|=128,v=!0,bc(E,!1),c.lanes=4194304)}else{if(!v)if(a=Ao(A),a!==null){if(c.flags|=128,v=!0,a=a.updateQueue,c.updateQueue=a,Ro(c,a),bc(E,!0),E.tail===null&&E.tailMode==="hidden"&&!A.alternate&&!En)return Xn(c),null}else 2*Ne()-E.renderingStartTime>vr&&p!==536870912&&(c.flags|=128,v=!0,bc(E,!1),c.lanes=4194304);E.isBackwards?(A.sibling=c.child,c.child=A):(a=E.last,a!==null?a.sibling=A:c.child=A,E.last=A)}return E.tail!==null?(c=E.tail,E.rendering=c,E.tail=c.sibling,E.renderingStartTime=Ne(),c.sibling=null,a=xi.current,Me(xi,v?a&1|2:a&1),c):(Xn(c),null);case 22:case 23:return Ua(c),rf(),v=c.memoizedState!==null,a!==null?a.memoizedState!==null!==v&&(c.flags|=8192):v&&(c.flags|=8192),v?(p&536870912)!==0&&(c.flags&128)===0&&(Xn(c),c.subtreeFlags&6&&(c.flags|=8192)):Xn(c),p=c.updateQueue,p!==null&&Ro(c,p.retryQueue),p=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(p=a.memoizedState.cachePool.pool),v=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(v=c.memoizedState.cachePool.pool),v!==p&&(c.flags|=2048),a!==null&&ve(ks),null;case 24:return p=null,a!==null&&(p=a.memoizedState.cache),c.memoizedState.cache!==p&&(c.flags|=2048),_o(wi),Xn(c),null;case 25:return null;case 30:return null}throw Error(i(156,c.tag))}function Lu(a,c){switch(wg(c),c.tag){case 1:return a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 3:return _o(wi),_e(),a=c.flags,(a&65536)!==0&&(a&128)===0?(c.flags=a&-65537|128,c):null;case 26:case 27:case 5:return dt(c),null;case 13:if(Ua(c),a=c.memoizedState,a!==null&&a.dehydrated!==null){if(c.alternate===null)throw Error(i(340));bu()}return a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 19:return ve(xi),null;case 4:return _e(),null;case 10:return _o(c.type),null;case 22:case 23:return Ua(c),rf(),a!==null&&ve(ks),a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 24:return _o(wi),null;case 25:return null;default:return null}}function zu(a,c){switch(wg(c),c.tag){case 3:_o(wi),_e();break;case 26:case 27:case 5:dt(c);break;case 4:_e();break;case 13:Ua(c);break;case 19:ve(xi);break;case 10:_o(c.type);break;case 22:case 23:Ua(c),rf(),a!==null&&ve(ks);break;case 24:_o(wi)}}function Sc(a,c){try{var p=c.updateQueue,v=p!==null?p.lastEffect:null;if(v!==null){var E=v.next;p=E;do{if((p.tag&a)===a){v=void 0;var A=p.create,U=p.inst;v=A(),U.destroy=v}p=p.next}while(p!==E)}}catch(X){oe(c,c.return,X)}}function gs(a,c,p){try{var v=c.updateQueue,E=v!==null?v.lastEffect:null;if(E!==null){var A=E.next;v=A;do{if((v.tag&a)===a){var U=v.inst,X=U.destroy;if(X!==void 0){U.destroy=void 0,E=c;var re=p,Se=X;try{Se()}catch(ze){oe(E,re,ze)}}}v=v.next}while(v!==A)}}catch(ze){oe(c,c.return,ze)}}function _c(a){var c=a.updateQueue;if(c!==null){var p=a.stateNode;try{nx(c,p)}catch(v){oe(a,a.return,v)}}}function Oo(a,c,p){p.props=Va(a.type,a.memoizedProps),p.state=a.memoizedState;try{p.componentWillUnmount()}catch(v){oe(a,c,v)}}function Ec(a,c){try{var p=a.ref;if(p!==null){switch(a.tag){case 26:case 27:case 5:var v=a.stateNode;break;case 30:v=a.stateNode;break;default:v=a.stateNode}typeof p=="function"?a.refCleanup=p(v):p.current=v}}catch(E){oe(a,c,E)}}function Ba(a,c){var p=a.ref,v=a.refCleanup;if(p!==null)if(typeof v=="function")try{v()}catch(E){oe(a,c,E)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(E){oe(a,c,E)}else p.current=null}function Uu(a){var c=a.type,p=a.memoizedProps,v=a.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":p.autoFocus&&v.focus();break e;case"img":p.src?v.src=p.src:p.srcSet&&(v.srcset=p.srcSet)}}catch(E){oe(a,a.return,E)}}function hf(a,c,p){try{var v=a.stateNode;V5(v,a.type,p,c),v[ri]=c}catch(E){oe(a,a.return,E)}}function pf(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Wu(a.type)||a.tag===4}function _l(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||pf(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Wu(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function El(a,c,p){var v=a.tag;if(v===5||v===6)a=a.stateNode,c?(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p).insertBefore(a,c):(c=p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,c.appendChild(a),p=p._reactRootContainer,p!=null||c.onclick!==null||(c.onclick=Xx));else if(v!==4&&(v===27&&Wu(a.type)&&(p=a.stateNode,c=null),a=a.child,a!==null))for(El(a,c,p),a=a.sibling;a!==null;)El(a,c,p),a=a.sibling}function Tl(a,c,p){var v=a.tag;if(v===5||v===6)a=a.stateNode,c?p.insertBefore(a,c):p.appendChild(a);else if(v!==4&&(v===27&&Wu(a.type)&&(p=a.stateNode),a=a.child,a!==null))for(Tl(a,c,p),a=a.sibling;a!==null;)Tl(a,c,p),a=a.sibling}function Ml(a){var c=a.stateNode,p=a.memoizedProps;try{for(var v=a.type,E=c.attributes;E.length;)c.removeAttributeNode(E[0]);Ir(c,v,p),c[Mi]=a,c[ri]=p}catch(A){oe(a,a.return,A)}}var Fa=!1,qn=!1,Vu=!1,vs=typeof WeakSet=="function"?WeakSet:Set,Bn=null;function Ui(a,c){if(a=a.containerInfo,GE=Jx,a=yg(a),Fd(a)){if("selectionStart"in a)var p={start:a.selectionStart,end:a.selectionEnd};else e:{p=(p=a.ownerDocument)&&p.defaultView||window;var v=p.getSelection&&p.getSelection();if(v&&v.rangeCount!==0){p=v.anchorNode;var E=v.anchorOffset,A=v.focusNode;v=v.focusOffset;try{p.nodeType,A.nodeType}catch{p=null;break e}var U=0,X=-1,re=-1,Se=0,ze=0,He=a,Te=null;t:for(;;){for(var Ce;He!==p||E!==0&&He.nodeType!==3||(X=U+E),He!==A||v!==0&&He.nodeType!==3||(re=U+v),He.nodeType===3&&(U+=He.nodeValue.length),(Ce=He.firstChild)!==null;)Te=He,He=Ce;for(;;){if(He===a)break t;if(Te===p&&++Se===E&&(X=U),Te===A&&++ze===v&&(re=U),(Ce=He.nextSibling)!==null)break;He=Te,Te=He.parentNode}He=Ce}p=X===-1||re===-1?null:{start:X,end:re}}else p=null}p=p||{start:0,end:0}}else p=null;for(WE={focusedElem:a,selectionRange:p},Jx=!1,Bn=c;Bn!==null;)if(c=Bn,a=c.child,(c.subtreeFlags&1024)!==0&&a!==null)a.return=c,Bn=a;else for(;Bn!==null;){switch(c=Bn,A=c.alternate,a=c.flags,c.tag){case 0:break;case 11:case 15:break;case 1:if((a&1024)!==0&&A!==null){a=void 0,p=c,E=A.memoizedProps,A=A.memoizedState,v=p.stateNode;try{var jt=Va(p.type,E,p.elementType===p.type);a=v.getSnapshotBeforeUpdate(jt,A),v.__reactInternalSnapshotBeforeUpdate=a}catch(Vt){oe(p,p.return,Vt)}}break;case 3:if((a&1024)!==0){if(a=c.stateNode.containerInfo,p=a.nodeType,p===9)qE(a);else if(p===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":qE(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(i(163))}if(a=c.sibling,a!==null){a.return=c.return,Bn=a;break}Bn=c.return}}function No(a,c,p){var v=p.flags;switch(p.tag){case 0:case 11:case 15:Dr(a,p),v&4&&Sc(5,p);break;case 1:if(Dr(a,p),v&4)if(a=p.stateNode,c===null)try{a.componentDidMount()}catch(U){oe(p,p.return,U)}else{var E=Va(p.type,c.memoizedProps);c=c.memoizedState;try{a.componentDidUpdate(E,c,a.__reactInternalSnapshotBeforeUpdate)}catch(U){oe(p,p.return,U)}}v&64&&_c(p),v&512&&Ec(p,p.return);break;case 3:if(Dr(a,p),v&64&&(a=p.updateQueue,a!==null)){if(c=null,p.child!==null)switch(p.child.tag){case 27:case 5:c=p.child.stateNode;break;case 1:c=p.child.stateNode}try{nx(a,c)}catch(U){oe(p,p.return,U)}}break;case 27:c===null&&v&4&&Ml(p);case 26:case 5:Dr(a,p),c===null&&v&4&&Uu(p),v&512&&Ec(p,p.return);break;case 12:Dr(a,p);break;case 13:Dr(a,p),v&4&&Cl(a,p),v&64&&(a=p.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(p=ti.bind(null,p),j5(a,p))));break;case 22:if(v=p.memoizedState!==null||Fa,!v){c=c!==null&&c.memoizedState!==null||qn,E=Fa;var A=qn;Fa=v,(qn=c)&&!A?Ha(a,p,(p.subtreeFlags&8772)!==0):Dr(a,p),Fa=E,qn=A}break;case 30:break;default:Dr(a,p)}}function rn(a){var c=a.alternate;c!==null&&(a.alternate=null,rn(c)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(c=a.stateNode,c!==null&&jn(c)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Dt=null,xn=!1;function js(a,c,p){for(p=p.child;p!==null;)Tc(a,c,p),p=p.sibling}function Tc(a,c,p){if(ke&&typeof ke.onCommitFiberUnmount=="function")try{ke.onCommitFiberUnmount(Re,p)}catch{}switch(p.tag){case 26:qn||Ba(p,c),js(a,c,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:qn||Ba(p,c);var v=Dt,E=xn;Wu(p.type)&&(Dt=p.stateNode,xn=!1),js(a,c,p),av(p.stateNode),Dt=v,xn=E;break;case 5:qn||Ba(p,c);case 6:if(v=Dt,E=xn,Dt=null,js(a,c,p),Dt=v,xn=E,Dt!==null)if(xn)try{(Dt.nodeType===9?Dt.body:Dt.nodeName==="HTML"?Dt.ownerDocument.body:Dt).removeChild(p.stateNode)}catch(A){oe(p,c,A)}else try{Dt.removeChild(p.stateNode)}catch(A){oe(p,c,A)}break;case 18:Dt!==null&&(xn?(a=Dt,m2(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,p.stateNode),pv(a)):m2(Dt,p.stateNode));break;case 4:v=Dt,E=xn,Dt=p.stateNode.containerInfo,xn=!0,js(a,c,p),Dt=v,xn=E;break;case 0:case 11:case 14:case 15:qn||gs(2,p,c),qn||gs(4,p,c),js(a,c,p);break;case 1:qn||(Ba(p,c),v=p.stateNode,typeof v.componentWillUnmount=="function"&&Oo(p,c,v)),js(a,c,p);break;case 21:js(a,c,p);break;case 22:qn=(v=qn)||p.memoizedState!==null,js(a,c,p),qn=v;break;default:js(a,c,p)}}function Cl(a,c){if(c.memoizedState===null&&(a=c.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{pv(a)}catch(p){oe(c,c.return,p)}}function op(a){switch(a.tag){case 13:case 19:var c=a.stateNode;return c===null&&(c=a.stateNode=new vs),c;case 22:return a=a.stateNode,c=a._retryCache,c===null&&(c=a._retryCache=new vs),c;default:throw Error(i(435,a.tag))}}function Mc(a,c){var p=op(a);c.forEach(function(v){var E=Gt.bind(null,a,v);p.has(v)||(p.add(v),v.then(E,E))})}function Wi(a,c){var p=c.deletions;if(p!==null)for(var v=0;v<p.length;v++){var E=p[v],A=a,U=c,X=U;e:for(;X!==null;){switch(X.tag){case 27:if(Wu(X.type)){Dt=X.stateNode,xn=!1;break e}break;case 5:Dt=X.stateNode,xn=!1;break e;case 3:case 4:Dt=X.stateNode.containerInfo,xn=!0;break e}X=X.return}if(Dt===null)throw Error(i(160));Tc(A,U,E),Dt=null,xn=!1,A=E.alternate,A!==null&&(A.return=null),E.return=null}if(c.subtreeFlags&13878)for(c=c.child;c!==null;)lp(c,a),c=c.sibling}var va=null;function lp(a,c){var p=a.alternate,v=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Wi(c,a),di(a),v&4&&(gs(3,a,a.return),Sc(3,a),gs(5,a,a.return));break;case 1:Wi(c,a),di(a),v&512&&(qn||p===null||Ba(p,p.return)),v&64&&Fa&&(a=a.updateQueue,a!==null&&(v=a.callbacks,v!==null&&(p=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=p===null?v:p.concat(v))));break;case 26:var E=va;if(Wi(c,a),di(a),v&512&&(qn||p===null||Ba(p,p.return)),v&4){var A=p!==null?p.memoizedState:null;if(v=a.memoizedState,p===null)if(v===null)if(a.stateNode===null){e:{v=a.type,p=a.memoizedProps,E=E.ownerDocument||E;t:switch(v){case"title":A=E.getElementsByTagName("title")[0],(!A||A[cs]||A[Mi]||A.namespaceURI==="http://www.w3.org/2000/svg"||A.hasAttribute("itemprop"))&&(A=E.createElement(v),E.head.insertBefore(A,E.querySelector("head > title"))),Ir(A,v,p),A[Mi]=a,Ci(A),v=A;break e;case"link":var U=E2("link","href",E).get(v+(p.href||""));if(U){for(var X=0;X<U.length;X++)if(A=U[X],A.getAttribute("href")===(p.href==null||p.href===""?null:p.href)&&A.getAttribute("rel")===(p.rel==null?null:p.rel)&&A.getAttribute("title")===(p.title==null?null:p.title)&&A.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){U.splice(X,1);break t}}A=E.createElement(v),Ir(A,v,p),E.head.appendChild(A);break;case"meta":if(U=E2("meta","content",E).get(v+(p.content||""))){for(X=0;X<U.length;X++)if(A=U[X],A.getAttribute("content")===(p.content==null?null:""+p.content)&&A.getAttribute("name")===(p.name==null?null:p.name)&&A.getAttribute("property")===(p.property==null?null:p.property)&&A.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&A.getAttribute("charset")===(p.charSet==null?null:p.charSet)){U.splice(X,1);break t}}A=E.createElement(v),Ir(A,v,p),E.head.appendChild(A);break;default:throw Error(i(468,v))}A[Mi]=a,Ci(A),v=A}a.stateNode=v}else T2(E,a.type,a.stateNode);else a.stateNode=_2(E,v,a.memoizedProps);else A!==v?(A===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):A.count--,v===null?T2(E,a.type,a.stateNode):_2(E,v,a.memoizedProps)):v===null&&a.stateNode!==null&&hf(a,a.memoizedProps,p.memoizedProps)}break;case 27:Wi(c,a),di(a),v&512&&(qn||p===null||Ba(p,p.return)),p!==null&&v&4&&hf(a,a.memoizedProps,p.memoizedProps);break;case 5:if(Wi(c,a),di(a),v&512&&(qn||p===null||Ba(p,p.return)),a.flags&32){E=a.stateNode;try{Ii(E,"")}catch(Ce){oe(a,a.return,Ce)}}v&4&&a.stateNode!=null&&(E=a.memoizedProps,hf(a,E,p!==null?p.memoizedProps:E)),v&1024&&(Vu=!0);break;case 6:if(Wi(c,a),di(a),v&4){if(a.stateNode===null)throw Error(i(162));v=a.memoizedProps,p=a.stateNode;try{p.nodeValue=v}catch(Ce){oe(a,a.return,Ce)}}break;case 3:if($x=null,E=va,va=Yx(c.containerInfo),Wi(c,a),va=E,di(a),v&4&&p!==null&&p.memoizedState.isDehydrated)try{pv(c.containerInfo)}catch(Ce){oe(a,a.return,Ce)}Vu&&(Vu=!1,wl(a));break;case 4:v=va,va=Yx(a.stateNode.containerInfo),Wi(c,a),di(a),va=v;break;case 12:Wi(c,a),di(a);break;case 13:Wi(c,a),di(a),a.child.flags&8192&&a.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(Un=Ne()),v&4&&(v=a.updateQueue,v!==null&&(a.updateQueue=null,Mc(a,v)));break;case 22:E=a.memoizedState!==null;var re=p!==null&&p.memoizedState!==null,Se=Fa,ze=qn;if(Fa=Se||E,qn=ze||re,Wi(c,a),qn=ze,Fa=Se,di(a),v&8192)e:for(c=a.stateNode,c._visibility=E?c._visibility&-2:c._visibility|1,E&&(p===null||re||Fa||qn||ys(a)),p=null,c=a;;){if(c.tag===5||c.tag===26){if(p===null){re=p=c;try{if(A=re.stateNode,E)U=A.style,typeof U.setProperty=="function"?U.setProperty("display","none","important"):U.display="none";else{X=re.stateNode;var He=re.memoizedProps.style,Te=He!=null&&He.hasOwnProperty("display")?He.display:null;X.style.display=Te==null||typeof Te=="boolean"?"":(""+Te).trim()}}catch(Ce){oe(re,re.return,Ce)}}}else if(c.tag===6){if(p===null){re=c;try{re.stateNode.nodeValue=E?"":re.memoizedProps}catch(Ce){oe(re,re.return,Ce)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===a)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break e;for(;c.sibling===null;){if(c.return===null||c.return===a)break e;p===c&&(p=null),c=c.return}p===c&&(p=null),c.sibling.return=c.return,c=c.sibling}v&4&&(v=a.updateQueue,v!==null&&(p=v.retryQueue,p!==null&&(v.retryQueue=null,Mc(a,p))));break;case 19:Wi(c,a),di(a),v&4&&(v=a.updateQueue,v!==null&&(a.updateQueue=null,Mc(a,v)));break;case 30:break;case 21:break;default:Wi(c,a),di(a)}}function di(a){var c=a.flags;if(c&2){try{for(var p,v=a.return;v!==null;){if(pf(v)){p=v;break}v=v.return}if(p==null)throw Error(i(160));switch(p.tag){case 27:var E=p.stateNode,A=_l(a);Tl(a,A,E);break;case 5:var U=p.stateNode;p.flags&32&&(Ii(U,""),p.flags&=-33);var X=_l(a);Tl(a,X,U);break;case 3:case 4:var re=p.stateNode.containerInfo,Se=_l(a);El(a,Se,re);break;default:throw Error(i(161))}}catch(ze){oe(a,a.return,ze)}a.flags&=-3}c&4096&&(a.flags&=-4097)}function wl(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var c=a;wl(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),a=a.sibling}}function Dr(a,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)No(a,c.alternate,c),c=c.sibling}function ys(a){for(a=a.child;a!==null;){var c=a;switch(c.tag){case 0:case 11:case 14:case 15:gs(4,c,c.return),ys(c);break;case 1:Ba(c,c.return);var p=c.stateNode;typeof p.componentWillUnmount=="function"&&Oo(c,c.return,p),ys(c);break;case 27:av(c.stateNode);case 26:case 5:Ba(c,c.return),ys(c);break;case 22:c.memoizedState===null&&ys(c);break;case 30:ys(c);break;default:ys(c)}a=a.sibling}}function Ha(a,c,p){for(p=p&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var v=c.alternate,E=a,A=c,U=A.flags;switch(A.tag){case 0:case 11:case 15:Ha(E,A,p),Sc(4,A);break;case 1:if(Ha(E,A,p),v=A,E=v.stateNode,typeof E.componentDidMount=="function")try{E.componentDidMount()}catch(Se){oe(v,v.return,Se)}if(v=A,E=v.updateQueue,E!==null){var X=v.stateNode;try{var re=E.shared.hiddenCallbacks;if(re!==null)for(E.shared.hiddenCallbacks=null,E=0;E<re.length;E++)wu(re[E],X)}catch(Se){oe(v,v.return,Se)}}p&&U&64&&_c(A),Ec(A,A.return);break;case 27:Ml(A);case 26:case 5:Ha(E,A,p),p&&v===null&&U&4&&Uu(A),Ec(A,A.return);break;case 12:Ha(E,A,p);break;case 13:Ha(E,A,p),p&&U&4&&Cl(E,A);break;case 22:A.memoizedState===null&&Ha(E,A,p),Ec(A,A.return);break;case 30:break;default:Ha(E,A,p)}c=c.sibling}}function cp(a,c){var p=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(p=a.memoizedState.cachePool.pool),a=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(a=c.memoizedState.cachePool.pool),a!==p&&(a!=null&&a.refCount++,p!=null&&Su(p))}function up(a,c){a=null,c.alternate!==null&&(a=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==a&&(c.refCount++,a!=null&&Su(a))}function Fn(a,c,p,v){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)dp(a,c,p,v),c=c.sibling}function dp(a,c,p,v){var E=c.flags;switch(c.tag){case 0:case 11:case 15:Fn(a,c,p,v),E&2048&&Sc(9,c);break;case 1:Fn(a,c,p,v);break;case 3:Fn(a,c,p,v),E&2048&&(a=null,c.alternate!==null&&(a=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==a&&(c.refCount++,a!=null&&Su(a)));break;case 12:if(E&2048){Fn(a,c,p,v),a=c.stateNode;try{var A=c.memoizedProps,U=A.id,X=A.onPostCommit;typeof X=="function"&&X(U,c.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(re){oe(c,c.return,re)}}else Fn(a,c,p,v);break;case 13:Fn(a,c,p,v);break;case 23:break;case 22:A=c.stateNode,U=c.alternate,c.memoizedState!==null?A._visibility&2?Fn(a,c,p,v):ya(a,c):A._visibility&2?Fn(a,c,p,v):(A._visibility|=2,Do(a,c,p,v,(c.subtreeFlags&10256)!==0)),E&2048&&cp(U,c);break;case 24:Fn(a,c,p,v),E&2048&&up(c.alternate,c);break;default:Fn(a,c,p,v)}}function Do(a,c,p,v,E){for(E=E&&(c.subtreeFlags&10256)!==0,c=c.child;c!==null;){var A=a,U=c,X=p,re=v,Se=U.flags;switch(U.tag){case 0:case 11:case 15:Do(A,U,X,re,E),Sc(8,U);break;case 23:break;case 22:var ze=U.stateNode;U.memoizedState!==null?ze._visibility&2?Do(A,U,X,re,E):ya(A,U):(ze._visibility|=2,Do(A,U,X,re,E)),E&&Se&2048&&cp(U.alternate,U);break;case 24:Do(A,U,X,re,E),E&&Se&2048&&up(U.alternate,U);break;default:Do(A,U,X,re,E)}c=c.sibling}}function ya(a,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var p=a,v=c,E=v.flags;switch(v.tag){case 22:ya(p,v),E&2048&&cp(v.alternate,v);break;case 24:ya(p,v),E&2048&&up(v.alternate,v);break;default:ya(p,v)}c=c.sibling}}var xs=8192;function ku(a){if(a.subtreeFlags&xs)for(a=a.child;a!==null;)Hx(a),a=a.sibling}function Hx(a){switch(a.tag){case 26:ku(a),a.flags&xs&&a.memoizedState!==null&&rF(va,a.memoizedState,a.memoizedProps);break;case 5:ku(a);break;case 3:case 4:var c=va;va=Yx(a.stateNode.containerInfo),ku(a),va=c;break;case 22:a.memoizedState===null&&(c=a.alternate,c!==null&&c.memoizedState!==null?(c=xs,xs=16777216,ku(a),xs=c):ku(a));break;default:ku(a)}}function Gx(a){var c=a.alternate;if(c!==null&&(a=c.child,a!==null)){c.child=null;do c=a.sibling,a.sibling=null,a=c;while(a!==null)}}function Yn(a){var c=a.deletions;if((a.flags&16)!==0){if(c!==null)for(var p=0;p<c.length;p++){var v=c[p];Bn=v,Wa(v,a)}Gx(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)tv(a),a=a.sibling}function tv(a){switch(a.tag){case 0:case 11:case 15:Yn(a),a.flags&2048&&gs(9,a,a.return);break;case 3:Yn(a);break;case 12:Yn(a);break;case 22:var c=a.stateNode;a.memoizedState!==null&&c._visibility&2&&(a.return===null||a.return.tag!==13)?(c._visibility&=-3,Ga(a)):Yn(a);break;default:Yn(a)}}function Ga(a){var c=a.deletions;if((a.flags&16)!==0){if(c!==null)for(var p=0;p<c.length;p++){var v=c[p];Bn=v,Wa(v,a)}Gx(a)}for(a=a.child;a!==null;){switch(c=a,c.tag){case 0:case 11:case 15:gs(8,c,c.return),Ga(c);break;case 22:p=c.stateNode,p._visibility&2&&(p._visibility&=-3,Ga(c));break;default:Ga(c)}a=a.sibling}}function Wa(a,c){for(;Bn!==null;){var p=Bn;switch(p.tag){case 0:case 11:case 15:gs(8,p,c);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var v=p.memoizedState.cachePool.pool;v!=null&&v.refCount++}break;case 24:Su(p.memoizedState.cache)}if(v=p.child,v!==null)v.return=p,Bn=v;else e:for(p=a;Bn!==null;){v=Bn;var E=v.sibling,A=v.return;if(rn(v),v===p){Bn=null;break e}if(E!==null){E.return=A,Bn=E;break e}Bn=A}}}var fi={getCacheForType:function(a){var c=ui(wi),p=c.data.get(a);return p===void 0&&(p=a(),c.data.set(a,p)),p}},nv=typeof WeakMap=="function"?WeakMap:Map,Rn=0,Kt=null,un=null,Ot=0,tn=0,ci=null,bs=!1,Bu=!1,Fu=!1,Xs=0,ei=0,xa=0,ja=0,Cc=0,qs=0,bn=0,On=null,Lt=null,hn=!1,Un=0,vr=1/0,Ys=null,Ss=null,Vi=0,yr=null,Hn=null,_s=0,Po=0,mf=null,Es=null,Xa=0,wc=null;function hi(){if((Rn&2)!==0&&Ot!==0)return Ot&-Ot;if(k.T!==null){var a=Qt;return a!==0?a:zE()}return fn()}function fp(){qs===0&&(qs=(Ot&536870912)===0||En?ce():536870912);var a=kn.current;return a!==null&&(a.flags|=32),qs}function Pr(a,c,p){(a===Kt&&(tn===2||tn===9)||a.cancelPendingCommit!==null)&&(Rl(a,0),ba(a,Ot,qs,!1)),ht(a,p),((Rn&2)===0||a!==Kt)&&(a===Kt&&((Rn&2)===0&&(ja|=p),ei===4&&ba(a,Ot,qs,!1)),Dl(a))}function Hu(a,c,p){if((Rn&6)!==0)throw Error(i(327));var v=!p&&(c&124)===0&&(c&a.expiredLanes)===0||at(a,c),E=v?M(a,c):f(a,c,!0),A=v;do{if(E===0){Bu&&!v&&ba(a,c,0,!1);break}else{if(p=a.current.alternate,A&&!Al(p)){E=f(a,c,!1),A=!1;continue}if(E===2){if(A=c,a.errorRecoveryDisabledLanes&A)var U=0;else U=a.pendingLanes&-536870913,U=U!==0?U:U&536870912?536870912:0;if(U!==0){c=U;e:{var X=a;E=On;var re=X.current.memoizedState.isDehydrated;if(re&&(Rl(X,U).flags|=256),U=f(X,U,!1),U!==2){if(Fu&&!re){X.errorRecoveryDisabledLanes|=A,ja|=A,E=4;break e}A=Lt,Lt=E,A!==null&&(Lt===null?Lt=A:Lt.push.apply(Lt,A))}E=U}if(A=!1,E!==2)continue}}if(E===1){Rl(a,0),ba(a,c,0,!0);break}e:{switch(v=a,A=E,A){case 0:case 1:throw Error(i(345));case 4:if((c&4194048)!==c)break;case 6:ba(v,c,qs,!bs);break e;case 2:Lt=null;break;case 3:case 5:break;default:throw Error(i(329))}if((c&62914560)===c&&(E=Un+300-Ne(),10<E)){if(ba(v,c,qs,!bs),yt(v,0,!0)!==0)break e;v.timeoutHandle=h2(gf.bind(null,v,p,Lt,Ys,hn,c,qs,ja,bn,bs,A,2,-0,0),E);break e}gf(v,p,Lt,Ys,hn,c,qs,ja,bn,bs,A,0,-0,0)}}break}while(!0);Dl(a)}function gf(a,c,p,v,E,A,U,X,re,Se,ze,He,Te,Ce){if(a.timeoutHandle=-1,He=c.subtreeFlags,(He&8192||(He&16785408)===16785408)&&(cv={stylesheets:null,count:0,unsuspend:iF},Hx(c),He=sF(),He!==null)){a.cancelPendingCommit=He(et.bind(null,a,c,A,p,v,E,U,X,re,ze,1,Te,Ce)),ba(a,A,U,!Se);return}et(a,c,A,p,v,E,U,X,re)}function Al(a){for(var c=a;;){var p=c.tag;if((p===0||p===11||p===15)&&c.flags&16384&&(p=c.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var v=0;v<p.length;v++){var E=p[v],A=E.getSnapshot;E=E.value;try{if(!Hr(A(),E))return!1}catch{return!1}}if(p=c.child,c.subtreeFlags&16384&&p!==null)p.return=c,c=p;else{if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function ba(a,c,p,v){c&=~Cc,c&=~ja,a.suspendedLanes|=c,a.pingedLanes&=~c,v&&(a.warmLanes|=c),v=a.expirationTimes;for(var E=c;0<E;){var A=31-lt(E),U=1<<A;v[A]=-1,E&=~U}p!==0&&Fe(a,p,c)}function qa(){return(Rn&6)===0?(iv(0),!1):!0}function Ac(){if(un!==null){if(tn===0)var a=un.return;else a=un,So=fl=null,Vg(a),fc=null,lf=0,a=un;for(;a!==null;)zu(a.alternate,a),a=a.return;un=null}}function Rl(a,c){var p=a.timeoutHandle;p!==-1&&(a.timeoutHandle=-1,B5(p)),p=a.cancelPendingCommit,p!==null&&(a.cancelPendingCommit=null,p()),Ac(),Kt=a,un=p=vi(a.current,null),Ot=c,tn=0,ci=null,bs=!1,Bu=at(a,c),Fu=!1,bn=qs=Cc=ja=xa=ei=0,Lt=On=null,hn=!1,(c&8)!==0&&(c|=c&32);var v=a.entangledLanes;if(v!==0)for(a=a.entanglements,v&=c;0<v;){var E=31-lt(v),A=1<<E;c|=a[E],v&=~A}return Xs=c,Wd(),p}function hp(a,c){Jt=null,k.H=of,c===ef||c===da?(c=Pg(),tn=3):c===Dg?(c=Pg(),tn=4):tn=c===Fx?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,ci=c,un===null&&(ei=1,rp(a,rr(c,a.current)))}function Gu(){var a=k.H;return k.H=of,a===null?of:a}function pp(){var a=k.A;return k.A=fi,a}function u(){ei=4,bs||(Ot&4194048)!==Ot&&kn.current!==null||(Bu=!0),(xa&134217727)===0&&(ja&134217727)===0||Kt===null||ba(Kt,Ot,qs,!1)}function f(a,c,p){var v=Rn;Rn|=2;var E=Gu(),A=pp();(Kt!==a||Ot!==c)&&(Ys=null,Rl(a,c)),c=!1;var U=ei;e:do try{if(tn!==0&&un!==null){var X=un,re=ci;switch(tn){case 8:Ac(),U=6;break e;case 3:case 2:case 9:case 6:kn.current===null&&(c=!0);var Se=tn;if(tn=0,ci=null,ae(a,X,re,Se),p&&Bu){U=0;break e}break;default:Se=tn,tn=0,ci=null,ae(a,X,re,Se)}}x(),U=ei;break}catch(ze){hp(a,ze)}while(!0);return c&&a.shellSuspendCounter++,So=fl=null,Rn=v,k.H=E,k.A=A,un===null&&(Kt=null,Ot=0,Wd()),U}function x(){for(;un!==null;)P(un)}function M(a,c){var p=Rn;Rn|=2;var v=Gu(),E=pp();Kt!==a||Ot!==c?(Ys=null,vr=Ne()+500,Rl(a,c)):Bu=at(a,c);e:do try{if(tn!==0&&un!==null){c=un;var A=ci;t:switch(tn){case 1:tn=0,ci=null,ae(a,c,A,1);break;case 2:case 9:if(Gh(A)){tn=0,ci=null,K(c);break}c=function(){tn!==2&&tn!==9||Kt!==a||(tn=7),Dl(a)},A.then(c,c);break e;case 3:tn=7;break e;case 4:tn=5;break e;case 7:Gh(A)?(tn=0,ci=null,K(c)):(tn=0,ci=null,ae(a,c,A,7));break;case 5:var U=null;switch(un.tag){case 26:U=un.memoizedState;case 5:case 27:var X=un;if(!U||M2(U)){tn=0,ci=null;var re=X.sibling;if(re!==null)un=re;else{var Se=X.return;Se!==null?(un=Se,ge(Se)):un=null}break t}}tn=0,ci=null,ae(a,c,A,5);break;case 6:tn=0,ci=null,ae(a,c,A,6);break;case 8:Ac(),ei=6;break e;default:throw Error(i(462))}}O();break}catch(ze){hp(a,ze)}while(!0);return So=fl=null,k.H=v,k.A=E,Rn=p,un!==null?0:(Kt=null,Ot=0,Wd(),ei)}function O(){for(;un!==null&&!Ue();)P(un)}function P(a){var c=xc(a.alternate,a,Xs);a.memoizedProps=a.pendingProps,c===null?ge(a):un=c}function K(a){var c=a,p=c.alternate;switch(c.tag){case 15:case 0:c=ps(p,c,c.pendingProps,c.type,void 0,Ot);break;case 11:c=ps(p,c,c.pendingProps,c.type.render,c.ref,Ot);break;case 5:Vg(c);default:zu(p,c),c=un=Mg(c,Xs),c=xc(p,c,Xs)}a.memoizedProps=a.pendingProps,c===null?ge(a):un=c}function ae(a,c,p,v){So=fl=null,Vg(c),fc=null,lf=0;var E=c.return;try{if(IE(a,E,c,p,Ot)){ei=1,rp(a,rr(p,a.current)),un=null;return}}catch(A){if(E!==null)throw un=E,A;ei=1,rp(a,rr(p,a.current)),un=null;return}c.flags&32768?(En||v===1?a=!0:Bu||(Ot&536870912)!==0?a=!1:(bs=a=!0,(v===2||v===9||v===3||v===6)&&(v=kn.current,v!==null&&v.tag===13&&(v.flags|=16384))),Le(c,a)):ge(c)}function ge(a){var c=a;do{if((c.flags&32768)!==0){Le(c,bs);return}a=c.return;var p=ev(c.alternate,c,Xs);if(p!==null){un=p;return}if(c=c.sibling,c!==null){un=c;return}un=c=a}while(c!==null);ei===0&&(ei=5)}function Le(a,c){do{var p=Lu(a.alternate,a);if(p!==null){p.flags&=32767,un=p;return}if(p=a.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!c&&(a=a.sibling,a!==null)){un=a;return}un=a=p}while(a!==null);ei=6,un=null}function et(a,c,p,v,E,A,U,X,re){a.cancelPendingCommit=null;do Ol();while(Vi!==0);if((Rn&6)!==0)throw Error(i(327));if(c!==null){if(c===a.current)throw Error(i(177));if(A=c.lanes|c.childLanes,A|=Ih,Ye(a,p,A,U,X,re),a===Kt&&(un=Kt=null,Ot=0),Hn=c,yr=a,_s=p,Po=A,mf=E,Es=v,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,Tn(Tt,function(){return Nl(),null})):(a.callbackNode=null,a.callbackPriority=0),v=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||v){v=k.T,k.T=null,E=q.p,q.p=2,U=Rn,Rn|=4;try{Ui(a,c,p)}finally{Rn=U,q.p=E,k.T=v}}Vi=1,ct(),ft(),$t()}}function ct(){if(Vi===1){Vi=0;var a=yr,c=Hn,p=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||p){p=k.T,k.T=null;var v=q.p;q.p=2;var E=Rn;Rn|=4;try{lp(c,a);var A=WE,U=yg(a.containerInfo),X=A.focusedElem,re=A.selectionRange;if(U!==X&&X&&X.ownerDocument&&vg(X.ownerDocument.documentElement,X)){if(re!==null&&Fd(X)){var Se=re.start,ze=re.end;if(ze===void 0&&(ze=Se),"selectionStart"in X)X.selectionStart=Se,X.selectionEnd=Math.min(ze,X.value.length);else{var He=X.ownerDocument||document,Te=He&&He.defaultView||window;if(Te.getSelection){var Ce=Te.getSelection(),jt=X.textContent.length,Vt=Math.min(re.start,jt),$n=re.end===void 0?Vt:Math.min(re.end,jt);!Ce.extend&&Vt>$n&&(U=$n,$n=Vt,Vt=U);var fe=gg(X,Vt),le=gg(X,$n);if(fe&&le&&(Ce.rangeCount!==1||Ce.anchorNode!==fe.node||Ce.anchorOffset!==fe.offset||Ce.focusNode!==le.node||Ce.focusOffset!==le.offset)){var xe=He.createRange();xe.setStart(fe.node,fe.offset),Ce.removeAllRanges(),Vt>$n?(Ce.addRange(xe),Ce.extend(le.node,le.offset)):(xe.setEnd(le.node,le.offset),Ce.addRange(xe))}}}}for(He=[],Ce=X;Ce=Ce.parentNode;)Ce.nodeType===1&&He.push({element:Ce,left:Ce.scrollLeft,top:Ce.scrollTop});for(typeof X.focus=="function"&&X.focus(),X=0;X<He.length;X++){var Be=He[X];Be.element.scrollLeft=Be.left,Be.element.scrollTop=Be.top}}Jx=!!GE,WE=GE=null}finally{Rn=E,q.p=v,k.T=p}}a.current=c,Vi=2}}function ft(){if(Vi===2){Vi=0;var a=yr,c=Hn,p=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||p){p=k.T,k.T=null;var v=q.p;q.p=2;var E=Rn;Rn|=4;try{No(a,c.alternate,c)}finally{Rn=E,q.p=v,k.T=p}}Vi=3}}function $t(){if(Vi===4||Vi===3){Vi=0,Ie();var a=yr,c=Hn,p=_s,v=Es;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?Vi=5:(Vi=0,Hn=yr=null,Ts(a,a.pendingLanes));var E=a.pendingLanes;if(E===0&&(Ss=null),gn(p),c=c.stateNode,ke&&typeof ke.onCommitFiberRoot=="function")try{ke.onCommitFiberRoot(Re,c,void 0,(c.current.flags&128)===128)}catch{}if(v!==null){c=k.T,E=q.p,q.p=2,k.T=null;try{for(var A=a.onRecoverableError,U=0;U<v.length;U++){var X=v[U];A(X.value,{componentStack:X.stack})}}finally{k.T=c,q.p=E}}(_s&3)!==0&&Ol(),Dl(a),E=a.pendingLanes,(p&4194090)!==0&&(E&42)!==0?a===wc?Xa++:(Xa=0,wc=a):Xa=0,iv(0)}}function Ts(a,c){(a.pooledCacheLanes&=c)===0&&(c=a.pooledCache,c!=null&&(a.pooledCache=null,Su(c)))}function Ol(a){return ct(),ft(),$t(),Nl()}function Nl(){if(Vi!==5)return!1;var a=yr,c=Po;Po=0;var p=gn(_s),v=k.T,E=q.p;try{q.p=32>p?32:p,k.T=null,p=mf,mf=null;var A=yr,U=_s;if(Vi=0,Hn=yr=null,_s=0,(Rn&6)!==0)throw Error(i(331));var X=Rn;if(Rn|=4,tv(A.current),dp(A,A.current,U,p),Rn=X,iv(0,!1),ke&&typeof ke.onPostCommitFiberRoot=="function")try{ke.onPostCommitFiberRoot(Re,A)}catch{}return!0}finally{q.p=E,k.T=v,Ts(a,c)}}function Ee(a,c,p){c=rr(p,c),c=sp(a.stateNode,c,2),a=To(a,c,2),a!==null&&(ht(a,2),Dl(a))}function oe(a,c,p){if(a.tag===3)Ee(a,a,p);else for(;c!==null;){if(c.tag===3){Ee(c,a,p);break}else if(c.tag===1){var v=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(Ss===null||!Ss.has(v))){a=rr(p,a),p=Bx(2),v=To(c,p,2),v!==null&&(ap(p,v,c,a),ht(v,2),Dl(v));break}}c=c.return}}function Ae(a,c,p){var v=a.pingCache;if(v===null){v=a.pingCache=new nv;var E=new Set;v.set(c,E)}else E=v.get(c),E===void 0&&(E=new Set,v.set(c,E));E.has(p)||(Fu=!0,E.add(p),a=Je.bind(null,a,c,p),c.then(a,a))}function Je(a,c,p){var v=a.pingCache;v!==null&&v.delete(c),a.pingedLanes|=a.suspendedLanes&p,a.warmLanes&=~p,Kt===a&&(Ot&p)===p&&(ei===4||ei===3&&(Ot&62914560)===Ot&&300>Ne()-Un?(Rn&2)===0&&Rl(a,0):Cc|=p,bn===Ot&&(bn=0)),Dl(a)}function Mt(a,c){c===0&&(c=Qe()),a=xo(a,c),a!==null&&(ht(a,c),Dl(a))}function ti(a){var c=a.memoizedState,p=0;c!==null&&(p=c.retryLane),Mt(a,p)}function Gt(a,c){var p=0;switch(a.tag){case 13:var v=a.stateNode,E=a.memoizedState;E!==null&&(p=E.retryLane);break;case 19:v=a.stateNode;break;case 22:v=a.stateNode._retryCache;break;default:throw Error(i(314))}v!==null&&v.delete(c),Mt(a,p)}function Tn(a,c){return ee(a,c)}var Si=null,dn=null,Ya=!1,mp=!1,LE=!1,vf=0;function Dl(a){a!==dn&&a.next===null&&(dn===null?Si=dn=a:dn=dn.next=a),mp=!0,Ya||(Ya=!0,N5())}function iv(a,c){if(!LE&&mp){LE=!0;do for(var p=!1,v=Si;v!==null;){if(a!==0){var E=v.pendingLanes;if(E===0)var A=0;else{var U=v.suspendedLanes,X=v.pingedLanes;A=(1<<31-lt(42|a)+1)-1,A&=E&~(U&~X),A=A&201326741?A&201326741|1:A?A|2:0}A!==0&&(p=!0,i2(v,A))}else A=Ot,A=yt(v,v===Kt?A:0,v.cancelPendingCommit!==null||v.timeoutHandle!==-1),(A&3)===0||at(v,A)||(p=!0,i2(v,A));v=v.next}while(p);LE=!1}}function O5(){e2()}function e2(){mp=Ya=!1;var a=0;vf!==0&&(k5()&&(a=vf),vf=0);for(var c=Ne(),p=null,v=Si;v!==null;){var E=v.next,A=t2(v,c);A===0?(v.next=null,p===null?Si=E:p.next=E,E===null&&(dn=p)):(p=v,(a!==0||(A&3)!==0)&&(mp=!0)),v=E}iv(a)}function t2(a,c){for(var p=a.suspendedLanes,v=a.pingedLanes,E=a.expirationTimes,A=a.pendingLanes&-62914561;0<A;){var U=31-lt(A),X=1<<U,re=E[U];re===-1?((X&p)===0||(X&v)!==0)&&(E[U]=Ft(X,c)):re<=c&&(a.expiredLanes|=X),A&=~X}if(c=Kt,p=Ot,p=yt(a,a===c?p:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),v=a.callbackNode,p===0||a===c&&(tn===2||tn===9)||a.cancelPendingCommit!==null)return v!==null&&v!==null&&Ve(v),a.callbackNode=null,a.callbackPriority=0;if((p&3)===0||at(a,p)){if(c=p&-p,c===a.callbackPriority)return c;switch(v!==null&&Ve(v),gn(p)){case 2:case 8:p=Ke;break;case 32:p=Tt;break;case 268435456:p=Q;break;default:p=Tt}return v=n2.bind(null,a),p=ee(p,v),a.callbackPriority=c,a.callbackNode=p,c}return v!==null&&v!==null&&Ve(v),a.callbackPriority=2,a.callbackNode=null,2}function n2(a,c){if(Vi!==0&&Vi!==5)return a.callbackNode=null,a.callbackPriority=0,null;var p=a.callbackNode;if(Ol()&&a.callbackNode!==p)return null;var v=Ot;return v=yt(a,a===Kt?v:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),v===0?null:(Hu(a,v,c),t2(a,Ne()),a.callbackNode!=null&&a.callbackNode===p?n2.bind(null,a):null)}function i2(a,c){if(Ol())return null;Hu(a,c,!0)}function N5(){F5(function(){(Rn&6)!==0?ee(je,O5):e2()})}function zE(){return vf===0&&(vf=ce()),vf}function r2(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Ad(""+a)}function s2(a,c){var p=c.ownerDocument.createElement("input");return p.name=c.name,p.value=c.value,a.id&&p.setAttribute("form",a.id),c.parentNode.insertBefore(p,c),a=new FormData(a),p.parentNode.removeChild(p),a}function D5(a,c,p,v,E){if(c==="submit"&&p&&p.stateNode===E){var A=r2((E[ri]||null).action),U=v.submitter;U&&(c=(c=U[ri]||null)?r2(c.formAction):U.getAttribute("formAction"),c!==null&&(A=c,U=null));var X=new lu("action","action",null,v,E);a.push({event:X,listeners:[{instance:null,listener:function(){if(v.defaultPrevented){if(vf!==0){var re=U?s2(E,U):new FormData(E);$g(p,{pending:!0,data:re,method:E.method,action:A},null,re)}}else typeof A=="function"&&(X.preventDefault(),re=U?s2(E,U):new FormData(E),$g(p,{pending:!0,data:re,method:E.method,action:A},A,re))},currentTarget:E}]})}}for(var UE=0;UE<Gd.length;UE++){var VE=Gd[UE],P5=VE.toLowerCase(),I5=VE[0].toUpperCase()+VE.slice(1);Bi(P5,"on"+I5)}Bi(wr,"onAnimationEnd"),Bi(Sg,"onAnimationIteration"),Bi(Wr,"onAnimationStart"),Bi("dblclick","onDoubleClick"),Bi("focusin","onFocus"),Bi("focusout","onBlur"),Bi(Q0,"onTransitionRun"),Bi(vo,"onTransitionStart"),Bi(gu,"onTransitionCancel"),Bi(yo,"onTransitionEnd"),ue("onMouseEnter",["mouseout","mouseover"]),ue("onMouseLeave",["mouseout","mouseover"]),ue("onPointerEnter",["pointerout","pointerover"]),ue("onPointerLeave",["pointerout","pointerover"]),Y("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Y("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Y("onBeforeInput",["compositionend","keypress","textInput","paste"]),Y("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Y("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Y("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rv="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),L5=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(rv));function a2(a,c){c=(c&4)!==0;for(var p=0;p<a.length;p++){var v=a[p],E=v.event;v=v.listeners;e:{var A=void 0;if(c)for(var U=v.length-1;0<=U;U--){var X=v[U],re=X.instance,Se=X.currentTarget;if(X=X.listener,re!==A&&E.isPropagationStopped())break e;A=X,E.currentTarget=Se;try{A(E)}catch(ze){pc(ze)}E.currentTarget=null,A=re}else for(U=0;U<v.length;U++){if(X=v[U],re=X.instance,Se=X.currentTarget,X=X.listener,re!==A&&E.isPropagationStopped())break e;A=X,E.currentTarget=Se;try{A(E)}catch(ze){pc(ze)}E.currentTarget=null,A=re}}}}function mn(a,c){var p=c[as];p===void 0&&(p=c[as]=new Set);var v=a+"__bubble";p.has(v)||(o2(c,a,2,!1),p.add(v))}function kE(a,c,p){var v=0;c&&(v|=4),o2(p,a,v,c)}var Wx="_reactListening"+Math.random().toString(36).slice(2);function BE(a){if(!a[Wx]){a[Wx]=!0,iu.forEach(function(p){p!=="selectionchange"&&(L5.has(p)||kE(p,!1,a),kE(p,!0,a))});var c=a.nodeType===9?a:a.ownerDocument;c===null||c[Wx]||(c[Wx]=!0,kE("selectionchange",!1,c))}}function o2(a,c,p,v){switch(N2(c)){case 2:var E=lF;break;case 8:E=cF;break;default:E=eT}p=E.bind(null,c,p,a),E=void 0,!Od||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(E=!0),v?E!==void 0?a.addEventListener(c,p,{capture:!0,passive:E}):a.addEventListener(c,p,!0):E!==void 0?a.addEventListener(c,p,{passive:E}):a.addEventListener(c,p,!1)}function FE(a,c,p,v,E){var A=v;if((c&1)===0&&(c&2)===0&&v!==null)e:for(;;){if(v===null)return;var U=v.tag;if(U===3||U===4){var X=v.stateNode.containerInfo;if(X===E)break;if(U===4)for(U=v.return;U!==null;){var re=U.tag;if((re===3||re===4)&&U.stateNode.containerInfo===E)return;U=U.return}for(;X!==null;){if(U=la(X),U===null)return;if(re=U.tag,re===5||re===6||re===26||re===27){v=A=U;continue e}X=X.parentNode}}v=v.return}rg(function(){var Se=A,ze=Sh(p),He=[];e:{var Te=Ph.get(a);if(Te!==void 0){var Ce=lu,jt=a;switch(a){case"keypress":if(el(p)===0)break e;case"keydown":case"keyup":Ce=cg;break;case"focusin":jt="focus",Ce=Eh;break;case"focusout":jt="blur",Ce=Eh;break;case"beforeblur":case"afterblur":Ce=Eh;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ce=og;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ce=EE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ce=dg;break;case wr:case Sg:case Wr:Ce=U0;break;case yo:Ce=ho;break;case"scroll":case"scrollend":Ce=I0;break;case"wheel":Ce=TE;break;case"copy":case"cut":case"paste":Ce=k0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ce=Mh;break;case"toggle":case"beforetoggle":Ce=nl}var Vt=(c&4)!==0,$n=!Vt&&(a==="scroll"||a==="scrollend"),fe=Vt?Te!==null?Te+"Capture":null:Te;Vt=[];for(var le=Se,xe;le!==null;){var Be=le;if(xe=Be.stateNode,Be=Be.tag,Be!==5&&Be!==26&&Be!==27||xe===null||fe===null||(Be=su(le,fe),Be!=null&&Vt.push(sv(le,Be,xe))),$n)break;le=le.return}0<Vt.length&&(Te=new Ce(Te,jt,null,p,ze),He.push({event:Te,listeners:Vt}))}}if((c&7)===0){e:{if(Te=a==="mouseover"||a==="pointerover",Ce=a==="mouseout"||a==="pointerout",Te&&p!==bh&&(jt=p.relatedTarget||p.fromElement)&&(la(jt)||jt[Is]))break e;if((Ce||Te)&&(Te=ze.window===ze?ze:(Te=ze.ownerDocument)?Te.defaultView||Te.parentWindow:window,Ce?(jt=p.relatedTarget||p.toElement,Ce=Se,jt=jt?la(jt):null,jt!==null&&($n=s(jt),Vt=jt.tag,jt!==$n||Vt!==5&&Vt!==27&&Vt!==6)&&(jt=null)):(Ce=null,jt=Se),Ce!==jt)){if(Vt=og,Be="onMouseLeave",fe="onMouseEnter",le="mouse",(a==="pointerout"||a==="pointerover")&&(Vt=Mh,Be="onPointerLeave",fe="onPointerEnter",le="pointer"),$n=Ce==null?Te:Qo(Ce),xe=jt==null?Te:Qo(jt),Te=new Vt(Be,le+"leave",Ce,p,ze),Te.target=$n,Te.relatedTarget=xe,Be=null,la(ze)===Se&&(Vt=new Vt(fe,le+"enter",jt,p,ze),Vt.target=xe,Vt.relatedTarget=$n,Be=Vt),$n=Be,Ce&&jt)t:{for(Vt=Ce,fe=jt,le=0,xe=Vt;xe;xe=gp(xe))le++;for(xe=0,Be=fe;Be;Be=gp(Be))xe++;for(;0<le-xe;)Vt=gp(Vt),le--;for(;0<xe-le;)fe=gp(fe),xe--;for(;le--;){if(Vt===fe||fe!==null&&Vt===fe.alternate)break t;Vt=gp(Vt),fe=gp(fe)}Vt=null}else Vt=null;Ce!==null&&l2(He,Te,Ce,Vt,!1),jt!==null&&$n!==null&&l2(He,$n,jt,Vt,!0)}}e:{if(Te=Se?Qo(Se):window,Ce=Te.nodeName&&Te.nodeName.toLowerCase(),Ce==="select"||Ce==="input"&&Te.type==="file")var bt=wh;else if(mg(Te))if(Ah)bt=sl;else{bt=K0;var pn=ME}else Ce=Te.nodeName,!Ce||Ce.toLowerCase()!=="input"||Te.type!=="checkbox"&&Te.type!=="radio"?Se&&xh(Se.elementType)&&(bt=wh):bt=Bd;if(bt&&(bt=bt(a,Se))){Fr(He,bt,p,ze);break e}pn&&pn(a,Te,Se),a==="focusout"&&Se&&Te.type==="number"&&Se.memoizedProps.value!=null&&Ji(Te,"number",Te.value)}switch(pn=Se?Qo(Se):window,a){case"focusin":(mg(pn)||pn.contentEditable==="true")&&(mo=pn,Oh=Se,Hd=null);break;case"focusout":Hd=Oh=mo=null;break;case"mousedown":Nh=!0;break;case"contextmenu":case"mouseup":case"dragend":Nh=!1,bg(He,p,ze);break;case"selectionchange":if(xg)break;case"keydown":case"keyup":bg(He,p,ze)}var At;if(Id)e:{switch(a){case"compositionstart":var kt="onCompositionStart";break e;case"compositionend":kt="onCompositionEnd";break e;case"compositionupdate":kt="onCompositionUpdate";break e}kt=void 0}else rl?Ud(a,p)&&(kt="onCompositionEnd"):a==="keydown"&&p.keyCode===229&&(kt="onCompositionStart");kt&&(zd&&p.locale!=="ko"&&(rl||kt!=="onCompositionStart"?kt==="onCompositionEnd"&&rl&&(At=ag()):(uo=ze,sg="value"in uo?uo.value:uo.textContent,rl=!0)),pn=jx(Se,kt),0<pn.length&&(kt=new Th(kt,a,null,p,ze),He.push({event:kt,listeners:pn}),At?kt.data=At:(At=hg(p),At!==null&&(kt.data=At)))),(At=Ld?Vd(a,p):pg(a,p))&&(kt=jx(Se,"onBeforeInput"),0<kt.length&&(pn=new Th("onBeforeInput","beforeinput",null,p,ze),He.push({event:pn,listeners:kt}),pn.data=At)),D5(He,a,Se,p,ze)}a2(He,c)})}function sv(a,c,p){return{instance:a,listener:c,currentTarget:p}}function jx(a,c){for(var p=c+"Capture",v=[];a!==null;){var E=a,A=E.stateNode;if(E=E.tag,E!==5&&E!==26&&E!==27||A===null||(E=su(a,p),E!=null&&v.unshift(sv(a,E,A)),E=su(a,c),E!=null&&v.push(sv(a,E,A))),a.tag===3)return v;a=a.return}return[]}function gp(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function l2(a,c,p,v,E){for(var A=c._reactName,U=[];p!==null&&p!==v;){var X=p,re=X.alternate,Se=X.stateNode;if(X=X.tag,re!==null&&re===v)break;X!==5&&X!==26&&X!==27||Se===null||(re=Se,E?(Se=su(p,A),Se!=null&&U.unshift(sv(p,Se,re))):E||(Se=su(p,A),Se!=null&&U.push(sv(p,Se,re)))),p=p.return}U.length!==0&&a.push({event:c,listeners:U})}var z5=/\r\n?/g,U5=/\u0000|\uFFFD/g;function c2(a){return(typeof a=="string"?a:""+a).replace(z5,`
`).replace(U5,"")}function u2(a,c){return c=c2(c),c2(a)===c}function Xx(){}function Kn(a,c,p,v,E,A){switch(p){case"children":typeof v=="string"?c==="body"||c==="textarea"&&v===""||Ii(a,v):(typeof v=="number"||typeof v=="bigint")&&c!=="body"&&Ii(a,""+v);break;case"className":pt(a,"class",v);break;case"tabIndex":pt(a,"tabindex",v);break;case"dir":case"role":case"viewBox":case"width":case"height":pt(a,p,v);break;case"style":wd(a,v,A);break;case"data":if(c!=="object"){pt(a,"data",v);break}case"src":case"href":if(v===""&&(c!=="a"||p!=="href")){a.removeAttribute(p);break}if(v==null||typeof v=="function"||typeof v=="symbol"||typeof v=="boolean"){a.removeAttribute(p);break}v=Ad(""+v),a.setAttribute(p,v);break;case"action":case"formAction":if(typeof v=="function"){a.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof A=="function"&&(p==="formAction"?(c!=="input"&&Kn(a,c,"name",E.name,E,null),Kn(a,c,"formEncType",E.formEncType,E,null),Kn(a,c,"formMethod",E.formMethod,E,null),Kn(a,c,"formTarget",E.formTarget,E,null)):(Kn(a,c,"encType",E.encType,E,null),Kn(a,c,"method",E.method,E,null),Kn(a,c,"target",E.target,E,null)));if(v==null||typeof v=="symbol"||typeof v=="boolean"){a.removeAttribute(p);break}v=Ad(""+v),a.setAttribute(p,v);break;case"onClick":v!=null&&(a.onclick=Xx);break;case"onScroll":v!=null&&mn("scroll",a);break;case"onScrollEnd":v!=null&&mn("scrollend",a);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(i(61));if(p=v.__html,p!=null){if(E.children!=null)throw Error(i(60));a.innerHTML=p}}break;case"multiple":a.multiple=v&&typeof v!="function"&&typeof v!="symbol";break;case"muted":a.muted=v&&typeof v!="function"&&typeof v!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(v==null||typeof v=="function"||typeof v=="boolean"||typeof v=="symbol"){a.removeAttribute("xlink:href");break}p=Ad(""+v),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":v!=null&&typeof v!="function"&&typeof v!="symbol"?a.setAttribute(p,""+v):a.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":v&&typeof v!="function"&&typeof v!="symbol"?a.setAttribute(p,""):a.removeAttribute(p);break;case"capture":case"download":v===!0?a.setAttribute(p,""):v!==!1&&v!=null&&typeof v!="function"&&typeof v!="symbol"?a.setAttribute(p,v):a.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":v!=null&&typeof v!="function"&&typeof v!="symbol"&&!isNaN(v)&&1<=v?a.setAttribute(p,v):a.removeAttribute(p);break;case"rowSpan":case"start":v==null||typeof v=="function"||typeof v=="symbol"||isNaN(v)?a.removeAttribute(p):a.setAttribute(p,v);break;case"popover":mn("beforetoggle",a),mn("toggle",a),rt(a,"popover",v);break;case"xlinkActuate":ot(a,"http://www.w3.org/1999/xlink","xlink:actuate",v);break;case"xlinkArcrole":ot(a,"http://www.w3.org/1999/xlink","xlink:arcrole",v);break;case"xlinkRole":ot(a,"http://www.w3.org/1999/xlink","xlink:role",v);break;case"xlinkShow":ot(a,"http://www.w3.org/1999/xlink","xlink:show",v);break;case"xlinkTitle":ot(a,"http://www.w3.org/1999/xlink","xlink:title",v);break;case"xlinkType":ot(a,"http://www.w3.org/1999/xlink","xlink:type",v);break;case"xmlBase":ot(a,"http://www.w3.org/XML/1998/namespace","xml:base",v);break;case"xmlLang":ot(a,"http://www.w3.org/XML/1998/namespace","xml:lang",v);break;case"xmlSpace":ot(a,"http://www.w3.org/XML/1998/namespace","xml:space",v);break;case"is":rt(a,"is",v);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=ng.get(p)||p,rt(a,p,v))}}function HE(a,c,p,v,E,A){switch(p){case"style":wd(a,v,A);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(i(61));if(p=v.__html,p!=null){if(E.children!=null)throw Error(i(60));a.innerHTML=p}}break;case"children":typeof v=="string"?Ii(a,v):(typeof v=="number"||typeof v=="bigint")&&Ii(a,""+v);break;case"onScroll":v!=null&&mn("scroll",a);break;case"onScrollEnd":v!=null&&mn("scrollend",a);break;case"onClick":v!=null&&(a.onclick=Xx);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ru.hasOwnProperty(p))e:{if(p[0]==="o"&&p[1]==="n"&&(E=p.endsWith("Capture"),c=p.slice(2,E?p.length-7:void 0),A=a[ri]||null,A=A!=null?A[p]:null,typeof A=="function"&&a.removeEventListener(c,A,E),typeof v=="function")){typeof A!="function"&&A!==null&&(p in a?a[p]=null:a.hasAttribute(p)&&a.removeAttribute(p)),a.addEventListener(c,v,E);break e}p in a?a[p]=v:v===!0?a.setAttribute(p,""):rt(a,p,v)}}}function Ir(a,c,p){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":mn("error",a),mn("load",a);var v=!1,E=!1,A;for(A in p)if(p.hasOwnProperty(A)){var U=p[A];if(U!=null)switch(A){case"src":v=!0;break;case"srcSet":E=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,c));default:Kn(a,c,A,U,p,null)}}E&&Kn(a,c,"srcSet",p.srcSet,p,null),v&&Kn(a,c,"src",p.src,p,null);return;case"input":mn("invalid",a);var X=A=U=E=null,re=null,Se=null;for(v in p)if(p.hasOwnProperty(v)){var ze=p[v];if(ze!=null)switch(v){case"name":E=ze;break;case"type":U=ze;break;case"checked":re=ze;break;case"defaultChecked":Se=ze;break;case"value":A=ze;break;case"defaultValue":X=ze;break;case"children":case"dangerouslySetInnerHTML":if(ze!=null)throw Error(i(137,c));break;default:Kn(a,c,v,ze,p,null)}}pr(a,A,X,re,Se,U,E,!1),cn(a);return;case"select":mn("invalid",a),v=U=A=null;for(E in p)if(p.hasOwnProperty(E)&&(X=p[E],X!=null))switch(E){case"value":A=X;break;case"defaultValue":U=X;break;case"multiple":v=X;default:Kn(a,c,E,X,p,null)}c=A,p=U,a.multiple=!!v,c!=null?oi(a,!!v,c,!1):p!=null&&oi(a,!!v,p,!0);return;case"textarea":mn("invalid",a),A=E=v=null;for(U in p)if(p.hasOwnProperty(U)&&(X=p[U],X!=null))switch(U){case"value":v=X;break;case"defaultValue":E=X;break;case"children":A=X;break;case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(91));break;default:Kn(a,c,U,X,p,null)}ac(a,v,E,A),cn(a);return;case"option":for(re in p)if(p.hasOwnProperty(re)&&(v=p[re],v!=null))switch(re){case"selected":a.selected=v&&typeof v!="function"&&typeof v!="symbol";break;default:Kn(a,c,re,v,p,null)}return;case"dialog":mn("beforetoggle",a),mn("toggle",a),mn("cancel",a),mn("close",a);break;case"iframe":case"object":mn("load",a);break;case"video":case"audio":for(v=0;v<rv.length;v++)mn(rv[v],a);break;case"image":mn("error",a),mn("load",a);break;case"details":mn("toggle",a);break;case"embed":case"source":case"link":mn("error",a),mn("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Se in p)if(p.hasOwnProperty(Se)&&(v=p[Se],v!=null))switch(Se){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,c));default:Kn(a,c,Se,v,p,null)}return;default:if(xh(c)){for(ze in p)p.hasOwnProperty(ze)&&(v=p[ze],v!==void 0&&HE(a,c,ze,v,p,void 0));return}}for(X in p)p.hasOwnProperty(X)&&(v=p[X],v!=null&&Kn(a,c,X,v,p,null))}function V5(a,c,p,v){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var E=null,A=null,U=null,X=null,re=null,Se=null,ze=null;for(Ce in p){var He=p[Ce];if(p.hasOwnProperty(Ce)&&He!=null)switch(Ce){case"checked":break;case"value":break;case"defaultValue":re=He;default:v.hasOwnProperty(Ce)||Kn(a,c,Ce,null,v,He)}}for(var Te in v){var Ce=v[Te];if(He=p[Te],v.hasOwnProperty(Te)&&(Ce!=null||He!=null))switch(Te){case"type":A=Ce;break;case"name":E=Ce;break;case"checked":Se=Ce;break;case"defaultChecked":ze=Ce;break;case"value":U=Ce;break;case"defaultValue":X=Ce;break;case"children":case"dangerouslySetInnerHTML":if(Ce!=null)throw Error(i(137,c));break;default:Ce!==He&&Kn(a,c,Te,Ce,v,He)}}zn(a,U,X,re,Se,ze,A,E);return;case"select":Ce=U=X=Te=null;for(A in p)if(re=p[A],p.hasOwnProperty(A)&&re!=null)switch(A){case"value":break;case"multiple":Ce=re;default:v.hasOwnProperty(A)||Kn(a,c,A,null,v,re)}for(E in v)if(A=v[E],re=p[E],v.hasOwnProperty(E)&&(A!=null||re!=null))switch(E){case"value":Te=A;break;case"defaultValue":X=A;break;case"multiple":U=A;default:A!==re&&Kn(a,c,E,A,v,re)}c=X,p=U,v=Ce,Te!=null?oi(a,!!p,Te,!1):!!v!=!!p&&(c!=null?oi(a,!!p,c,!0):oi(a,!!p,p?[]:"",!1));return;case"textarea":Ce=Te=null;for(X in p)if(E=p[X],p.hasOwnProperty(X)&&E!=null&&!v.hasOwnProperty(X))switch(X){case"value":break;case"children":break;default:Kn(a,c,X,null,v,E)}for(U in v)if(E=v[U],A=p[U],v.hasOwnProperty(U)&&(E!=null||A!=null))switch(U){case"value":Te=E;break;case"defaultValue":Ce=E;break;case"children":break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(i(91));break;default:E!==A&&Kn(a,c,U,E,v,A)}er(a,Te,Ce);return;case"option":for(var jt in p)if(Te=p[jt],p.hasOwnProperty(jt)&&Te!=null&&!v.hasOwnProperty(jt))switch(jt){case"selected":a.selected=!1;break;default:Kn(a,c,jt,null,v,Te)}for(re in v)if(Te=v[re],Ce=p[re],v.hasOwnProperty(re)&&Te!==Ce&&(Te!=null||Ce!=null))switch(re){case"selected":a.selected=Te&&typeof Te!="function"&&typeof Te!="symbol";break;default:Kn(a,c,re,Te,v,Ce)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Vt in p)Te=p[Vt],p.hasOwnProperty(Vt)&&Te!=null&&!v.hasOwnProperty(Vt)&&Kn(a,c,Vt,null,v,Te);for(Se in v)if(Te=v[Se],Ce=p[Se],v.hasOwnProperty(Se)&&Te!==Ce&&(Te!=null||Ce!=null))switch(Se){case"children":case"dangerouslySetInnerHTML":if(Te!=null)throw Error(i(137,c));break;default:Kn(a,c,Se,Te,v,Ce)}return;default:if(xh(c)){for(var $n in p)Te=p[$n],p.hasOwnProperty($n)&&Te!==void 0&&!v.hasOwnProperty($n)&&HE(a,c,$n,void 0,v,Te);for(ze in v)Te=v[ze],Ce=p[ze],!v.hasOwnProperty(ze)||Te===Ce||Te===void 0&&Ce===void 0||HE(a,c,ze,Te,v,Ce);return}}for(var fe in p)Te=p[fe],p.hasOwnProperty(fe)&&Te!=null&&!v.hasOwnProperty(fe)&&Kn(a,c,fe,null,v,Te);for(He in v)Te=v[He],Ce=p[He],!v.hasOwnProperty(He)||Te===Ce||Te==null&&Ce==null||Kn(a,c,He,Te,v,Ce)}var GE=null,WE=null;function qx(a){return a.nodeType===9?a:a.ownerDocument}function d2(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function f2(a,c){if(a===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&c==="foreignObject"?0:a}function jE(a,c){return a==="textarea"||a==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var XE=null;function k5(){var a=window.event;return a&&a.type==="popstate"?a===XE?!1:(XE=a,!0):(XE=null,!1)}var h2=typeof setTimeout=="function"?setTimeout:void 0,B5=typeof clearTimeout=="function"?clearTimeout:void 0,p2=typeof Promise=="function"?Promise:void 0,F5=typeof queueMicrotask=="function"?queueMicrotask:typeof p2<"u"?function(a){return p2.resolve(null).then(a).catch(H5)}:h2;function H5(a){setTimeout(function(){throw a})}function Wu(a){return a==="head"}function m2(a,c){var p=c,v=0,E=0;do{var A=p.nextSibling;if(a.removeChild(p),A&&A.nodeType===8)if(p=A.data,p==="/$"){if(0<v&&8>v){p=v;var U=a.ownerDocument;if(p&1&&av(U.documentElement),p&2&&av(U.body),p&4)for(p=U.head,av(p),U=p.firstChild;U;){var X=U.nextSibling,re=U.nodeName;U[cs]||re==="SCRIPT"||re==="STYLE"||re==="LINK"&&U.rel.toLowerCase()==="stylesheet"||p.removeChild(U),U=X}}if(E===0){a.removeChild(A),pv(c);return}E--}else p==="$"||p==="$?"||p==="$!"?E++:v=p.charCodeAt(0)-48;else v=0;p=A}while(p);pv(c)}function qE(a){var c=a.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var p=c;switch(c=c.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":qE(p),jn(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}a.removeChild(p)}}function G5(a,c,p,v){for(;a.nodeType===1;){var E=p;if(a.nodeName.toLowerCase()!==c.toLowerCase()){if(!v&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(v){if(!a[cs])switch(c){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(A=a.getAttribute("rel"),A==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(A!==E.rel||a.getAttribute("href")!==(E.href==null||E.href===""?null:E.href)||a.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin)||a.getAttribute("title")!==(E.title==null?null:E.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(A=a.getAttribute("src"),(A!==(E.src==null?null:E.src)||a.getAttribute("type")!==(E.type==null?null:E.type)||a.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin))&&A&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(c==="input"&&a.type==="hidden"){var A=E.name==null?null:""+E.name;if(E.type==="hidden"&&a.getAttribute("name")===A)return a}else return a;if(a=Io(a.nextSibling),a===null)break}return null}function W5(a,c,p){if(c==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!p||(a=Io(a.nextSibling),a===null))return null;return a}function YE(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState==="complete"}function j5(a,c){var p=a.ownerDocument;if(a.data!=="$?"||p.readyState==="complete")c();else{var v=function(){c(),p.removeEventListener("DOMContentLoaded",v)};p.addEventListener("DOMContentLoaded",v),a._reactRetry=v}}function Io(a){for(;a!=null;a=a.nextSibling){var c=a.nodeType;if(c===1||c===3)break;if(c===8){if(c=a.data,c==="$"||c==="$!"||c==="$?"||c==="F!"||c==="F")break;if(c==="/$")return null}}return a}var KE=null;function g2(a){a=a.previousSibling;for(var c=0;a;){if(a.nodeType===8){var p=a.data;if(p==="$"||p==="$!"||p==="$?"){if(c===0)return a;c--}else p==="/$"&&c++}a=a.previousSibling}return null}function v2(a,c,p){switch(c=qx(p),a){case"html":if(a=c.documentElement,!a)throw Error(i(452));return a;case"head":if(a=c.head,!a)throw Error(i(453));return a;case"body":if(a=c.body,!a)throw Error(i(454));return a;default:throw Error(i(451))}}function av(a){for(var c=a.attributes;c.length;)a.removeAttributeNode(c[0]);jn(a)}var Ka=new Map,y2=new Set;function Yx(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Rc=q.d;q.d={f:X5,r:q5,D:Y5,C:K5,L:$5,m:Z5,X:J5,S:Q5,M:eF};function X5(){var a=Rc.f(),c=qa();return a||c}function q5(a){var c=Na(a);c!==null&&c.tag===5&&c.type==="form"?wx(c):Rc.r(a)}var vp=typeof document>"u"?null:document;function x2(a,c,p){var v=vp;if(v&&typeof c=="string"&&c){var E=Pi(c);E='link[rel="'+a+'"][href="'+E+'"]',typeof p=="string"&&(E+='[crossorigin="'+p+'"]'),y2.has(E)||(y2.add(E),a={rel:a,crossOrigin:p,href:c},v.querySelector(E)===null&&(c=v.createElement("link"),Ir(c,"link",a),Ci(c),v.head.appendChild(c)))}}function Y5(a){Rc.D(a),x2("dns-prefetch",a,null)}function K5(a,c){Rc.C(a,c),x2("preconnect",a,c)}function $5(a,c,p){Rc.L(a,c,p);var v=vp;if(v&&a&&c){var E='link[rel="preload"][as="'+Pi(c)+'"]';c==="image"&&p&&p.imageSrcSet?(E+='[imagesrcset="'+Pi(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(E+='[imagesizes="'+Pi(p.imageSizes)+'"]')):E+='[href="'+Pi(a)+'"]';var A=E;switch(c){case"style":A=yp(a);break;case"script":A=xp(a)}Ka.has(A)||(a=m({rel:"preload",href:c==="image"&&p&&p.imageSrcSet?void 0:a,as:c},p),Ka.set(A,a),v.querySelector(E)!==null||c==="style"&&v.querySelector(ov(A))||c==="script"&&v.querySelector(lv(A))||(c=v.createElement("link"),Ir(c,"link",a),Ci(c),v.head.appendChild(c)))}}function Z5(a,c){Rc.m(a,c);var p=vp;if(p&&a){var v=c&&typeof c.as=="string"?c.as:"script",E='link[rel="modulepreload"][as="'+Pi(v)+'"][href="'+Pi(a)+'"]',A=E;switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":A=xp(a)}if(!Ka.has(A)&&(a=m({rel:"modulepreload",href:a},c),Ka.set(A,a),p.querySelector(E)===null)){switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(lv(A)))return}v=p.createElement("link"),Ir(v,"link",a),Ci(v),p.head.appendChild(v)}}}function Q5(a,c,p){Rc.S(a,c,p);var v=vp;if(v&&a){var E=co(v).hoistableStyles,A=yp(a);c=c||"default";var U=E.get(A);if(!U){var X={loading:0,preload:null};if(U=v.querySelector(ov(A)))X.loading=5;else{a=m({rel:"stylesheet",href:a,"data-precedence":c},p),(p=Ka.get(A))&&$E(a,p);var re=U=v.createElement("link");Ci(re),Ir(re,"link",a),re._p=new Promise(function(Se,ze){re.onload=Se,re.onerror=ze}),re.addEventListener("load",function(){X.loading|=1}),re.addEventListener("error",function(){X.loading|=2}),X.loading|=4,Kx(U,c,v)}U={type:"stylesheet",instance:U,count:1,state:X},E.set(A,U)}}}function J5(a,c){Rc.X(a,c);var p=vp;if(p&&a){var v=co(p).hoistableScripts,E=xp(a),A=v.get(E);A||(A=p.querySelector(lv(E)),A||(a=m({src:a,async:!0},c),(c=Ka.get(E))&&ZE(a,c),A=p.createElement("script"),Ci(A),Ir(A,"link",a),p.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},v.set(E,A))}}function eF(a,c){Rc.M(a,c);var p=vp;if(p&&a){var v=co(p).hoistableScripts,E=xp(a),A=v.get(E);A||(A=p.querySelector(lv(E)),A||(a=m({src:a,async:!0,type:"module"},c),(c=Ka.get(E))&&ZE(a,c),A=p.createElement("script"),Ci(A),Ir(A,"link",a),p.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},v.set(E,A))}}function b2(a,c,p,v){var E=(E=me.current)?Yx(E):null;if(!E)throw Error(i(446));switch(a){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(c=yp(p.href),p=co(E).hoistableStyles,v=p.get(c),v||(v={type:"style",instance:null,count:0,state:null},p.set(c,v)),v):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){a=yp(p.href);var A=co(E).hoistableStyles,U=A.get(a);if(U||(E=E.ownerDocument||E,U={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},A.set(a,U),(A=E.querySelector(ov(a)))&&!A._p&&(U.instance=A,U.state.loading=5),Ka.has(a)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},Ka.set(a,p),A||tF(E,a,p,U.state))),c&&v===null)throw Error(i(528,""));return U}if(c&&v!==null)throw Error(i(529,""));return null;case"script":return c=p.async,p=p.src,typeof p=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=xp(p),p=co(E).hoistableScripts,v=p.get(c),v||(v={type:"script",instance:null,count:0,state:null},p.set(c,v)),v):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,a))}}function yp(a){return'href="'+Pi(a)+'"'}function ov(a){return'link[rel="stylesheet"]['+a+"]"}function S2(a){return m({},a,{"data-precedence":a.precedence,precedence:null})}function tF(a,c,p,v){a.querySelector('link[rel="preload"][as="style"]['+c+"]")?v.loading=1:(c=a.createElement("link"),v.preload=c,c.addEventListener("load",function(){return v.loading|=1}),c.addEventListener("error",function(){return v.loading|=2}),Ir(c,"link",p),Ci(c),a.head.appendChild(c))}function xp(a){return'[src="'+Pi(a)+'"]'}function lv(a){return"script[async]"+a}function _2(a,c,p){if(c.count++,c.instance===null)switch(c.type){case"style":var v=a.querySelector('style[data-href~="'+Pi(p.href)+'"]');if(v)return c.instance=v,Ci(v),v;var E=m({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return v=(a.ownerDocument||a).createElement("style"),Ci(v),Ir(v,"style",E),Kx(v,p.precedence,a),c.instance=v;case"stylesheet":E=yp(p.href);var A=a.querySelector(ov(E));if(A)return c.state.loading|=4,c.instance=A,Ci(A),A;v=S2(p),(E=Ka.get(E))&&$E(v,E),A=(a.ownerDocument||a).createElement("link"),Ci(A);var U=A;return U._p=new Promise(function(X,re){U.onload=X,U.onerror=re}),Ir(A,"link",v),c.state.loading|=4,Kx(A,p.precedence,a),c.instance=A;case"script":return A=xp(p.src),(E=a.querySelector(lv(A)))?(c.instance=E,Ci(E),E):(v=p,(E=Ka.get(A))&&(v=m({},p),ZE(v,E)),a=a.ownerDocument||a,E=a.createElement("script"),Ci(E),Ir(E,"link",v),a.head.appendChild(E),c.instance=E);case"void":return null;default:throw Error(i(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(v=c.instance,c.state.loading|=4,Kx(v,p.precedence,a));return c.instance}function Kx(a,c,p){for(var v=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),E=v.length?v[v.length-1]:null,A=E,U=0;U<v.length;U++){var X=v[U];if(X.dataset.precedence===c)A=X;else if(A!==E)break}A?A.parentNode.insertBefore(a,A.nextSibling):(c=p.nodeType===9?p.head:p,c.insertBefore(a,c.firstChild))}function $E(a,c){a.crossOrigin==null&&(a.crossOrigin=c.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=c.referrerPolicy),a.title==null&&(a.title=c.title)}function ZE(a,c){a.crossOrigin==null&&(a.crossOrigin=c.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=c.referrerPolicy),a.integrity==null&&(a.integrity=c.integrity)}var $x=null;function E2(a,c,p){if($x===null){var v=new Map,E=$x=new Map;E.set(p,v)}else E=$x,v=E.get(p),v||(v=new Map,E.set(p,v));if(v.has(a))return v;for(v.set(a,null),p=p.getElementsByTagName(a),E=0;E<p.length;E++){var A=p[E];if(!(A[cs]||A[Mi]||a==="link"&&A.getAttribute("rel")==="stylesheet")&&A.namespaceURI!=="http://www.w3.org/2000/svg"){var U=A.getAttribute(c)||"";U=a+U;var X=v.get(U);X?X.push(A):v.set(U,[A])}}return v}function T2(a,c,p){a=a.ownerDocument||a,a.head.insertBefore(p,c==="title"?a.querySelector("head > title"):null)}function nF(a,c,p){if(p===1||c.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return a=c.disabled,typeof c.precedence=="string"&&a==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function M2(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}var cv=null;function iF(){}function rF(a,c,p){if(cv===null)throw Error(i(475));var v=cv;if(c.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var E=yp(p.href),A=a.querySelector(ov(E));if(A){a=A._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(v.count++,v=Zx.bind(v),a.then(v,v)),c.state.loading|=4,c.instance=A,Ci(A);return}A=a.ownerDocument||a,p=S2(p),(E=Ka.get(E))&&$E(p,E),A=A.createElement("link"),Ci(A);var U=A;U._p=new Promise(function(X,re){U.onload=X,U.onerror=re}),Ir(A,"link",p),c.instance=A}v.stylesheets===null&&(v.stylesheets=new Map),v.stylesheets.set(c,a),(a=c.state.preload)&&(c.state.loading&3)===0&&(v.count++,c=Zx.bind(v),a.addEventListener("load",c),a.addEventListener("error",c))}}function sF(){if(cv===null)throw Error(i(475));var a=cv;return a.stylesheets&&a.count===0&&QE(a,a.stylesheets),0<a.count?function(c){var p=setTimeout(function(){if(a.stylesheets&&QE(a,a.stylesheets),a.unsuspend){var v=a.unsuspend;a.unsuspend=null,v()}},6e4);return a.unsuspend=c,function(){a.unsuspend=null,clearTimeout(p)}}:null}function Zx(){if(this.count--,this.count===0){if(this.stylesheets)QE(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Qx=null;function QE(a,c){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Qx=new Map,c.forEach(aF,a),Qx=null,Zx.call(a))}function aF(a,c){if(!(c.state.loading&4)){var p=Qx.get(a);if(p)var v=p.get(null);else{p=new Map,Qx.set(a,p);for(var E=a.querySelectorAll("link[data-precedence],style[data-precedence]"),A=0;A<E.length;A++){var U=E[A];(U.nodeName==="LINK"||U.getAttribute("media")!=="not all")&&(p.set(U.dataset.precedence,U),v=U)}v&&p.set(null,v)}E=c.instance,U=E.getAttribute("data-precedence"),A=p.get(U)||v,A===v&&p.set(null,E),p.set(U,E),this.count++,v=Zx.bind(this),E.addEventListener("load",v),E.addEventListener("error",v),A?A.parentNode.insertBefore(E,A.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(E,a.firstChild)),c.state.loading|=4}}var uv={$$typeof:R,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function oF(a,c,p,v,E,A,U,X){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=nt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nt(0),this.hiddenUpdates=nt(null),this.identifierPrefix=v,this.onUncaughtError=E,this.onCaughtError=A,this.onRecoverableError=U,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=X,this.incompleteTransitions=new Map}function C2(a,c,p,v,E,A,U,X,re,Se,ze,He){return a=new oF(a,c,p,U,X,re,Se,He),c=1,A===!0&&(c|=24),A=jr(3,null,null,c),a.current=A,A.stateNode=a,c=Bh(),c.refCount++,a.pooledCache=c,c.refCount++,A.memoizedState={element:v,isDehydrated:p,cache:c},Ig(A),a}function w2(a){return a?(a=ll,a):ll}function A2(a,c,p,v,E,A){E=w2(E),v.context===null?v.context=E:v.pendingContext=E,v=za(c),v.payload={element:p},A=A===void 0?null:A,A!==null&&(v.callback=A),p=To(a,v,c),p!==null&&(Pr(p,a,c),dc(p,a,c))}function R2(a,c){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var p=a.retryLane;a.retryLane=p!==0&&p<c?p:c}}function JE(a,c){R2(a,c),(a=a.alternate)&&R2(a,c)}function O2(a){if(a.tag===13){var c=xo(a,67108864);c!==null&&Pr(c,a,67108864),JE(a,67108864)}}var Jx=!0;function lF(a,c,p,v){var E=k.T;k.T=null;var A=q.p;try{q.p=2,eT(a,c,p,v)}finally{q.p=A,k.T=E}}function cF(a,c,p,v){var E=k.T;k.T=null;var A=q.p;try{q.p=8,eT(a,c,p,v)}finally{q.p=A,k.T=E}}function eT(a,c,p,v){if(Jx){var E=tT(v);if(E===null)FE(a,c,v,eb,p),D2(a,v);else if(dF(E,a,c,p,v))v.stopPropagation();else if(D2(a,v),c&4&&-1<uF.indexOf(a)){for(;E!==null;){var A=Na(E);if(A!==null)switch(A.tag){case 3:if(A=A.stateNode,A.current.memoizedState.isDehydrated){var U=Et(A.pendingLanes);if(U!==0){var X=A;for(X.pendingLanes|=2,X.entangledLanes|=2;U;){var re=1<<31-lt(U);X.entanglements[1]|=re,U&=~re}Dl(A),(Rn&6)===0&&(vr=Ne()+500,iv(0))}}break;case 13:X=xo(A,2),X!==null&&Pr(X,A,2),qa(),JE(A,2)}if(A=tT(v),A===null&&FE(a,c,v,eb,p),A===E)break;E=A}E!==null&&v.stopPropagation()}else FE(a,c,v,null,p)}}function tT(a){return a=Sh(a),nT(a)}var eb=null;function nT(a){if(eb=null,a=la(a),a!==null){var c=s(a);if(c===null)a=null;else{var p=c.tag;if(p===13){if(a=o(c),a!==null)return a;a=null}else if(p===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;a=null}else c!==a&&(a=null)}}return eb=a,null}function N2(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(it()){case je:return 2;case Ke:return 8;case Tt:case Pt:return 32;case Q:return 268435456;default:return 32}default:return 32}}var iT=!1,ju=null,Xu=null,qu=null,dv=new Map,fv=new Map,Yu=[],uF="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function D2(a,c){switch(a){case"focusin":case"focusout":ju=null;break;case"dragenter":case"dragleave":Xu=null;break;case"mouseover":case"mouseout":qu=null;break;case"pointerover":case"pointerout":dv.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":fv.delete(c.pointerId)}}function hv(a,c,p,v,E,A){return a===null||a.nativeEvent!==A?(a={blockedOn:c,domEventName:p,eventSystemFlags:v,nativeEvent:A,targetContainers:[E]},c!==null&&(c=Na(c),c!==null&&O2(c)),a):(a.eventSystemFlags|=v,c=a.targetContainers,E!==null&&c.indexOf(E)===-1&&c.push(E),a)}function dF(a,c,p,v,E){switch(c){case"focusin":return ju=hv(ju,a,c,p,v,E),!0;case"dragenter":return Xu=hv(Xu,a,c,p,v,E),!0;case"mouseover":return qu=hv(qu,a,c,p,v,E),!0;case"pointerover":var A=E.pointerId;return dv.set(A,hv(dv.get(A)||null,a,c,p,v,E)),!0;case"gotpointercapture":return A=E.pointerId,fv.set(A,hv(fv.get(A)||null,a,c,p,v,E)),!0}return!1}function P2(a){var c=la(a.target);if(c!==null){var p=s(c);if(p!==null){if(c=p.tag,c===13){if(c=o(p),c!==null){a.blockedOn=c,Ps(a.priority,function(){if(p.tag===13){var v=hi();v=It(v);var E=xo(p,v);E!==null&&Pr(E,p,v),JE(p,v)}});return}}else if(c===3&&p.stateNode.current.memoizedState.isDehydrated){a.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}a.blockedOn=null}function tb(a){if(a.blockedOn!==null)return!1;for(var c=a.targetContainers;0<c.length;){var p=tT(a.nativeEvent);if(p===null){p=a.nativeEvent;var v=new p.constructor(p.type,p);bh=v,p.target.dispatchEvent(v),bh=null}else return c=Na(p),c!==null&&O2(c),a.blockedOn=p,!1;c.shift()}return!0}function I2(a,c,p){tb(a)&&p.delete(c)}function fF(){iT=!1,ju!==null&&tb(ju)&&(ju=null),Xu!==null&&tb(Xu)&&(Xu=null),qu!==null&&tb(qu)&&(qu=null),dv.forEach(I2),fv.forEach(I2)}function nb(a,c){a.blockedOn===c&&(a.blockedOn=null,iT||(iT=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,fF)))}var ib=null;function L2(a){ib!==a&&(ib=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){ib===a&&(ib=null);for(var c=0;c<a.length;c+=3){var p=a[c],v=a[c+1],E=a[c+2];if(typeof v!="function"){if(nT(v||p)===null)continue;break}var A=Na(p);A!==null&&(a.splice(c,3),c-=3,$g(A,{pending:!0,data:E,method:p.method,action:v},v,E))}}))}function pv(a){function c(re){return nb(re,a)}ju!==null&&nb(ju,a),Xu!==null&&nb(Xu,a),qu!==null&&nb(qu,a),dv.forEach(c),fv.forEach(c);for(var p=0;p<Yu.length;p++){var v=Yu[p];v.blockedOn===a&&(v.blockedOn=null)}for(;0<Yu.length&&(p=Yu[0],p.blockedOn===null);)P2(p),p.blockedOn===null&&Yu.shift();if(p=(a.ownerDocument||a).$$reactFormReplay,p!=null)for(v=0;v<p.length;v+=3){var E=p[v],A=p[v+1],U=E[ri]||null;if(typeof A=="function")U||L2(p);else if(U){var X=null;if(A&&A.hasAttribute("formAction")){if(E=A,U=A[ri]||null)X=U.formAction;else if(nT(E)!==null)continue}else X=U.action;typeof X=="function"?p[v+1]=X:(p.splice(v,3),v-=3),L2(p)}}}function rT(a){this._internalRoot=a}rb.prototype.render=rT.prototype.render=function(a){var c=this._internalRoot;if(c===null)throw Error(i(409));var p=c.current,v=hi();A2(p,v,a,c,null,null)},rb.prototype.unmount=rT.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var c=a.containerInfo;A2(a.current,2,null,a,null,null),qa(),c[Is]=null}};function rb(a){this._internalRoot=a}rb.prototype.unstable_scheduleHydration=function(a){if(a){var c=fn();a={blockedOn:null,target:a,priority:c};for(var p=0;p<Yu.length&&c!==0&&c<Yu[p].priority;p++);Yu.splice(p,0,a),p===0&&P2(a)}};var z2=e.version;if(z2!=="19.1.1")throw Error(i(527,z2,"19.1.1"));q.findDOMNode=function(a){var c=a._reactInternals;if(c===void 0)throw typeof a.render=="function"?Error(i(188)):(a=Object.keys(a).join(","),Error(i(268,a)));return a=d(c),a=a!==null?h(a):null,a=a===null?null:a.stateNode,a};var hF={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:k,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sb=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sb.isDisabled&&sb.supportsFiber)try{Re=sb.inject(hF),ke=sb}catch{}}return gv.createRoot=function(a,c){if(!r(a))throw Error(i(299));var p=!1,v="",E=uf,A=ip,U=kx,X=null;return c!=null&&(c.unstable_strictMode===!0&&(p=!0),c.identifierPrefix!==void 0&&(v=c.identifierPrefix),c.onUncaughtError!==void 0&&(E=c.onUncaughtError),c.onCaughtError!==void 0&&(A=c.onCaughtError),c.onRecoverableError!==void 0&&(U=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(X=c.unstable_transitionCallbacks)),c=C2(a,1,!1,null,null,p,v,E,A,U,X,null),a[Is]=c.current,BE(a),new rT(c)},gv.hydrateRoot=function(a,c,p){if(!r(a))throw Error(i(299));var v=!1,E="",A=uf,U=ip,X=kx,re=null,Se=null;return p!=null&&(p.unstable_strictMode===!0&&(v=!0),p.identifierPrefix!==void 0&&(E=p.identifierPrefix),p.onUncaughtError!==void 0&&(A=p.onUncaughtError),p.onCaughtError!==void 0&&(U=p.onCaughtError),p.onRecoverableError!==void 0&&(X=p.onRecoverableError),p.unstable_transitionCallbacks!==void 0&&(re=p.unstable_transitionCallbacks),p.formState!==void 0&&(Se=p.formState)),c=C2(a,1,!0,c,p??null,v,E,A,U,X,re,Se),c.context=w2(null),p=c.current,v=hi(),v=It(v),E=za(v),E.callback=null,To(p,E,v),p=v,c.current.lanes=p,ht(c,p),Dl(c),a[Is]=c.current,BE(a),new rb(c)},gv.version="19.1.1",gv}var q2;function EF(){if(q2)return oT.exports;q2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),oT.exports=_F(),oT.exports}var TF=EF();function II(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var MF=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|popover|popoverTarget|popoverTargetAction|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,CF=II(function(t){return MF.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91});function wF(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function AF(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var RF=(function(){function t(n){var i=this;this._insertTag=function(r){var s;i.tags.length===0?i.insertionPoint?s=i.insertionPoint.nextSibling:i.prepend?s=i.container.firstChild:s=i.before:s=i.tags[i.tags.length-1].nextSibling,i.container.insertBefore(r,s),i.tags.push(r)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(i){i.forEach(this._insertTag)},e.insert=function(i){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(AF(this));var r=this.tags[this.tags.length-1];if(this.isSpeedy){var s=wF(r);try{s.insertRule(i,s.cssRules.length)}catch{}}else r.appendChild(document.createTextNode(i));this.ctr++},e.flush=function(){this.tags.forEach(function(i){var r;return(r=i.parentNode)==null?void 0:r.removeChild(i)}),this.tags=[],this.ctr=0},t})(),Jr="-ms-",XS="-moz-",In="-webkit-",LI="comm",Rw="rule",Ow="decl",OF="@import",zI="@keyframes",NF="@layer",DF=Math.abs,c1=String.fromCharCode,PF=Object.assign;function IF(t,e){return Ur(t,0)^45?(((e<<2^Ur(t,0))<<2^Ur(t,1))<<2^Ur(t,2))<<2^Ur(t,3):0}function UI(t){return t.trim()}function LF(t,e){return(t=e.exec(t))?t[0]:t}function Ln(t,e,n){return t.replace(e,n)}function dC(t,e){return t.indexOf(e)}function Ur(t,e){return t.charCodeAt(e)|0}function yy(t,e,n){return t.slice(e,n)}function zl(t){return t.length}function Nw(t){return t.length}function ab(t,e){return e.push(t),t}function zF(t,e){return t.map(e).join("")}var u1=1,_m=1,VI=0,sa=0,Yi=0,km="";function d1(t,e,n,i,r,s,o){return{value:t,root:e,parent:n,type:i,props:r,children:s,line:u1,column:_m,length:o,return:""}}function vv(t,e){return PF(d1("",null,null,"",null,null,0),t,{length:-t.length},e)}function UF(){return Yi}function VF(){return Yi=sa>0?Ur(km,--sa):0,_m--,Yi===10&&(_m=1,u1--),Yi}function wa(){return Yi=sa<VI?Ur(km,sa++):0,_m++,Yi===10&&(_m=1,u1++),Yi}function Wl(){return Ur(km,sa)}function bS(){return sa}function n0(t,e){return yy(km,t,e)}function xy(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function kI(t){return u1=_m=1,VI=zl(km=t),sa=0,[]}function BI(t){return km="",t}function SS(t){return UI(n0(sa-1,fC(t===91?t+2:t===40?t+1:t)))}function kF(t){for(;(Yi=Wl())&&Yi<33;)wa();return xy(t)>2||xy(Yi)>3?"":" "}function BF(t,e){for(;--e&&wa()&&!(Yi<48||Yi>102||Yi>57&&Yi<65||Yi>70&&Yi<97););return n0(t,bS()+(e<6&&Wl()==32&&wa()==32))}function fC(t){for(;wa();)switch(Yi){case t:return sa;case 34:case 39:t!==34&&t!==39&&fC(Yi);break;case 40:t===41&&fC(t);break;case 92:wa();break}return sa}function FF(t,e){for(;wa()&&t+Yi!==57;)if(t+Yi===84&&Wl()===47)break;return"/*"+n0(e,sa-1)+"*"+c1(t===47?t:wa())}function HF(t){for(;!xy(Wl());)wa();return n0(t,sa)}function GF(t){return BI(_S("",null,null,null,[""],t=kI(t),0,[0],t))}function _S(t,e,n,i,r,s,o,l,d){for(var h=0,m=0,g=o,y=0,b=0,S=0,C=1,T=1,_=1,w=0,R="",N=r,D=s,I=i,V=R;T;)switch(S=w,w=wa()){case 40:if(S!=108&&Ur(V,g-1)==58){dC(V+=Ln(SS(w),"&","&\f"),"&\f")!=-1&&(_=-1);break}case 34:case 39:case 91:V+=SS(w);break;case 9:case 10:case 13:case 32:V+=kF(S);break;case 92:V+=BF(bS()-1,7);continue;case 47:switch(Wl()){case 42:case 47:ab(WF(FF(wa(),bS()),e,n),d);break;default:V+="/"}break;case 123*C:l[h++]=zl(V)*_;case 125*C:case 59:case 0:switch(w){case 0:case 125:T=0;case 59+m:_==-1&&(V=Ln(V,/\f/g,"")),b>0&&zl(V)-g&&ab(b>32?K2(V+";",i,n,g-1):K2(Ln(V," ","")+";",i,n,g-2),d);break;case 59:V+=";";default:if(ab(I=Y2(V,e,n,h,m,r,l,R,N=[],D=[],g),s),w===123)if(m===0)_S(V,e,I,I,N,s,g,l,D);else switch(y===99&&Ur(V,3)===110?100:y){case 100:case 108:case 109:case 115:_S(t,I,I,i&&ab(Y2(t,I,I,0,0,r,l,R,r,N=[],g),D),r,D,g,l,i?N:D);break;default:_S(V,I,I,I,[""],D,0,l,D)}}h=m=b=0,C=_=1,R=V="",g=o;break;case 58:g=1+zl(V),b=S;default:if(C<1){if(w==123)--C;else if(w==125&&C++==0&&VF()==125)continue}switch(V+=c1(w),w*C){case 38:_=m>0?1:(V+="\f",-1);break;case 44:l[h++]=(zl(V)-1)*_,_=1;break;case 64:Wl()===45&&(V+=SS(wa())),y=Wl(),m=g=zl(R=V+=HF(bS())),w++;break;case 45:S===45&&zl(V)==2&&(C=0)}}return s}function Y2(t,e,n,i,r,s,o,l,d,h,m){for(var g=r-1,y=r===0?s:[""],b=Nw(y),S=0,C=0,T=0;S<i;++S)for(var _=0,w=yy(t,g+1,g=DF(C=o[S])),R=t;_<b;++_)(R=UI(C>0?y[_]+" "+w:Ln(w,/&\f/g,y[_])))&&(d[T++]=R);return d1(t,e,n,r===0?Rw:l,d,h,m)}function WF(t,e,n){return d1(t,e,n,LI,c1(UF()),yy(t,2,-2),0)}function K2(t,e,n,i){return d1(t,e,n,Ow,yy(t,0,i),yy(t,i+1,-1),i)}function vm(t,e){for(var n="",i=Nw(t),r=0;r<i;r++)n+=e(t[r],r,t,e)||"";return n}function jF(t,e,n,i){switch(t.type){case NF:if(t.children.length)break;case OF:case Ow:return t.return=t.return||t.value;case LI:return"";case zI:return t.return=t.value+"{"+vm(t.children,i)+"}";case Rw:t.value=t.props.join(",")}return zl(n=vm(t.children,i))?t.return=t.value+"{"+n+"}":""}function XF(t){var e=Nw(t);return function(n,i,r,s){for(var o="",l=0;l<e;l++)o+=t[l](n,i,r,s)||"";return o}}function qF(t){return function(e){e.root||(e=e.return)&&t(e)}}var YF=function(e,n,i){for(var r=0,s=0;r=s,s=Wl(),r===38&&s===12&&(n[i]=1),!xy(s);)wa();return n0(e,sa)},KF=function(e,n){var i=-1,r=44;do switch(xy(r)){case 0:r===38&&Wl()===12&&(n[i]=1),e[i]+=YF(sa-1,n,i);break;case 2:e[i]+=SS(r);break;case 4:if(r===44){e[++i]=Wl()===58?"&\f":"",n[i]=e[i].length;break}default:e[i]+=c1(r)}while(r=wa());return e},$F=function(e,n){return BI(KF(kI(e),n))},$2=new WeakMap,ZF=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,i=e.parent,r=e.column===i.column&&e.line===i.line;i.type!=="rule";)if(i=i.parent,!i)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!$2.get(i))&&!r){$2.set(e,!0);for(var s=[],o=$F(n,s),l=i.props,d=0,h=0;d<o.length;d++)for(var m=0;m<l.length;m++,h++)e.props[h]=s[d]?o[d].replace(/&\f/g,l[m]):l[m]+" "+o[d]}}},QF=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function FI(t,e){switch(IF(t,e)){case 5103:return In+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return In+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return In+t+XS+t+Jr+t+t;case 6828:case 4268:return In+t+Jr+t+t;case 6165:return In+t+Jr+"flex-"+t+t;case 5187:return In+t+Ln(t,/(\w+).+(:[^]+)/,In+"box-$1$2"+Jr+"flex-$1$2")+t;case 5443:return In+t+Jr+"flex-item-"+Ln(t,/flex-|-self/,"")+t;case 4675:return In+t+Jr+"flex-line-pack"+Ln(t,/align-content|flex-|-self/,"")+t;case 5548:return In+t+Jr+Ln(t,"shrink","negative")+t;case 5292:return In+t+Jr+Ln(t,"basis","preferred-size")+t;case 6060:return In+"box-"+Ln(t,"-grow","")+In+t+Jr+Ln(t,"grow","positive")+t;case 4554:return In+Ln(t,/([^-])(transform)/g,"$1"+In+"$2")+t;case 6187:return Ln(Ln(Ln(t,/(zoom-|grab)/,In+"$1"),/(image-set)/,In+"$1"),t,"")+t;case 5495:case 3959:return Ln(t,/(image-set\([^]*)/,In+"$1$`$1");case 4968:return Ln(Ln(t,/(.+:)(flex-)?(.*)/,In+"box-pack:$3"+Jr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+In+t+t;case 4095:case 3583:case 4068:case 2532:return Ln(t,/(.+)-inline(.+)/,In+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(zl(t)-1-e>6)switch(Ur(t,e+1)){case 109:if(Ur(t,e+4)!==45)break;case 102:return Ln(t,/(.+:)(.+)-([^]+)/,"$1"+In+"$2-$3$1"+XS+(Ur(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~dC(t,"stretch")?FI(Ln(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Ur(t,e+1)!==115)break;case 6444:switch(Ur(t,zl(t)-3-(~dC(t,"!important")&&10))){case 107:return Ln(t,":",":"+In)+t;case 101:return Ln(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+In+(Ur(t,14)===45?"inline-":"")+"box$3$1"+In+"$2$3$1"+Jr+"$2box$3")+t}break;case 5936:switch(Ur(t,e+11)){case 114:return In+t+Jr+Ln(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return In+t+Jr+Ln(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return In+t+Jr+Ln(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return In+t+Jr+t+t}return t}var JF=function(e,n,i,r){if(e.length>-1&&!e.return)switch(e.type){case Ow:e.return=FI(e.value,e.length);break;case zI:return vm([vv(e,{value:Ln(e.value,"@","@"+In)})],r);case Rw:if(e.length)return zF(e.props,function(s){switch(LF(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return vm([vv(e,{props:[Ln(s,/:(read-\w+)/,":"+XS+"$1")]})],r);case"::placeholder":return vm([vv(e,{props:[Ln(s,/:(plac\w+)/,":"+In+"input-$1")]}),vv(e,{props:[Ln(s,/:(plac\w+)/,":"+XS+"$1")]}),vv(e,{props:[Ln(s,/:(plac\w+)/,Jr+"input-$1")]})],r)}return""})}},eH=[JF],tH=function(e){var n=e.key;if(n==="css"){var i=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(i,function(C){var T=C.getAttribute("data-emotion");T.indexOf(" ")!==-1&&(document.head.appendChild(C),C.setAttribute("data-s",""))})}var r=e.stylisPlugins||eH,s={},o,l=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(C){for(var T=C.getAttribute("data-emotion").split(" "),_=1;_<T.length;_++)s[T[_]]=!0;l.push(C)});var d,h=[ZF,QF];{var m,g=[jF,qF(function(C){m.insert(C)})],y=XF(h.concat(r,g)),b=function(T){return vm(GF(T),y)};d=function(T,_,w,R){m=w,b(T?T+"{"+_.styles+"}":_.styles),R&&(S.inserted[_.name]=!0)}}var S={key:n,sheet:new RF({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:d};return S.sheet.hydrate(l),S},dT={exports:{}},Vn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z2;function nH(){if(Z2)return Vn;Z2=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,i=t?Symbol.for("react.fragment"):60107,r=t?Symbol.for("react.strict_mode"):60108,s=t?Symbol.for("react.profiler"):60114,o=t?Symbol.for("react.provider"):60109,l=t?Symbol.for("react.context"):60110,d=t?Symbol.for("react.async_mode"):60111,h=t?Symbol.for("react.concurrent_mode"):60111,m=t?Symbol.for("react.forward_ref"):60112,g=t?Symbol.for("react.suspense"):60113,y=t?Symbol.for("react.suspense_list"):60120,b=t?Symbol.for("react.memo"):60115,S=t?Symbol.for("react.lazy"):60116,C=t?Symbol.for("react.block"):60121,T=t?Symbol.for("react.fundamental"):60117,_=t?Symbol.for("react.responder"):60118,w=t?Symbol.for("react.scope"):60119;function R(D){if(typeof D=="object"&&D!==null){var I=D.$$typeof;switch(I){case e:switch(D=D.type,D){case d:case h:case i:case s:case r:case g:return D;default:switch(D=D&&D.$$typeof,D){case l:case m:case S:case b:case o:return D;default:return I}}case n:return I}}}function N(D){return R(D)===h}return Vn.AsyncMode=d,Vn.ConcurrentMode=h,Vn.ContextConsumer=l,Vn.ContextProvider=o,Vn.Element=e,Vn.ForwardRef=m,Vn.Fragment=i,Vn.Lazy=S,Vn.Memo=b,Vn.Portal=n,Vn.Profiler=s,Vn.StrictMode=r,Vn.Suspense=g,Vn.isAsyncMode=function(D){return N(D)||R(D)===d},Vn.isConcurrentMode=N,Vn.isContextConsumer=function(D){return R(D)===l},Vn.isContextProvider=function(D){return R(D)===o},Vn.isElement=function(D){return typeof D=="object"&&D!==null&&D.$$typeof===e},Vn.isForwardRef=function(D){return R(D)===m},Vn.isFragment=function(D){return R(D)===i},Vn.isLazy=function(D){return R(D)===S},Vn.isMemo=function(D){return R(D)===b},Vn.isPortal=function(D){return R(D)===n},Vn.isProfiler=function(D){return R(D)===s},Vn.isStrictMode=function(D){return R(D)===r},Vn.isSuspense=function(D){return R(D)===g},Vn.isValidElementType=function(D){return typeof D=="string"||typeof D=="function"||D===i||D===h||D===s||D===r||D===g||D===y||typeof D=="object"&&D!==null&&(D.$$typeof===S||D.$$typeof===b||D.$$typeof===o||D.$$typeof===l||D.$$typeof===m||D.$$typeof===T||D.$$typeof===_||D.$$typeof===w||D.$$typeof===C)},Vn.typeOf=R,Vn}var Q2;function iH(){return Q2||(Q2=1,dT.exports=nH()),dT.exports}var fT,J2;function rH(){if(J2)return fT;J2=1;var t=iH(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},r={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};s[t.ForwardRef]=i,s[t.Memo]=r;function o(S){return t.isMemo(S)?r:s[S.$$typeof]||e}var l=Object.defineProperty,d=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,m=Object.getOwnPropertyDescriptor,g=Object.getPrototypeOf,y=Object.prototype;function b(S,C,T){if(typeof C!="string"){if(y){var _=g(C);_&&_!==y&&b(S,_,T)}var w=d(C);h&&(w=w.concat(h(C)));for(var R=o(S),N=o(C),D=0;D<w.length;++D){var I=w[D];if(!n[I]&&!(T&&T[I])&&!(N&&N[I])&&!(R&&R[I])){var V=m(C,I);try{l(S,I,V)}catch{}}}}return S}return fT=b,fT}rH();var sH=!0;function HI(t,e,n){var i="";return n.split(" ").forEach(function(r){t[r]!==void 0?e.push(t[r]+";"):r&&(i+=r+" ")}),i}var Dw=function(e,n,i){var r=e.key+"-"+n.name;(i===!1||sH===!1)&&e.registered[r]===void 0&&(e.registered[r]=n.styles)},Pw=function(e,n,i){Dw(e,n,i);var r=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+r:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function aH(t){for(var e=0,n,i=0,r=t.length;r>=4;++i,r-=4)n=t.charCodeAt(i)&255|(t.charCodeAt(++i)&255)<<8|(t.charCodeAt(++i)&255)<<16|(t.charCodeAt(++i)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(r){case 3:e^=(t.charCodeAt(i+2)&255)<<16;case 2:e^=(t.charCodeAt(i+1)&255)<<8;case 1:e^=t.charCodeAt(i)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var oH={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},lH=/[A-Z]|^ms/g,cH=/_EMO_([^_]+?)_([^]*?)_EMO_/g,GI=function(e){return e.charCodeAt(1)===45},eO=function(e){return e!=null&&typeof e!="boolean"},hT=II(function(t){return GI(t)?t:t.replace(lH,"-$&").toLowerCase()}),tO=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(cH,function(i,r,s){return Ul={name:r,styles:s,next:Ul},r})}return oH[e]!==1&&!GI(e)&&typeof n=="number"&&n!==0?n+"px":n};function by(t,e,n){if(n==null)return"";var i=n;if(i.__emotion_styles!==void 0)return i;switch(typeof n){case"boolean":return"";case"object":{var r=n;if(r.anim===1)return Ul={name:r.name,styles:r.styles,next:Ul},r.name;var s=n;if(s.styles!==void 0){var o=s.next;if(o!==void 0)for(;o!==void 0;)Ul={name:o.name,styles:o.styles,next:Ul},o=o.next;var l=s.styles+";";return l}return uH(t,e,n)}case"function":{if(t!==void 0){var d=Ul,h=n(t);return Ul=d,by(t,e,h)}break}}var m=n;if(e==null)return m;var g=e[m];return g!==void 0?g:m}function uH(t,e,n){var i="";if(Array.isArray(n))for(var r=0;r<n.length;r++)i+=by(t,e,n[r])+";";else for(var s in n){var o=n[s];if(typeof o!="object"){var l=o;e!=null&&e[l]!==void 0?i+=s+"{"+e[l]+"}":eO(l)&&(i+=hT(s)+":"+tO(s,l)+";")}else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var d=0;d<o.length;d++)eO(o[d])&&(i+=hT(s)+":"+tO(s,o[d])+";");else{var h=by(t,e,o);switch(s){case"animation":case"animationName":{i+=hT(s)+":"+h+";";break}default:i+=s+"{"+h+"}"}}}return i}var nO=/label:\s*([^\s;{]+)\s*(;|$)/g,Ul;function Iw(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var i=!0,r="";Ul=void 0;var s=t[0];if(s==null||s.raw===void 0)i=!1,r+=by(n,e,s);else{var o=s;r+=o[0]}for(var l=1;l<t.length;l++)if(r+=by(n,e,t[l]),i){var d=s;r+=d[l]}nO.lastIndex=0;for(var h="",m;(m=nO.exec(r))!==null;)h+="-"+m[1];var g=aH(r)+h;return{name:g,styles:r,next:Ul}}var dH=function(e){return e()},WI=F2.useInsertionEffect?F2.useInsertionEffect:!1,jI=WI||dH,iO=WI||H.useLayoutEffect,XI=H.createContext(typeof HTMLElement<"u"?tH({key:"css"}):null);XI.Provider;var Lw=function(e){return H.forwardRef(function(n,i){var r=H.useContext(XI);return e(n,r,i)})},zw=H.createContext({}),Uw={}.hasOwnProperty,hC="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",fH=function(e,n){var i={};for(var r in n)Uw.call(n,r)&&(i[r]=n[r]);return i[hC]=e,i},hH=function(e){var n=e.cache,i=e.serialized,r=e.isStringTag;return Dw(n,i,r),jI(function(){return Pw(n,i,r)}),null},pH=Lw(function(t,e,n){var i=t.css;typeof i=="string"&&e.registered[i]!==void 0&&(i=e.registered[i]);var r=t[hC],s=[i],o="";typeof t.className=="string"?o=HI(e.registered,s,t.className):t.className!=null&&(o=t.className+" ");var l=Iw(s,void 0,H.useContext(zw));o+=e.key+"-"+l.name;var d={};for(var h in t)Uw.call(t,h)&&h!=="css"&&h!==hC&&(d[h]=t[h]);return d.className=o,n&&(d.ref=n),H.createElement(H.Fragment,null,H.createElement(hH,{cache:e,serialized:l,isStringTag:typeof r=="string"}),H.createElement(r,d))}),mH=pH,rO=function(e,n){var i=arguments;if(n==null||!Uw.call(n,"css"))return H.createElement.apply(void 0,i);var r=i.length,s=new Array(r);s[0]=mH,s[1]=fH(e,n);for(var o=2;o<r;o++)s[o]=i[o];return H.createElement.apply(null,s)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(rO||(rO={}));var sO=Lw(function(t,e){var n=t.styles,i=Iw([n],void 0,H.useContext(zw)),r=H.useRef();return iO(function(){var s=e.key+"-global",o=new e.sheet.constructor({key:s,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),l=!1,d=document.querySelector('style[data-emotion="'+s+" "+i.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),d!==null&&(l=!0,d.setAttribute("data-emotion",s),o.hydrate([d])),r.current=[o,l],function(){o.flush()}},[e]),iO(function(){var s=r.current,o=s[0],l=s[1];if(l){s[1]=!1;return}if(i.next!==void 0&&Pw(e,i.next,!0),o.tags.length){var d=o.tags[o.tags.length-1].nextElementSibling;o.before=d,o.flush()}e.insert("",i,o,!1)},[e,i.name]),null});function gH(...t){return function(...n){t.forEach(i=>i?.(...n))}}const vH=(...t)=>t.map(e=>e?.trim?.()).filter(Boolean).join(" "),yH=/^on[A-Z]/;function Sy(...t){let e={};for(let n of t){for(let i in e){if(yH.test(i)&&typeof e[i]=="function"&&typeof n[i]=="function"){e[i]=gH(e[i],n[i]);continue}if(i==="className"||i==="class"){e[i]=vH(e[i],n[i]);continue}if(i==="style"){e[i]=Object.assign({},e[i]??{},n[i]??{});continue}e[i]=n[i]!==void 0?n[i]:e[i]}for(let i in n)e[i]===void 0&&(e[i]=n[i])}return e}function xH(t,e){if(t!=null){if(typeof t=="function"){t(e);return}try{t.current=e}catch{throw new Error(`Cannot assign value '${e}' to ref '${t}'`)}}}function bH(...t){return e=>{t.forEach(n=>{xH(n,e)})}}function i0(t){const e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}const so=(...t)=>t.filter(Boolean).map(e=>e.trim()).join(" ");function SH(t){return t.default||t}const Qs=t=>t!=null&&typeof t=="object"&&!Array.isArray(t),Kl=t=>typeof t=="string",Vw=t=>typeof t=="function";function _H(t){const e=H.version;return!Kl(e)||e.startsWith("18.")?t?.ref:t?.props?.ref}const qI=(...t)=>{const e=t.reduce((n,i)=>(i?.forEach(r=>n.add(r)),n),new Set([]));return Array.from(e)};function EH(t,e){return`${t} returned \`undefined\`. Seems you forgot to wrap component within ${e}`}function Kv(t={}){const{name:e,strict:n=!0,hookName:i="useContext",providerName:r="Provider",errorMessage:s,defaultValue:o}=t,l=H.createContext(o);l.displayName=e;function d(){const h=H.useContext(l);if(!h&&n){const m=new Error(s??EH(i,r));throw m.name="ContextError",Error.captureStackTrace?.(m,d),m}return h}return[l.Provider,d,l]}const[TH,f1]=Kv({name:"ChakraContext",strict:!0,providerName:"<ChakraProvider />"});function MH(t){const{value:e,children:n}=t;return pe.jsxs(TH,{value:e,children:[!e._config.disableLayers&&pe.jsx(sO,{styles:e.layers.atRule}),pe.jsx(sO,{styles:e._global}),n]})}const CH=(t,e)=>{const n={},i={},r=Object.keys(t);for(const s of r)e(s)?i[s]=t[s]:n[s]=t[s];return[i,n]},ym=(t,e)=>{const n=Vw(e)?e:i=>e.includes(i);return CH(t,n)},wH=new Set(["htmlWidth","htmlHeight","htmlSize","htmlTranslate"]);function AH(t){return typeof t=="string"&&wH.has(t)}function RH(t,e,n){const{css:i,isValidProperty:r}=f1(),{children:s,...o}=t,l=H.useMemo(()=>{const[y,b]=ym(o,w=>n(w,e.variantKeys)),[S,C]=ym(b,e.variantKeys),[T,_]=ym(C,r);return{forwardedProps:y,variantProps:S,styleProps:T,elementProps:_}},[e.variantKeys,n,o,r]),{css:d,...h}=l.styleProps,m=H.useMemo(()=>{const y={...l.variantProps};return e.variantKeys.includes("colorPalette")||(y.colorPalette=o.colorPalette),e.variantKeys.includes("orientation")||(y.orientation=o.orientation),e(y)},[e,l.variantProps,o.colorPalette,o.orientation]);return{styles:H.useMemo(()=>i(m,...OH(d),h),[i,m,d,h]),props:{...l.forwardedProps,...l.elementProps,children:s}}}const OH=t=>(Array.isArray(t)?t:[t]).filter(Boolean).flat(),NH=SH(CF),DH=NH,PH=t=>t!=="theme",IH=(t,e,n)=>{let i;if(e){const r=e.shouldForwardProp;i=t.__emotion_forwardProp&&r?s=>t.__emotion_forwardProp(s)&&r(s):r}return typeof i!="function"&&n&&(i=t.__emotion_forwardProp),i};let LH=typeof document<"u";const aO=({cache:t,serialized:e,isStringTag:n})=>{Dw(t,e,n);const i=jI(()=>Pw(t,e,n));if(!LH&&i!==void 0){let r=e.name,s=e.next;for(;s!==void 0;)r=so(r,s.name),s=s.next;return pe.jsx("style",{"data-emotion":so(t.key,r),dangerouslySetInnerHTML:{__html:i},nonce:t.sheet.nonce})}return null},oO={path:["d"],text:["x","y"],circle:["cx","cy","r"],rect:["width","height","x","y","rx","ry"],ellipse:["cx","cy","rx","ry"],g:["transform"],stop:["offset","stopOpacity"]},zH=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),UH=(t,e={},n={})=>{if(zH(oO,t)){n.forwardProps||(n.forwardProps=[]);const h=oO[t];n.forwardProps=qI([...n.forwardProps,...h])}const i=t.__emotion_real===t,r=i&&t.__emotion_base||t;let s,o;n!==void 0&&(s=n.label,o=n.target);let l=[];const d=Lw((h,m,g)=>{const{cva:y,isValidProperty:b}=f1(),S=e.__cva__?e:y(e),C=kH(t.__emotion_cva,S),T=ie=>(k,q)=>ie.includes(k)?!0:!q?.includes(k)&&!b(k);!n.shouldForwardProp&&n.forwardProps&&(n.shouldForwardProp=T(n.forwardProps));const _=(ie,k)=>{const q=typeof t=="string"&&t.charCodeAt(0)>96?DH:PH,$=!k?.includes(ie)&&!b(ie);return q(ie)&&$},w=IH(t,n,i)||_,R=H.useMemo(()=>Object.assign({},n.defaultProps,i0(h)),[h]),{props:N,styles:D}=RH(R,C,w);let I="",V=[D],B=N;if(N.theme==null){B={};for(let ie in N)B[ie]=N[ie];B.theme=H.useContext(zw)}typeof N.className=="string"?I=HI(m.registered,V,N.className):N.className!=null&&(I=so(I,N.className));const L=Iw(l.concat(V),m.registered,B);L.styles&&(I=so(I,`${m.key}-${L.name}`)),o!==void 0&&(I=so(I,o));const z=!w("as");let F=z&&N.as||r,j={};for(let ie in N)if(!(z&&ie==="as")){if(AH(ie)){const k=ie.replace("html","").toLowerCase();j[k]=N[ie];continue}w(ie)&&(j[ie]=N[ie])}let Z=I.trim();Z?j.className=Z:Reflect.deleteProperty(j,"className"),j.ref=g;const se=n.forwardAsChild||n.forwardProps?.includes("asChild");if(N.asChild&&!se){const ie=H.isValidElement(N.children)?H.Children.only(N.children):H.Children.toArray(N.children).find(H.isValidElement);if(!ie)throw new Error("[chakra-ui > factory] No valid child found");F=ie.type,j.children=null,Reflect.deleteProperty(j,"asChild"),j=Sy(j,ie.props),j.ref=bH(g,_H(ie))}return j.as&&se?(j.as=void 0,pe.jsxs(H.Fragment,{children:[pe.jsx(aO,{cache:m,serialized:L,isStringTag:typeof F=="string"}),pe.jsx(F,{asChild:!0,...j,children:pe.jsx(N.as,{children:j.children})})]})):pe.jsxs(H.Fragment,{children:[pe.jsx(aO,{cache:m,serialized:L,isStringTag:typeof F=="string"}),pe.jsx(F,{...j})]})});return d.displayName=s!==void 0?s:`chakra(${typeof r=="string"?r:r.displayName||r.name||"Component"})`,d.__emotion_real=d,d.__emotion_base=r,d.__emotion_forwardProp=n.shouldForwardProp,d.__emotion_cva=e,Object.defineProperty(d,"toString",{value(){return`.${o}`}}),d},pT=UH.bind(),mT=new Map,VH=new Proxy(pT,{apply(t,e,n){return pT(...n)},get(t,e){return mT.has(e)||mT.set(e,pT(e)),mT.get(e)}}),$l=VH,kH=(t,e)=>t&&!e?t:!t&&e?e:t.merge(e),ts=$l("div");ts.displayName="Box";const BH=H.forwardRef(function(e,n){const{size:i,...r}=e;return pe.jsx(ts,{...r,ref:n,boxSize:i,css:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,flexGrow:0,...e.css}})}),FH=H.forwardRef(function(e,n){const{size:i,...r}=e;return pe.jsx(BH,{size:i,ref:n,borderRadius:"9999px",...r})}),HH=Object.freeze({}),GH=Object.freeze({});function WH(t){const{key:e,recipe:n}=t,i=f1();return H.useMemo(()=>{const r=n||(e!=null?i.getRecipe(e):{});return i.cva(structuredClone(r))},[e,n,i])}const jH=t=>t.charAt(0).toUpperCase()+t.slice(1);function r0(t){const{key:e,recipe:n}=t,i=jH(e||n.className||"Component"),[r,s]=Kv({strict:!1,name:`${i}PropsContext`,providerName:`${i}PropsContext`});function o(h){const{unstyled:m,...g}=h,y=WH({key:e,recipe:g.recipe||n}),[b,S]=H.useMemo(()=>y.splitVariantProps(g),[y,g]);return{styles:m?HH:y(b),className:y.className,props:S}}const l=(h,m)=>{const g=$l(h,{},m),y=H.forwardRef((b,S)=>{const C=s(),T=H.useMemo(()=>Sy(C,b),[b,C]),{styles:_,className:w,props:R}=o(T);return pe.jsx(g,{...R,ref:S,css:[_,T.css],className:so(w,T.className)})});return y.displayName=h.displayName||h.name,y};function d(){return r}return{withContext:l,PropsProvider:r,withPropsProvider:d,usePropsContext:s,useRecipeResult:o}}function ES(t){return t==null?[]:Array.isArray(t)?t:[t]}var $v=t=>t[0],kw=t=>t[t.length-1],XH=(t,e)=>t.indexOf(e)!==-1,Gf=(t,...e)=>t.concat(e),Qf=(t,...e)=>t.filter(n=>!e.includes(n)),tm=t=>Array.from(new Set(t)),gT=(t,e)=>{const n=new Set(e);return t.filter(i=>!n.has(i))},Em=(t,e)=>XH(t,e)?Qf(t,e):Gf(t,e);function YI(t,e,n={}){const{step:i=1,loop:r=!0}=n,s=e+i,o=t.length,l=o-1;return e===-1?i>0?0:l:s<0?r?l:0:s>=o?r?0:e>o?o:e:s}function qH(t,e,n={}){return t[YI(t,e,n)]}function YH(t,e,n={}){const{step:i=1,loop:r=!0}=n;return YI(t,e,{step:-i,loop:r})}function KH(t,e,n={}){return t[YH(t,e,n)]}function lO(t,e){return t.reduce(([n,i],r)=>(e(r)?n.push(r):i.push(r),[n,i]),[[],[]])}var cO=t=>t?.constructor.name==="Array",$H=(t,e)=>{if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(!Go(t[n],e[n]))return!1;return!0},Go=(t,e)=>{if(Object.is(t,e))return!0;if(t==null&&e!=null||t!=null&&e==null)return!1;if(typeof t?.isEqual=="function"&&typeof e?.isEqual=="function")return t.isEqual(e);if(typeof t=="function"&&typeof e=="function")return t.toString()===e.toString();if(cO(t)&&cO(e))return $H(Array.from(t),Array.from(e));if(typeof t!="object"||typeof e!="object")return!1;const n=Object.keys(e??Object.create(null)),i=n.length;for(let r=0;r<i;r++)if(!Reflect.has(t,n[r]))return!1;for(let r=0;r<i;r++){const s=n[r];if(!Go(t[s],e[s]))return!1}return!0},Fv=t=>Array.isArray(t),ZH=t=>t===!0||t===!1,KI=t=>t!=null&&typeof t=="object",Wf=t=>KI(t)&&!Fv(t),Zv=t=>typeof t=="string",jf=t=>typeof t=="function",QH=t=>t==null,dd=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),JH=t=>Object.prototype.toString.call(t),$I=Function.prototype.toString,e6=$I.call(Object),t6=t=>{if(!KI(t)||JH(t)!="[object Object]"||r6(t))return!1;const e=Object.getPrototypeOf(t);if(e===null)return!0;const n=dd(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&$I.call(n)==e6},n6=t=>typeof t=="object"&&t!==null&&"$$typeof"in t&&"props"in t,i6=t=>typeof t=="object"&&t!==null&&"__v_isVNode"in t,r6=t=>n6(t)||i6(t),ob=(t,...e)=>(typeof t=="function"?t(...e):t)??void 0,s6=t=>t(),a6=()=>{},qS=(...t)=>(...e)=>{t.forEach(function(n){n?.(...e)})},o6=(()=>{let t=0;return()=>(t++,t.toString(36))})();function Vc(t,e,...n){if(t in e){const r=e[t];return jf(r)?r(...n):r}const i=new Error(`No matching key: ${JSON.stringify(t)} in ${JSON.stringify(Object.keys(e))}`);throw Error.captureStackTrace?.(i,Vc),i}var ZI=(t,e)=>{try{return t()}catch(n){return n instanceof Error&&Error.captureStackTrace?.(n,ZI),e?.()}},{floor:QI,abs:uO,round:h1,min:l6,max:c6,pow:u6,sign:d6}=Math,pC=t=>Number.isNaN(t),xd=t=>pC(t)?0:t,JI=(t,e)=>(t%e+e)%e,f6=(t,e)=>(t%e+e)%e,h6=(t,e)=>xd(t)>=e,p6=(t,e)=>xd(t)<=e,m6=(t,e,n)=>{const i=xd(t),r=e==null||i>=e,s=n==null||i<=n;return r&&s},g6=(t,e,n)=>h1((xd(t)-e)/n)*n+e,ea=(t,e,n)=>l6(c6(xd(t),e),n),v6=(t,e,n)=>(xd(t)-e)/(n-e),y6=(t,e,n,i)=>ea(g6(t*(n-e)+e,e,i),e,n),dO=(t,e)=>{let n=t,i=e.toString(),r=i.indexOf("."),s=r>=0?i.length-r:0;if(s>0){let o=u6(10,s);n=h1(n*o)/o}return n},vT=(t,e)=>typeof e=="number"?QI(t*e+.5)/e:h1(t),fO=(t,e,n,i)=>{const r=e!=null?Number(e):0,s=Number(n),o=(t-r)%i;let l=uO(o)*2>=i?t+d6(o)*(i-uO(o)):t-o;if(l=dO(l,i),!pC(r)&&l<r)l=r;else if(!pC(s)&&l>s){const d=QI((s-r)/i),h=r+d*i;l=d<=0||h<r?s:h}return dO(l,i)},ai=(t,e=0,n=10)=>{const i=Math.pow(n,e);return h1(t*i)/i},hO=t=>{if(!Number.isFinite(t))return 0;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n+=1;return n},eL=(t,e,n)=>{let i=e==="+"?t+n:t-n;if(t%1!==0||n%1!==0){const r=10**Math.max(hO(t),hO(n));t=Math.round(t*r),n=Math.round(n*r),i=e==="+"?t+n:t-n,i/=r}return i},x6=(t,e)=>eL(xd(t),"+",e),b6=(t,e)=>eL(xd(t),"-",e);function p1(t){if(!t6(t)||t===void 0)return t;const e=Reflect.ownKeys(t).filter(i=>typeof i=="string"),n={};for(const i of e){const r=t[i];r!==void 0&&(n[i]=p1(r))}return n}function S6(t,e=Object.is){let n={...t};const i=new Set,r=m=>(i.add(m),()=>i.delete(m)),s=()=>{i.forEach(m=>m())};return{subscribe:r,get:m=>n[m],set:(m,g)=>{e(n[m],g)||(n[m]=g,s())},update:m=>{let g=!1;for(const y in m){const b=m[y];b!==void 0&&!e(n[y],b)&&(n[y]=b,g=!0)}g&&s()},snapshot:()=>({...n})}}function _y(...t){t.length===1?t[0]:t[1],t.length===2&&t[0]}function tL(t,e){if(t==null)throw new Error(e())}function _6(t,e){return`${t} returned \`undefined\`. Seems you forgot to wrap component within ${e}`}function hh(t={}){const{name:e,strict:n=!0,hookName:i="useContext",providerName:r="Provider",errorMessage:s,defaultValue:o}=t,l=H.createContext(o);l.displayName=e;function d(){const h=H.useContext(l);if(!h&&n){const m=new Error(s??_6(i,r));throw m.name="ContextError",Error.captureStackTrace?.(m,d),m}return h}return[l.Provider,d,l]}const[kpe,Bw]=hh({name:"EnvironmentContext",hookName:"useEnvironmentContext",providerName:"<EnvironmentProvider />",strict:!1,defaultValue:{getRootNode:()=>document,getDocument:()=>document,getWindow:()=>window}});function E6(t){if(!t)return;const e=t.selectionStart??0,n=t.selectionEnd??0;Math.abs(n-e)===0&&e===0&&t.setSelectionRange(t.value.length,t.value.length)}var pO=t=>Math.max(0,Math.min(1,t)),T6=(t,e)=>t.map((n,i)=>t[(Math.max(e,0)+i)%t.length]),M6=()=>{},m1=t=>typeof t=="object"&&t!==null,C6=2147483647,Ja=t=>t?"":void 0,w6=1,A6=9,R6=11,Ns=t=>m1(t)&&t.nodeType===w6&&typeof t.nodeName=="string",nL=t=>m1(t)&&t.nodeType===A6,O6=t=>m1(t)&&t===t.window,iL=t=>Ns(t)?t.localName||"":"#document";function N6(t){return["html","body","#document"].includes(iL(t))}var D6=t=>m1(t)&&t.nodeType!==void 0,Tm=t=>D6(t)&&t.nodeType===R6&&"host"in t,P6=t=>Ns(t)&&t.localName==="input",I6=t=>!!t?.matches("a[href]"),L6=t=>Ns(t)?t.offsetWidth>0||t.offsetHeight>0||t.getClientRects().length>0:!1;function z6(t){if(!t)return!1;const e=t.getRootNode();return rL(e)===t}var U6=/(textarea|select)/;function V6(t){if(t==null||!Ns(t))return!1;try{return P6(t)&&t.selectionStart!=null||U6.test(t.localName)||t.isContentEditable||t.getAttribute("contenteditable")==="true"||t.getAttribute("contenteditable")===""}catch{return!1}}function Jf(t,e){if(!t||!e||!Ns(t)||!Ns(e))return!1;const n=e.getRootNode?.();if(t===e||t.contains(e))return!0;if(n&&Tm(n)){let i=e;for(;i;){if(t===i)return!0;i=i.parentNode||i.host}}return!1}function Ko(t){return nL(t)?t:O6(t)?t.document:t?.ownerDocument??document}function k6(t){return Ko(t).documentElement}function ur(t){return Tm(t)?ur(t.host):nL(t)?t.defaultView??window:Ns(t)?t.ownerDocument?.defaultView??window:window}function rL(t){let e=t.activeElement;for(;e?.shadowRoot;){const n=e.shadowRoot.activeElement;if(!n||n===e)break;e=n}return e}function B6(t){if(iL(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Tm(t)&&t.host||k6(t);return Tm(e)?e.host:e}var yT=new WeakMap;function sL(t){return yT.has(t)||yT.set(t,ur(t).getComputedStyle(t)),yT.get(t)}var g1=()=>typeof document<"u";function F6(){return navigator.userAgentData?.platform??navigator.platform}function H6(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(({brand:e,version:n})=>`${e}/${n}`).join(" "):navigator.userAgent}var Fw=t=>g1()&&t.test(F6()),aL=t=>g1()&&t.test(H6()),G6=t=>g1()&&t.test(navigator.vendor),mO=()=>g1()&&!!navigator.maxTouchPoints,W6=()=>Fw(/^iPhone/i),j6=()=>Fw(/^iPad/i)||v1()&&navigator.maxTouchPoints>1,Hw=()=>W6()||j6(),X6=()=>v1()||Hw(),v1=()=>Fw(/^Mac/i),Gw=()=>X6()&&G6(/apple/i),q6=()=>aL(/Firefox/i),Y6=()=>aL(/Android/i);function K6(t){return t.composedPath?.()??t.nativeEvent?.composedPath?.()}function Xc(t){return K6(t)?.[0]??t.target}function $6(t){return e8(t).isComposing||t.keyCode===229}function Z6(t){return t.pointerType===""&&t.isTrusted?!0:Y6()&&t.pointerType?t.type==="click"&&t.buttons===1:t.detail===0&&!t.pointerType}var oL=t=>t.button===0,Q6=t=>t.button===2||v1()&&t.ctrlKey&&t.button===0,J6=t=>"touches"in t&&t.touches.length>0;function e8(t){return t.nativeEvent??t}function gO(t,e="client"){const n=J6(t)?t.touches[0]||t.changedTouches[0]:t;return{x:n[`${e}X`],y:n[`${e}Y`]}}var Vr=(t,e,n,i)=>{const r=typeof t=="function"?t():t;return r?.addEventListener(e,n,i),()=>{r?.removeEventListener(e,n,i)}};function lL(t,e){const{type:n="HTMLInputElement",property:i="value"}=e,r=ur(t)[n].prototype;return Object.getOwnPropertyDescriptor(r,i)??{}}function t8(t){if(t.localName==="input")return"HTMLInputElement";if(t.localName==="textarea")return"HTMLTextAreaElement";if(t.localName==="select")return"HTMLSelectElement"}function y1(t,e,n="value"){if(!t)return;const i=t8(t);i&&lL(t,{type:i,property:n}).set?.call(t,e),t.setAttribute(n,e)}function n8(t,e){if(!t)return;lL(t,{type:"HTMLInputElement",property:"checked"}).set?.call(t,e),e?t.setAttribute("checked",""):t.removeAttribute("checked")}function i8(t,e){const{value:n,bubbles:i=!0}=e;if(!t)return;const r=ur(t);t instanceof r.HTMLInputElement&&(y1(t,`${n}`),t.dispatchEvent(new r.Event("input",{bubbles:i})))}function r8(t,e){const{checked:n,bubbles:i=!0}=e;if(!t)return;const r=ur(t);t instanceof r.HTMLInputElement&&(n8(t,n),t.dispatchEvent(new r.Event("click",{bubbles:i})))}function s8(t){return a8(t)?t.form:t.closest("form")}function a8(t){return t.matches("textarea, input, select, button")}function o8(t,e){if(!t)return;const n=s8(t),i=r=>{r.defaultPrevented||e()};return n?.addEventListener("reset",i,{passive:!0}),()=>n?.removeEventListener("reset",i)}function l8(t,e){const n=t?.closest("fieldset");if(!n)return;e(n.disabled);const i=ur(n),r=new i.MutationObserver(()=>e(n.disabled));return r.observe(n,{attributes:!0,attributeFilter:["disabled"]}),()=>r.disconnect()}function x1(t,e){if(!t)return;const{onFieldsetDisabledChange:n,onFormReset:i}=e,r=[o8(t,i),l8(t,n)];return()=>r.forEach(s=>s?.())}var c8=t=>Ns(t)&&t.tagName==="IFRAME",u8=t=>parseInt(t.getAttribute("tabindex")||"0",10)<0,cL="input:not([type='hidden']):not([disabled]), select:not([disabled]), textarea:not([disabled]), a[href], button:not([disabled]), [tabindex], iframe, object, embed, area[href], audio[controls], video[controls], [contenteditable]:not([contenteditable='false']), details > summary:first-of-type";function Ww(t){return!t||t.closest("[inert]")?!1:t.matches(cL)&&L6(t)}function uL(t,e){if(!t)return[];const i=Array.from(t.querySelectorAll(cL)).filter(d8);return i.forEach((r,s)=>{if(c8(r)&&r.contentDocument){const o=r.contentDocument.body,l=uL(o);i.splice(s,1,...l)}}),i.length,i}function d8(t){return t!=null&&t.tabIndex>0?!0:Ww(t)&&!u8(t)}function jw(t){const{root:e,getInitialEl:n,filter:i,enabled:r=!0}=t;if(!r)return;let s=null;if(s||(s=typeof n=="function"?n():n),s||(s=e?.querySelector("[data-autofocus],[autofocus]")),!s){const o=uL(e);s=i?o.filter(i)[0]:o[0]}return s||e||void 0}function Xw(t){const e=new Set;function n(i){const r=globalThis.requestAnimationFrame(i);e.add(()=>globalThis.cancelAnimationFrame(r))}return n(()=>n(t)),function(){e.forEach(r=>r())}}function _n(t){let e;const n=globalThis.requestAnimationFrame(()=>{e=t()});return()=>{globalThis.cancelAnimationFrame(n),e?.()}}function f8(t,e,n){const i=_n(()=>{t.removeEventListener(e,r,!0),n()}),r=()=>{i(),n()};return t.addEventListener(e,r,{once:!0,capture:!0}),i}function h8(t,e){if(!t)return;const{attributes:n,callback:i}=e,r=t.ownerDocument.defaultView||window,s=new r.MutationObserver(o=>{for(const l of o)l.type==="attributes"&&l.attributeName&&n.includes(l.attributeName)&&i(l)});return s.observe(t,{attributes:!0,attributeFilter:n}),()=>s.disconnect()}function b1(t,e){const{defer:n}=e,i=n?_n:s=>s(),r=[];return r.push(i(()=>{const s=typeof t=="function"?t():t;r.push(h8(s,e))})),()=>{r.forEach(s=>s?.())}}function dL(t){const e=()=>{const n=ur(t);t.dispatchEvent(new n.MouseEvent("click"))};q6()?f8(t,"keyup",e):queueMicrotask(e)}function YS(t){const e=B6(t);return N6(e)?Ko(e).body:Ns(e)&&qw(e)?e:YS(e)}function fL(t,e=[]){const n=YS(t),i=n===t.ownerDocument.body,r=ur(n);return i?e.concat(r,r.visualViewport||[],qw(n)?n:[]):e.concat(n,fL(n,[]))}var p8=/auto|scroll|overlay|hidden|clip/,m8=new Set(["inline","contents"]);function qw(t){const e=ur(t),{overflow:n,overflowX:i,overflowY:r,display:s}=e.getComputedStyle(t);return p8.test(n+r+i)&&!m8.has(s)}function g8(t){return t.scrollHeight>t.clientHeight||t.scrollWidth>t.clientWidth}function KS(t,e){const{rootEl:n,...i}=e||{};!t||!n||!qw(n)||!g8(n)||t.scrollIntoView(i)}function hL(t,e){const{left:n,top:i,width:r,height:s}=e.getBoundingClientRect(),o={x:t.x-n,y:t.y-i},l={x:pO(o.x/r),y:pO(o.y/s)};function d(h={}){const{dir:m="ltr",orientation:g="horizontal",inverted:y}=h,b=typeof y=="object"?y.x:y,S=typeof y=="object"?y.y:y;return g==="horizontal"?m==="rtl"||b?1-l.x:l.x:S?1-l.y:l.y}return{offset:o,percent:l,getPercentValue:d}}function v8(t,e){const n=t.body,i="pointerLockElement"in t||"mozPointerLockElement"in t,r=()=>!!t.pointerLockElement;function s(){}function o(d){r(),console.error("PointerLock error occurred:",d),t.exitPointerLock()}if(!i)return;try{n.requestPointerLock()}catch{}const l=[Vr(t,"pointerlockchange",s,!1),Vr(t,"pointerlockerror",o,!1)];return()=>{l.forEach(d=>d()),t.exitPointerLock()}}var nm="default",mC="",TS=new WeakMap;function y8(t={}){const{target:e,doc:n}=t,i=n??document,r=i.documentElement;return Hw()?(nm==="default"&&(mC=r.style.webkitUserSelect,r.style.webkitUserSelect="none"),nm="disabled"):e&&(TS.set(e,e.style.userSelect),e.style.userSelect="none"),()=>x8({target:e,doc:i})}function x8(t={}){const{target:e,doc:n}=t,r=(n??document).documentElement;if(Hw()){if(nm!=="disabled")return;nm="restoring",setTimeout(()=>{Xw(()=>{nm==="restoring"&&(r.style.webkitUserSelect==="none"&&(r.style.webkitUserSelect=mC||""),mC="",nm="default")})},300)}else if(e&&TS.has(e)){const s=TS.get(e);e.style.userSelect==="none"&&(e.style.userSelect=s??""),e.getAttribute("style")===""&&e.removeAttribute("style"),TS.delete(e)}}function pL(t={}){const{defer:e,target:n,...i}=t,r=e?_n:o=>o(),s=[];return s.push(r(()=>{const o=typeof n=="function"?n():n;s.push(y8({...i,target:o}))})),()=>{s.forEach(o=>o?.())}}function b8(t,e){const{onPointerMove:n,onPointerUp:i}=e,r=l=>{const d=gO(l),h=Math.sqrt(d.x**2+d.y**2),m=l.pointerType==="touch"?10:5;if(!(h<m)){if(l.pointerType==="mouse"&&l.button===0){s(l);return}n({point:d,event:l})}},s=l=>{const d=gO(l);i({point:d,event:l})},o=[Vr(t,"pointermove",r,!1),Vr(t,"pointerup",s,!1),Vr(t,"pointercancel",s,!1),Vr(t,"contextmenu",s,!1),pL({doc:t})];return()=>{o.forEach(l=>l())}}function Ey(t,e){return Array.from(t?.querySelectorAll(e)??[])}function S8(t,e){return t?.querySelector(e)??null}var Yw=t=>t.id;function _8(t,e,n=Yw){return t.find(i=>n(i)===e)}function Kw(t,e,n=Yw){const i=_8(t,e,n);return i?t.indexOf(i):-1}function E8(t,e,n=!0){let i=Kw(t,e);return i=n?(i+1)%t.length:Math.min(i+1,t.length-1),t[i]}function T8(t,e,n=!0){let i=Kw(t,e);return i===-1?n?t[t.length-1]:null:(i=n?(i-1+t.length)%t.length:Math.max(0,i-1),t[i])}function M8(t,e){const{onEntry:n,measure:i,box:r="border-box"}=e,s=(Array.isArray(t)?t:[t]).filter(Ns),o=ur(s[0]),l=h=>{const m=s.map(g=>i(g));n({rects:m,entries:h})};l([]);const d=new o.ResizeObserver(l);return s.forEach(h=>d.observe(h,{box:r})),()=>d.disconnect()}var C8=t=>t.split("").map(e=>{const n=e.charCodeAt(0);return n>0&&n<128?e:n>=128&&n<=255?`/x${n.toString(16)}`.replace("/","\\"):""}).join("").trim(),w8=t=>C8(t.dataset?.valuetext??t.textContent??""),A8=(t,e)=>t.trim().toLowerCase().startsWith(e.toLowerCase());function R8(t,e,n,i=Yw){const r=n?Kw(t,n,i):-1;let s=n?T6(t,r):t;return e.length===1&&(s=s.filter(l=>i(l)!==n)),s.find(l=>A8(w8(l),e))}function mL(t,e){if(!t)return M6;const n=Object.keys(e).reduce((i,r)=>(i[r]=t.style.getPropertyValue(r),i),{});return Object.assign(t.style,e),()=>{Object.assign(t.style,n),t.style.length===0&&t.removeAttribute("style")}}function O8(t,e){const{state:n,activeId:i,key:r,timeout:s=350,itemToId:o}=e,l=n.keysSoFar+r,h=l.length>1&&Array.from(l).every(S=>S===l[0])?l[0]:l;let m=t.slice();const g=R8(m,h,i,o);function y(){clearTimeout(n.timer),n.timer=-1}function b(S){n.keysSoFar=S,y(),S!==""&&(n.timer=+setTimeout(()=>{b(""),y()},s))}return b(l),g}var Ty=Object.assign(O8,{defaultOptions:{keysSoFar:"",timer:-1},isValidEvent:N8});function N8(t){return t.key.length===1&&!t.ctrlKey&&!t.metaKey}var D8={border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"};function P8(t,e,n){const{signal:i}=e;return[new Promise((o,l)=>{const d=setTimeout(()=>{l(new Error(`Timeout of ${n}ms exceeded`))},n);i.addEventListener("abort",()=>{clearTimeout(d),l(new Error("Promise aborted"))}),t.then(h=>{i.aborted||(clearTimeout(d),o(h))}).catch(h=>{i.aborted||(clearTimeout(d),l(h))})}),()=>e.abort()]}function I8(t,e){const{timeout:n,rootNode:i}=e,r=ur(i),s=Ko(i),o=new r.AbortController;return P8(new Promise(l=>{const d=t();if(d){l(d);return}const h=new r.MutationObserver(()=>{const m=t();m&&m.isConnected&&(h.disconnect(),l(m))});h.observe(s.body,{childList:!0,subtree:!0})}),o,n)}var L8=(...t)=>t.map(e=>e?.trim?.()).filter(Boolean).join(" "),z8=/((?:--)?(?:\w+-?)+)\s*:\s*([^;]*)/g,vO=t=>{const e={};let n;for(;n=z8.exec(t);)e[n[1]]=n[2];return e},U8=(t,e)=>{if(Zv(t)){if(Zv(e))return`${t};${e}`;t=vO(t)}else Zv(e)&&(e=vO(e));return Object.assign({},t??{},e??{})};function aa(...t){let e={};for(let n of t){if(!n)continue;for(let r in e){if(r.startsWith("on")&&typeof e[r]=="function"&&typeof n[r]=="function"){e[r]=qS(n[r],e[r]);continue}if(r==="className"||r==="class"){e[r]=L8(e[r],n[r]);continue}if(r==="style"){e[r]=U8(e[r],n[r]);continue}e[r]=n[r]!==void 0?n[r]:e[r]}for(let r in n)e[r]===void 0&&(e[r]=n[r]);const i=Object.getOwnPropertySymbols(n);for(let r of i)e[r]=n[r]}return e}function yO(t,e,n){let i=[],r;return s=>{const o=t(s);return(o.length!==i.length||o.some((d,h)=>!Go(i[h],d)))&&(i=o,r=e(o,s)),r}}function tu(){return{and:(...t)=>function(n){return t.every(i=>n.guard(i))},or:(...t)=>function(n){return t.some(i=>n.guard(i))},not:t=>function(n){return!n.guard(t)}}}function gL(){return{guards:tu(),createMachine:t=>t,choose:t=>function({choose:n}){return n(t)?.actions}}}var Zp=(t=>(t.NotStarted="Not Started",t.Started="Started",t.Stopped="Stopped",t))(Zp||{}),xT="__init__";function V8(t){const e=()=>t.getRootNode?.()??document,n=()=>Ko(e());return{...t,getRootNode:e,getDoc:n,getWin:()=>n().defaultView??window,getActiveElement:()=>rL(e()),isActiveElement:z6,getById:o=>e().getElementById(o)}}function vL(...t){return e=>{const n=[];for(const i of t)if(typeof i=="function"){const r=i(e);typeof r=="function"&&n.push(r)}else i&&(i.current=e);if(n.length)return()=>{for(const i of n)i()}}}function k8(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}const bT=t=>{const e=H.memo(H.forwardRef((n,i)=>{const{asChild:r,children:s,...o}=n;if(!r)return H.createElement(t,{...o,ref:i},s);if(!H.isValidElement(s))return null;const l=H.Children.only(s),d=k8(l);return H.cloneElement(l,{...aa(o,l.props),ref:i?vL(i,d):d})}));return e.displayName=t.displayName||t.name,e},B8=()=>{const t=new Map;return new Proxy(bT,{apply(e,n,i){return bT(i[0])},get(e,n){const i=n;return t.has(i)||t.set(i,bT(i)),t.get(i)}})},$o=B8(),[Bpe,yL]=hh({name:"LocaleContext",hookName:"useLocaleContext",providerName:"<LocaleProvider />",strict:!1,defaultValue:{dir:"ltr",locale:"en-US"}}),S1=()=>(t,e)=>e.reduce((n,i)=>{const[r,s]=n,o=i;return s[o]!==void 0&&(r[o]=s[o]),delete s[o],[r,s]},[{},{...t}]),xL=t=>S1()(t,["immediate","lazyMount","onExitComplete","present","skipAnimationOnMount","unmountOnExit"]);function F8(t){return new Proxy({},{get(e,n){return n==="style"?i=>t({style:i}).style:t}})}var Ut=()=>t=>Array.from(new Set(t));function H8(t,e){const{state:n,send:i,context:r}=t,s=n.matches("mounted","unmountSuspended");return{skip:!r.get("initial"),present:s,setNode(o){o&&i({type:"NODE.SET",node:o})},unmount(){i({type:"UNMOUNT"})}}}var G8={props({props:t}){return{...t,present:!!t.present}},initialState({prop:t}){return t("present")?"mounted":"unmounted"},refs(){return{node:null,styles:null}},context({bindable:t}){return{unmountAnimationName:t(()=>({defaultValue:null})),prevAnimationName:t(()=>({defaultValue:null})),present:t(()=>({defaultValue:!1})),initial:t(()=>({sync:!0,defaultValue:!1}))}},exit:["clearInitial","cleanupNode"],watch({track:t,prop:e,send:n}){t([()=>e("present")],()=>{n({type:"PRESENCE.CHANGED"})})},on:{"NODE.SET":{actions:["setupNode"]},"PRESENCE.CHANGED":{actions:["setInitial","syncPresence"]}},states:{mounted:{on:{UNMOUNT:{target:"unmounted",actions:["clearPrevAnimationName","invokeOnExitComplete"]},"UNMOUNT.SUSPEND":{target:"unmountSuspended"}}},unmountSuspended:{effects:["trackAnimationEvents"],on:{MOUNT:{target:"mounted",actions:["setPrevAnimationName"]},UNMOUNT:{target:"unmounted",actions:["clearPrevAnimationName","invokeOnExitComplete"]}}},unmounted:{on:{MOUNT:{target:"mounted",actions:["setPrevAnimationName"]}}}},implementations:{actions:{setInitial:({context:t})=>{t.get("initial")||queueMicrotask(()=>{t.set("initial",!0)})},clearInitial:({context:t})=>{t.set("initial",!1)},invokeOnExitComplete:({prop:t})=>{t("onExitComplete")?.()},setupNode:({refs:t,event:e})=>{t.get("node")!==e.node&&(t.set("node",e.node),t.set("styles",sL(e.node)))},cleanupNode:({refs:t})=>{t.set("node",null),t.set("styles",null)},syncPresence:({context:t,refs:e,send:n,prop:i})=>{const r=i("present");if(r)return n({type:"MOUNT",src:"presence.changed"});const s=e.get("node");if(!r&&s?.ownerDocument.visibilityState==="hidden")return n({type:"UNMOUNT",src:"visibilitychange"});_n(()=>{const o=lb(e.get("styles"));t.set("unmountAnimationName",o),o==="none"||o===t.get("prevAnimationName")||e.get("styles")?.display==="none"||e.get("styles")?.animationDuration==="0s"?n({type:"UNMOUNT",src:"presence.changed"}):n({type:"UNMOUNT.SUSPEND"})})},setPrevAnimationName:({context:t,refs:e})=>{_n(()=>{t.set("prevAnimationName",lb(e.get("styles")))})},clearPrevAnimationName:({context:t})=>{t.set("prevAnimationName",null)}},effects:{trackAnimationEvents:({context:t,refs:e,send:n})=>{const i=e.get("node");if(!i)return;const r=l=>{(l.composedPath?.()?.[0]??l.target)===i&&t.set("prevAnimationName",lb(e.get("styles")))},s=l=>{const d=lb(e.get("styles"));Xc(l)===i&&d===t.get("unmountAnimationName")&&n({type:"UNMOUNT",src:"animationend"})};i.addEventListener("animationstart",r),i.addEventListener("animationcancel",s),i.addEventListener("animationend",s);const o=mL(i,{animationFillMode:"forwards"});return()=>{i.removeEventListener("animationstart",r),i.removeEventListener("animationcancel",s),i.removeEventListener("animationend",s),Xw(()=>o())}}}}};function lb(t){return t?.animationName||"none"}Ut()(["onExitComplete","present","immediate"]);var _1=PI(),bL=typeof globalThis.document<"u"?H.useLayoutEffect:H.useEffect;function $S(t){const e=t().value??t().defaultValue,n=t().isEqual??Object.is,[i]=H.useState(e),[r,s]=H.useState(i),o=t().value!==void 0,l=H.useRef(r);l.current=o?t().value:r;const d=H.useRef(l.current);bL(()=>{d.current=l.current},[r,t().value]);const h=g=>{const y=d.current,b=jf(g)?g(y):g;t().debug&&console.log(`[bindable > ${t().debug}] setValue`,{next:b,prev:y}),o||s(b),n(b,y)||t().onChange?.(b,y)};function m(){return o?t().value:r}return{initial:i,ref:l,get:m,set(g){(t().sync?_1.flushSync:s6)(()=>h(g))},invoke(g,y){t().onChange?.(g,y)},hash(g){return t().hash?.(g)??String(g)}}}$S.cleanup=t=>{H.useEffect(()=>t,[])};$S.ref=t=>{const e=H.useRef(t);return{get:()=>e.current,set:n=>{e.current=n}}};function W8(t){const e=H.useRef(t);return{get(n){return e.current[n]},set(n,i){e.current[n]=i}}}var j8=(t,e)=>{const n=H.useRef(!1),i=H.useRef(!1);H.useEffect(()=>{if(n.current&&i.current)return e();i.current=!0},[...(t??[]).map(r=>typeof r=="function"?r():r)]),H.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[])};function $w(t,e={}){const n=H.useMemo(()=>{const{id:F,ids:j,getRootNode:Z}=e;return V8({id:F,ids:j,getRootNode:Z})},[e]),i=(...F)=>{t.debug&&console.log(...F)},r=t.props?.({props:p1(e),scope:n})??e,s=X8(r),o=t.context?.({prop:s,bindable:$S,scope:n,flush:xO,getContext(){return d},getComputed(){return D},getRefs(){return C},getEvent(){return b()}}),l=SL(o),d={get(F){return l.current?.[F].ref.current},set(F,j){l.current?.[F].set(j)},initial(F){return l.current?.[F].initial},hash(F){const j=l.current?.[F].get();return l.current?.[F].hash(j)}},h=H.useRef(new Map),m=H.useRef(null),g=H.useRef(null),y=H.useRef({type:""}),b=()=>({...y.current,current(){return y.current},previous(){return g.current}}),S=()=>({...I,matches(...F){return F.includes(I.ref.current)},hasTag(F){return!!t.states[I.ref.current]?.tags?.includes(F)}}),C=W8(t.refs?.({prop:s,context:d})??{}),T=()=>({state:S(),context:d,event:b(),prop:s,send:z,action:_,guard:w,track:j8,refs:C,computed:D,flush:xO,scope:n,choose:N}),_=F=>{const j=jf(F)?F(T()):F;if(!j)return;const Z=j.map(se=>{const ie=t.implementations?.actions?.[se];return ie||_y(`[zag-js] No implementation found for action "${JSON.stringify(se)}"`),ie});for(const se of Z)se?.(T())},w=F=>jf(F)?F(T()):t.implementations?.guards?.[F](T()),R=F=>{const j=jf(F)?F(T()):F;if(!j)return;const Z=j.map(ie=>{const k=t.implementations?.effects?.[ie];return k||_y(`[zag-js] No implementation found for effect "${JSON.stringify(ie)}"`),k}),se=[];for(const ie of Z){const k=ie?.(T());k&&se.push(k)}return()=>se.forEach(ie=>ie?.())},N=F=>ES(F).find(j=>{let Z=!j.guard;return Zv(j.guard)?Z=!!w(j.guard):jf(j.guard)&&(Z=j.guard(T())),Z}),D=F=>{tL(t.computed,()=>"[zag-js] No computed object found on machine");const j=t.computed[F];return j({context:d,event:b(),prop:s,refs:C,scope:n,computed:D})},I=$S(()=>({defaultValue:t.initialState({prop:s}),onChange(F,j){j&&(h.current.get(j)?.(),h.current.delete(j)),j&&_(t.states[j]?.exit),_(m.current?.actions);const Z=R(t.states[F]?.effects);if(Z&&h.current.set(F,Z),j===xT){_(t.entry);const se=R(t.effects);se&&h.current.set(xT,se)}_(t.states[F]?.entry)}})),V=H.useRef(void 0),B=H.useRef(Zp.NotStarted);bL(()=>{queueMicrotask(()=>{const Z=B.current===Zp.Started;B.current=Zp.Started,i(Z?"rehydrating...":"initializing...");const se=V.current??I.initial;I.invoke(se,Z?I.get():xT)});const F=h.current,j=I.ref.current;return()=>{i("unmounting..."),V.current=j,B.current=Zp.Stopped,F.forEach(Z=>Z?.()),h.current=new Map,m.current=null,queueMicrotask(()=>{_(t.exit)})}},[]);const L=()=>"ref"in I?I.ref.current:I.get(),z=F=>{queueMicrotask(()=>{if(B.current!==Zp.Started)return;g.current=y.current,y.current=F;let j=L();const Z=t.states[j].on?.[F.type]??t.on?.[F.type],se=N(Z);if(!se)return;m.current=se;const ie=se.target??j;i("transition",F.type,se.target||j,`(${se.actions})`);const k=ie!==j;k?_1.flushSync(()=>I.set(ie)):se.reenter&&!k?I.invoke(j,j):_(se.actions??[])})};return t.watch?.(T()),{state:S(),send:z,context:d,prop:s,scope:n,refs:C,computed:D,event:b(),getStatus:()=>B.current}}function SL(t){const e=H.useRef(t);return e.current=t,e}function X8(t){const e=SL(t);return function(i){return e.current[i]}}function xO(t){queueMicrotask(()=>{_1.flushSync(()=>t())})}var _L=F8(t=>t);function q8(t,e={}){const{sync:n=!1}=e,i=Y8(t);return H.useCallback((...r)=>n?queueMicrotask(()=>i.current?.(...r)):i.current?.(...r),[n,i])}function Y8(t){const e=H.useRef(t);return e.current=t,e}const EL=(t={})=>{const{lazyMount:e,unmountOnExit:n,present:i,skipAnimationOnMount:r=!1,...s}=t,o=H.useRef(!1),l={...s,present:i,onExitComplete:q8(t.onExitComplete)},d=$w(G8,l),h=H8(d);h.present&&(o.current=!0);const m=!h.present&&!o.current&&e||n&&!h.present&&o.current,g=()=>({"data-state":h.skip&&r?void 0:i?"open":"closed",hidden:!h.present});return{ref:h.setNode,getPresenceProps:g,present:h.present,unmounted:m}},[TL,ML]=hh({name:"PresenceContext",hookName:"usePresenceContext",providerName:"<PresenceProvider />"}),im=$l("span"),{withContext:K8}=r0({key:"text"}),Qv=K8("p");var zt=(t,e=[])=>({parts:(...n)=>{if($8(e))return zt(t,n);throw new Error("createAnatomy().parts(...) should only be called once. Did you mean to use .extendWith(...) ?")},extendWith:(...n)=>zt(t,[...e,...n]),omit:(...n)=>zt(t,e.filter(i=>!n.includes(i))),rename:n=>zt(n,e),keys:()=>e,build:()=>[...new Set(e)].reduce((n,i)=>Object.assign(n,{[i]:{selector:[`&[data-scope="${bp(t)}"][data-part="${bp(i)}"]`,`& [data-scope="${bp(t)}"][data-part="${bp(i)}"]`].join(", "),attrs:{"data-scope":bp(t),"data-part":bp(i)}}}),{})}),bp=t=>t.replace(/([A-Z])([A-Z])/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[\s_]+/g,"-").toLowerCase(),$8=t=>t.length===0,CL=zt("collapsible").parts("root","trigger","content","indicator");CL.build();Ut()(["dir","disabled","getRootNode","id","ids","onExitComplete","onOpenChange","defaultOpen","open"]);var Z8=Object.defineProperty,Q8=(t,e,n)=>e in t?Z8(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Zw=(t,e,n)=>Q8(t,e+"",n),J8=(t,e)=>{if(Object.keys(t).length!==Object.keys(e).length)return!1;for(let n in t)if(t[n]!==e[n])return!1;return!0},Qw=class{toHexInt(){return this.toFormat("rgba").toHexInt()}getChannelValue(e){if(e in this)return this[e];throw new Error("Unsupported color channel: "+e)}getChannelValuePercent(e,n){const i=n??this.getChannelValue(e),{minValue:r,maxValue:s}=this.getChannelRange(e);return v6(i,r,s)}getChannelPercentValue(e,n){const{minValue:i,maxValue:r,step:s}=this.getChannelRange(e),o=y6(n,i,r,s);return fO(o,i,r,s)}withChannelValue(e,n){const{minValue:i,maxValue:r}=this.getChannelRange(e);if(e in this){let s=this.clone();return s[e]=ea(n,i,r),s}throw new Error("Unsupported color channel: "+e)}getColorAxes(e){let{xChannel:n,yChannel:i}=e,r=n||this.getChannels().find(l=>l!==i),s=i||this.getChannels().find(l=>l!==r),o=this.getChannels().find(l=>l!==r&&l!==s);return{xChannel:r,yChannel:s,zChannel:o}}incrementChannel(e,n){const{minValue:i,maxValue:r,step:s}=this.getChannelRange(e),o=fO(ea(this.getChannelValue(e)+n,i,r),i,r,s);return this.withChannelValue(e,o)}decrementChannel(e,n){return this.incrementChannel(e,-n)}isEqual(e){return J8(this.toJSON(),e.toJSON())&&this.getChannelValue("alpha")===e.getChannelValue("alpha")}},eG=/^#[\da-f]+$/i,tG=/^rgba?\((.*)\)$/,nG=/[^#]/gi,wL=class MS extends Qw{constructor(e,n,i,r){super(),this.red=e,this.green=n,this.blue=i,this.alpha=r}static parse(e){let n=[];if(eG.test(e)&&[4,5,7,9].includes(e.length)){const r=(e.length<6?e.replace(nG,"$&$&"):e).slice(1).split("");for(;r.length>0;)n.push(parseInt(r.splice(0,2).join(""),16));n[3]=n[3]!==void 0?n[3]/255:void 0}const i=e.match(tG);return i?.[1]&&(n=i[1].split(",").map(r=>Number(r.trim())).map((r,s)=>ea(r,0,s<3?255:1))),n.length<3?void 0:new MS(n[0],n[1],n[2],n[3]??1)}toString(e){switch(e){case"hex":return"#"+(this.red.toString(16).padStart(2,"0")+this.green.toString(16).padStart(2,"0")+this.blue.toString(16).padStart(2,"0")).toUpperCase();case"hexa":return"#"+(this.red.toString(16).padStart(2,"0")+this.green.toString(16).padStart(2,"0")+this.blue.toString(16).padStart(2,"0")+Math.round(this.alpha*255).toString(16).padStart(2,"0")).toUpperCase();case"rgb":return`rgb(${this.red}, ${this.green}, ${this.blue})`;case"css":case"rgba":return`rgba(${this.red}, ${this.green}, ${this.blue}, ${this.alpha})`;case"hsl":return this.toHSL().toString("hsl");case"hsb":return this.toHSB().toString("hsb");default:return this.toFormat(e).toString(e)}}toFormat(e){switch(e){case"rgba":return this;case"hsba":return this.toHSB();case"hsla":return this.toHSL();default:throw new Error("Unsupported color conversion: rgb -> "+e)}}toHexInt(){return this.red<<16|this.green<<8|this.blue}toHSB(){const e=this.red/255,n=this.green/255,i=this.blue/255,r=Math.min(e,n,i),s=Math.max(e,n,i),o=s-r,l=s===0?0:o/s;let d=0;if(o!==0){switch(s){case e:d=(n-i)/o+(n<i?6:0);break;case n:d=(i-e)/o+2;break;case i:d=(e-n)/o+4;break}d/=6}return new tA(ai(d*360,2),ai(l*100,2),ai(s*100,2),ai(this.alpha,2))}toHSL(){const e=this.red/255,n=this.green/255,i=this.blue/255,r=Math.min(e,n,i),s=Math.max(e,n,i),o=(s+r)/2,l=s-r;let d=-1,h=-1;if(l===0)d=h=0;else{switch(h=l/(o<.5?s+r:2-s-r),s){case e:d=(n-i)/l+(n<i?6:0);break;case n:d=(i-e)/l+2;break;case i:d=(e-n)/l+4;break}d/=6}return new eA(ai(d*360,2),ai(h*100,2),ai(o*100,2),ai(this.alpha,2))}clone(){return new MS(this.red,this.green,this.blue,this.alpha)}getChannelFormatOptions(e){switch(e){case"red":case"green":case"blue":return{style:"decimal"};case"alpha":return{style:"percent"};default:throw new Error("Unknown color channel: "+e)}}formatChannelValue(e,n){let i=this.getChannelFormatOptions(e),r=this.getChannelValue(e);return new Intl.NumberFormat(n,i).format(r)}getChannelRange(e){switch(e){case"red":case"green":case"blue":return{minValue:0,maxValue:255,step:1,pageSize:17};case"alpha":return{minValue:0,maxValue:1,step:.01,pageSize:.1};default:throw new Error("Unknown color channel: "+e)}}toJSON(){return{r:this.red,g:this.green,b:this.blue,a:this.alpha}}getFormat(){return"rgba"}getChannels(){return MS.colorChannels}};Zw(wL,"colorChannels",["red","green","blue"]);var Jw=wL,iG=/hsl\(([-+]?\d+(?:.\d+)?\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d+(?:.\d+)?%)\)|hsla\(([-+]?\d+(?:.\d+)?\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d(.\d+)?)\)/,AL=class CS extends Qw{constructor(e,n,i,r){super(),this.hue=e,this.saturation=n,this.lightness=i,this.alpha=r}static parse(e){let n;if(n=e.match(iG)){const[i,r,s,o]=(n[1]??n[2]).split(",").map(l=>Number(l.trim().replace("%","")));return new CS(JI(i,360),ea(r,0,100),ea(s,0,100),ea(o??1,0,1))}}toString(e){switch(e){case"hex":return this.toRGB().toString("hex");case"hexa":return this.toRGB().toString("hexa");case"hsl":return`hsl(${this.hue}, ${ai(this.saturation,2)}%, ${ai(this.lightness,2)}%)`;case"css":case"hsla":return`hsla(${this.hue}, ${ai(this.saturation,2)}%, ${ai(this.lightness,2)}%, ${this.alpha})`;case"hsb":return this.toHSB().toString("hsb");case"rgb":return this.toRGB().toString("rgb");default:return this.toFormat(e).toString(e)}}toFormat(e){switch(e){case"hsla":return this;case"hsba":return this.toHSB();case"rgba":return this.toRGB();default:throw new Error("Unsupported color conversion: hsl -> "+e)}}toHSB(){let e=this.saturation/100,n=this.lightness/100,i=n+e*Math.min(n,1-n);return e=i===0?0:2*(1-n/i),new tA(ai(this.hue,2),ai(e*100,2),ai(i*100,2),ai(this.alpha,2))}toRGB(){let e=this.hue,n=this.saturation/100,i=this.lightness/100,r=n*Math.min(i,1-i),s=(o,l=(o+e/30)%12)=>i-r*Math.max(Math.min(l-3,9-l,1),-1);return new Jw(Math.round(s(0)*255),Math.round(s(8)*255),Math.round(s(4)*255),ai(this.alpha,2))}clone(){return new CS(this.hue,this.saturation,this.lightness,this.alpha)}getChannelFormatOptions(e){switch(e){case"hue":return{style:"unit",unit:"degree",unitDisplay:"narrow"};case"saturation":case"lightness":case"alpha":return{style:"percent"};default:throw new Error("Unknown color channel: "+e)}}formatChannelValue(e,n){let i=this.getChannelFormatOptions(e),r=this.getChannelValue(e);return(e==="saturation"||e==="lightness")&&(r/=100),new Intl.NumberFormat(n,i).format(r)}getChannelRange(e){switch(e){case"hue":return{minValue:0,maxValue:360,step:1,pageSize:15};case"saturation":case"lightness":return{minValue:0,maxValue:100,step:1,pageSize:10};case"alpha":return{minValue:0,maxValue:1,step:.01,pageSize:.1};default:throw new Error("Unknown color channel: "+e)}}toJSON(){return{h:this.hue,s:this.saturation,l:this.lightness,a:this.alpha}}getFormat(){return"hsla"}getChannels(){return CS.colorChannels}};Zw(AL,"colorChannels",["hue","saturation","lightness"]);var eA=AL,rG=/hsb\(([-+]?\d+(?:.\d+)?\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d+(?:.\d+)?%)\)|hsba\(([-+]?\d+(?:.\d+)?\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d(.\d+)?)\)/,RL=class wS extends Qw{constructor(e,n,i,r){super(),this.hue=e,this.saturation=n,this.brightness=i,this.alpha=r}static parse(e){let n;if(n=e.match(rG)){const[i,r,s,o]=(n[1]??n[2]).split(",").map(l=>Number(l.trim().replace("%","")));return new wS(JI(i,360),ea(r,0,100),ea(s,0,100),ea(o??1,0,1))}}toString(e){switch(e){case"css":return this.toHSL().toString("css");case"hex":return this.toRGB().toString("hex");case"hexa":return this.toRGB().toString("hexa");case"hsb":return`hsb(${this.hue}, ${ai(this.saturation,2)}%, ${ai(this.brightness,2)}%)`;case"hsba":return`hsba(${this.hue}, ${ai(this.saturation,2)}%, ${ai(this.brightness,2)}%, ${this.alpha})`;case"hsl":return this.toHSL().toString("hsl");case"rgb":return this.toRGB().toString("rgb");default:return this.toFormat(e).toString(e)}}toFormat(e){switch(e){case"hsba":return this;case"hsla":return this.toHSL();case"rgba":return this.toRGB();default:throw new Error("Unsupported color conversion: hsb -> "+e)}}toHSL(){let e=this.saturation/100,n=this.brightness/100,i=n*(1-e/2);return e=i===0||i===1?0:(n-i)/Math.min(i,1-i),new eA(ai(this.hue,2),ai(e*100,2),ai(i*100,2),ai(this.alpha,2))}toRGB(){let e=this.hue,n=this.saturation/100,i=this.brightness/100,r=(s,o=(s+e/60)%6)=>i-n*i*Math.max(Math.min(o,4-o,1),0);return new Jw(Math.round(r(5)*255),Math.round(r(3)*255),Math.round(r(1)*255),ai(this.alpha,2))}clone(){return new wS(this.hue,this.saturation,this.brightness,this.alpha)}getChannelFormatOptions(e){switch(e){case"hue":return{style:"unit",unit:"degree",unitDisplay:"narrow"};case"saturation":case"brightness":case"alpha":return{style:"percent"};default:throw new Error("Unknown color channel: "+e)}}formatChannelValue(e,n){let i=this.getChannelFormatOptions(e),r=this.getChannelValue(e);return(e==="saturation"||e==="brightness")&&(r/=100),new Intl.NumberFormat(n,i).format(r)}getChannelRange(e){switch(e){case"hue":return{minValue:0,maxValue:360,step:1,pageSize:15};case"saturation":case"brightness":return{minValue:0,maxValue:100,step:1,pageSize:10};case"alpha":return{minValue:0,maxValue:1,step:.01,pageSize:.1};default:throw new Error("Unknown color channel: "+e)}}toJSON(){return{h:this.hue,s:this.saturation,b:this.brightness,a:this.alpha}}getFormat(){return"hsba"}getChannels(){return wS.colorChannels}};Zw(RL,"colorChannels",["hue","saturation","brightness"]);var tA=RL,sG="aliceblue:f0f8ff,antiquewhite:faebd7,aqua:00ffff,aquamarine:7fffd4,azure:f0ffff,beige:f5f5dc,bisque:ffe4c4,black:000000,blanchedalmond:ffebcd,blue:0000ff,blueviolet:8a2be2,brown:a52a2a,burlywood:deb887,cadetblue:5f9ea0,chartreuse:7fff00,chocolate:d2691e,coral:ff7f50,cornflowerblue:6495ed,cornsilk:fff8dc,crimson:dc143c,cyan:00ffff,darkblue:00008b,darkcyan:008b8b,darkgoldenrod:b8860b,darkgray:a9a9a9,darkgreen:006400,darkkhaki:bdb76b,darkmagenta:8b008b,darkolivegreen:556b2f,darkorange:ff8c00,darkorchid:9932cc,darkred:8b0000,darksalmon:e9967a,darkseagreen:8fbc8f,darkslateblue:483d8b,darkslategray:2f4f4f,darkturquoise:00ced1,darkviolet:9400d3,deeppink:ff1493,deepskyblue:00bfff,dimgray:696969,dodgerblue:1e90ff,firebrick:b22222,floralwhite:fffaf0,forestgreen:228b22,fuchsia:ff00ff,gainsboro:dcdcdc,ghostwhite:f8f8ff,gold:ffd700,goldenrod:daa520,gray:808080,green:008000,greenyellow:adff2f,honeydew:f0fff0,hotpink:ff69b4,indianred:cd5c5c,indigo:4b0082,ivory:fffff0,khaki:f0e68c,lavender:e6e6fa,lavenderblush:fff0f5,lawngreen:7cfc00,lemonchiffon:fffacd,lightblue:add8e6,lightcoral:f08080,lightcyan:e0ffff,lightgoldenrodyellow:fafad2,lightgrey:d3d3d3,lightgreen:90ee90,lightpink:ffb6c1,lightsalmon:ffa07a,lightseagreen:20b2aa,lightskyblue:87cefa,lightslategray:778899,lightsteelblue:b0c4de,lightyellow:ffffe0,lime:00ff00,limegreen:32cd32,linen:faf0e6,magenta:ff00ff,maroon:800000,mediumaquamarine:66cdaa,mediumblue:0000cd,mediumorchid:ba55d3,mediumpurple:9370d8,mediumseagreen:3cb371,mediumslateblue:7b68ee,mediumspringgreen:00fa9a,mediumturquoise:48d1cc,mediumvioletred:c71585,midnightblue:191970,mintcream:f5fffa,mistyrose:ffe4e1,moccasin:ffe4b5,navajowhite:ffdead,navy:000080,oldlace:fdf5e6,olive:808000,olivedrab:6b8e23,orange:ffa500,orangered:ff4500,orchid:da70d6,palegoldenrod:eee8aa,palegreen:98fb98,paleturquoise:afeeee,palevioletred:d87093,papayawhip:ffefd5,peachpuff:ffdab9,peru:cd853f,pink:ffc0cb,plum:dda0dd,powderblue:b0e0e6,purple:800080,rebeccapurple:663399,red:ff0000,rosybrown:bc8f8f,royalblue:4169e1,saddlebrown:8b4513,salmon:fa8072,sandybrown:f4a460,seagreen:2e8b57,seashell:fff5ee,sienna:a0522d,silver:c0c0c0,skyblue:87ceeb,slateblue:6a5acd,slategray:708090,snow:fffafa,springgreen:00ff7f,steelblue:4682b4,tan:d2b48c,teal:008080,thistle:d8bfd8,tomato:ff6347,turquoise:40e0d0,violet:ee82ee,wheat:f5deb3,white:ffffff,whitesmoke:f5f5f5,yellow:ffff00,yellowgreen:9acd32",aG=t=>{const e=new Map,n=t.split(",");for(let i=0;i<n.length;i++){const[r,s]=n[i].split(":");e.set(r,`#${s}`),r.includes("gray")&&e.set(r.replace("gray","grey"),`#${s}`)}return e},bO=aG(sG),ZS=t=>{if(bO.has(t))return ZS(bO.get(t));const e=Jw.parse(t)||tA.parse(t)||eA.parse(t);if(!e){const n=new Error("Invalid color value: "+t);throw Error.captureStackTrace?.(n,ZS),n}return e};const oG=["top","right","bottom","left"],hd=Math.min,Ma=Math.max,QS=Math.round,cb=Math.floor,jl=t=>({x:t,y:t}),lG={left:"right",right:"left",bottom:"top",top:"bottom"},cG={start:"end",end:"start"};function gC(t,e,n){return Ma(t,hd(e,n))}function qc(t,e){return typeof t=="function"?t(e):t}function Yc(t){return t.split("-")[0]}function Bm(t){return t.split("-")[1]}function nA(t){return t==="x"?"y":"x"}function iA(t){return t==="y"?"height":"width"}const uG=new Set(["top","bottom"]);function kl(t){return uG.has(Yc(t))?"y":"x"}function rA(t){return nA(kl(t))}function dG(t,e,n){n===void 0&&(n=!1);const i=Bm(t),r=rA(t),s=iA(r);let o=r==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=JS(o)),[o,JS(o)]}function fG(t){const e=JS(t);return[vC(t),e,vC(e)]}function vC(t){return t.replace(/start|end/g,e=>cG[e])}const SO=["left","right"],_O=["right","left"],hG=["top","bottom"],pG=["bottom","top"];function mG(t,e,n){switch(t){case"top":case"bottom":return n?e?_O:SO:e?SO:_O;case"left":case"right":return e?hG:pG;default:return[]}}function gG(t,e,n,i){const r=Bm(t);let s=mG(Yc(t),n==="start",i);return r&&(s=s.map(o=>o+"-"+r),e&&(s=s.concat(s.map(vC)))),s}function JS(t){return t.replace(/left|right|bottom|top/g,e=>lG[e])}function vG(t){return{top:0,right:0,bottom:0,left:0,...t}}function OL(t){return typeof t!="number"?vG(t):{top:t,right:t,bottom:t,left:t}}function e_(t){const{x:e,y:n,width:i,height:r}=t;return{width:i,height:r,top:n,left:e,right:e+i,bottom:n+r,x:e,y:n}}function EO(t,e,n){let{reference:i,floating:r}=t;const s=kl(e),o=rA(e),l=iA(o),d=Yc(e),h=s==="y",m=i.x+i.width/2-r.width/2,g=i.y+i.height/2-r.height/2,y=i[l]/2-r[l]/2;let b;switch(d){case"top":b={x:m,y:i.y-r.height};break;case"bottom":b={x:m,y:i.y+i.height};break;case"right":b={x:i.x+i.width,y:g};break;case"left":b={x:i.x-r.width,y:g};break;default:b={x:i.x,y:i.y}}switch(Bm(e)){case"start":b[o]-=y*(n&&h?-1:1);break;case"end":b[o]+=y*(n&&h?-1:1);break}return b}const yG=async(t,e,n)=>{const{placement:i="bottom",strategy:r="absolute",middleware:s=[],platform:o}=n,l=s.filter(Boolean),d=await(o.isRTL==null?void 0:o.isRTL(e));let h=await o.getElementRects({reference:t,floating:e,strategy:r}),{x:m,y:g}=EO(h,i,d),y=i,b={},S=0;for(let C=0;C<l.length;C++){const{name:T,fn:_}=l[C],{x:w,y:R,data:N,reset:D}=await _({x:m,y:g,initialPlacement:i,placement:y,strategy:r,middlewareData:b,rects:h,platform:o,elements:{reference:t,floating:e}});m=w??m,g=R??g,b={...b,[T]:{...b[T],...N}},D&&S<=50&&(S++,typeof D=="object"&&(D.placement&&(y=D.placement),D.rects&&(h=D.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:r}):D.rects),{x:m,y:g}=EO(h,y,d)),C=-1)}return{x:m,y:g,placement:y,strategy:r,middlewareData:b}};async function My(t,e){var n;e===void 0&&(e={});const{x:i,y:r,platform:s,rects:o,elements:l,strategy:d}=t,{boundary:h="clippingAncestors",rootBoundary:m="viewport",elementContext:g="floating",altBoundary:y=!1,padding:b=0}=qc(e,t),S=OL(b),T=l[y?g==="floating"?"reference":"floating":g],_=e_(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(T)))==null||n?T:T.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:h,rootBoundary:m,strategy:d})),w=g==="floating"?{x:i,y:r,width:o.floating.width,height:o.floating.height}:o.reference,R=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),N=await(s.isElement==null?void 0:s.isElement(R))?await(s.getScale==null?void 0:s.getScale(R))||{x:1,y:1}:{x:1,y:1},D=e_(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:w,offsetParent:R,strategy:d}):w);return{top:(_.top-D.top+S.top)/N.y,bottom:(D.bottom-_.bottom+S.bottom)/N.y,left:(_.left-D.left+S.left)/N.x,right:(D.right-_.right+S.right)/N.x}}const xG=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:i,placement:r,rects:s,platform:o,elements:l,middlewareData:d}=e,{element:h,padding:m=0}=qc(t,e)||{};if(h==null)return{};const g=OL(m),y={x:n,y:i},b=rA(r),S=iA(b),C=await o.getDimensions(h),T=b==="y",_=T?"top":"left",w=T?"bottom":"right",R=T?"clientHeight":"clientWidth",N=s.reference[S]+s.reference[b]-y[b]-s.floating[S],D=y[b]-s.reference[b],I=await(o.getOffsetParent==null?void 0:o.getOffsetParent(h));let V=I?I[R]:0;(!V||!await(o.isElement==null?void 0:o.isElement(I)))&&(V=l.floating[R]||s.floating[S]);const B=N/2-D/2,L=V/2-C[S]/2-1,z=hd(g[_],L),F=hd(g[w],L),j=z,Z=V-C[S]-F,se=V/2-C[S]/2+B,ie=gC(j,se,Z),k=!d.arrow&&Bm(r)!=null&&se!==ie&&s.reference[S]/2-(se<j?z:F)-C[S]/2<0,q=k?se<j?se-j:se-Z:0;return{[b]:y[b]+q,data:{[b]:ie,centerOffset:se-ie-q,...k&&{alignmentOffset:q}},reset:k}}}),bG=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,i;const{placement:r,middlewareData:s,rects:o,initialPlacement:l,platform:d,elements:h}=e,{mainAxis:m=!0,crossAxis:g=!0,fallbackPlacements:y,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:C=!0,...T}=qc(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const _=Yc(r),w=kl(l),R=Yc(l)===l,N=await(d.isRTL==null?void 0:d.isRTL(h.floating)),D=y||(R||!C?[JS(l)]:fG(l)),I=S!=="none";!y&&I&&D.push(...gG(l,C,S,N));const V=[l,...D],B=await My(e,T),L=[];let z=((i=s.flip)==null?void 0:i.overflows)||[];if(m&&L.push(B[_]),g){const se=dG(r,o,N);L.push(B[se[0]],B[se[1]])}if(z=[...z,{placement:r,overflows:L}],!L.every(se=>se<=0)){var F,j;const se=(((F=s.flip)==null?void 0:F.index)||0)+1,ie=V[se];if(ie&&(!(g==="alignment"?w!==kl(ie):!1)||z.every($=>kl($.placement)===w?$.overflows[0]>0:!0)))return{data:{index:se,overflows:z},reset:{placement:ie}};let k=(j=z.filter(q=>q.overflows[0]<=0).sort((q,$)=>q.overflows[1]-$.overflows[1])[0])==null?void 0:j.placement;if(!k)switch(b){case"bestFit":{var Z;const q=(Z=z.filter($=>{if(I){const ne=kl($.placement);return ne===w||ne==="y"}return!0}).map($=>[$.placement,$.overflows.filter(ne=>ne>0).reduce((ne,G)=>ne+G,0)]).sort(($,ne)=>$[1]-ne[1])[0])==null?void 0:Z[0];q&&(k=q);break}case"initialPlacement":k=l;break}if(r!==k)return{reset:{placement:k}}}return{}}}};function TO(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function MO(t){return oG.some(e=>t[e]>=0)}const SG=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:i="referenceHidden",...r}=qc(t,e);switch(i){case"referenceHidden":{const s=await My(e,{...r,elementContext:"reference"}),o=TO(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:MO(o)}}}case"escaped":{const s=await My(e,{...r,altBoundary:!0}),o=TO(s,n.floating);return{data:{escapedOffsets:o,escaped:MO(o)}}}default:return{}}}}},NL=new Set(["left","top"]);async function _G(t,e){const{placement:n,platform:i,elements:r}=t,s=await(i.isRTL==null?void 0:i.isRTL(r.floating)),o=Yc(n),l=Bm(n),d=kl(n)==="y",h=NL.has(o)?-1:1,m=s&&d?-1:1,g=qc(e,t);let{mainAxis:y,crossAxis:b,alignmentAxis:S}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return l&&typeof S=="number"&&(b=l==="end"?S*-1:S),d?{x:b*m,y:y*h}:{x:y*h,y:b*m}}const EG=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,i;const{x:r,y:s,placement:o,middlewareData:l}=e,d=await _G(e,t);return o===((n=l.offset)==null?void 0:n.placement)&&(i=l.arrow)!=null&&i.alignmentOffset?{}:{x:r+d.x,y:s+d.y,data:{...d,placement:o}}}}},TG=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:i,placement:r}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:l={fn:T=>{let{x:_,y:w}=T;return{x:_,y:w}}},...d}=qc(t,e),h={x:n,y:i},m=await My(e,d),g=kl(Yc(r)),y=nA(g);let b=h[y],S=h[g];if(s){const T=y==="y"?"top":"left",_=y==="y"?"bottom":"right",w=b+m[T],R=b-m[_];b=gC(w,b,R)}if(o){const T=g==="y"?"top":"left",_=g==="y"?"bottom":"right",w=S+m[T],R=S-m[_];S=gC(w,S,R)}const C=l.fn({...e,[y]:b,[g]:S});return{...C,data:{x:C.x-n,y:C.y-i,enabled:{[y]:s,[g]:o}}}}}},MG=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:i,placement:r,rects:s,middlewareData:o}=e,{offset:l=0,mainAxis:d=!0,crossAxis:h=!0}=qc(t,e),m={x:n,y:i},g=kl(r),y=nA(g);let b=m[y],S=m[g];const C=qc(l,e),T=typeof C=="number"?{mainAxis:C,crossAxis:0}:{mainAxis:0,crossAxis:0,...C};if(d){const R=y==="y"?"height":"width",N=s.reference[y]-s.floating[R]+T.mainAxis,D=s.reference[y]+s.reference[R]-T.mainAxis;b<N?b=N:b>D&&(b=D)}if(h){var _,w;const R=y==="y"?"width":"height",N=NL.has(Yc(r)),D=s.reference[g]-s.floating[R]+(N&&((_=o.offset)==null?void 0:_[g])||0)+(N?0:T.crossAxis),I=s.reference[g]+s.reference[R]+(N?0:((w=o.offset)==null?void 0:w[g])||0)-(N?T.crossAxis:0);S<D?S=D:S>I&&(S=I)}return{[y]:b,[g]:S}}}},CG=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,i;const{placement:r,rects:s,platform:o,elements:l}=e,{apply:d=()=>{},...h}=qc(t,e),m=await My(e,h),g=Yc(r),y=Bm(r),b=kl(r)==="y",{width:S,height:C}=s.floating;let T,_;g==="top"||g==="bottom"?(T=g,_=y===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(_=g,T=y==="end"?"top":"bottom");const w=C-m.top-m.bottom,R=S-m.left-m.right,N=hd(C-m[T],w),D=hd(S-m[_],R),I=!e.middlewareData.shift;let V=N,B=D;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(B=R),(i=e.middlewareData.shift)!=null&&i.enabled.y&&(V=w),I&&!y){const z=Ma(m.left,0),F=Ma(m.right,0),j=Ma(m.top,0),Z=Ma(m.bottom,0);b?B=S-2*(z!==0||F!==0?z+F:Ma(m.left,m.right)):V=C-2*(j!==0||Z!==0?j+Z:Ma(m.top,m.bottom))}await d({...e,availableWidth:B,availableHeight:V});const L=await o.getDimensions(l.floating);return S!==L.width||C!==L.height?{reset:{rects:!0}}:{}}}};function E1(){return typeof window<"u"}function Fm(t){return DL(t)?(t.nodeName||"").toLowerCase():"#document"}function Aa(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function nc(t){var e;return(e=(DL(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function DL(t){return E1()?t instanceof Node||t instanceof Aa(t).Node:!1}function jo(t){return E1()?t instanceof Element||t instanceof Aa(t).Element:!1}function Zl(t){return E1()?t instanceof HTMLElement||t instanceof Aa(t).HTMLElement:!1}function CO(t){return!E1()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Aa(t).ShadowRoot}const wG=new Set(["inline","contents"]);function s0(t){const{overflow:e,overflowX:n,overflowY:i,display:r}=Xo(t);return/auto|scroll|overlay|hidden|clip/.test(e+i+n)&&!wG.has(r)}const AG=new Set(["table","td","th"]);function RG(t){return AG.has(Fm(t))}const OG=[":popover-open",":modal"];function T1(t){return OG.some(e=>{try{return t.matches(e)}catch{return!1}})}const NG=["transform","translate","scale","rotate","perspective"],DG=["transform","translate","scale","rotate","perspective","filter"],PG=["paint","layout","strict","content"];function sA(t){const e=aA(),n=jo(t)?Xo(t):t;return NG.some(i=>n[i]?n[i]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||DG.some(i=>(n.willChange||"").includes(i))||PG.some(i=>(n.contain||"").includes(i))}function IG(t){let e=pd(t);for(;Zl(e)&&!Mm(e);){if(sA(e))return e;if(T1(e))return null;e=pd(e)}return null}function aA(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const LG=new Set(["html","body","#document"]);function Mm(t){return LG.has(Fm(t))}function Xo(t){return Aa(t).getComputedStyle(t)}function M1(t){return jo(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function pd(t){if(Fm(t)==="html")return t;const e=t.assignedSlot||t.parentNode||CO(t)&&t.host||nc(t);return CO(e)?e.host:e}function PL(t){const e=pd(t);return Mm(e)?t.ownerDocument?t.ownerDocument.body:t.body:Zl(e)&&s0(e)?e:PL(e)}function Cy(t,e,n){var i;e===void 0&&(e=[]),n===void 0&&(n=!0);const r=PL(t),s=r===((i=t.ownerDocument)==null?void 0:i.body),o=Aa(r);if(s){const l=yC(o);return e.concat(o,o.visualViewport||[],s0(r)?r:[],l&&n?Cy(l):[])}return e.concat(r,Cy(r,[],n))}function yC(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function IL(t){const e=Xo(t);let n=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const r=Zl(t),s=r?t.offsetWidth:n,o=r?t.offsetHeight:i,l=QS(n)!==s||QS(i)!==o;return l&&(n=s,i=o),{width:n,height:i,$:l}}function oA(t){return jo(t)?t:t.contextElement}function xm(t){const e=oA(t);if(!Zl(e))return jl(1);const n=e.getBoundingClientRect(),{width:i,height:r,$:s}=IL(e);let o=(s?QS(n.width):n.width)/i,l=(s?QS(n.height):n.height)/r;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const zG=jl(0);function LL(t){const e=Aa(t);return!aA()||!e.visualViewport?zG:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function UG(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Aa(t)?!1:e}function ah(t,e,n,i){e===void 0&&(e=!1),n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=oA(t);let o=jl(1);e&&(i?jo(i)&&(o=xm(i)):o=xm(t));const l=UG(s,n,i)?LL(s):jl(0);let d=(r.left+l.x)/o.x,h=(r.top+l.y)/o.y,m=r.width/o.x,g=r.height/o.y;if(s){const y=Aa(s),b=i&&jo(i)?Aa(i):i;let S=y,C=yC(S);for(;C&&i&&b!==S;){const T=xm(C),_=C.getBoundingClientRect(),w=Xo(C),R=_.left+(C.clientLeft+parseFloat(w.paddingLeft))*T.x,N=_.top+(C.clientTop+parseFloat(w.paddingTop))*T.y;d*=T.x,h*=T.y,m*=T.x,g*=T.y,d+=R,h+=N,S=Aa(C),C=yC(S)}}return e_({width:m,height:g,x:d,y:h})}function C1(t,e){const n=M1(t).scrollLeft;return e?e.left+n:ah(nc(t)).left+n}function zL(t,e){const n=t.getBoundingClientRect(),i=n.left+e.scrollLeft-C1(t,n),r=n.top+e.scrollTop;return{x:i,y:r}}function VG(t){let{elements:e,rect:n,offsetParent:i,strategy:r}=t;const s=r==="fixed",o=nc(i),l=e?T1(e.floating):!1;if(i===o||l&&s)return n;let d={scrollLeft:0,scrollTop:0},h=jl(1);const m=jl(0),g=Zl(i);if((g||!g&&!s)&&((Fm(i)!=="body"||s0(o))&&(d=M1(i)),Zl(i))){const b=ah(i);h=xm(i),m.x=b.x+i.clientLeft,m.y=b.y+i.clientTop}const y=o&&!g&&!s?zL(o,d):jl(0);return{width:n.width*h.x,height:n.height*h.y,x:n.x*h.x-d.scrollLeft*h.x+m.x+y.x,y:n.y*h.y-d.scrollTop*h.y+m.y+y.y}}function kG(t){return Array.from(t.getClientRects())}function BG(t){const e=nc(t),n=M1(t),i=t.ownerDocument.body,r=Ma(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),s=Ma(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let o=-n.scrollLeft+C1(t);const l=-n.scrollTop;return Xo(i).direction==="rtl"&&(o+=Ma(e.clientWidth,i.clientWidth)-r),{width:r,height:s,x:o,y:l}}const wO=25;function FG(t,e){const n=Aa(t),i=nc(t),r=n.visualViewport;let s=i.clientWidth,o=i.clientHeight,l=0,d=0;if(r){s=r.width,o=r.height;const m=aA();(!m||m&&e==="fixed")&&(l=r.offsetLeft,d=r.offsetTop)}const h=C1(i);if(h<=0){const m=i.ownerDocument,g=m.body,y=getComputedStyle(g),b=m.compatMode==="CSS1Compat"&&parseFloat(y.marginLeft)+parseFloat(y.marginRight)||0,S=Math.abs(i.clientWidth-g.clientWidth-b);S<=wO&&(s-=S)}else h<=wO&&(s+=h);return{width:s,height:o,x:l,y:d}}const HG=new Set(["absolute","fixed"]);function GG(t,e){const n=ah(t,!0,e==="fixed"),i=n.top+t.clientTop,r=n.left+t.clientLeft,s=Zl(t)?xm(t):jl(1),o=t.clientWidth*s.x,l=t.clientHeight*s.y,d=r*s.x,h=i*s.y;return{width:o,height:l,x:d,y:h}}function AO(t,e,n){let i;if(e==="viewport")i=FG(t,n);else if(e==="document")i=BG(nc(t));else if(jo(e))i=GG(e,n);else{const r=LL(t);i={x:e.x-r.x,y:e.y-r.y,width:e.width,height:e.height}}return e_(i)}function UL(t,e){const n=pd(t);return n===e||!jo(n)||Mm(n)?!1:Xo(n).position==="fixed"||UL(n,e)}function WG(t,e){const n=e.get(t);if(n)return n;let i=Cy(t,[],!1).filter(l=>jo(l)&&Fm(l)!=="body"),r=null;const s=Xo(t).position==="fixed";let o=s?pd(t):t;for(;jo(o)&&!Mm(o);){const l=Xo(o),d=sA(o);!d&&l.position==="fixed"&&(r=null),(s?!d&&!r:!d&&l.position==="static"&&!!r&&HG.has(r.position)||s0(o)&&!d&&UL(t,o))?i=i.filter(m=>m!==o):r=l,o=pd(o)}return e.set(t,i),i}function jG(t){let{element:e,boundary:n,rootBoundary:i,strategy:r}=t;const o=[...n==="clippingAncestors"?T1(e)?[]:WG(e,this._c):[].concat(n),i],l=o[0],d=o.reduce((h,m)=>{const g=AO(e,m,r);return h.top=Ma(g.top,h.top),h.right=hd(g.right,h.right),h.bottom=hd(g.bottom,h.bottom),h.left=Ma(g.left,h.left),h},AO(e,l,r));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function XG(t){const{width:e,height:n}=IL(t);return{width:e,height:n}}function qG(t,e,n){const i=Zl(e),r=nc(e),s=n==="fixed",o=ah(t,!0,s,e);let l={scrollLeft:0,scrollTop:0};const d=jl(0);function h(){d.x=C1(r)}if(i||!i&&!s)if((Fm(e)!=="body"||s0(r))&&(l=M1(e)),i){const b=ah(e,!0,s,e);d.x=b.x+e.clientLeft,d.y=b.y+e.clientTop}else r&&h();s&&!i&&r&&h();const m=r&&!i&&!s?zL(r,l):jl(0),g=o.left+l.scrollLeft-d.x-m.x,y=o.top+l.scrollTop-d.y-m.y;return{x:g,y,width:o.width,height:o.height}}function ST(t){return Xo(t).position==="static"}function RO(t,e){if(!Zl(t)||Xo(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return nc(t)===n&&(n=n.ownerDocument.body),n}function VL(t,e){const n=Aa(t);if(T1(t))return n;if(!Zl(t)){let r=pd(t);for(;r&&!Mm(r);){if(jo(r)&&!ST(r))return r;r=pd(r)}return n}let i=RO(t,e);for(;i&&RG(i)&&ST(i);)i=RO(i,e);return i&&Mm(i)&&ST(i)&&!sA(i)?n:i||IG(t)||n}const YG=async function(t){const e=this.getOffsetParent||VL,n=this.getDimensions,i=await n(t.floating);return{reference:qG(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function KG(t){return Xo(t).direction==="rtl"}const $G={convertOffsetParentRelativeRectToViewportRelativeRect:VG,getDocumentElement:nc,getClippingRect:jG,getOffsetParent:VL,getElementRects:YG,getClientRects:kG,getDimensions:XG,getScale:xm,isElement:jo,isRTL:KG};function kL(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function ZG(t,e){let n=null,i;const r=nc(t);function s(){var l;clearTimeout(i),(l=n)==null||l.disconnect(),n=null}function o(l,d){l===void 0&&(l=!1),d===void 0&&(d=1),s();const h=t.getBoundingClientRect(),{left:m,top:g,width:y,height:b}=h;if(l||e(),!y||!b)return;const S=cb(g),C=cb(r.clientWidth-(m+y)),T=cb(r.clientHeight-(g+b)),_=cb(m),R={rootMargin:-S+"px "+-C+"px "+-T+"px "+-_+"px",threshold:Ma(0,hd(1,d))||1};let N=!0;function D(I){const V=I[0].intersectionRatio;if(V!==d){if(!N)return o();V?o(!1,V):i=setTimeout(()=>{o(!1,1e-7)},1e3)}V===1&&!kL(h,t.getBoundingClientRect())&&o(),N=!1}try{n=new IntersectionObserver(D,{...R,root:r.ownerDocument})}catch{n=new IntersectionObserver(D,R)}n.observe(t)}return o(!0),s}function QG(t,e,n,i){i===void 0&&(i={});const{ancestorScroll:r=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:d=!1}=i,h=oA(t),m=r||s?[...h?Cy(h):[],...Cy(e)]:[];m.forEach(_=>{r&&_.addEventListener("scroll",n,{passive:!0}),s&&_.addEventListener("resize",n)});const g=h&&l?ZG(h,n):null;let y=-1,b=null;o&&(b=new ResizeObserver(_=>{let[w]=_;w&&w.target===h&&b&&(b.unobserve(e),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var R;(R=b)==null||R.observe(e)})),n()}),h&&!d&&b.observe(h),b.observe(e));let S,C=d?ah(t):null;d&&T();function T(){const _=ah(t);C&&!kL(C,_)&&n(),C=_,S=requestAnimationFrame(T)}return n(),()=>{var _;m.forEach(w=>{r&&w.removeEventListener("scroll",n),s&&w.removeEventListener("resize",n)}),g?.(),(_=b)==null||_.disconnect(),b=null,d&&cancelAnimationFrame(S)}}const JG=EG,eW=TG,tW=bG,nW=CG,iW=SG,rW=xG,sW=MG,aW=(t,e,n)=>{const i=new Map,r={platform:$G,...n},s={...r.platform,_c:i};return yG(t,e,{...r,platform:s})};function OO(t=0,e=0,n=0,i=0){if(typeof DOMRect=="function")return new DOMRect(t,e,n,i);const r={x:t,y:e,width:n,height:i,top:e,right:t+n,bottom:e+i,left:t};return{...r,toJSON:()=>r}}function oW(t){if(!t)return OO();const{x:e,y:n,width:i,height:r}=t;return OO(e,n,i,r)}function lW(t,e){return{contextElement:Ns(t)?t:void 0,getBoundingClientRect:()=>{const n=t,i=e?.(n);return i||!n?oW(i):n.getBoundingClientRect()}}}var yv=t=>({variable:t,reference:`var(${t})`}),kc={arrowSize:yv("--arrow-size"),arrowSizeHalf:yv("--arrow-size-half"),arrowBg:yv("--arrow-background"),transformOrigin:yv("--transform-origin"),arrowOffset:yv("--arrow-offset")},cW=t=>t==="top"||t==="bottom"?"y":"x";function uW(t,e){return{name:"transformOrigin",fn(n){const{elements:i,middlewareData:r,placement:s,rects:o,y:l}=n,d=s.split("-")[0],h=cW(d),m=r.arrow?.x||0,g=r.arrow?.y||0,y=e?.clientWidth||0,b=e?.clientHeight||0,S=m+y/2,C=g+b/2,T=Math.abs(r.shift?.y||0),_=o.reference.height/2,w=b/2,R=t.offset?.mainAxis??t.gutter,N=typeof R=="number"?R+w:R??w,D=T>N,I={top:`${S}px calc(100% + ${N}px)`,bottom:`${S}px ${-N}px`,left:`calc(100% + ${N}px) ${C}px`,right:`${-N}px ${C}px`}[d],V=`${S}px ${o.reference.y+_-l}px`,B=!!t.overlap&&h==="y"&&D;return i.floating.style.setProperty(kc.transformOrigin.variable,B?V:I),{data:{transformOrigin:B?V:I}}}}}var dW={name:"rects",fn({rects:t}){return{data:t}}},fW=t=>{if(t)return{name:"shiftArrow",fn({placement:e,middlewareData:n}){if(!n.arrow)return{};const{x:i,y:r}=n.arrow,s=e.split("-")[0];return Object.assign(t.style,{left:i!=null?`${i}px`:"",top:r!=null?`${r}px`:"",[s]:`calc(100% + ${kc.arrowOffset.reference})`}),{}}}};function hW(t){const[e,n]=t.split("-");return{side:e,align:n,hasAlign:n!=null}}function pW(t){return t.split("-")[0]}var mW={strategy:"absolute",placement:"bottom",listeners:!0,gutter:8,flip:!0,slide:!0,overlap:!1,sameWidth:!1,fitViewport:!1,overflowPadding:8,arrowPadding:4};function NO(t,e){const n=t.devicePixelRatio||1;return Math.round(e*n)/n}function lA(t){return typeof t=="function"?t():t==="clipping-ancestors"?"clippingAncestors":t}function gW(t,e,n){const i=t||e.createElement("div");return rW({element:i,padding:n.arrowPadding})}function vW(t,e){if(!QH(e.offset??e.gutter))return JG(({placement:n})=>{const i=(t?.clientHeight||0)/2,r=e.offset?.mainAxis??e.gutter,s=typeof r=="number"?r+i:r??i,{hasAlign:o}=hW(n),l=o?void 0:e.shift,d=e.offset?.crossAxis??l;return p1({crossAxis:d,mainAxis:s,alignmentAxis:e.shift})})}function yW(t){if(!t.flip)return;const e=lA(t.boundary);return tW({...e?{boundary:e}:void 0,padding:t.overflowPadding,fallbackPlacements:t.flip===!0?void 0:t.flip})}function xW(t){if(!t.slide&&!t.overlap)return;const e=lA(t.boundary);return eW({...e?{boundary:e}:void 0,mainAxis:t.slide,crossAxis:t.overlap,padding:t.overflowPadding,limiter:sW()})}function bW(t){return nW({padding:t.overflowPadding,apply({elements:e,rects:n,availableHeight:i,availableWidth:r}){const s=e.floating,o=Math.round(n.reference.width),l=Math.round(n.reference.height);r=Math.floor(r),i=Math.floor(i),s.style.setProperty("--reference-width",`${o}px`),s.style.setProperty("--reference-height",`${l}px`),s.style.setProperty("--available-width",`${r}px`),s.style.setProperty("--available-height",`${i}px`)}})}function SW(t){if(t.hideWhenDetached)return iW({strategy:"referenceHidden",boundary:lA(t.boundary)??"clippingAncestors"})}function _W(t){return t?t===!0?{ancestorResize:!0,ancestorScroll:!0,elementResize:!0,layoutShift:!0}:t:{}}function EW(t,e,n={}){const i=lW(t,n.getAnchorRect);if(!e||!i)return;const r=Object.assign({},mW,n),s=e.querySelector("[data-part=arrow]"),o=[vW(s,r),yW(r),xW(r),gW(s,e.ownerDocument,r),fW(s),uW({gutter:r.gutter,offset:r.offset,overlap:r.overlap},s),bW(r),SW(r),dW],{placement:l,strategy:d,onComplete:h,onPositioned:m}=r,g=async()=>{if(!i||!e)return;const C=await aW(i,e,{placement:l,middleware:o,strategy:d});h?.(C),m?.({placed:!0});const T=ur(e),_=NO(T,C.x),w=NO(T,C.y);e.style.setProperty("--x",`${_}px`),e.style.setProperty("--y",`${w}px`),r.hideWhenDetached&&(C.middlewareData.hide?.referenceHidden?(e.style.setProperty("visibility","hidden"),e.style.setProperty("pointer-events","none")):(e.style.removeProperty("visibility"),e.style.removeProperty("pointer-events")));const R=e.firstElementChild;if(R){const N=sL(R);e.style.setProperty("--z-index",N.zIndex)}},y=async()=>{n.updatePosition?(await n.updatePosition({updatePosition:g,floatingElement:e}),m?.({placed:!0})):await g()},b=_W(r.listeners),S=r.listeners?QG(i,e,y,b):a6;return y(),()=>{S?.(),m?.({placed:!1})}}function qo(t,e,n={}){const{defer:i,...r}=n,s=i?_n:l=>l(),o=[];return o.push(s(()=>{const l=typeof t=="function"?t():t,d=typeof e=="function"?e():e;o.push(EW(l,d,r))})),()=>{o.forEach(l=>l?.())}}var TW={bottom:"rotate(45deg)",left:"rotate(135deg)",top:"rotate(225deg)",right:"rotate(315deg)"};function MW(t={}){const{placement:e,sameWidth:n,fitViewport:i,strategy:r="absolute"}=t;return{arrow:{position:"absolute",width:kc.arrowSize.reference,height:kc.arrowSize.reference,[kc.arrowSizeHalf.variable]:`calc(${kc.arrowSize.reference} / 2)`,[kc.arrowOffset.variable]:`calc(${kc.arrowSizeHalf.reference} * -1)`},arrowTip:{transform:e?TW[e.split("-")[0]]:void 0,background:kc.arrowBg.reference,top:"0",left:"0",width:"100%",height:"100%",position:"absolute",zIndex:"inherit"},floating:{position:r,isolation:"isolate",minWidth:n?void 0:"max-content",width:n?"var(--reference-width)":void 0,maxWidth:i?"var(--available-width)":void 0,maxHeight:i?"var(--available-height)":void 0,pointerEvents:e?void 0:"none",top:"0px",left:"0px",transform:e?"translate3d(var(--x), var(--y), 0)":"translate3d(0, -100vh, 0)",zIndex:"var(--z-index)"}}}function CW(t){const e={each(n){for(let i=0;i<t.frames?.length;i+=1){const r=t.frames[i];r&&n(r)}},addEventListener(n,i,r){return e.each(s=>{try{s.document.addEventListener(n,i,r)}catch{}}),()=>{try{e.removeEventListener(n,i,r)}catch{}}},removeEventListener(n,i,r){e.each(s=>{try{s.document.removeEventListener(n,i,r)}catch{}})}};return e}function wW(t){const e=t.frameElement!=null?t.parent:null;return{addEventListener:(n,i,r)=>{try{e?.addEventListener(n,i,r)}catch{}return()=>{try{e?.removeEventListener(n,i,r)}catch{}}},removeEventListener:(n,i,r)=>{try{e?.removeEventListener(n,i,r)}catch{}}}}var DO="pointerdown.outside",PO="focus.outside";function AW(t){for(const e of t)if(Ns(e)&&Ww(e))return!0;return!1}var BL=t=>"clientY"in t;function RW(t,e){if(!BL(e)||!t)return!1;const n=t.getBoundingClientRect();return n.width===0||n.height===0?!1:n.top<=e.clientY&&e.clientY<=n.top+n.height&&n.left<=e.clientX&&e.clientX<=n.left+n.width}function OW(t,e){return t.y<=e.y&&e.y<=t.y+t.height&&t.x<=e.x&&e.x<=t.x+t.width}function IO(t,e){if(!e||!BL(t))return!1;const n=e.scrollHeight>e.clientHeight,i=n&&t.clientX>e.offsetLeft+e.clientWidth,r=e.scrollWidth>e.clientWidth,s=r&&t.clientY>e.offsetTop+e.clientHeight,o={x:e.offsetLeft,y:e.offsetTop,width:e.clientWidth+(n?16:0),height:e.clientHeight+(r?16:0)},l={x:t.clientX,y:t.clientY};return OW(o,l)?i||s:!1}function NW(t,e){const{exclude:n,onFocusOutside:i,onPointerDownOutside:r,onInteractOutside:s,defer:o}=e;if(!t)return;const l=Ko(t),d=ur(t),h=CW(d),m=wW(d);function g(w,R){if(!Ns(R)||!R.isConnected||Jf(t,R)||RW(t,w))return!1;const N=l.querySelector(`[aria-controls="${t.id}"]`);if(N){const I=YS(N);if(IO(w,I))return!1}const D=YS(t);return IO(w,D)?!1:!n?.(R)}const y=new Set,b=Tm(t?.getRootNode());function S(w){function R(N){const D=o&&!mO()?_n:B=>B(),I=N??w,V=I?.composedPath?.()??[I?.target];D(()=>{const B=b?V[0]:Xc(w);if(!(!t||!g(w,B))){if(r||s){const L=qS(r,s);t.addEventListener(DO,L,{once:!0})}LO(t,DO,{bubbles:!1,cancelable:!0,detail:{originalEvent:I,contextmenu:Q6(I),focusable:AW(V),target:B}})}})}w.pointerType==="touch"?(y.forEach(N=>N()),y.add(Vr(l,"click",R,{once:!0})),y.add(m.addEventListener("click",R,{once:!0})),y.add(h.addEventListener("click",R,{once:!0}))):R()}const C=new Set,T=setTimeout(()=>{C.add(Vr(l,"pointerdown",S,!0)),C.add(m.addEventListener("pointerdown",S,!0)),C.add(h.addEventListener("pointerdown",S,!0))},0);function _(w){(o?_n:N=>N())(()=>{const N=Xc(w);if(!(!t||!g(w,N))){if(i||s){const D=qS(i,s);t.addEventListener(PO,D,{once:!0})}LO(t,PO,{bubbles:!1,cancelable:!0,detail:{originalEvent:w,contextmenu:!1,focusable:Ww(N),target:N}})}})}return mO()||(C.add(Vr(l,"focusin",_,!0)),C.add(m.addEventListener("focusin",_,!0)),C.add(h.addEventListener("focusin",_,!0))),()=>{clearTimeout(T),y.forEach(w=>w()),C.forEach(w=>w())}}function DW(t,e){const{defer:n}=e,i=n?_n:s=>s(),r=[];return r.push(i(()=>{const s=typeof t=="function"?t():t;r.push(NW(s,e))})),()=>{r.forEach(s=>s?.())}}function LO(t,e,n){const i=t.ownerDocument.defaultView||window,r=new i.CustomEvent(e,n);return t.dispatchEvent(r)}function PW(t,e){const n=i=>{i.key==="Escape"&&(i.isComposing||e?.(i))};return Vr(Ko(t),"keydown",n,{capture:!0})}var zO="layer:request-dismiss",to={layers:[],branches:[],count(){return this.layers.length},pointerBlockingLayers(){return this.layers.filter(t=>t.pointerBlocking)},topMostPointerBlockingLayer(){return[...this.pointerBlockingLayers()].slice(-1)[0]},hasPointerBlockingLayer(){return this.pointerBlockingLayers().length>0},isBelowPointerBlockingLayer(t){const e=this.indexOf(t),n=this.topMostPointerBlockingLayer()?this.indexOf(this.topMostPointerBlockingLayer()?.node):-1;return e<n},isTopMost(t){return this.layers[this.count()-1]?.node===t},getNestedLayers(t){return Array.from(this.layers).slice(this.indexOf(t)+1)},getLayersByType(t){return this.layers.filter(e=>e.type===t)},getNestedLayersByType(t,e){const n=this.indexOf(t);return n===-1?[]:this.layers.slice(n+1).filter(i=>i.type===e)},getParentLayerOfType(t,e){const n=this.indexOf(t);if(!(n<=0))return this.layers.slice(0,n).reverse().find(i=>i.type===e)},countNestedLayersOfType(t,e){return this.getNestedLayersByType(t,e).length},isInNestedLayer(t,e){return this.getNestedLayers(t).some(n=>Jf(n.node,e))},isInBranch(t){return Array.from(this.branches).some(e=>Jf(e,t))},add(t){this.layers.push(t),this.syncLayers()},addBranch(t){this.branches.push(t)},remove(t){const e=this.indexOf(t);e<0||(e<this.count()-1&&this.getNestedLayers(t).forEach(i=>to.dismiss(i.node,t)),this.layers.splice(e,1),this.syncLayers())},removeBranch(t){const e=this.branches.indexOf(t);e>=0&&this.branches.splice(e,1)},syncLayers(){this.layers.forEach((t,e)=>{t.node.style.setProperty("--layer-index",`${e}`),t.node.removeAttribute("data-nested"),t.node.removeAttribute("data-has-nested"),this.getParentLayerOfType(t.node,t.type)&&t.node.setAttribute("data-nested",t.type);const i=this.countNestedLayersOfType(t.node,t.type);i>0&&t.node.setAttribute("data-has-nested",t.type),t.node.style.setProperty("--nested-layer-count",`${i}`)})},indexOf(t){return this.layers.findIndex(e=>e.node===t)},dismiss(t,e){const n=this.indexOf(t);if(n===-1)return;const i=this.layers[n];LW(t,zO,r=>{i.requestDismiss?.(r),r.defaultPrevented||i?.dismiss()}),IW(t,zO,{originalLayer:t,targetLayer:e,originalIndex:n,targetIndex:e?this.indexOf(e):-1}),this.syncLayers()},clear(){this.remove(this.layers[0].node)}};function IW(t,e,n){const i=t.ownerDocument.defaultView||window,r=new i.CustomEvent(e,{cancelable:!0,bubbles:!0,detail:n});return t.dispatchEvent(r)}function LW(t,e,n){t.addEventListener(e,n,{once:!0})}var UO;function VO(){to.layers.forEach(({node:t})=>{t.style.pointerEvents=to.isBelowPointerBlockingLayer(t)?"none":"auto"})}function zW(t){t.style.pointerEvents=""}function UW(t,e){const n=Ko(t),i=[];return to.hasPointerBlockingLayer()&&!n.body.hasAttribute("data-inert")&&(UO=document.body.style.pointerEvents,queueMicrotask(()=>{n.body.style.pointerEvents="none",n.body.setAttribute("data-inert","")})),e?.forEach(r=>{const[s,o]=I8(()=>{const l=r();return Ns(l)?l:null},{timeout:1e3});s.then(l=>i.push(mL(l,{pointerEvents:"auto"}))),i.push(o)}),()=>{to.hasPointerBlockingLayer()||(queueMicrotask(()=>{n.body.style.pointerEvents=UO,n.body.removeAttribute("data-inert"),n.body.style.length===0&&n.body.removeAttribute("style")}),i.forEach(r=>r()))}}function VW(t,e){const{warnOnMissingNode:n=!0}=e;if(n&&!t){_y("[@zag-js/dismissable] node is `null` or `undefined`");return}if(!t)return;const{onDismiss:i,onRequestDismiss:r,pointerBlocking:s,exclude:o,debug:l,type:d="dialog"}=e,h={dismiss:i,node:t,type:d,pointerBlocking:s,requestDismiss:r};to.add(h),VO();function m(C){const T=Xc(C.detail.originalEvent);to.isBelowPointerBlockingLayer(t)||to.isInBranch(T)||(e.onPointerDownOutside?.(C),e.onInteractOutside?.(C),!C.defaultPrevented&&(l&&console.log("onPointerDownOutside:",C.detail.originalEvent),i?.()))}function g(C){const T=Xc(C.detail.originalEvent);to.isInBranch(T)||(e.onFocusOutside?.(C),e.onInteractOutside?.(C),!C.defaultPrevented&&(l&&console.log("onFocusOutside:",C.detail.originalEvent),i?.()))}function y(C){to.isTopMost(t)&&(e.onEscapeKeyDown?.(C),!C.defaultPrevented&&i&&(C.preventDefault(),i()))}function b(C){if(!t)return!1;const T=typeof o=="function"?o():o,_=Array.isArray(T)?T:[T],w=e.persistentElements?.map(R=>R()).filter(Ns);return w&&_.push(...w),_.some(R=>Jf(R,C))||to.isInNestedLayer(t,C)}const S=[s?UW(t,e.persistentElements):void 0,PW(t,y),DW(t,{exclude:b,onFocusOutside:g,onPointerDownOutside:m,defer:e.defer})];return()=>{to.remove(t),VO(),zW(t),S.forEach(C=>C?.())}}function a0(t,e){const{defer:n}=e,i=n?_n:s=>s(),r=[];return r.push(i(()=>{const s=jf(t)?t():t;r.push(VW(s,e))})),()=>{r.forEach(s=>s?.())}}var FL=zt("color-picker",["root","label","control","trigger","positioner","content","area","areaThumb","valueText","areaBackground","channelSlider","channelSliderLabel","channelSliderTrack","channelSliderThumb","channelSliderValueText","channelInput","transparencyGrid","swatchGroup","swatchTrigger","swatchIndicator","swatch","eyeDropperTrigger","formatTrigger","formatSelect"]);FL.build();var kW=t=>t.ids?.hiddenInput??`color-picker:${t.id}:hidden-input`,BW=t=>t.ids?.control??`color-picker:${t.id}:control`,FW=t=>t.ids?.trigger??`color-picker:${t.id}:trigger`,HW=t=>t.ids?.content??`color-picker:${t.id}:content`,GW=t=>t.ids?.positioner??`color-picker:${t.id}:positioner`,WW=t=>t.ids?.formatSelect??`color-picker:${t.id}:format-select`,jW=t=>t.ids?.area??`color-picker:${t.id}:area`,XW=t=>t.ids?.areaThumb??`color-picker:${t.id}:area-thumb`,qW=(t,e)=>t.ids?.channelSliderTrack?.(e)??`color-picker:${t.id}:slider-track:${e}`,YW=(t,e)=>t.ids?.channelSliderThumb?.(e)??`color-picker:${t.id}:slider-thumb:${e}`,AS=t=>t.getById(HW(t)),KW=t=>t.getById(XW(t)),$W=(t,e)=>t.getById(YW(t,e)),ZW=t=>t.getById(WW(t)),kO=t=>t.getById(kW(t)),QW=t=>t.getById(jW(t)),JW=(t,e,n)=>{const i=QW(t);if(!i)return;const{getPercentValue:r}=hL(e,i);return{x:r({dir:n,orientation:"horizontal"}),y:r({orientation:"vertical"})}},e7=t=>t.getById(BW(t)),_T=t=>t.getById(FW(t)),t7=t=>t.getById(GW(t)),n7=(t,e)=>t.getById(qW(t,e)),i7=(t,e,n,i)=>{const r=n7(t,n);if(!r)return;const{getPercentValue:s}=hL(e,r);return{x:s({dir:i,orientation:"horizontal"}),y:s({orientation:"vertical"})}},r7=t=>[...Ey(AS(t),"input[data-channel]"),...Ey(e7(t),"input[data-channel]")];function s7(t,e){if(e==null)return"";if(e==="hex")return t.toString("hex");if(e==="css")return t.toString("css");if(e in t)return t.getChannelValue(e).toString();const n=t.getFormat()==="hsla";switch(e){case"hue":return n?t.toFormat("hsla").getChannelValue("hue").toString():t.toFormat("hsba").getChannelValue("hue").toString();case"saturation":return n?t.toFormat("hsla").getChannelValue("saturation").toString():t.toFormat("hsba").getChannelValue("saturation").toString();case"lightness":return t.toFormat("hsla").getChannelValue("lightness").toString();case"brightness":return t.toFormat("hsba").getChannelValue("brightness").toString();case"red":case"green":case"blue":return t.toFormat("rgba").getChannelValue(e).toString();default:return t.getChannelValue(e).toString()}}var BO=t=>ZS(t),a7=/^[0-9a-fA-F]{3,8}$/;function o7(t){return a7.test(t)}function l7(t){return t.startsWith("#")?t:o7(t)?`#${t}`:t}var{and:c7}=tu();c7("isOpenControlled","closeOnSelect");function FO(t,e,n){const i=r7(t);_n(()=>{i.forEach(r=>{const s=r.dataset.channel;y1(r,s7(n||e,s))})})}function u7(t,e){const n=ZW(t);n&&_n(()=>y1(n,e))}Ut()(["closeOnSelect","dir","disabled","format","defaultFormat","getRootNode","id","ids","initialFocusEl","inline","name","positioning","onFocusOutside","onFormatChange","onInteractOutside","onOpenChange","onPointerDownOutside","onValueChange","onValueChangeEnd","defaultOpen","open","positioning","required","readOnly","value","defaultValue","invalid","openAutoFocus"]);Ut()(["xChannel","yChannel"]);Ut()(["channel","orientation"]);Ut()(["value","disabled"]);Ut()(["value","respectAlpha"]);Ut()(["size"]);var HL=zt("accordion").parts("root","item","itemTrigger","itemContent","itemIndicator");HL.build();var GL=t=>t.ids?.root??`accordion:${t.id}`,WL=(t,e)=>t.ids?.itemTrigger?.(e)??`accordion:${t.id}:trigger:${e}`,d7=t=>t.getById(GL(t)),w1=t=>{const n=`[aria-controls][data-ownedby='${CSS.escape(GL(t))}']:not([disabled])`;return Ey(d7(t),n)},f7=t=>$v(w1(t)),h7=t=>kw(w1(t)),p7=(t,e)=>E8(w1(t),WL(t,e)),m7=(t,e)=>T8(w1(t),WL(t,e)),{and:g7,not:v7}=tu();g7("isExpanded","canToggle"),v7("isExpanded");Ut()(["collapsible","dir","disabled","getRootNode","id","ids","multiple","onFocusChange","onValueChange","orientation","value","defaultValue"]);Ut()(["value","disabled"]);var Hv=(t,e)=>({x:t,y:e});function y7(t){const{x:e,y:n,width:i,height:r}=t,s=e+i/2,o=n+r/2;return{x:e,y:n,width:i,height:r,minX:e,minY:n,maxX:e+i,maxY:n+r,midX:s,midY:o,center:Hv(s,o)}}function x7(t){const e=Hv(t.minX,t.minY),n=Hv(t.maxX,t.minY),i=Hv(t.maxX,t.maxY),r=Hv(t.minX,t.maxY);return{top:e,right:n,bottom:i,left:r}}function b7(t,e){const n=y7(t),{top:i,right:r,left:s,bottom:o}=x7(n),[l]=e.split("-");return{top:[s,i,r,o],right:[i,r,o,s],bottom:[i,s,o,r],left:[r,i,s,o]}[l]}function S7(t,e){const{x:n,y:i}=e;let r=!1;for(let s=0,o=t.length-1;s<t.length;o=s++){const l=t[s].x,d=t[s].y,h=t[o].x,m=t[o].y;d>i!=m>i&&n<(h-l)*(i-d)/(m-d)+l&&(r=!r)}return r}var jL=zt("avatar").parts("root","image","fallback");jL.build();Ut()(["dir","id","ids","onStatusChange","getRootNode"]);function _7(t){return!(t.metaKey||!v1()&&t.altKey||t.ctrlKey||t.key==="Control"||t.key==="Shift"||t.key==="Meta")}var E7=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function T7(t,e,n){const i=n?Xc(n):null,r=ur(i);return t=t||i instanceof r.HTMLInputElement&&!E7.has(i?.type)||i instanceof r.HTMLTextAreaElement||i instanceof r.HTMLElement&&i.isContentEditable,!(t&&e==="keyboard"&&n instanceof r.KeyboardEvent&&!Reflect.has(M7,n.key))}var ph=null,xC=new Set,Jv=new Map,oh=!1,bC=!1,M7={Tab:!0,Escape:!0};function A1(t,e){for(let n of xC)n(t,e)}function t_(t){oh=!0,_7(t)&&(ph="keyboard",A1("keyboard",t))}function no(t){ph="pointer",(t.type==="mousedown"||t.type==="pointerdown")&&(oh=!0,A1("pointer",t))}function XL(t){Z6(t)&&(oh=!0,ph="virtual")}function qL(t){const e=Xc(t);e===ur(e)||e===Ko(e)||(!oh&&!bC&&(ph="virtual",A1("virtual",t)),oh=!1,bC=!1)}function YL(){oh=!1,bC=!0}function C7(t){if(typeof window>"u"||Jv.get(ur(t)))return;const e=ur(t),n=Ko(t);let i=e.HTMLElement.prototype.focus;function r(){ph="virtual",A1("virtual",null),oh=!0,i.apply(this,arguments)}Object.defineProperty(e.HTMLElement.prototype,"focus",{configurable:!0,value:r}),n.addEventListener("keydown",t_,!0),n.addEventListener("keyup",t_,!0),n.addEventListener("click",XL,!0),e.addEventListener("focus",qL,!0),e.addEventListener("blur",YL,!1),typeof e.PointerEvent<"u"?(n.addEventListener("pointerdown",no,!0),n.addEventListener("pointermove",no,!0),n.addEventListener("pointerup",no,!0)):(n.addEventListener("mousedown",no,!0),n.addEventListener("mousemove",no,!0),n.addEventListener("mouseup",no,!0)),e.addEventListener("beforeunload",()=>{w7(t)},{once:!0}),Jv.set(e,{focus:i})}var w7=(t,e)=>{const n=ur(t),i=Ko(t);Jv.has(n)&&(n.HTMLElement.prototype.focus=Jv.get(n).focus,i.removeEventListener("keydown",t_,!0),i.removeEventListener("keyup",t_,!0),i.removeEventListener("click",XL,!0),n.removeEventListener("focus",qL,!0),n.removeEventListener("blur",YL,!1),typeof n.PointerEvent<"u"?(i.removeEventListener("pointerdown",no,!0),i.removeEventListener("pointermove",no,!0),i.removeEventListener("pointerup",no,!0)):(i.removeEventListener("mousedown",no,!0),i.removeEventListener("mousemove",no,!0),i.removeEventListener("mouseup",no,!0)),Jv.delete(n))};function n_(){return ph==="keyboard"}function KL(t={}){const{isTextInput:e,autoFocus:n,onChange:i,root:r}=t;C7(r),i?.({isFocusVisible:n||n_(),modality:ph});const s=(o,l)=>{T7(!!e,o,l)&&i?.({isFocusVisible:n_(),modality:o})};return xC.add(s),()=>{xC.delete(s)}}var $L=zt("checkbox").parts("root","label","control","indicator");$L.build();Ut()(["defaultChecked","checked","dir","disabled","form","getRootNode","id","ids","invalid","name","onCheckedChange","readOnly","required","value"]);const A7=$L.extendWith("group");var ZL=zt("clipboard").parts("root","control","trigger","indicator","input","label");ZL.build();Ut()(["getRootNode","id","ids","value","defaultValue","timeout","onStatusChange","onValueChange"]);Ut()(["copied"]);const R7=FL.extendWith("view");var O7=Object.defineProperty,N7=(t,e,n)=>e in t?O7(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ze=(t,e,n)=>N7(t,typeof e!="symbol"?e+"":e,n),RS={itemToValue(t){return typeof t=="string"?t:Wf(t)&&dd(t,"value")?t.value:""},itemToString(t){return typeof t=="string"?t:Wf(t)&&dd(t,"label")?t.label:RS.itemToValue(t)},isItemDisabled(t){return Wf(t)&&dd(t,"disabled")?!!t.disabled:!1}},R1=class QL{constructor(e){this.options=e,Ze(this,"items"),Ze(this,"indexMap",null),Ze(this,"copy",n=>new QL({...this.options,items:n??[...this.items]})),Ze(this,"isEqual",n=>Go(this.items,n.items)),Ze(this,"setItems",n=>this.copy(n)),Ze(this,"getValues",(n=this.items)=>{const i=[];for(const r of n){const s=this.getItemValue(r);s!=null&&i.push(s)}return i}),Ze(this,"find",n=>{if(n==null)return null;const i=this.indexOf(n);return i!==-1?this.at(i):null}),Ze(this,"findMany",n=>{const i=[];for(const r of n){const s=this.find(r);s!=null&&i.push(s)}return i}),Ze(this,"at",n=>{if(!this.options.groupBy&&!this.options.groupSort)return this.items[n]??null;let i=0;const r=this.group();for(const[,s]of r)for(const o of s){if(i===n)return o;i++}return null}),Ze(this,"sortFn",(n,i)=>{const r=this.indexOf(n),s=this.indexOf(i);return(r??0)-(s??0)}),Ze(this,"sort",n=>[...n].sort(this.sortFn.bind(this))),Ze(this,"getItemValue",n=>n==null?null:this.options.itemToValue?.(n)??RS.itemToValue(n)),Ze(this,"getItemDisabled",n=>n==null?!1:this.options.isItemDisabled?.(n)??RS.isItemDisabled(n)),Ze(this,"stringifyItem",n=>n==null?null:this.options.itemToString?.(n)??RS.itemToString(n)),Ze(this,"stringify",n=>n==null?null:this.stringifyItem(this.find(n))),Ze(this,"stringifyItems",(n,i=", ")=>{const r=[];for(const s of n){const o=this.stringifyItem(s);o!=null&&r.push(o)}return r.join(i)}),Ze(this,"stringifyMany",(n,i)=>this.stringifyItems(this.findMany(n),i)),Ze(this,"has",n=>this.indexOf(n)!==-1),Ze(this,"hasItem",n=>n==null?!1:this.has(this.getItemValue(n))),Ze(this,"group",()=>{const{groupBy:n,groupSort:i}=this.options;if(!n)return[["",[...this.items]]];const r=new Map;this.items.forEach((o,l)=>{const d=n(o,l);r.has(d)||r.set(d,[]),r.get(d).push(o)});let s=Array.from(r.entries());return i&&s.sort(([o],[l])=>{if(typeof i=="function")return i(o,l);if(Array.isArray(i)){const d=i.indexOf(o),h=i.indexOf(l);return d===-1?1:h===-1?-1:d-h}return i==="asc"?o.localeCompare(l):i==="desc"?l.localeCompare(o):0}),s}),Ze(this,"getNextValue",(n,i=1,r=!1)=>{let s=this.indexOf(n);if(s===-1)return null;for(s=r?Math.min(s+i,this.size-1):s+i;s<=this.size&&this.getItemDisabled(this.at(s));)s++;return this.getItemValue(this.at(s))}),Ze(this,"getPreviousValue",(n,i=1,r=!1)=>{let s=this.indexOf(n);if(s===-1)return null;for(s=r?Math.max(s-i,0):s-i;s>=0&&this.getItemDisabled(this.at(s));)s--;return this.getItemValue(this.at(s))}),Ze(this,"indexOf",n=>{if(n==null)return-1;if(!this.options.groupBy&&!this.options.groupSort)return this.items.findIndex(i=>this.getItemValue(i)===n);if(!this.indexMap){this.indexMap=new Map;let i=0;const r=this.group();for(const[,s]of r)for(const o of s){const l=this.getItemValue(o);l!=null&&this.indexMap.set(l,i),i++}}return this.indexMap.get(n)??-1}),Ze(this,"getByText",(n,i)=>{const r=i!=null?this.indexOf(i):-1,s=n.length===1;for(let o=0;o<this.items.length;o++){const l=this.items[(r+o+1)%this.items.length];if(!(s&&this.getItemValue(l)===i)&&!this.getItemDisabled(l)&&D7(this.stringifyItem(l),n))return l}}),Ze(this,"search",(n,i)=>{const{state:r,currentValue:s,timeout:o=350}=i,l=r.keysSoFar+n,h=l.length>1&&Array.from(l).every(S=>S===l[0])?l[0]:l,m=this.getByText(h,s),g=this.getItemValue(m);function y(){clearTimeout(r.timer),r.timer=-1}function b(S){r.keysSoFar=S,y(),S!==""&&(r.timer=+setTimeout(()=>{b(""),y()},o))}return b(l),g}),Ze(this,"update",(n,i)=>{let r=this.indexOf(n);return r===-1?this:this.copy([...this.items.slice(0,r),i,...this.items.slice(r+1)])}),Ze(this,"upsert",(n,i,r="append")=>{let s=this.indexOf(n);return s===-1?(r==="append"?this.append:this.prepend)(i):this.copy([...this.items.slice(0,s),i,...this.items.slice(s+1)])}),Ze(this,"insert",(n,...i)=>this.copy(xv(this.items,n,...i))),Ze(this,"insertBefore",(n,...i)=>{let r=this.indexOf(n);if(r===-1)if(this.items.length===0)r=0;else return this;return this.copy(xv(this.items,r,...i))}),Ze(this,"insertAfter",(n,...i)=>{let r=this.indexOf(n);if(r===-1)if(this.items.length===0)r=0;else return this;return this.copy(xv(this.items,r+1,...i))}),Ze(this,"prepend",(...n)=>this.copy(xv(this.items,0,...n))),Ze(this,"append",(...n)=>this.copy(xv(this.items,this.items.length,...n))),Ze(this,"filter",n=>{const i=this.items.filter((r,s)=>n(this.stringifyItem(r),s,r));return this.copy(i)}),Ze(this,"remove",(...n)=>{const i=n.map(r=>typeof r=="string"?r:this.getItemValue(r));return this.copy(this.items.filter(r=>{const s=this.getItemValue(r);return s==null?!1:!i.includes(s)}))}),Ze(this,"move",(n,i)=>{const r=this.indexOf(n);return r===-1?this:this.copy(ub(this.items,[r],i))}),Ze(this,"moveBefore",(n,...i)=>{let r=this.items.findIndex(o=>this.getItemValue(o)===n);if(r===-1)return this;let s=i.map(o=>this.items.findIndex(l=>this.getItemValue(l)===o)).sort((o,l)=>o-l);return this.copy(ub(this.items,s,r))}),Ze(this,"moveAfter",(n,...i)=>{let r=this.items.findIndex(o=>this.getItemValue(o)===n);if(r===-1)return this;let s=i.map(o=>this.items.findIndex(l=>this.getItemValue(l)===o)).sort((o,l)=>o-l);return this.copy(ub(this.items,s,r+1))}),Ze(this,"reorder",(n,i)=>this.copy(ub(this.items,[n],i))),Ze(this,"compareValue",(n,i)=>{const r=this.indexOf(n),s=this.indexOf(i);return r<s?-1:r>s?1:0}),Ze(this,"range",(n,i)=>{let r=[],s=n;for(;s!=null;){if(this.find(s)&&r.push(s),s===i)return r;s=this.getNextValue(s)}return[]}),Ze(this,"getValueRange",(n,i)=>n&&i?this.compareValue(n,i)<=0?this.range(n,i):this.range(i,n):[]),Ze(this,"toString",()=>{let n="";for(const i of this.items){const r=this.getItemValue(i),s=this.stringifyItem(i),o=this.getItemDisabled(i),l=[r,s,o].filter(Boolean).join(":");n+=l+","}return n}),Ze(this,"toJSON",()=>({size:this.size,first:this.firstValue,last:this.lastValue})),this.items=[...e.items]}get size(){return this.items.length}get firstValue(){let e=0;for(;this.getItemDisabled(this.at(e));)e++;return this.getItemValue(this.at(e))}get lastValue(){let e=this.size-1;for(;this.getItemDisabled(this.at(e));)e--;return this.getItemValue(this.at(e))}*[Symbol.iterator](){yield*this.items}},D7=(t,e)=>!!t?.toLowerCase().startsWith(e.toLowerCase());function xv(t,e,...n){return[...t.slice(0,e),...n,...t.slice(e)]}function ub(t,e,n){e=[...e].sort((r,s)=>r-s);const i=e.map(r=>t[r]);for(let r=e.length-1;r>=0;r--)t=[...t.slice(0,e[r]),...t.slice(e[r]+1)];return n=Math.max(0,n-e.filter(r=>r<n).length),[...t.slice(0,n),...i,...t.slice(n)]}function JL(t,e,n){for(let i=0;i<e.length;i++)t=n.getChildren(t,e.slice(i+1))[e[i]];return t}function P7(t){const e=I7(t),n=[],i=new Set;for(const r of e){const s=r.join();i.has(s)||(i.add(s),n.push(r))}return n}function ez(t,e){for(let n=0;n<Math.min(t.length,e.length);n++){if(t[n]<e[n])return-1;if(t[n]>e[n])return 1}return t.length-e.length}function I7(t){return t.sort(ez)}function L7(t,e){let n;return Ta(t,{...e,onEnter:(i,r)=>{if(e.predicate(i,r))return n=i,"stop"}}),n}function z7(t,e){const n=[];return Ta(t,{onEnter:(i,r)=>{e.predicate(i,r)&&n.push(i)},getChildren:e.getChildren}),n}function HO(t,e){let n;return Ta(t,{onEnter:(i,r)=>{if(e.predicate(i,r))return n=[...r],"stop"},getChildren:e.getChildren}),n}function U7(t,e){let n=e.initialResult;return Ta(t,{...e,onEnter:(i,r)=>{n=e.nextResult(n,i,r)}}),n}function V7(t,e){return U7(t,{...e,initialResult:[],nextResult:(n,i,r)=>(n.push(...e.transform(i,r)),n)})}function k7(t,e){const{predicate:n,create:i,getChildren:r}=e,s=(o,l)=>{const d=r(o,l),h=[];d.forEach((b,S)=>{const C=[...l,S],T=s(b,C);T&&h.push(T)});const m=l.length===0,g=n(o,l),y=h.length>0;return m||g||y?i(o,h,l):null};return s(t,[])||i(t,[],[])}function B7(t,e){const n=[];let i=0;const r=new Map,s=new Map;return Ta(t,{getChildren:e.getChildren,onEnter:(o,l)=>{r.has(o)||r.set(o,i++);const d=e.getChildren(o,l);d.forEach(b=>{s.has(b)||s.set(b,o),r.has(b)||r.set(b,i++)});const h=d.length>0?d.map(b=>r.get(b)):void 0,m=s.get(o),g=m?r.get(m):void 0,y=r.get(o);n.push({...o,_children:h,_parent:g,_index:y})}}),n}function F7(t,e){return{type:"insert",index:t,nodes:e}}function H7(t){return{type:"remove",indexes:t}}function cA(){return{type:"replace"}}function tz(t){return[t.slice(0,-1),t[t.length-1]]}function nz(t,e,n=new Map){const[i,r]=tz(t);for(let o=i.length-1;o>=0;o--){const l=i.slice(0,o).join();switch(n.get(l)?.type){case"remove":continue}n.set(l,cA())}const s=n.get(i.join());switch(s?.type){case"remove":n.set(i.join(),{type:"removeThenInsert",removeIndexes:s.indexes,insertIndex:r,insertNodes:e});break;default:n.set(i.join(),F7(r,e))}return n}function iz(t){const e=new Map,n=new Map;for(const i of t){const r=i.slice(0,-1).join(),s=n.get(r)??[];s.push(i[i.length-1]),n.set(r,s.sort((o,l)=>o-l))}for(const i of t)for(let r=i.length-2;r>=0;r--){const s=i.slice(0,r).join();e.has(s)||e.set(s,cA())}for(const[i,r]of n)e.set(i,H7(r));return e}function G7(t,e){const n=new Map,[i,r]=tz(t);for(let s=i.length-1;s>=0;s--){const o=i.slice(0,s).join();n.set(o,cA())}return n.set(i.join(),{type:"removeThenInsert",removeIndexes:[r],insertIndex:r,insertNodes:[e]}),n}function O1(t,e,n){return W7(t,{...n,getChildren:(i,r)=>{const s=r.join();switch(e.get(s)?.type){case"replace":case"remove":case"removeThenInsert":case"insert":return n.getChildren(i,r);default:return[]}},transform:(i,r,s)=>{const o=s.join(),l=e.get(o);switch(l?.type){case"remove":return n.create(i,r.filter((m,g)=>!l.indexes.includes(g)),s);case"removeThenInsert":const d=r.filter((m,g)=>!l.removeIndexes.includes(g)),h=l.removeIndexes.reduce((m,g)=>g<m?m-1:m,l.insertIndex);return n.create(i,GO(d,h,0,...l.insertNodes),s);case"insert":return n.create(i,GO(r,l.index,0,...l.nodes),s);case"replace":return n.create(i,r,s);default:return i}}})}function GO(t,e,n,...i){return[...t.slice(0,e),...i,...t.slice(e+n)]}function W7(t,e){const n={};return Ta(t,{...e,onLeave:(i,r)=>{const s=[0,...r],o=s.join(),l=e.transform(i,n[o]??[],r),d=s.slice(0,-1).join(),h=n[d]??[];h.push(l),n[d]=h}}),n[""][0]}function j7(t,e){const{nodes:n,at:i}=e;if(i.length===0)throw new Error("Can't insert nodes at the root");const r=nz(i,n);return O1(t,r,e)}function X7(t,e){if(e.at.length===0)return e.node;const n=G7(e.at,e.node);return O1(t,n,e)}function q7(t,e){if(e.indexPaths.length===0)return t;for(const i of e.indexPaths)if(i.length===0)throw new Error("Can't remove the root node");const n=iz(e.indexPaths);return O1(t,n,e)}function Y7(t,e){if(e.indexPaths.length===0)return t;for(const s of e.indexPaths)if(s.length===0)throw new Error("Can't move the root node");if(e.to.length===0)throw new Error("Can't move nodes to the root");const n=P7(e.indexPaths),i=n.map(s=>JL(t,s,e)),r=nz(e.to,i,iz(n));return O1(t,r,e)}function Ta(t,e){const{onEnter:n,onLeave:i,getChildren:r}=e;let s=[],o=[{node:t}];const l=e.reuseIndexPath?()=>s:()=>s.slice();for(;o.length>0;){let d=o[o.length-1];if(d.state===void 0){const m=n?.(d.node,l());if(m==="stop")return;d.state=m==="skip"?-1:0}const h=d.children||r(d.node,l());if(d.children||(d.children=h),d.state!==-1){if(d.state<h.length){let g=d.state;s.push(g),o.push({node:h[g]}),d.state=g+1;continue}if(i?.(d.node,l())==="stop")return}s.pop(),o.pop()}}var rz=class sz{constructor(e){this.options=e,Ze(this,"rootNode"),Ze(this,"isEqual",n=>Go(this.rootNode,n.rootNode)),Ze(this,"getNodeChildren",n=>this.options.nodeToChildren?.(n)??Qp.nodeToChildren(n)??[]),Ze(this,"resolveIndexPath",n=>typeof n=="string"?this.getIndexPath(n):n),Ze(this,"resolveNode",n=>{const i=this.resolveIndexPath(n);return i?this.at(i):void 0}),Ze(this,"getNodeChildrenCount",n=>this.options.nodeToChildrenCount?.(n)??Qp.nodeToChildrenCount(n)),Ze(this,"getNodeValue",n=>this.options.nodeToValue?.(n)??Qp.nodeToValue(n)),Ze(this,"getNodeDisabled",n=>this.options.isNodeDisabled?.(n)??Qp.isNodeDisabled(n)),Ze(this,"stringify",n=>{const i=this.findNode(n);return i?this.stringifyNode(i):null}),Ze(this,"stringifyNode",n=>this.options.nodeToString?.(n)??Qp.nodeToString(n)),Ze(this,"getFirstNode",(n=this.rootNode)=>{let i;return Ta(n,{getChildren:this.getNodeChildren,onEnter:(r,s)=>{if(!i&&s.length>0&&!this.getNodeDisabled(r))return i=r,"stop"}}),i}),Ze(this,"getLastNode",(n=this.rootNode,i={})=>{let r;return Ta(n,{getChildren:this.getNodeChildren,onEnter:(s,o)=>{if(!this.isSameNode(s,n)){if(i.skip?.({value:this.getNodeValue(s),node:s,indexPath:o}))return"skip";o.length>0&&!this.getNodeDisabled(s)&&(r=s)}}}),r}),Ze(this,"at",n=>JL(this.rootNode,n,{getChildren:this.getNodeChildren})),Ze(this,"findNode",(n,i=this.rootNode)=>L7(i,{getChildren:this.getNodeChildren,predicate:r=>this.getNodeValue(r)===n})),Ze(this,"findNodes",(n,i=this.rootNode)=>{const r=new Set(n.filter(s=>s!=null));return z7(i,{getChildren:this.getNodeChildren,predicate:s=>r.has(this.getNodeValue(s))})}),Ze(this,"sort",n=>n.reduce((i,r)=>{const s=this.getIndexPath(r);return s&&i.push({value:r,indexPath:s}),i},[]).sort((i,r)=>ez(i.indexPath,r.indexPath)).map(({value:i})=>i)),Ze(this,"getIndexPath",n=>HO(this.rootNode,{getChildren:this.getNodeChildren,predicate:i=>this.getNodeValue(i)===n})),Ze(this,"getValue",n=>{const i=this.at(n);return i?this.getNodeValue(i):void 0}),Ze(this,"getValuePath",n=>{if(!n)return[];const i=[];let r=[...n];for(;r.length>0;){const s=this.at(r);s&&i.unshift(this.getNodeValue(s)),r.pop()}return i}),Ze(this,"getDepth",n=>HO(this.rootNode,{getChildren:this.getNodeChildren,predicate:r=>this.getNodeValue(r)===n})?.length??0),Ze(this,"isSameNode",(n,i)=>this.getNodeValue(n)===this.getNodeValue(i)),Ze(this,"isRootNode",n=>this.isSameNode(n,this.rootNode)),Ze(this,"contains",(n,i)=>!n||!i?!1:i.slice(0,n.length).every((r,s)=>n[s]===i[s])),Ze(this,"getNextNode",(n,i={})=>{let r=!1,s;return Ta(this.rootNode,{getChildren:this.getNodeChildren,onEnter:(o,l)=>{if(this.isRootNode(o))return;const d=this.getNodeValue(o);if(i.skip?.({value:d,node:o,indexPath:l}))return d===n&&(r=!0),"skip";if(r&&!this.getNodeDisabled(o))return s=o,"stop";d===n&&(r=!0)}}),s}),Ze(this,"getPreviousNode",(n,i={})=>{let r,s=!1;return Ta(this.rootNode,{getChildren:this.getNodeChildren,onEnter:(o,l)=>{if(this.isRootNode(o))return;const d=this.getNodeValue(o);if(i.skip?.({value:d,node:o,indexPath:l}))return"skip";if(d===n)return s=!0,"stop";this.getNodeDisabled(o)||(r=o)}}),s?r:void 0}),Ze(this,"getParentNodes",n=>{const i=this.resolveIndexPath(n)?.slice();if(!i)return[];const r=[];for(;i.length>0;){i.pop();const s=this.at(i);s&&!this.isRootNode(s)&&r.unshift(s)}return r}),Ze(this,"getDescendantNodes",(n,i)=>{const r=this.resolveNode(n);if(!r)return[];const s=[];return Ta(r,{getChildren:this.getNodeChildren,onEnter:(o,l)=>{l.length!==0&&(!i?.withBranch&&this.isBranchNode(o)||s.push(o))}}),s}),Ze(this,"getDescendantValues",(n,i)=>this.getDescendantNodes(n,i).map(s=>this.getNodeValue(s))),Ze(this,"getParentIndexPath",n=>n.slice(0,-1)),Ze(this,"getParentNode",n=>{const i=this.resolveIndexPath(n);return i?this.at(this.getParentIndexPath(i)):void 0}),Ze(this,"visit",n=>{const{skip:i,...r}=n;Ta(this.rootNode,{...r,getChildren:this.getNodeChildren,onEnter:(s,o)=>{if(!this.isRootNode(s))return i?.({value:this.getNodeValue(s),node:s,indexPath:o})?"skip":r.onEnter?.(s,o)}})}),Ze(this,"getPreviousSibling",n=>{const i=this.getParentNode(n);if(!i)return;const r=this.getNodeChildren(i);let s=n[n.length-1];for(;--s>=0;){const o=r[s];if(!this.getNodeDisabled(o))return o}}),Ze(this,"getNextSibling",n=>{const i=this.getParentNode(n);if(!i)return;const r=this.getNodeChildren(i);let s=n[n.length-1];for(;++s<r.length;){const o=r[s];if(!this.getNodeDisabled(o))return o}}),Ze(this,"getSiblingNodes",n=>{const i=this.getParentNode(n);return i?this.getNodeChildren(i):[]}),Ze(this,"getValues",(n=this.rootNode)=>V7(n,{getChildren:this.getNodeChildren,transform:r=>[this.getNodeValue(r)]}).slice(1)),Ze(this,"isValidDepth",(n,i)=>i==null?!0:typeof i=="function"?i(n.length):n.length===i),Ze(this,"isBranchNode",n=>this.getNodeChildren(n).length>0||this.getNodeChildrenCount(n)!=null),Ze(this,"getBranchValues",(n=this.rootNode,i={})=>{let r=[];return Ta(n,{getChildren:this.getNodeChildren,onEnter:(s,o)=>{if(o.length===0)return;const l=this.getNodeValue(s);if(i.skip?.({value:l,node:s,indexPath:o}))return"skip";this.isBranchNode(s)&&this.isValidDepth(o,i.depth)&&r.push(this.getNodeValue(s))}}),r}),Ze(this,"flatten",(n=this.rootNode)=>B7(n,{getChildren:this.getNodeChildren})),Ze(this,"_create",(n,i)=>this.getNodeChildren(n).length>0||i.length>0?{...n,children:i}:{...n}),Ze(this,"_insert",(n,i,r)=>this.copy(j7(n,{at:i,nodes:r,getChildren:this.getNodeChildren,create:this._create}))),Ze(this,"copy",n=>new sz({...this.options,rootNode:n})),Ze(this,"_replace",(n,i,r)=>this.copy(X7(n,{at:i,node:r,getChildren:this.getNodeChildren,create:this._create}))),Ze(this,"_move",(n,i,r)=>this.copy(Y7(n,{indexPaths:i,to:r,getChildren:this.getNodeChildren,create:this._create}))),Ze(this,"_remove",(n,i)=>this.copy(q7(n,{indexPaths:i,getChildren:this.getNodeChildren,create:this._create}))),Ze(this,"replace",(n,i)=>this._replace(this.rootNode,n,i)),Ze(this,"remove",n=>this._remove(this.rootNode,n)),Ze(this,"insertBefore",(n,i)=>this.getParentNode(n)?this._insert(this.rootNode,n,i):void 0),Ze(this,"insertAfter",(n,i)=>{if(!this.getParentNode(n))return;const s=[...n.slice(0,-1),n[n.length-1]+1];return this._insert(this.rootNode,s,i)}),Ze(this,"move",(n,i)=>this._move(this.rootNode,n,i)),Ze(this,"filter",n=>{const i=k7(this.rootNode,{predicate:n,getChildren:this.getNodeChildren,create:this._create});return this.copy(i)}),Ze(this,"toJSON",()=>this.getValues(this.rootNode)),this.rootNode=e.rootNode}},Qp={nodeToValue(t){return typeof t=="string"?t:Wf(t)&&dd(t,"value")?t.value:""},nodeToString(t){return typeof t=="string"?t:Wf(t)&&dd(t,"label")?t.label:Qp.nodeToValue(t)},isNodeDisabled(t){return Wf(t)&&dd(t,"disabled")?!!t.disabled:!1},nodeToChildren(t){return t.children},nodeToChildrenCount(t){if(Wf(t)&&dd(t,"childrenCount"))return t.childrenCount}},Sp=new WeakMap,db=new WeakMap,fb={},ET=0,az=t=>t&&(t.host||az(t.parentNode)),K7=(t,e)=>e.map(n=>{if(t.contains(n))return n;const i=az(n);return i&&t.contains(i)?i:(console.error("[zag-js > ariaHidden] target",n,"in not contained inside",t,". Doing nothing"),null)}).filter(n=>!!n),$7=new Set(["script","output","status","next-route-announcer"]),Z7=t=>$7.has(t.localName)||t.role==="status"||t.hasAttribute("aria-live")?!0:t.matches("[data-live-announcer]"),Q7=(t,e)=>{const{parentNode:n,markerName:i,controlAttribute:r}=e,s=K7(n,Array.isArray(t)?t:[t]);fb[i]||(fb[i]=new WeakMap);const o=fb[i],l=[],d=new Set,h=new Set(s),m=y=>{!y||d.has(y)||(d.add(y),m(y.parentNode))};s.forEach(m);const g=y=>{!y||h.has(y)||Array.prototype.forEach.call(y.children,b=>{if(d.has(b))g(b);else try{if(Z7(b))return;const C=b.getAttribute(r)==="true",T=(Sp.get(b)||0)+1,_=(o.get(b)||0)+1;Sp.set(b,T),o.set(b,_),l.push(b),T===1&&C&&db.set(b,!0),_===1&&b.setAttribute(i,""),C||b.setAttribute(r,"true")}catch(S){console.error("[zag-js > ariaHidden] cannot operate on ",b,S)}})};return g(n),d.clear(),ET++,()=>{l.forEach(y=>{const b=Sp.get(y)-1,S=o.get(y)-1;Sp.set(y,b),o.set(y,S),b||(db.has(y)||y.removeAttribute(r),db.delete(y)),S||y.removeAttribute(i)}),ET--,ET||(Sp=new WeakMap,Sp=new WeakMap,db=new WeakMap,fb={})}},J7=t=>(Array.isArray(t)?t[0]:t).ownerDocument.body,e9=(t,e=J7(t),n="data-aria-hidden")=>{if(e)return Q7(t,{parentNode:e,markerName:n,controlAttribute:"aria-hidden"})},t9=t=>{const e=requestAnimationFrame(()=>t());return()=>cancelAnimationFrame(e)};function n9(t,e={}){const{defer:n=!0}=e,i=n?t9:s=>s(),r=[];return r.push(i(()=>{const o=(typeof t=="function"?t():t).filter(Boolean);o.length!==0&&r.push(e9(o))})),()=>{r.forEach(s=>s?.())}}var oz=zt("combobox").parts("root","clearTrigger","content","control","input","item","itemGroup","itemGroupLabel","itemIndicator","itemText","label","list","positioner","trigger");oz.build();var lz=t=>new R1(t);lz.empty=()=>new R1({items:[]});var i9=t=>t.ids?.control??`combobox:${t.id}:control`,r9=t=>t.ids?.input??`combobox:${t.id}:input`,s9=t=>t.ids?.content??`combobox:${t.id}:content`,a9=t=>t.ids?.positioner??`combobox:${t.id}:popper`,o9=t=>t.ids?.trigger??`combobox:${t.id}:toggle-btn`,l9=t=>t.ids?.clearTrigger??`combobox:${t.id}:clear-btn`,sd=t=>t.getById(s9(t)),Jp=t=>t.getById(r9(t)),WO=t=>t.getById(a9(t)),jO=t=>t.getById(i9(t)),Gv=t=>t.getById(o9(t)),XO=t=>t.getById(l9(t)),bv=(t,e)=>{if(e==null)return null;const n=`[role=option][data-value="${CSS.escape(e)}"]`;return S8(sd(t),n)},qO=t=>{const e=Jp(t);t.isActiveElement(e)||e?.focus({preventScroll:!0})},c9=t=>{const e=Gv(t);t.isActiveElement(e)||e?.focus({preventScroll:!0})},{guards:u9,createMachine:d9,choose:f9}=gL(),{and:br,not:Sa}=u9;d9({props({props:t}){return{loopFocus:!0,openOnClick:!1,defaultValue:[],closeOnSelect:!t.multiple,allowCustomValue:!1,alwaysSubmitOnEnter:!1,inputBehavior:"none",selectionBehavior:t.multiple?"clear":"replace",openOnKeyPress:!0,openOnChange:!0,composite:!0,navigate({node:e}){dL(e)},collection:lz.empty(),...t,positioning:{placement:"bottom",sameWidth:!0,...t.positioning},translations:{triggerLabel:"Toggle suggestions",clearTriggerLabel:"Clear value",...t.translations}}},initialState({prop:t}){return t("open")||t("defaultOpen")?"suggesting":"idle"},context({prop:t,bindable:e,getContext:n,getEvent:i}){return{currentPlacement:e(()=>({defaultValue:void 0})),value:e(()=>({defaultValue:t("defaultValue"),value:t("value"),isEqual:Go,hash(r){return r.join(",")},onChange(r){const s=n(),o=s.get("selectedItems"),l=t("collection"),d=r.map(h=>o.find(g=>l.getItemValue(g)===h)||l.find(h));s.set("selectedItems",d),t("onValueChange")?.({value:r,items:d})}})),highlightedValue:e(()=>({defaultValue:t("defaultHighlightedValue")||null,value:t("highlightedValue"),onChange(r){const s=t("collection").find(r);t("onHighlightChange")?.({highlightedValue:r,highlightedItem:s})}})),inputValue:e(()=>{let r=t("inputValue")||t("defaultInputValue")||"";const s=t("defaultValue")||t("value")||[];if(!r.trim()&&!t("multiple")){const o=t("collection").stringifyMany(s);r=Vc(t("selectionBehavior"),{preserve:r||o,replace:o,clear:""})}return{defaultValue:r,value:t("inputValue"),onChange(o){const l=i(),d=(l.previousEvent||l).src;t("onInputValueChange")?.({inputValue:o,reason:d})}}}),highlightedItem:e(()=>{const r=t("highlightedValue");return{defaultValue:t("collection").find(r)}}),selectedItems:e(()=>{const r=t("value")||t("defaultValue")||[];return{defaultValue:t("collection").findMany(r)}})}},computed:{isInputValueEmpty:({context:t})=>t.get("inputValue").length===0,isInteractive:({prop:t})=>!(t("readOnly")||t("disabled")),autoComplete:({prop:t})=>t("inputBehavior")==="autocomplete",autoHighlight:({prop:t})=>t("inputBehavior")==="autohighlight",hasSelectedItems:({context:t})=>t.get("value").length>0,valueAsString:({context:t,prop:e})=>e("collection").stringifyItems(t.get("selectedItems")),isCustomValue:({context:t,computed:e})=>t.get("inputValue")!==e("valueAsString")},watch({context:t,prop:e,track:n,action:i,send:r}){n([()=>t.hash("value")],()=>{i(["syncSelectedItems"])}),n([()=>t.get("inputValue")],()=>{i(["syncInputValue"])}),n([()=>t.get("highlightedValue")],()=>{i(["syncHighlightedItem","autofillInputValue"])}),n([()=>e("open")],()=>{i(["toggleVisibility"])}),n([()=>e("collection").toString()],()=>{r({type:"CHILDREN_CHANGE"})})},on:{"SELECTED_ITEMS.SYNC":{actions:["syncSelectedItems"]},"HIGHLIGHTED_VALUE.SET":{actions:["setHighlightedValue"]},"HIGHLIGHTED_VALUE.CLEAR":{actions:["clearHighlightedValue"]},"ITEM.SELECT":{actions:["selectItem"]},"ITEM.CLEAR":{actions:["clearItem"]},"VALUE.SET":{actions:["setValue"]},"INPUT_VALUE.SET":{actions:["setInputValue"]},"POSITIONING.SET":{actions:["reposition"]}},entry:f9([{guard:"autoFocus",actions:["setInitialFocus"]}]),states:{idle:{tags:["idle","closed"],entry:["scrollContentToTop","clearHighlightedValue"],on:{"CONTROLLED.OPEN":{target:"interacting"},"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["setInitialFocus","highlightFirstSelectedItem","invokeOnOpen"]},{target:"interacting",actions:["setInitialFocus","highlightFirstSelectedItem","invokeOnOpen"]}],"INPUT.CLICK":[{guard:"isOpenControlled",actions:["highlightFirstSelectedItem","invokeOnOpen"]},{target:"interacting",actions:["highlightFirstSelectedItem","invokeOnOpen"]}],"INPUT.FOCUS":{target:"focused"},OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"interacting",actions:["invokeOnOpen"]}],"VALUE.CLEAR":{target:"focused",actions:["clearInputValue","clearSelectedItems","setInitialFocus"]}}},focused:{tags:["focused","closed"],entry:["scrollContentToTop","clearHighlightedValue"],on:{"CONTROLLED.OPEN":[{guard:"isChangeEvent",target:"suggesting"},{target:"interacting"}],"INPUT.CHANGE":[{guard:br("isOpenControlled","openOnChange"),actions:["setInputValue","invokeOnOpen","highlightFirstItemIfNeeded"]},{guard:"openOnChange",target:"suggesting",actions:["setInputValue","invokeOnOpen","highlightFirstItemIfNeeded"]},{actions:["setInputValue"]}],"LAYER.INTERACT_OUTSIDE":{target:"idle"},"INPUT.ESCAPE":{guard:br("isCustomValue",Sa("allowCustomValue")),actions:["revertInputValue"]},"INPUT.BLUR":{target:"idle"},"INPUT.CLICK":[{guard:"isOpenControlled",actions:["highlightFirstSelectedItem","invokeOnOpen"]},{target:"interacting",actions:["highlightFirstSelectedItem","invokeOnOpen"]}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["setInitialFocus","highlightFirstSelectedItem","invokeOnOpen"]},{target:"interacting",actions:["setInitialFocus","highlightFirstSelectedItem","invokeOnOpen"]}],"INPUT.ARROW_DOWN":[{guard:br("isOpenControlled","autoComplete"),actions:["invokeOnOpen"]},{guard:"autoComplete",target:"interacting",actions:["invokeOnOpen"]},{guard:"isOpenControlled",actions:["highlightFirstOrSelectedItem","invokeOnOpen"]},{target:"interacting",actions:["highlightFirstOrSelectedItem","invokeOnOpen"]}],"INPUT.ARROW_UP":[{guard:"autoComplete",target:"interacting",actions:["invokeOnOpen"]},{guard:"autoComplete",target:"interacting",actions:["invokeOnOpen"]},{target:"interacting",actions:["highlightLastOrSelectedItem","invokeOnOpen"]},{target:"interacting",actions:["highlightLastOrSelectedItem","invokeOnOpen"]}],OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"interacting",actions:["invokeOnOpen"]}],"VALUE.CLEAR":{actions:["clearInputValue","clearSelectedItems"]}}},interacting:{tags:["open","focused"],entry:["setInitialFocus"],effects:["scrollToHighlightedItem","trackDismissableLayer","trackPlacement","hideOtherElements"],on:{"CONTROLLED.CLOSE":[{guard:"restoreFocus",target:"focused",actions:["setFinalFocus"]},{target:"idle"}],CHILDREN_CHANGE:[{guard:"isHighlightedItemRemoved",actions:["clearHighlightedValue"]},{actions:["scrollToHighlightedItem"]}],"INPUT.HOME":{actions:["highlightFirstItem"]},"INPUT.END":{actions:["highlightLastItem"]},"INPUT.ARROW_DOWN":[{guard:br("autoComplete","isLastItemHighlighted"),actions:["clearHighlightedValue","scrollContentToTop"]},{actions:["highlightNextItem"]}],"INPUT.ARROW_UP":[{guard:br("autoComplete","isFirstItemHighlighted"),actions:["clearHighlightedValue"]},{actions:["highlightPrevItem"]}],"INPUT.ENTER":[{guard:br("isOpenControlled","isCustomValue",Sa("hasHighlightedItem"),Sa("allowCustomValue")),actions:["revertInputValue","invokeOnClose"]},{guard:br("isCustomValue",Sa("hasHighlightedItem"),Sa("allowCustomValue")),target:"focused",actions:["revertInputValue","invokeOnClose"]},{guard:br("isOpenControlled","closeOnSelect"),actions:["selectHighlightedItem","invokeOnClose"]},{guard:"closeOnSelect",target:"focused",actions:["selectHighlightedItem","invokeOnClose","setFinalFocus"]},{actions:["selectHighlightedItem"]}],"INPUT.CHANGE":[{guard:"autoComplete",target:"suggesting",actions:["setInputValue"]},{target:"suggesting",actions:["clearHighlightedValue","setInputValue"]}],"ITEM.POINTER_MOVE":{actions:["setHighlightedValue"]},"ITEM.POINTER_LEAVE":{actions:["clearHighlightedValue"]},"ITEM.CLICK":[{guard:br("isOpenControlled","closeOnSelect"),actions:["selectItem","invokeOnClose"]},{guard:"closeOnSelect",target:"focused",actions:["selectItem","invokeOnClose","setFinalFocus"]},{actions:["selectItem"]}],"LAYER.ESCAPE":[{guard:br("isOpenControlled","autoComplete"),actions:["syncInputValue","invokeOnClose"]},{guard:"autoComplete",target:"focused",actions:["syncInputValue","invokeOnClose"]},{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose","setFinalFocus"]}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose"]}],"LAYER.INTERACT_OUTSIDE":[{guard:br("isOpenControlled","isCustomValue",Sa("allowCustomValue")),actions:["revertInputValue","invokeOnClose"]},{guard:br("isCustomValue",Sa("allowCustomValue")),target:"idle",actions:["revertInputValue","invokeOnClose"]},{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"idle",actions:["invokeOnClose"]}],CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose","setFinalFocus"]}],"VALUE.CLEAR":[{guard:"isOpenControlled",actions:["clearInputValue","clearSelectedItems","invokeOnClose"]},{target:"focused",actions:["clearInputValue","clearSelectedItems","invokeOnClose","setFinalFocus"]}]}},suggesting:{tags:["open","focused"],effects:["trackDismissableLayer","scrollToHighlightedItem","trackPlacement","hideOtherElements"],entry:["setInitialFocus"],on:{"CONTROLLED.CLOSE":[{guard:"restoreFocus",target:"focused",actions:["setFinalFocus"]},{target:"idle"}],CHILDREN_CHANGE:[{guard:"autoHighlight",actions:["highlightFirstItem"]},{guard:"isHighlightedItemRemoved",actions:["clearHighlightedValue"]}],"INPUT.ARROW_DOWN":{target:"interacting",actions:["highlightNextItem"]},"INPUT.ARROW_UP":{target:"interacting",actions:["highlightPrevItem"]},"INPUT.HOME":{target:"interacting",actions:["highlightFirstItem"]},"INPUT.END":{target:"interacting",actions:["highlightLastItem"]},"INPUT.ENTER":[{guard:br("isOpenControlled","isCustomValue",Sa("hasHighlightedItem"),Sa("allowCustomValue")),actions:["revertInputValue","invokeOnClose"]},{guard:br("isCustomValue",Sa("hasHighlightedItem"),Sa("allowCustomValue")),target:"focused",actions:["revertInputValue","invokeOnClose"]},{guard:br("isOpenControlled","closeOnSelect"),actions:["selectHighlightedItem","invokeOnClose"]},{guard:"closeOnSelect",target:"focused",actions:["selectHighlightedItem","invokeOnClose","setFinalFocus"]},{actions:["selectHighlightedItem"]}],"INPUT.CHANGE":{actions:["setInputValue"]},"LAYER.ESCAPE":[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose"]}],"ITEM.POINTER_MOVE":{target:"interacting",actions:["setHighlightedValue"]},"ITEM.POINTER_LEAVE":{actions:["clearHighlightedValue"]},"LAYER.INTERACT_OUTSIDE":[{guard:br("isOpenControlled","isCustomValue",Sa("allowCustomValue")),actions:["revertInputValue","invokeOnClose"]},{guard:br("isCustomValue",Sa("allowCustomValue")),target:"idle",actions:["revertInputValue","invokeOnClose"]},{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"idle",actions:["invokeOnClose"]}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose"]}],"ITEM.CLICK":[{guard:br("isOpenControlled","closeOnSelect"),actions:["selectItem","invokeOnClose"]},{guard:"closeOnSelect",target:"focused",actions:["selectItem","invokeOnClose","setFinalFocus"]},{actions:["selectItem"]}],CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose","setFinalFocus"]}],"VALUE.CLEAR":[{guard:"isOpenControlled",actions:["clearInputValue","clearSelectedItems","invokeOnClose"]},{target:"focused",actions:["clearInputValue","clearSelectedItems","invokeOnClose","setFinalFocus"]}]}}},implementations:{guards:{isInputValueEmpty:({computed:t})=>t("isInputValueEmpty"),autoComplete:({computed:t,prop:e})=>t("autoComplete")&&!e("multiple"),autoHighlight:({computed:t})=>t("autoHighlight"),isFirstItemHighlighted:({prop:t,context:e})=>t("collection").firstValue===e.get("highlightedValue"),isLastItemHighlighted:({prop:t,context:e})=>t("collection").lastValue===e.get("highlightedValue"),isCustomValue:({computed:t})=>t("isCustomValue"),allowCustomValue:({prop:t})=>!!t("allowCustomValue"),hasHighlightedItem:({context:t})=>t.get("highlightedValue")!=null,closeOnSelect:({prop:t})=>!!t("closeOnSelect"),isOpenControlled:({prop:t})=>t("open")!=null,openOnChange:({prop:t,context:e})=>{const n=t("openOnChange");return ZH(n)?n:!!n?.({inputValue:e.get("inputValue")})},restoreFocus:({event:t})=>t.restoreFocus==null?!0:!!t.restoreFocus,isChangeEvent:({event:t})=>t.previousEvent?.type==="INPUT.CHANGE",autoFocus:({prop:t})=>!!t("autoFocus"),isHighlightedItemRemoved:({prop:t,context:e})=>!t("collection").has(e.get("highlightedValue"))},effects:{trackDismissableLayer({send:t,prop:e,scope:n}){return e("disableLayer")?void 0:a0(()=>sd(n),{type:"listbox",defer:!0,exclude:()=>[Jp(n),Gv(n),XO(n)],onFocusOutside:e("onFocusOutside"),onPointerDownOutside:e("onPointerDownOutside"),onInteractOutside:e("onInteractOutside"),onEscapeKeyDown(r){r.preventDefault(),r.stopPropagation(),t({type:"LAYER.ESCAPE",src:"escape-key"})},onDismiss(){t({type:"LAYER.INTERACT_OUTSIDE",src:"interact-outside",restoreFocus:!1})}})},hideOtherElements({scope:t}){return n9([Jp(t),sd(t),Gv(t),XO(t)])},trackPlacement({context:t,prop:e,scope:n}){const i=()=>jO(n)||Gv(n),r=()=>WO(n);return t.set("currentPlacement",e("positioning").placement),qo(i,r,{...e("positioning"),defer:!0,onComplete(s){t.set("currentPlacement",s.placement)}})},scrollToHighlightedItem({context:t,prop:e,scope:n,event:i}){const r=Jp(n);let s=[];const o=h=>{const m=i.current().type.includes("POINTER"),g=t.get("highlightedValue");if(m||!g)return;const y=sd(n),b=e("scrollToIndexFn");if(b){const T=e("collection").indexOf(g);b({index:T,immediate:h,getElement:()=>bv(n,g)});return}const S=bv(n,g),C=_n(()=>{KS(S,{rootEl:y,block:"nearest"})});s.push(C)},l=_n(()=>o(!0));s.push(l);const d=b1(r,{attributes:["aria-activedescendant"],callback:()=>o(!1)});return s.push(d),()=>{s.forEach(h=>h())}}},actions:{reposition({context:t,prop:e,scope:n,event:i}){qo(()=>jO(n),()=>WO(n),{...e("positioning"),...i.options,defer:!0,listeners:!1,onComplete(o){t.set("currentPlacement",o.placement)}})},setHighlightedValue({context:t,event:e}){e.value!=null&&t.set("highlightedValue",e.value)},clearHighlightedValue({context:t}){t.set("highlightedValue",null)},selectHighlightedItem(t){const{context:e,prop:n}=t,i=n("collection"),r=e.get("highlightedValue");if(!r||!i.has(r))return;const s=n("multiple")?Em(e.get("value"),r):[r];n("onSelect")?.({value:s,itemValue:r}),e.set("value",s);const o=Vc(n("selectionBehavior"),{preserve:e.get("inputValue"),replace:i.stringifyMany(s),clear:""});e.set("inputValue",o)},scrollToHighlightedItem({context:t,prop:e,scope:n}){Xw(()=>{const i=t.get("highlightedValue");if(i==null)return;const r=bv(n,i),s=sd(n),o=e("scrollToIndexFn");if(o){const l=e("collection").indexOf(i);o({index:l,immediate:!0,getElement:()=>bv(n,i)});return}KS(r,{rootEl:s,block:"nearest"})})},selectItem(t){const{context:e,event:n,flush:i,prop:r}=t;n.value!=null&&i(()=>{const s=r("multiple")?Em(e.get("value"),n.value):[n.value];r("onSelect")?.({value:s,itemValue:n.value}),e.set("value",s);const o=Vc(r("selectionBehavior"),{preserve:e.get("inputValue"),replace:r("collection").stringifyMany(s),clear:""});e.set("inputValue",o)})},clearItem(t){const{context:e,event:n,flush:i,prop:r}=t;n.value!=null&&i(()=>{const s=Qf(e.get("value"),n.value);e.set("value",s);const o=Vc(r("selectionBehavior"),{preserve:e.get("inputValue"),replace:r("collection").stringifyMany(s),clear:""});e.set("inputValue",o)})},setInitialFocus({scope:t}){_n(()=>{qO(t)})},setFinalFocus({scope:t}){_n(()=>{Gv(t)?.dataset.focusable==null?qO(t):c9(t)})},syncInputValue({context:t,scope:e,event:n}){const i=Jp(e);i&&(i.value=t.get("inputValue"),queueMicrotask(()=>{n.current().type!=="INPUT.CHANGE"&&E6(i)}))},setInputValue({context:t,event:e}){t.set("inputValue",e.value)},clearInputValue({context:t}){t.set("inputValue","")},revertInputValue({context:t,prop:e,computed:n}){const i=e("selectionBehavior"),r=Vc(i,{replace:n("hasSelectedItems")?n("valueAsString"):"",preserve:t.get("inputValue"),clear:""});t.set("inputValue",r)},setValue(t){const{context:e,flush:n,event:i,prop:r}=t;n(()=>{e.set("value",i.value);const s=Vc(r("selectionBehavior"),{preserve:e.get("inputValue"),replace:r("collection").stringifyMany(i.value),clear:""});e.set("inputValue",s)})},clearSelectedItems(t){const{context:e,flush:n,prop:i}=t;n(()=>{e.set("value",[]);const r=Vc(i("selectionBehavior"),{preserve:e.get("inputValue"),replace:i("collection").stringifyMany([]),clear:""});e.set("inputValue",r)})},scrollContentToTop({prop:t,scope:e}){const n=t("scrollToIndexFn");if(n){const i=t("collection").firstValue;n({index:0,immediate:!0,getElement:()=>bv(e,i)})}else{const i=sd(e);if(!i)return;i.scrollTop=0}},invokeOnOpen({prop:t,event:e}){const n=YO(e);t("onOpenChange")?.({open:!0,reason:n})},invokeOnClose({prop:t,event:e}){const n=YO(e);t("onOpenChange")?.({open:!1,reason:n})},highlightFirstItem({context:t,prop:e,scope:n}){(sd(n)?queueMicrotask:_n)(()=>{const r=e("collection").firstValue;r&&t.set("highlightedValue",r)})},highlightFirstItemIfNeeded({computed:t,action:e}){t("autoHighlight")&&e(["highlightFirstItem"])},highlightLastItem({context:t,prop:e,scope:n}){(sd(n)?queueMicrotask:_n)(()=>{const r=e("collection").lastValue;r&&t.set("highlightedValue",r)})},highlightNextItem({context:t,prop:e}){let n=null;const i=t.get("highlightedValue"),r=e("collection");i?(n=r.getNextValue(i),!n&&e("loopFocus")&&(n=r.firstValue)):n=r.firstValue,n&&t.set("highlightedValue",n)},highlightPrevItem({context:t,prop:e}){let n=null;const i=t.get("highlightedValue"),r=e("collection");i?(n=r.getPreviousValue(i),!n&&e("loopFocus")&&(n=r.lastValue)):n=r.lastValue,n&&t.set("highlightedValue",n)},highlightFirstSelectedItem({context:t,prop:e}){_n(()=>{const[n]=e("collection").sort(t.get("value"));n&&t.set("highlightedValue",n)})},highlightFirstOrSelectedItem({context:t,prop:e,computed:n}){_n(()=>{let i=null;n("hasSelectedItems")?i=e("collection").sort(t.get("value"))[0]:i=e("collection").firstValue,i&&t.set("highlightedValue",i)})},highlightLastOrSelectedItem({context:t,prop:e,computed:n}){_n(()=>{const i=e("collection");let r=null;n("hasSelectedItems")?r=i.sort(t.get("value"))[0]:r=i.lastValue,r&&t.set("highlightedValue",r)})},autofillInputValue({context:t,computed:e,prop:n,event:i,scope:r}){const s=Jp(r),o=n("collection");if(!e("autoComplete")||!s||!i.keypress)return;const l=o.stringify(t.get("highlightedValue"));_n(()=>{s.value=l||t.get("inputValue")})},syncSelectedItems(t){queueMicrotask(()=>{const{context:e,prop:n}=t,i=n("collection"),r=e.get("value"),s=r.map(l=>e.get("selectedItems").find(h=>i.getItemValue(h)===l)||i.find(l));e.set("selectedItems",s);const o=Vc(n("selectionBehavior"),{preserve:e.get("inputValue"),replace:i.stringifyMany(r),clear:""});e.set("inputValue",o)})},syncHighlightedItem({context:t,prop:e}){const n=e("collection").find(t.get("highlightedValue"));t.set("highlightedItem",n)},toggleVisibility({event:t,send:e,prop:n}){e({type:n("open")?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:t})}}}});function YO(t){return(t.previousEvent||t).src}Ut()(["allowCustomValue","autoFocus","closeOnSelect","collection","composite","defaultHighlightedValue","defaultInputValue","defaultOpen","defaultValue","dir","disabled","disableLayer","form","getRootNode","highlightedValue","id","ids","inputBehavior","inputValue","invalid","loopFocus","multiple","name","navigate","onFocusOutside","onHighlightChange","onInputValueChange","onInteractOutside","onOpenChange","onOpenChange","onPointerDownOutside","onSelect","onValueChange","open","openOnChange","openOnClick","openOnKeyPress","placeholder","positioning","readOnly","required","scrollToIndexFn","selectionBehavior","translations","value","alwaysSubmitOnEnter"]);Ut()(["htmlFor"]);Ut()(["id"]);Ut()(["item","persistFocus"]);const h9=oz.extendWith("empty");var uA=zt("dialog").parts("trigger","backdrop","positioner","content","title","description","closeTrigger");uA.build();Ut()(["aria-label","closeOnEscape","closeOnInteractOutside","dir","finalFocusEl","getRootNode","getRootNode","id","id","ids","initialFocusEl","modal","onEscapeKeyDown","onFocusOutside","onInteractOutside","onOpenChange","onPointerDownOutside","onRequestDismiss","defaultOpen","open","persistentElements","preventScroll","restoreFocus","role","trapFocus"]);var cz=zt("editable").parts("root","area","label","preview","input","editTrigger","submitTrigger","cancelTrigger","control");cz.build();Ut()(["activationMode","autoResize","dir","disabled","finalFocusEl","form","getRootNode","id","ids","invalid","maxLength","name","onEditChange","onFocusOutside","onInteractOutside","onPointerDownOutside","onValueChange","onValueCommit","onValueRevert","placeholder","readOnly","required","selectOnFocus","edit","defaultEdit","submitMode","translations","defaultValue","value"]);const uz=zt("field").parts("root","errorText","helperText","input","label","select","textarea","requiredIndicator");uz.build();const dz=zt("fieldset").parts("root","errorText","helperText","legend");dz.build();var fz=zt("file-upload").parts("root","dropzone","item","itemDeleteTrigger","itemGroup","itemName","itemPreview","itemPreviewImage","itemSizeText","label","trigger","clearTrigger");fz.build();Ut()(["accept","acceptedFiles","allowDrop","capture","defaultAcceptedFiles","dir","directory","disabled","getRootNode","id","ids","invalid","locale","maxFiles","maxFileSize","minFileSize","name","onFileAccept","onFileChange","onFileReject","preventDocumentDrop","required","transformFiles","translations","validate"]);Ut()(["file","type"]);var hz=zt("hoverCard").parts("arrow","arrowTip","trigger","positioner","content");hz.build();var p9=t=>t.ids?.trigger??`hover-card:${t.id}:trigger`,m9=t=>t.ids?.content??`hover-card:${t.id}:content`,g9=t=>t.ids?.positioner??`hover-card:${t.id}:popper`,TT=t=>t.getById(p9(t)),v9=t=>t.getById(m9(t)),KO=t=>t.getById(g9(t)),{not:hb,and:$O}=tu();$O("isOpenControlled",hb("isPointer")),hb("isPointer"),$O("isOpenControlled",hb("isPointer")),hb("isPointer");Ut()(["closeDelay","dir","getRootNode","id","ids","disabled","onOpenChange","defaultOpen","open","openDelay","positioning","onInteractOutside","onPointerDownOutside","onFocusOutside"]);var pz=zt("tree-view").parts("branch","branchContent","branchControl","branchIndentGuide","branchIndicator","branchText","branchTrigger","item","itemIndicator","itemText","label","nodeCheckbox","root","tree");pz.build();var mz=t=>new rz(t);mz.empty=()=>new rz({rootNode:{children:[]}});var y9=(t,e)=>t.ids?.node?.(e)??`tree:${t.id}:node:${e}`,yf=(t,e)=>{e!=null&&t.getById(y9(t,e))?.focus()};function x9(t,e,n){const i=t.getDescendantValues(e),r=i.every(s=>n.includes(s));return tm(r?Qf(n,...i):Gf(n,...i))}function pb(t,e){const{context:n,prop:i,refs:r}=t;if(!i("loadChildren")){n.set("expandedValue",C=>tm(Gf(C,...e)));return}const s=n.get("loadingStatus"),[o,l]=lO(e,C=>s[C]==="loaded");if(o.length>0&&n.set("expandedValue",C=>tm(Gf(C,...o))),l.length===0)return;const d=i("collection"),[h,m]=lO(l,C=>{const T=d.findNode(C);return d.getNodeChildren(T).length>0});if(h.length>0&&n.set("expandedValue",C=>tm(Gf(C,...h))),m.length===0)return;n.set("loadingStatus",C=>({...C,...m.reduce((T,_)=>({...T,[_]:"loading"}),{})}));const g=m.map(C=>{const T=d.getIndexPath(C),_=d.getValuePath(T),w=d.findNode(C);return{id:C,indexPath:T,valuePath:_,node:w}}),y=r.get("pendingAborts"),b=i("loadChildren");tL(b,()=>"[zag-js/tree-view] `loadChildren` is required for async expansion");const S=g.map(({id:C,indexPath:T,valuePath:_,node:w})=>{const R=y.get(C);R&&(R.abort(),y.delete(C));const N=new AbortController;return y.set(C,N),b({valuePath:_,indexPath:T,node:w,signal:N.signal})});Promise.allSettled(S).then(C=>{const T=[],_=[],w=n.get("loadingStatus");let R=i("collection");C.forEach((N,D)=>{const{id:I,indexPath:V,node:B,valuePath:L}=g[D];N.status==="fulfilled"?(w[I]="loaded",T.push(I),R=R.replace(V,{...B,children:N.value})):(y.delete(I),Reflect.deleteProperty(w,I),_.push({node:B,error:N.reason,indexPath:V,valuePath:L}))}),n.set("loadingStatus",w),T.length&&(n.set("expandedValue",N=>tm(Gf(N,...T))),i("onLoadChildrenComplete")?.({collection:R})),_.length&&i("onLoadChildrenError")?.({nodes:_})})}function $u(t){const{prop:e,context:n}=t;return function({indexPath:r}){return e("collection").getValuePath(r).slice(0,-1).some(o=>!n.get("expandedValue").includes(o))}}var{and:Pl}=tu();Pl("isMultipleSelection","moveFocus"),Pl("isShiftKey","isMultipleSelection"),Pl("isShiftKey","isMultipleSelection"),Pl("isBranchFocused","isBranchExpanded"),Pl("isShiftKey","isMultipleSelection"),Pl("isShiftKey","isMultipleSelection"),Pl("isCtrlKey","isMultipleSelection"),Pl("isShiftKey","isMultipleSelection"),Pl("isCtrlKey","isMultipleSelection"),Pl("isShiftKey","isMultipleSelection");Ut()(["ids","collection","dir","expandedValue","expandOnClick","defaultFocusedValue","focusedValue","getRootNode","id","onExpandedChange","onFocusChange","onSelectionChange","checkedValue","selectedValue","selectionMode","typeahead","defaultExpandedValue","defaultSelectedValue","defaultCheckedValue","onCheckedChange","onLoadChildrenComplete","onLoadChildrenError","loadChildren"]);Ut()(["node","indexPath"]);var gz=zt("listbox").parts("label","input","item","itemText","itemIndicator","itemGroup","itemGroupLabel","content","root","valueText");gz.build();Ut()(["collection","defaultHighlightedValue","defaultValue","dir","disabled","deselectable","disallowSelectAll","getRootNode","highlightedValue","id","ids","loopFocus","onHighlightChange","onSelect","onValueChange","orientation","scrollToIndexFn","selectionMode","selectOnHighlight","typeahead","value"]);Ut()(["item","highlightOnHover"]);Ut()(["id"]);Ut()(["htmlFor"]);const b9=gz.extendWith("empty");var vz=zt("menu").parts("arrow","arrowTip","content","contextTrigger","indicator","item","itemGroup","itemGroupLabel","itemIndicator","itemText","positioner","separator","trigger","triggerItem");vz.build();var yz=t=>t.ids?.trigger??`menu:${t.id}:trigger`,S9=t=>t.ids?.contextTrigger??`menu:${t.id}:ctx-trigger`,xz=t=>t.ids?.content??`menu:${t.id}:content`,_9=t=>t.ids?.positioner??`menu:${t.id}:popper`,SC=(t,e)=>`${t.id}/${e}`,xf=t=>t?.dataset.value??null,ad=t=>t.getById(xz(t)),ZO=t=>t.getById(_9(t)),mb=t=>t.getById(yz(t)),E9=(t,e)=>e?t.getById(SC(t,e)):null,MT=t=>t.getById(S9(t)),o0=t=>{const n=`[role^="menuitem"][data-ownedby=${CSS.escape(xz(t))}]:not([data-disabled])`;return Ey(ad(t),n)},T9=t=>$v(o0(t)),M9=t=>kw(o0(t)),dA=(t,e)=>e?t.id===e||t.dataset.value===e:!1,C9=(t,e)=>{const n=o0(t),i=n.findIndex(r=>dA(r,e.value));return qH(n,i,{loop:e.loop??e.loopFocus})},w9=(t,e)=>{const n=o0(t),i=n.findIndex(r=>dA(r,e.value));return KH(n,i,{loop:e.loop??e.loopFocus})},A9=(t,e)=>{const n=o0(t),i=n.find(r=>dA(r,e.value));return Ty(n,{state:e.typeaheadState,key:e.key,activeId:i?.id??null})},R9=t=>!!t?.getAttribute("role")?.startsWith("menuitem")&&!!t?.hasAttribute("aria-controls"),O9="menu:select";function N9(t,e){if(!t)return;const n=ur(t),i=new n.CustomEvent(O9,{detail:{value:e}});t.dispatchEvent(i)}var{not:$a,and:_p,or:D9}=tu();$a("isSubmenu"),D9("isOpenAutoFocusEvent","isArrowDownEvent"),_p($a("isTriggerItem"),"isOpenControlled"),$a("isTriggerItem"),_p("isSubmenu","isOpenControlled"),$a("isPointerSuspended"),_p($a("isPointerSuspended"),$a("isTriggerItem")),_p($a("isTriggerItemHighlighted"),$a("isHighlightedItemEditable"),"closeOnSelect","isOpenControlled"),_p($a("isTriggerItemHighlighted"),$a("isHighlightedItemEditable"),"closeOnSelect"),_p($a("isTriggerItemHighlighted"),$a("isHighlightedItemEditable"));function QO(t){let e=t.parent;for(;e&&e.context.get("isSubmenu");)e=e.refs.get("parent");e?.send({type:"CLOSE"})}function P9(t,e){return t?S7(t,e):!1}function I9(t,e,n){const i=Object.keys(t).length>0;if(!e)return null;if(!i)return SC(n,e);for(const r in t){const s=t[r],o=yz(s.scope);if(o===e)return o}return SC(n,e)}Ut()(["anchorPoint","aria-label","closeOnSelect","composite","defaultHighlightedValue","defaultOpen","dir","getRootNode","highlightedValue","id","ids","loopFocus","navigate","onEscapeKeyDown","onFocusOutside","onHighlightChange","onInteractOutside","onOpenChange","onPointerDownOutside","onRequestDismiss","onSelect","open","positioning","typeahead"]);Ut()(["closeOnSelect","disabled","value","valueText"]);Ut()(["htmlFor"]);Ut()(["id"]);Ut()(["checked","closeOnSelect","disabled","onCheckedChange","type","value","valueText"]);let CT=new Map,_C=!1;try{_C=new Intl.NumberFormat("de-DE",{signDisplay:"exceptZero"}).resolvedOptions().signDisplay==="exceptZero"}catch{}let i_=!1;try{i_=new Intl.NumberFormat("de-DE",{style:"unit",unit:"degree"}).resolvedOptions().style==="unit"}catch{}const bz={degree:{narrow:{default:"","ja-JP":" ","zh-TW":"","sl-SI":" "}}};class L9{format(e){let n="";if(!_C&&this.options.signDisplay!=null?n=U9(this.numberFormatter,this.options.signDisplay,e):n=this.numberFormatter.format(e),this.options.style==="unit"&&!i_){var i;let{unit:r,unitDisplay:s="short",locale:o}=this.resolvedOptions();if(!r)return n;let l=(i=bz[r])===null||i===void 0?void 0:i[s];n+=l[o]||l.default}return n}formatToParts(e){return this.numberFormatter.formatToParts(e)}formatRange(e,n){if(typeof this.numberFormatter.formatRange=="function")return this.numberFormatter.formatRange(e,n);if(n<e)throw new RangeError("End date must be >= start date");return`${this.format(e)}  ${this.format(n)}`}formatRangeToParts(e,n){if(typeof this.numberFormatter.formatRangeToParts=="function")return this.numberFormatter.formatRangeToParts(e,n);if(n<e)throw new RangeError("End date must be >= start date");let i=this.numberFormatter.formatToParts(e),r=this.numberFormatter.formatToParts(n);return[...i.map(s=>({...s,source:"startRange"})),{type:"literal",value:"  ",source:"shared"},...r.map(s=>({...s,source:"endRange"}))]}resolvedOptions(){let e=this.numberFormatter.resolvedOptions();return!_C&&this.options.signDisplay!=null&&(e={...e,signDisplay:this.options.signDisplay}),!i_&&this.options.style==="unit"&&(e={...e,style:"unit",unit:this.options.unit,unitDisplay:this.options.unitDisplay}),e}constructor(e,n={}){this.numberFormatter=z9(e,n),this.options=n}}function z9(t,e={}){let{numberingSystem:n}=e;if(n&&t.includes("-nu-")&&(t.includes("-u-")||(t+="-u-"),t+=`-nu-${n}`),e.style==="unit"&&!i_){var i;let{unit:o,unitDisplay:l="short"}=e;if(!o)throw new Error('unit option must be provided with style: "unit"');if(!(!((i=bz[o])===null||i===void 0)&&i[l]))throw new Error(`Unsupported unit ${o} with unitDisplay = ${l}`);e={...e,style:"decimal"}}let r=t+(e?Object.entries(e).sort((o,l)=>o[0]<l[0]?-1:1).join():"");if(CT.has(r))return CT.get(r);let s=new Intl.NumberFormat(t,e);return CT.set(r,s),s}function U9(t,e,n){if(e==="auto")return t.format(n);if(e==="never")return t.format(Math.abs(n));{let i=!1;if(e==="always"?i=n>0||Object.is(n,0):e==="exceptZero"&&(Object.is(n,-0)||Object.is(n,0)?n=Math.abs(n):i=n>0),i){let r=t.format(-n),s=t.format(n),o=r.replace(s,"").replace(/\u200e|\u061C/,"");return[...o].length!==1&&console.warn("@react-aria/i18n polyfill for NumberFormat signDisplay: Unsupported case"),r.replace(s,"!!!").replace(o,"+").replace("!!!",s)}else return t.format(n)}}const V9=new RegExp("^.*\\(.*\\).*$"),k9=["latn","arab","hanidec","deva","beng","fullwide"];class Sz{parse(e){return wT(this.locale,this.options,e).parse(e)}isValidPartialNumber(e,n,i){return wT(this.locale,this.options,e).isValidPartialNumber(e,n,i)}getNumberingSystem(e){return wT(this.locale,this.options,e).options.numberingSystem}constructor(e,n={}){this.locale=e,this.options=n}}const JO=new Map;function wT(t,e,n){let i=eN(t,e);if(!t.includes("-nu-")&&!i.isValidPartialNumber(n)){for(let r of k9)if(r!==i.options.numberingSystem){let s=eN(t+(t.includes("-u-")?"-nu-":"-u-nu-")+r,e);if(s.isValidPartialNumber(n))return s}}return i}function eN(t,e){let n=t+(e?Object.entries(e).sort((r,s)=>r[0]<s[0]?-1:1).join():""),i=JO.get(n);return i||(i=new B9(t,e),JO.set(n,i)),i}class B9{parse(e){let n=this.sanitize(e);if(this.symbols.group&&(n=Ep(n,this.symbols.group,"")),this.symbols.decimal&&(n=n.replace(this.symbols.decimal,".")),this.symbols.minusSign&&(n=n.replace(this.symbols.minusSign,"-")),n=n.replace(this.symbols.numeral,this.symbols.index),this.options.style==="percent"){let o=n.indexOf("-");n=n.replace("-",""),n=n.replace("+","");let l=n.indexOf(".");l===-1&&(l=n.length),n=n.replace(".",""),l-2===0?n=`0.${n}`:l-2===-1?n=`0.0${n}`:l-2===-2?n="0.00":n=`${n.slice(0,l-2)}.${n.slice(l-2)}`,o>-1&&(n=`-${n}`)}let i=n?+n:NaN;if(isNaN(i))return NaN;if(this.options.style==="percent"){var r,s;let o={...this.options,style:"decimal",minimumFractionDigits:Math.min(((r=this.options.minimumFractionDigits)!==null&&r!==void 0?r:0)+2,20),maximumFractionDigits:Math.min(((s=this.options.maximumFractionDigits)!==null&&s!==void 0?s:0)+2,20)};return new Sz(this.locale,o).parse(new L9(this.locale,o).format(i))}return this.options.currencySign==="accounting"&&V9.test(e)&&(i=-1*i),i}sanitize(e){return e=e.replace(this.symbols.literals,""),this.symbols.minusSign&&(e=e.replace("-",this.symbols.minusSign)),this.options.numberingSystem==="arab"&&(this.symbols.decimal&&(e=e.replace(",",this.symbols.decimal),e=e.replace("",this.symbols.decimal)),this.symbols.group&&(e=Ep(e,".",this.symbols.group))),this.symbols.group===""&&e.includes("'")&&(e=Ep(e,"'",this.symbols.group)),this.options.locale==="fr-FR"&&this.symbols.group&&(e=Ep(e," ",this.symbols.group),e=Ep(e,/\u00A0/g,this.symbols.group)),e}isValidPartialNumber(e,n=-1/0,i=1/0){return e=this.sanitize(e),this.symbols.minusSign&&e.startsWith(this.symbols.minusSign)&&n<0?e=e.slice(this.symbols.minusSign.length):this.symbols.plusSign&&e.startsWith(this.symbols.plusSign)&&i>0&&(e=e.slice(this.symbols.plusSign.length)),this.symbols.group&&e.startsWith(this.symbols.group)||this.symbols.decimal&&e.indexOf(this.symbols.decimal)>-1&&this.options.maximumFractionDigits===0?!1:(this.symbols.group&&(e=Ep(e,this.symbols.group,"")),e=e.replace(this.symbols.numeral,""),this.symbols.decimal&&(e=e.replace(this.symbols.decimal,"")),e.length===0)}constructor(e,n={}){this.locale=e,n.roundingIncrement!==1&&n.roundingIncrement!=null&&(n.maximumFractionDigits==null&&n.minimumFractionDigits==null?(n.maximumFractionDigits=0,n.minimumFractionDigits=0):n.maximumFractionDigits==null?n.maximumFractionDigits=n.minimumFractionDigits:n.minimumFractionDigits==null&&(n.minimumFractionDigits=n.maximumFractionDigits)),this.formatter=new Intl.NumberFormat(e,n),this.options=this.formatter.resolvedOptions(),this.symbols=H9(e,this.formatter,this.options,n);var i,r;this.options.style==="percent"&&(((i=this.options.minimumFractionDigits)!==null&&i!==void 0?i:0)>18||((r=this.options.maximumFractionDigits)!==null&&r!==void 0?r:0)>18)&&console.warn("NumberParser cannot handle percentages with greater than 18 decimal places, please reduce the number in your options.")}}const tN=new Set(["decimal","fraction","integer","minusSign","plusSign","group"]),F9=[0,4,2,1,11,20,3,7,100,21,.1,1.1];function H9(t,e,n,i){var r,s,o,l;let d=new Intl.NumberFormat(t,{...n,minimumSignificantDigits:1,maximumSignificantDigits:21,roundingIncrement:1,roundingPriority:"auto",roundingMode:"halfExpand"}),h=d.formatToParts(-10000.111),m=d.formatToParts(10000.111),g=F9.map(z=>d.formatToParts(z));var y;let b=(y=(r=h.find(z=>z.type==="minusSign"))===null||r===void 0?void 0:r.value)!==null&&y!==void 0?y:"-",S=(s=m.find(z=>z.type==="plusSign"))===null||s===void 0?void 0:s.value;!S&&(i?.signDisplay==="exceptZero"||i?.signDisplay==="always")&&(S="+");let T=(o=new Intl.NumberFormat(t,{...n,minimumFractionDigits:2,maximumFractionDigits:2}).formatToParts(.001).find(z=>z.type==="decimal"))===null||o===void 0?void 0:o.value,_=(l=h.find(z=>z.type==="group"))===null||l===void 0?void 0:l.value,w=h.filter(z=>!tN.has(z.type)).map(z=>nN(z.value)),R=g.flatMap(z=>z.filter(F=>!tN.has(F.type)).map(F=>nN(F.value))),N=[...new Set([...w,...R])].sort((z,F)=>F.length-z.length),D=N.length===0?new RegExp("[\\p{White_Space}]","gu"):new RegExp(`${N.join("|")}|[\\p{White_Space}]`,"gu"),I=[...new Intl.NumberFormat(n.locale,{useGrouping:!1}).format(9876543210)].reverse(),V=new Map(I.map((z,F)=>[z,F])),B=new RegExp(`[${I.join("")}]`,"g");return{minusSign:b,plusSign:S,decimal:T,group:_,literals:D,numeral:B,index:z=>String(V.get(z))}}function Ep(t,e,n){return t.replaceAll?t.replaceAll(e,n):t.split(e).join(n)}function nN(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}var _z=zt("numberInput").parts("root","label","input","control","valueText","incrementTrigger","decrementTrigger","scrubber");_z.build();var G9=t=>t.ids?.input??`number-input:${t.id}:input`,W9=t=>t.ids?.incrementTrigger??`number-input:${t.id}:inc`,j9=t=>t.ids?.decrementTrigger??`number-input:${t.id}:dec`,Ez=t=>`number-input:${t.id}:cursor`,gb=t=>t.getById(G9(t)),X9=t=>t.getById(W9(t)),q9=t=>t.getById(j9(t)),Tz=t=>t.getDoc().getElementById(Ez(t)),Y9=(t,e)=>{let n=null;return e==="increment"&&(n=X9(t)),e==="decrement"&&(n=q9(t)),n},K9=(t,e)=>{if(!Gw())return Q9(t,e),()=>{Tz(t)?.remove()}},$9=t=>{const e=t.getDoc(),n=e.documentElement,i=e.body;return i.style.pointerEvents="none",n.style.userSelect="none",n.style.cursor="ew-resize",()=>{i.style.pointerEvents="",n.style.userSelect="",n.style.cursor="",n.style.length||n.removeAttribute("style"),i.style.length||i.removeAttribute("style")}},Z9=(t,e)=>{const{point:n,isRtl:i,event:r}=e,s=t.getWin(),o=vT(r.movementX,s.devicePixelRatio),l=vT(r.movementY,s.devicePixelRatio);let d=o>0?"increment":o<0?"decrement":null;i&&d==="increment"&&(d="decrement"),i&&d==="decrement"&&(d="increment");const h={x:n.x+o,y:n.y+l},m=s.innerWidth,g=vT(7.5,s.devicePixelRatio);return h.x=f6(h.x+g,m)-g,{hint:d,point:h}},Q9=(t,e)=>{const n=t.getDoc(),i=n.createElement("div");i.className="scrubber--cursor",i.id=Ez(t),Object.assign(i.style,{width:"15px",height:"15px",position:"fixed",pointerEvents:"none",left:"0px",top:"0px",zIndex:C6,transform:e?`translate3d(${e.x}px, ${e.y}px, 0px)`:void 0,willChange:"transform"}),i.innerHTML=`
      <svg width="46" height="15" style="left: -15.5px; position: absolute; top: 0; filter: drop-shadow(rgba(0, 0, 0, 0.4) 0px 1px 1.1px);">
        <g transform="translate(2 3)">
          <path fill-rule="evenodd" d="M 15 4.5L 15 2L 11.5 5.5L 15 9L 15 6.5L 31 6.5L 31 9L 34.5 5.5L 31 2L 31 4.5Z" style="stroke-width: 2px; stroke: white;"></path>
          <path fill-rule="evenodd" d="M 15 4.5L 15 2L 11.5 5.5L 15 9L 15 6.5L 31 6.5L 31 9L 34.5 5.5L 31 2L 31 4.5Z"></path>
        </g>
      </svg>`,n.body.appendChild(i)};function J9(t,e){if(!(!t||!e.isActiveElement(t)))try{const{selectionStart:n,selectionEnd:i,value:r}=t,s=r.substring(0,n),o=r.substring(i);return{start:n,end:i,value:r,beforeTxt:s,afterTxt:o}}catch{}}function ej(t,e,n){if(!(!t||!n.isActiveElement(t))){if(!e){t.setSelectionRange(t.value.length,t.value.length);return}try{const{value:i}=t,{beforeTxt:r="",afterTxt:s="",start:o}=e;let l=i.length;if(i.endsWith(s))l=i.length-s.length;else if(i.startsWith(r))l=r.length;else if(o!=null){const d=r[o-1],h=i.indexOf(d,o-1);h!==-1&&(l=h+1)}t.setSelectionRange(l,l)}catch{}}}var tj=(t,e={})=>new Intl.NumberFormat(t,e),nj=(t,e={})=>new Sz(t,e),AT=(t,e)=>{const{prop:n,computed:i}=e;return n("formatOptions")?t===""?Number.NaN:i("parser").parse(t):parseFloat(t)},bf=(t,e)=>{const{prop:n,computed:i}=e;return Number.isNaN(t)?"":n("formatOptions")?i("formatter").format(t):t.toString()},ij=(t,e)=>{let n=t!==void 0&&!Number.isNaN(t)?t:1;return e?.style==="percent"&&(t===void 0||Number.isNaN(t))&&(n=.01),n},{choose:rj,guards:sj,createMachine:aj}=gL(),{not:iN,and:rN}=sj;aj({props({props:t}){const e=ij(t.step,t.formatOptions);return{dir:"ltr",locale:"en-US",focusInputOnChange:!0,clampValueOnBlur:!t.allowOverflow,allowOverflow:!1,inputMode:"decimal",pattern:"-?[0-9]*(.[0-9]+)?",defaultValue:"",step:e,min:Number.MIN_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,spinOnPress:!0,...t,translations:{incrementLabel:"increment value",decrementLabel:"decrease value",...t.translations}}},initialState(){return"idle"},context({prop:t,bindable:e,getComputed:n}){return{value:e(()=>({defaultValue:t("defaultValue"),value:t("value"),onChange(i){const r=n(),s=AT(i,{computed:r,prop:t});t("onValueChange")?.({value:i,valueAsNumber:s})}})),hint:e(()=>({defaultValue:null})),scrubberCursorPoint:e(()=>({defaultValue:null,hash(i){return i?`x:${i.x}, y:${i.y}`:""}})),fieldsetDisabled:e(()=>({defaultValue:!1}))}},computed:{isRtl:({prop:t})=>t("dir")==="rtl",valueAsNumber:({context:t,computed:e,prop:n})=>AT(t.get("value"),{computed:e,prop:n}),formattedValue:({computed:t,prop:e})=>bf(t("valueAsNumber"),{computed:t,prop:e}),isAtMin:({computed:t,prop:e})=>p6(t("valueAsNumber"),e("min")),isAtMax:({computed:t,prop:e})=>h6(t("valueAsNumber"),e("max")),isOutOfRange:({computed:t,prop:e})=>!m6(t("valueAsNumber"),e("min"),e("max")),isValueEmpty:({context:t})=>t.get("value")==="",isDisabled:({prop:t,context:e})=>!!t("disabled")||e.get("fieldsetDisabled"),canIncrement:({prop:t,computed:e})=>t("allowOverflow")||!e("isAtMax"),canDecrement:({prop:t,computed:e})=>t("allowOverflow")||!e("isAtMin"),valueText:({prop:t,context:e})=>t("translations").valueText?.(e.get("value")),formatter:yO(({prop:t})=>[t("locale"),t("formatOptions")],([t,e])=>tj(t,e)),parser:yO(({prop:t})=>[t("locale"),t("formatOptions")],([t,e])=>nj(t,e))},watch({track:t,action:e,context:n,computed:i,prop:r}){t([()=>n.get("value"),()=>r("locale")],()=>{e(["syncInputElement"])}),t([()=>i("isOutOfRange")],()=>{e(["invokeOnInvalid"])}),t([()=>n.hash("scrubberCursorPoint")],()=>{e(["setVirtualCursorPosition"])})},effects:["trackFormControl"],on:{"VALUE.SET":{actions:["setRawValue"]},"VALUE.CLEAR":{actions:["clearValue"]},"VALUE.INCREMENT":{actions:["increment"]},"VALUE.DECREMENT":{actions:["decrement"]}},states:{idle:{on:{"TRIGGER.PRESS_DOWN":[{guard:"isTouchPointer",target:"before:spin",actions:["setHint"]},{target:"before:spin",actions:["focusInput","invokeOnFocus","setHint"]}],"SCRUBBER.PRESS_DOWN":{target:"scrubbing",actions:["focusInput","invokeOnFocus","setHint","setCursorPoint"]},"INPUT.FOCUS":{target:"focused",actions:["focusInput","invokeOnFocus"]}}},focused:{tags:["focus"],effects:["attachWheelListener"],on:{"TRIGGER.PRESS_DOWN":[{guard:"isTouchPointer",target:"before:spin",actions:["setHint"]},{target:"before:spin",actions:["focusInput","setHint"]}],"SCRUBBER.PRESS_DOWN":{target:"scrubbing",actions:["focusInput","setHint","setCursorPoint"]},"INPUT.ARROW_UP":{actions:["increment"]},"INPUT.ARROW_DOWN":{actions:["decrement"]},"INPUT.HOME":{actions:["decrementToMin"]},"INPUT.END":{actions:["incrementToMax"]},"INPUT.CHANGE":{actions:["setValue","setHint"]},"INPUT.BLUR":[{guard:rN("clampValueOnBlur",iN("isInRange")),target:"idle",actions:["setClampedValue","clearHint","invokeOnBlur"]},{guard:iN("isInRange"),target:"idle",actions:["setFormattedValue","clearHint","invokeOnBlur","invokeOnInvalid"]},{target:"idle",actions:["setFormattedValue","clearHint","invokeOnBlur"]}],"INPUT.ENTER":{actions:["setFormattedValue","clearHint","invokeOnBlur"]}}},"before:spin":{tags:["focus"],effects:["trackButtonDisabled","waitForChangeDelay"],entry:rj([{guard:"isIncrementHint",actions:["increment"]},{guard:"isDecrementHint",actions:["decrement"]}]),on:{CHANGE_DELAY:{target:"spinning",guard:rN("isInRange","spinOnPress")},"TRIGGER.PRESS_UP":[{guard:"isTouchPointer",target:"focused",actions:["clearHint"]},{target:"focused",actions:["focusInput","clearHint"]}]}},spinning:{tags:["focus"],effects:["trackButtonDisabled","spinValue"],on:{SPIN:[{guard:"isIncrementHint",actions:["increment"]},{guard:"isDecrementHint",actions:["decrement"]}],"TRIGGER.PRESS_UP":{target:"focused",actions:["focusInput","clearHint"]}}},scrubbing:{tags:["focus"],effects:["activatePointerLock","trackMousemove","setupVirtualCursor","preventTextSelection"],on:{"SCRUBBER.POINTER_UP":{target:"focused",actions:["focusInput","clearCursorPoint"]},"SCRUBBER.POINTER_MOVE":[{guard:"isIncrementHint",actions:["increment","setCursorPoint"]},{guard:"isDecrementHint",actions:["decrement","setCursorPoint"]}]}}},implementations:{guards:{clampValueOnBlur:({prop:t})=>t("clampValueOnBlur"),spinOnPress:({prop:t})=>!!t("spinOnPress"),isInRange:({computed:t})=>!t("isOutOfRange"),isDecrementHint:({context:t,event:e})=>(e.hint??t.get("hint"))==="decrement",isIncrementHint:({context:t,event:e})=>(e.hint??t.get("hint"))==="increment",isTouchPointer:({event:t})=>t.pointerType==="touch"},effects:{waitForChangeDelay({send:t}){const e=setTimeout(()=>{t({type:"CHANGE_DELAY"})},300);return()=>clearTimeout(e)},spinValue({send:t}){const e=setInterval(()=>{t({type:"SPIN"})},50);return()=>clearInterval(e)},trackFormControl({context:t,scope:e}){const n=gb(e);return x1(n,{onFieldsetDisabledChange(i){t.set("fieldsetDisabled",i)},onFormReset(){t.set("value",t.initial("value"))}})},setupVirtualCursor({context:t,scope:e}){const n=t.get("scrubberCursorPoint");return K9(e,n)},preventTextSelection({scope:t}){return $9(t)},trackButtonDisabled({context:t,scope:e,send:n}){const i=t.get("hint"),r=Y9(e,i);return b1(r,{attributes:["disabled"],callback(){n({type:"TRIGGER.PRESS_UP",src:"attr"})}})},attachWheelListener({scope:t,send:e,prop:n}){const i=gb(t);if(!i||!t.isActiveElement(i)||!n("allowMouseWheel"))return;function r(s){s.preventDefault();const o=Math.sign(s.deltaY)*-1;o===1?e({type:"VALUE.INCREMENT"}):o===-1&&e({type:"VALUE.DECREMENT"})}return Vr(i,"wheel",r,{passive:!1})},activatePointerLock({scope:t}){if(!Gw())return v8(t.getDoc())},trackMousemove({scope:t,send:e,context:n,computed:i}){const r=t.getDoc();function s(l){const d=n.get("scrubberCursorPoint"),h=i("isRtl"),m=Z9(t,{point:d,isRtl:h,event:l});m.hint&&e({type:"SCRUBBER.POINTER_MOVE",hint:m.hint,point:m.point})}function o(){e({type:"SCRUBBER.POINTER_UP"})}return qS(Vr(r,"mousemove",s,!1),Vr(r,"mouseup",o,!1))}},actions:{focusInput({scope:t,prop:e}){if(!e("focusInputOnChange"))return;const n=gb(t);t.isActiveElement(n)||_n(()=>n?.focus({preventScroll:!0}))},increment({context:t,event:e,prop:n,computed:i}){let r=x6(i("valueAsNumber"),e.step??n("step"));n("allowOverflow")||(r=ea(r,n("min"),n("max"))),t.set("value",bf(r,{computed:i,prop:n}))},decrement({context:t,event:e,prop:n,computed:i}){let r=b6(i("valueAsNumber"),e.step??n("step"));n("allowOverflow")||(r=ea(r,n("min"),n("max"))),t.set("value",bf(r,{computed:i,prop:n}))},setClampedValue({context:t,prop:e,computed:n}){const i=ea(n("valueAsNumber"),e("min"),e("max"));t.set("value",bf(i,{computed:n,prop:e}))},setRawValue({context:t,event:e,prop:n,computed:i}){let r=AT(e.value,{computed:i,prop:n});n("allowOverflow")||(r=ea(r,n("min"),n("max"))),t.set("value",bf(r,{computed:i,prop:n}))},setValue({context:t,event:e}){const n=e.target?.value??e.value;t.set("value",n)},clearValue({context:t}){t.set("value","")},incrementToMax({context:t,prop:e,computed:n}){const i=bf(e("max"),{computed:n,prop:e});t.set("value",i)},decrementToMin({context:t,prop:e,computed:n}){const i=bf(e("min"),{computed:n,prop:e});t.set("value",i)},setHint({context:t,event:e}){t.set("hint",e.hint)},clearHint({context:t}){t.set("hint",null)},invokeOnFocus({computed:t,prop:e}){e("onFocusChange")?.({focused:!0,value:t("formattedValue"),valueAsNumber:t("valueAsNumber")})},invokeOnBlur({computed:t,prop:e}){e("onFocusChange")?.({focused:!1,value:t("formattedValue"),valueAsNumber:t("valueAsNumber")})},invokeOnInvalid({computed:t,prop:e,event:n}){if(n.type==="INPUT.CHANGE")return;const i=t("valueAsNumber")>e("max")?"rangeOverflow":"rangeUnderflow";e("onValueInvalid")?.({reason:i,value:t("formattedValue"),valueAsNumber:t("valueAsNumber")})},syncInputElement({context:t,event:e,computed:n,scope:i}){const r=e.type.endsWith("CHANGE")?t.get("value"):n("formattedValue"),s=gb(i),o=J9(s,i);_n(()=>{y1(s,r),ej(s,o,i)})},setFormattedValue({context:t,computed:e}){t.set("value",e("formattedValue"))},setCursorPoint({context:t,event:e}){t.set("scrubberCursorPoint",e.point)},clearCursorPoint({context:t}){t.set("scrubberCursorPoint",null)},setVirtualCursorPosition({context:t,scope:e}){const n=Tz(e),i=t.get("scrubberCursorPoint");!n||!i||(n.style.transform=`translate3d(${i.x}px, ${i.y}px, 0px)`)}}}});Ut()(["allowMouseWheel","allowOverflow","clampValueOnBlur","dir","disabled","focusInputOnChange","form","formatOptions","getRootNode","id","ids","inputMode","invalid","locale","max","min","name","onFocusChange","onValueChange","onValueInvalid","pattern","required","readOnly","spinOnPress","step","translations","value","defaultValue"]);var Mz=zt("pinInput").parts("root","label","input","control");Mz.build();Ut()(["autoFocus","blurOnComplete","count","defaultValue","dir","disabled","form","getRootNode","id","ids","invalid","mask","name","onValueChange","onValueComplete","onValueInvalid","otp","pattern","placeholder","readOnly","required","selectOnFocus","translations","type","value"]);var Cz=zt("popover").parts("arrow","arrowTip","anchor","trigger","indicator","positioner","content","title","description","closeTrigger");Cz.build();Ut()(["autoFocus","closeOnEscape","closeOnInteractOutside","dir","getRootNode","id","ids","initialFocusEl","modal","onEscapeKeyDown","onFocusOutside","onInteractOutside","onOpenChange","onPointerDownOutside","onRequestDismiss","defaultOpen","open","persistentElements","portalled","positioning"]);const oj=t=>{const{children:e,disabled:n}=t,[i,r]=H.useState(t.container?.current),s=H.useSyncExternalStore(cj,()=>!1,()=>!0),{getRootNode:o}=Bw();if(H.useEffect(()=>{r(()=>t.container?.current)},[t.container]),s||n)return pe.jsx(pe.Fragment,{children:e});const l=i??lj(o);return pe.jsx(pe.Fragment,{children:H.Children.map(e,d=>_1.createPortal(d,l))})},lj=t=>{const e=t?.(),n=e.getRootNode();return Tm(n)?n:Ko(e).body},cj=()=>()=>{};var fA=zt("progress").parts("root","label","track","range","valueText","view","circle","circleTrack","circleRange");fA.build();Ut()(["dir","getRootNode","id","ids","max","min","orientation","translations","value","onValueChange","defaultValue","formatOptions","locale"]);var wz=zt("qr-code").parts("root","frame","pattern","overlay","downloadTrigger");wz.build();Ut()(["ids","defaultValue","value","id","encoding","dir","getRootNode","onValueChange","pixelSize"]);var hA=zt("radio-group").parts("root","label","item","itemText","itemControl","indicator"),Tp=hA.build(),r_=t=>t.ids?.root??`radio-group:${t.id}`,sN=t=>t.ids?.label??`radio-group:${t.id}:label`,Az=(t,e)=>t.ids?.item?.(e)??`radio-group:${t.id}:radio:${e}`,EC=(t,e)=>t.ids?.itemHiddenInput?.(e)??`radio-group:${t.id}:radio:input:${e}`,uj=(t,e)=>t.ids?.itemControl?.(e)??`radio-group:${t.id}:radio:control:${e}`,dj=(t,e)=>t.ids?.itemLabel?.(e)??`radio-group:${t.id}:radio:label:${e}`,Rz=t=>t.ids?.indicator??`radio-group:${t.id}:indicator`,N1=t=>t.getById(r_(t)),fj=(t,e)=>t.getById(EC(t,e)),hj=t=>t.getById(Rz(t)),pj=t=>N1(t)?.querySelector("input:not(:disabled)"),mj=t=>N1(t)?.querySelector("input:not(:disabled):checked"),aN=t=>{const n=`input[type=radio][data-ownedby='${CSS.escape(r_(t))}']:not([disabled])`;return Ey(N1(t),n)},gj=(t,e)=>{if(e)return t.getById(Az(t,e))},vj=t=>({left:t?.offsetLeft??0,top:t?.offsetTop??0,width:t?.offsetWidth??0,height:t?.offsetHeight??0}),yj=t=>({width:`${t.width}px`,height:`${t.height}px`,left:`${t.left}px`,top:`${t.top}px`});function xj(t,e){const{context:n,send:i,computed:r,prop:s,scope:o,refs:l}=t,d=r("isDisabled"),h=s("readOnly");function m(b){return{value:b.value,invalid:!!b.invalid,disabled:!!b.disabled||d,checked:n.get("value")===b.value,focused:n.get("focusedValue")===b.value,focusVisible:l.get("focusVisibleValue")===b.value,hovered:n.get("hoveredValue")===b.value,active:n.get("activeValue")===b.value}}function g(b){const S=m(b);return{"data-focus":Ja(S.focused),"data-focus-visible":Ja(S.focusVisible),"data-disabled":Ja(S.disabled),"data-readonly":Ja(h),"data-state":S.checked?"checked":"unchecked","data-hover":Ja(S.hovered),"data-invalid":Ja(S.invalid),"data-orientation":s("orientation"),"data-ssr":Ja(n.get("ssr"))}}const y=()=>{(mj(o)??pj(o))?.focus()};return{focus:y,value:n.get("value"),setValue(b){i({type:"SET_VALUE",value:b,isTrusted:!1})},clearValue(){i({type:"SET_VALUE",value:null,isTrusted:!1})},getRootProps(){return e.element({...Tp.root.attrs,role:"radiogroup",id:r_(o),"aria-labelledby":sN(o),"data-orientation":s("orientation"),"data-disabled":Ja(d),"aria-orientation":s("orientation"),dir:s("dir"),style:{position:"relative"}})},getLabelProps(){return e.element({...Tp.label.attrs,dir:s("dir"),"data-orientation":s("orientation"),"data-disabled":Ja(d),id:sN(o),onClick:y})},getItemState:m,getItemProps(b){const S=m(b);return e.label({...Tp.item.attrs,dir:s("dir"),id:Az(o,b.value),htmlFor:EC(o,b.value),...g(b),onPointerMove(){S.disabled||S.hovered||i({type:"SET_HOVERED",value:b.value,hovered:!0})},onPointerLeave(){S.disabled||i({type:"SET_HOVERED",value:null})},onPointerDown(C){S.disabled||oL(C)&&(S.focused&&C.pointerType==="mouse"&&C.preventDefault(),i({type:"SET_ACTIVE",value:b.value,active:!0}))},onPointerUp(){S.disabled||i({type:"SET_ACTIVE",value:null})},onClick(){!S.disabled&&Gw()&&fj(o,b.value)?.focus()}})},getItemTextProps(b){return e.element({...Tp.itemText.attrs,dir:s("dir"),id:dj(o,b.value),...g(b)})},getItemControlProps(b){const S=m(b);return e.element({...Tp.itemControl.attrs,dir:s("dir"),id:uj(o,b.value),"data-active":Ja(S.active),"aria-hidden":!0,...g(b)})},getItemHiddenInputProps(b){const S=m(b);return e.input({"data-ownedby":r_(o),id:EC(o,b.value),type:"radio",name:s("name")||s("id"),form:s("form"),value:b.value,onClick(C){if(h){C.preventDefault();return}C.currentTarget.checked&&i({type:"SET_VALUE",value:b.value,isTrusted:!0})},onBlur(){i({type:"SET_FOCUSED",value:null,focused:!1})},onFocus(){const C=n_();i({type:"SET_FOCUSED",value:b.value,focused:!0,focusVisible:C})},onKeyDown(C){C.defaultPrevented||C.key===" "&&i({type:"SET_ACTIVE",value:b.value,active:!0})},onKeyUp(C){C.defaultPrevented||C.key===" "&&i({type:"SET_ACTIVE",value:null})},disabled:S.disabled||h,defaultChecked:S.checked,style:D8})},getIndicatorProps(){const b=n.get("indicatorRect");return e.element({id:Rz(o),...Tp.indicator.attrs,dir:s("dir"),hidden:n.get("value")==null,"data-disabled":Ja(d),"data-orientation":s("orientation"),style:{"--transition-property":"left, top, width, height","--left":b?.left,"--top":b?.top,"--width":b?.width,"--height":b?.height,position:"absolute",willChange:"var(--transition-property)",transitionProperty:"var(--transition-property)",transitionDuration:n.get("canIndicatorTransition")?"var(--transition-duration, 150ms)":"0ms",transitionTimingFunction:"var(--transition-timing-function)",[s("orientation")==="horizontal"?"left":"top"]:s("orientation")==="horizontal"?"var(--left)":"var(--top)"}})}}}var{not:bj}=tu(),Sj={props({props:t}){return{orientation:"vertical",...t}},initialState(){return"idle"},context({prop:t,bindable:e}){return{value:e(()=>({defaultValue:t("defaultValue"),value:t("value"),onChange(n){t("onValueChange")?.({value:n})}})),activeValue:e(()=>({defaultValue:null})),focusedValue:e(()=>({defaultValue:null})),hoveredValue:e(()=>({defaultValue:null})),indicatorRect:e(()=>({defaultValue:{}})),canIndicatorTransition:e(()=>({defaultValue:!1})),fieldsetDisabled:e(()=>({defaultValue:!1})),ssr:e(()=>({defaultValue:!0}))}},refs(){return{indicatorCleanup:null,focusVisibleValue:null}},computed:{isDisabled:({prop:t,context:e})=>!!t("disabled")||e.get("fieldsetDisabled")},entry:["syncIndicatorRect","syncSsr"],exit:["cleanupObserver"],effects:["trackFormControlState","trackFocusVisible"],watch({track:t,action:e,context:n}){t([()=>n.get("value")],()=>{e(["setIndicatorTransition","syncIndicatorRect","syncInputElements"])})},on:{SET_VALUE:[{guard:bj("isTrusted"),actions:["setValue","dispatchChangeEvent"]},{actions:["setValue"]}],SET_HOVERED:{actions:["setHovered"]},SET_ACTIVE:{actions:["setActive"]},SET_FOCUSED:{actions:["setFocused"]}},states:{idle:{}},implementations:{guards:{isTrusted:({event:t})=>!!t.isTrusted},effects:{trackFormControlState({context:t,scope:e}){return x1(N1(e),{onFieldsetDisabledChange(n){t.set("fieldsetDisabled",n)},onFormReset(){t.set("value",t.initial("value"))}})},trackFocusVisible({scope:t}){return KL({root:t.getRootNode?.()})}},actions:{setValue({context:t,event:e}){t.set("value",e.value)},setHovered({context:t,event:e}){t.set("hoveredValue",e.value)},setActive({context:t,event:e}){t.set("activeValue",e.value)},setFocused({context:t,event:e,refs:n}){t.set("focusedValue",e.value),n.set("focusVisibleValue",e.focusVisible?e.value:null)},syncInputElements({context:t,scope:e}){aN(e).forEach(i=>{i.checked=i.value===t.get("value")})},setIndicatorTransition({context:t}){t.set("canIndicatorTransition",Zv(t.get("value")))},cleanupObserver({refs:t}){t.get("indicatorCleanup")?.()},syncSsr({context:t}){t.set("ssr",!1)},syncIndicatorRect({context:t,scope:e,refs:n}){if(n.get("indicatorCleanup")?.(),!hj(e))return;const i=t.get("value"),r=gj(e,i);if(i==null||!r){t.set("canIndicatorTransition",!1),t.set("indicatorRect",{});return}const s=M8([r],{measure(o){return vj(o)},onEntry({rects:o}){t.set("indicatorRect",yj(o[0]))}});n.set("indicatorCleanup",s)},dispatchChangeEvent({context:t,scope:e}){aN(e).forEach(i=>{const r=i.value===t.get("value");r!==i.checked&&r8(i,{checked:r})})}}}};Ut()(["dir","disabled","form","getRootNode","id","ids","name","onValueChange","orientation","readOnly","value","defaultValue"]);Ut()(["value","disabled","invalid"]);var Oz=zt("rating-group").parts("root","label","item","control");Oz.build();Ut()(["allowHalf","autoFocus","count","dir","disabled","form","getRootNode","id","ids","name","onHoverChange","onValueChange","required","readOnly","translations","value","defaultValue"]);Ut()(["index"]);var Nz=zt("scroll-area").parts("root","viewport","content","scrollbar","thumb","corner");Nz.build();Ut()(["dir","getRootNode","ids","id"]);const[Dz,D1]=hh({name:"SegmentGroupContext",hookName:"useSegmentGroupContext",providerName:"<SegmentGroupProvider />"}),Pz=hA.rename("segment-group"),l0=Pz.build(),Iz=H.forwardRef((t,e)=>{const n=D1(),i=aa(n.getIndicatorProps(),l0.indicator.attrs,t);return pe.jsx($o.div,{...i,ref:e})});Iz.displayName="SegmentGroupIndicator";const[_j]=hh({name:"SegmentGroupItemContext",hookName:"useSegmentGroupItemContext",providerName:"<SegmentGroupItemProvider />"}),[Ej,Lz]=hh({name:"SegmentGroupItemPropsContext",hookName:"useSegmentGroupItemPropsContext",providerName:"<SegmentGroupItemPropsProvider />"}),zz=H.forwardRef((t,e)=>{const[n,i]=S1()(t,["value","disabled","invalid"]),r=D1(),s=aa(r.getItemProps(n),l0.item.attrs,i),o=r.getItemState(n);return pe.jsx(Ej,{value:n,children:pe.jsx(_j,{value:o,children:pe.jsx($o.label,{...s,ref:e})})})});zz.displayName="SegmentGroupItem";const Uz=H.forwardRef((t,e)=>{const n=D1(),i=Lz(),r=aa(n.getItemHiddenInputProps(i),t);return pe.jsx($o.input,{...r,ref:e})});Uz.displayName="SegmentGroupItemHiddenInput";const Vz=H.forwardRef((t,e)=>{const n=D1(),i=Lz(),r=aa(n.getItemTextProps(i),l0.itemText.attrs,t);return pe.jsx($o.span,{...r,ref:e})});Vz.displayName="SegmentGroupItemText";const Tj=t=>{const e=H.useId(),{getRootNode:n}=Bw(),{dir:i}=yL(),r={id:e,dir:i,getRootNode:n,...t},s=$w(Sj,r);return xj(s,_L)},kz=H.forwardRef((t,e)=>{const[n,i]=S1()(t,["defaultValue","disabled","form","id","ids","name","onValueChange","orientation","readOnly","value"]),r=Tj(n),s=aa(r.getRootProps(),l0.root.attrs,i);return pe.jsx(Dz,{value:r,children:pe.jsx($o.div,{...s,ref:e})})});kz.displayName="SegmentGroupRoot";const Bz=H.forwardRef((t,e)=>{const[{value:n},i]=S1()(t,["value"]),r=aa(n.getRootProps(),l0.root.attrs,i);return pe.jsx(Dz,{value:n,children:pe.jsx($o.div,{...r,ref:e})})});Bz.displayName="SegmentGroupRootProvider";var Fz=zt("select").parts("label","positioner","trigger","indicator","clearTrigger","item","itemText","itemIndicator","itemGroup","itemGroupLabel","list","content","root","control","valueText");Fz.build();var Hz=t=>new R1(t);Hz.empty=()=>new R1({items:[]});var Mj=t=>t.ids?.content??`select:${t.id}:content`,Cj=t=>t.ids?.trigger??`select:${t.id}:trigger`,wj=t=>t.ids?.clearTrigger??`select:${t.id}:clear-trigger`,Aj=(t,e)=>t.ids?.item?.(e)??`select:${t.id}:option:${e}`,Rj=t=>t.ids?.hiddenSelect??`select:${t.id}:select`,Oj=t=>t.ids?.positioner??`select:${t.id}:positioner`,RT=t=>t.getById(Rj(t)),Sv=t=>t.getById(Mj(t)),vb=t=>t.getById(Cj(t)),Nj=t=>t.getById(wj(t)),oN=t=>t.getById(Oj(t)),OT=(t,e)=>e==null?null:t.getById(Aj(t,e)),{and:_v,not:Sf,or:Dj}=tu();Dj("isTriggerArrowDownEvent","isTriggerEnterEvent"),_v(Sf("multiple"),"hasSelectedItems"),Sf("multiple"),_v(Sf("multiple"),"hasSelectedItems"),Sf("multiple"),Sf("multiple"),Sf("multiple"),Sf("multiple"),_v("closeOnSelect","isOpenControlled"),_v("hasHighlightedItem","loop","isLastItemHighlighted"),_v("hasHighlightedItem","loop","isFirstItemHighlighted");function lN(t){const e=t.restoreFocus??t.previousEvent?.restoreFocus;return e==null||!!e}Ut()(["closeOnSelect","collection","composite","defaultHighlightedValue","defaultOpen","defaultValue","deselectable","dir","disabled","form","getRootNode","highlightedValue","id","ids","invalid","loopFocus","multiple","name","onFocusOutside","onHighlightChange","onInteractOutside","onOpenChange","onPointerDownOutside","onSelect","onValueChange","open","positioning","readOnly","required","scrollToIndexFn","value"]);Ut()(["item","persistFocus"]);Ut()(["id"]);Ut()(["htmlFor"]);var Gz=zt("slider").parts("root","label","thumb","valueText","track","range","control","markerGroup","marker","draggingIndicator");Gz.build();Ut()(["aria-label","aria-labelledby","dir","disabled","form","getAriaValueText","getRootNode","id","ids","invalid","max","min","minStepsBetweenThumbs","name","onFocusChange","onValueChange","onValueChangeEnd","orientation","origin","readOnly","step","thumbAlignment","thumbAlignment","thumbSize","value","defaultValue"]);Ut()(["index","name"]);var Wz=zt("switch").parts("root","label","control","thumb");Wz.build();Ut()(["checked","defaultChecked","dir","disabled","form","getRootNode","id","ids","invalid","label","name","onCheckedChange","readOnly","required","value"]);var Pj=zt("toast").parts("group","root","title","description","actionTrigger","closeTrigger");Pj.build();var Ij=(t,e)=>({...e,...p1(t)});function Lj(t={}){const e=Ij(t,{placement:"bottom",overlap:!1,max:24,gap:16,offsets:"1rem",hotkey:["altKey","KeyT"],removeDelay:200,pauseOnPageIdle:!0});let n=[],i=[],r=new Set,s=[];const o=j=>(n.push(j),()=>{const Z=n.indexOf(j);n.splice(Z,1)}),l=j=>(n.forEach(Z=>Z(j)),j),d=j=>{if(i.length>=e.max){s.push(j);return}l(j),i.unshift(j)},h=()=>{for(;s.length>0&&i.length<e.max;){const j=s.shift();j&&(l(j),i.unshift(j))}},m=j=>{const Z=j.id??`toast:${o6()}`,se=i.find(ie=>ie.id===Z);return r.has(Z)&&r.delete(Z),se?i=i.map(ie=>ie.id===Z?l({...ie,...j,id:Z}):ie):d({id:Z,duration:e.duration,removeDelay:e.removeDelay,type:"info",...j,stacked:!e.overlap,gap:e.gap}),Z},g=j=>(r.add(j),j?(n.forEach(Z=>Z({id:j,dismiss:!0})),i=i.filter(Z=>Z.id!==j),h()):(i.forEach(Z=>{n.forEach(se=>se({id:Z.id,dismiss:!0}))}),i=[],s=[]),j);return{attrs:e,subscribe:o,create:m,update:(j,Z)=>m({id:j,...Z}),remove:g,dismiss:j=>{j!=null?i=i.map(Z=>Z.id===j?l({...Z,message:"DISMISS"}):Z):i=i.map(Z=>l({...Z,message:"DISMISS"}))},error:j=>m({...j,type:"error"}),success:j=>m({...j,type:"success"}),info:j=>m({...j,type:"info"}),warning:j=>m({...j,type:"warning"}),loading:j=>m({...j,type:"loading"}),getVisibleToasts:()=>i.filter(j=>!r.has(j.id)),getCount:()=>i.length,promise:(j,Z,se={})=>{if(!Z||!Z.loading){_y("[zag-js > toast] toaster.promise() requires at least a 'loading' option to be specified");return}const ie=m({...se,...Z.loading,promise:j,type:"loading"});let k=!0,q;const $=ob(j).then(async G=>{if(q=["resolve",G],zj(G)&&!G.ok){k=!1;const te=ob(Z.error,`HTTP Error! status: ${G.status}`);m({...se,...te,id:ie,type:"error"})}else if(Z.success!==void 0){k=!1;const te=ob(Z.success,G);m({...se,...te,id:ie,type:"success"})}}).catch(async G=>{if(q=["reject",G],Z.error!==void 0){k=!1;const te=ob(Z.error,G);m({...se,...te,id:ie,type:"error"})}}).finally(()=>{k&&g(ie),Z.finally?.()});return{id:ie,unwrap:()=>new Promise((G,te)=>$.then(()=>q[0]==="reject"?te(q[1]):G(q[1])).catch(te))}},pause:j=>{j!=null?i=i.map(Z=>Z.id===j?l({...Z,message:"PAUSE"}):Z):i=i.map(Z=>l({...Z,message:"PAUSE"}))},resume:j=>{j!=null?i=i.map(Z=>Z.id===j?l({...Z,message:"RESUME"}):Z):i=i.map(Z=>l({...Z,message:"RESUME"}))},isVisible:j=>!r.has(j)&&!!i.find(Z=>Z.id===j),isDismissed:j=>r.has(j),expand:()=>{i=i.map(j=>l({...j,stacked:!0}))},collapse:()=>{i=i.map(j=>l({...j,stacked:!1}))}}}var zj=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number";const Uj=t=>Lj(t),[jz,c0]=hh({name:"TooltipContext",hookName:"useTooltipContext",providerName:"<TooltipProvider />"}),Xz=H.forwardRef((t,e)=>{const n=c0(),i=aa(n.getArrowProps(),t);return pe.jsx($o.div,{...i,ref:e})});Xz.displayName="TooltipArrow";const qz=H.forwardRef((t,e)=>{const n=c0(),i=aa(n.getArrowTipProps(),t);return pe.jsx($o.div,{...i,ref:e})});qz.displayName="TooltipArrowTip";const Yz=H.forwardRef((t,e)=>{const n=c0(),i=ML(),r=aa(n.getContentProps(),i.getPresenceProps(),t);return i.unmounted?null:pe.jsx($o.div,{...r,ref:vL(i.ref,e)})});Yz.displayName="TooltipContent";const Kz=H.forwardRef((t,e)=>{const n=c0(),i=aa(n.getPositionerProps(),t);return ML().unmounted?null:pe.jsx($o.div,{...i,ref:e})});Kz.displayName="TooltipPositioner";var $z=zt("tooltip").parts("trigger","arrow","arrowTip","positioner","content"),Ev=$z.build(),Zz=t=>t.ids?.trigger??`tooltip:${t.id}:trigger`,Vj=t=>t.ids?.content??`tooltip:${t.id}:content`,kj=t=>t.ids?.arrow??`tooltip:${t.id}:arrow`,Qz=t=>t.ids?.positioner??`tooltip:${t.id}:popper`,NT=t=>t.getById(Zz(t)),cN=t=>t.getById(Qz(t)),Bc=S6({id:null});function Bj(t,e){const{state:n,context:i,send:r,scope:s,prop:o,event:l}=t,d=o("id"),h=!!o("aria-label"),m=n.matches("open","closing"),g=Zz(s),y=Vj(s),b=o("disabled"),S=MW({...o("positioning"),placement:i.get("currentPlacement")});return{open:m,setOpen(C){n.matches("open","closing")!==C&&r({type:C?"open":"close"})},reposition(C={}){r({type:"positioning.set",options:C})},getTriggerProps(){return e.button({...Ev.trigger.attrs,id:g,dir:o("dir"),"data-expanded":Ja(m),"data-state":m?"open":"closed","aria-describedby":m?y:void 0,onClick(C){C.defaultPrevented||b||o("closeOnClick")&&r({type:"close",src:"trigger.click"})},onFocus(C){queueMicrotask(()=>{C.defaultPrevented||b||l.src!=="trigger.pointerdown"&&n_()&&r({type:"open",src:"trigger.focus"})})},onBlur(C){C.defaultPrevented||b||d===Bc.get("id")&&r({type:"close",src:"trigger.blur"})},onPointerDown(C){C.defaultPrevented||b||oL(C)&&o("closeOnPointerDown")&&d===Bc.get("id")&&r({type:"close",src:"trigger.pointerdown"})},onPointerMove(C){C.defaultPrevented||b||C.pointerType!=="touch"&&r({type:"pointer.move"})},onPointerLeave(){b||r({type:"pointer.leave"})},onPointerCancel(){b||r({type:"pointer.leave"})}})},getArrowProps(){return e.element({id:kj(s),...Ev.arrow.attrs,dir:o("dir"),style:S.arrow})},getArrowTipProps(){return e.element({...Ev.arrowTip.attrs,dir:o("dir"),style:S.arrowTip})},getPositionerProps(){return e.element({id:Qz(s),...Ev.positioner.attrs,dir:o("dir"),style:S.floating})},getContentProps(){return e.element({...Ev.content.attrs,dir:o("dir"),hidden:!m,"data-state":m?"open":"closed",role:h?void 0:"tooltip",id:h?void 0:y,"data-placement":i.get("currentPlacement"),onPointerEnter(){r({type:"content.pointer.move"})},onPointerLeave(){r({type:"content.pointer.leave"})},style:{pointerEvents:o("interactive")?"auto":"none"}})}}}var{and:Fj,not:uN}=tu(),Hj={initialState:({prop:t})=>t("open")||t("defaultOpen")?"open":"closed",props({props:t}){const e=t.closeOnClick??!0,n=t.closeOnPointerDown??e;return{id:"x",openDelay:400,closeDelay:150,closeOnEscape:!0,interactive:!1,closeOnScroll:!0,disabled:!1,...t,closeOnPointerDown:n,closeOnClick:e,positioning:{placement:"bottom",...t.positioning}}},effects:["trackFocusVisible","trackStore"],context:({bindable:t})=>({currentPlacement:t(()=>({defaultValue:void 0})),hasPointerMoveOpened:t(()=>({defaultValue:!1}))}),watch({track:t,action:e,prop:n}){t([()=>n("disabled")],()=>{e(["closeIfDisabled"])}),t([()=>n("open")],()=>{e(["toggleVisibility"])})},states:{closed:{entry:["clearGlobalId"],on:{"controlled.open":{target:"open"},open:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}],"pointer.leave":{actions:["clearPointerMoveOpened"]},"pointer.move":[{guard:Fj("noVisibleTooltip",uN("hasPointerMoveOpened")),target:"opening"},{guard:uN("hasPointerMoveOpened"),target:"open",actions:["setPointerMoveOpened","invokeOnOpen"]}]}},opening:{effects:["trackScroll","trackPointerlockChange","waitForOpenDelay"],on:{"after.openDelay":[{guard:"isOpenControlled",actions:["setPointerMoveOpened","invokeOnOpen"]},{target:"open",actions:["setPointerMoveOpened","invokeOnOpen"]}],"controlled.open":{target:"open"},"controlled.close":{target:"closed"},open:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}],"pointer.leave":[{guard:"isOpenControlled",actions:["clearPointerMoveOpened","invokeOnClose","toggleVisibility"]},{target:"closed",actions:["clearPointerMoveOpened","invokeOnClose"]}],close:[{guard:"isOpenControlled",actions:["invokeOnClose","toggleVisibility"]},{target:"closed",actions:["invokeOnClose"]}]}},open:{effects:["trackEscapeKey","trackScroll","trackPointerlockChange","trackPositioning"],entry:["setGlobalId"],on:{"controlled.close":{target:"closed"},close:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],"pointer.leave":[{guard:"isVisible",target:"closing",actions:["clearPointerMoveOpened"]},{guard:"isOpenControlled",actions:["clearPointerMoveOpened","invokeOnClose"]},{target:"closed",actions:["clearPointerMoveOpened","invokeOnClose"]}],"content.pointer.leave":{guard:"isInteractive",target:"closing"},"positioning.set":{actions:["reposition"]}}},closing:{effects:["trackPositioning","waitForCloseDelay"],on:{"after.closeDelay":[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],"controlled.close":{target:"closed"},"controlled.open":{target:"open"},close:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],"pointer.move":[{guard:"isOpenControlled",actions:["setPointerMoveOpened","invokeOnOpen","toggleVisibility"]},{target:"open",actions:["setPointerMoveOpened","invokeOnOpen"]}],"content.pointer.move":{guard:"isInteractive",target:"open"},"positioning.set":{actions:["reposition"]}}}},implementations:{guards:{noVisibleTooltip:()=>Bc.get("id")===null,isVisible:({prop:t})=>t("id")===Bc.get("id"),isInteractive:({prop:t})=>!!t("interactive"),hasPointerMoveOpened:({context:t})=>t.get("hasPointerMoveOpened"),isOpenControlled:({prop:t})=>t("open")!==void 0},actions:{setGlobalId:({prop:t})=>{Bc.set("id",t("id"))},clearGlobalId:({prop:t})=>{t("id")===Bc.get("id")&&Bc.set("id",null)},invokeOnOpen:({prop:t})=>{t("onOpenChange")?.({open:!0})},invokeOnClose:({prop:t})=>{t("onOpenChange")?.({open:!1})},closeIfDisabled:({prop:t,send:e})=>{t("disabled")&&e({type:"close",src:"disabled.change"})},reposition:({context:t,event:e,prop:n,scope:i})=>{if(e.type!=="positioning.set")return;const r=()=>cN(i);return qo(NT(i),r,{...n("positioning"),...e.options,defer:!0,listeners:!1,onComplete(s){t.set("currentPlacement",s.placement)}})},toggleVisibility:({prop:t,event:e,send:n})=>{queueMicrotask(()=>{n({type:t("open")?"controlled.open":"controlled.close",previousEvent:e})})},setPointerMoveOpened:({context:t})=>{t.set("hasPointerMoveOpened",!0)},clearPointerMoveOpened:({context:t})=>{t.set("hasPointerMoveOpened",!1)}},effects:{trackFocusVisible:({scope:t})=>KL({root:t.getRootNode?.()}),trackPositioning:({context:t,prop:e,scope:n})=>{t.get("currentPlacement")||t.set("currentPlacement",e("positioning").placement);const i=()=>cN(n);return qo(NT(n),i,{...e("positioning"),defer:!0,onComplete(r){t.set("currentPlacement",r.placement)}})},trackPointerlockChange:({send:t,scope:e})=>{const n=e.getDoc();return Vr(n,"pointerlockchange",()=>t({type:"close",src:"pointerlock:change"}),!1)},trackScroll:({send:t,prop:e,scope:n})=>{if(!e("closeOnScroll"))return;const i=NT(n);if(!i)return;const s=fL(i).map(o=>Vr(o,"scroll",()=>{t({type:"close",src:"scroll"})},{passive:!0,capture:!0}));return()=>{s.forEach(o=>o?.())}},trackStore:({prop:t,send:e})=>{let n;return queueMicrotask(()=>{n=Bc.subscribe(()=>{Bc.get("id")!==t("id")&&e({type:"close",src:"id.change"})})}),()=>n?.()},trackEscapeKey:({send:t,prop:e})=>e("closeOnEscape")?Vr(document,"keydown",i=>{$6(i)||i.key==="Escape"&&(i.stopPropagation(),t({type:"close",src:"keydown.escape"}))},!0):void 0,waitForOpenDelay:({send:t,prop:e})=>{const n=setTimeout(()=>{t({type:"after.openDelay"})},e("openDelay"));return()=>clearTimeout(n)},waitForCloseDelay:({send:t,prop:e})=>{const n=setTimeout(()=>{t({type:"after.closeDelay"})},e("closeDelay"));return()=>clearTimeout(n)}}}};Ut()(["aria-label","closeDelay","closeOnEscape","closeOnPointerDown","closeOnScroll","closeOnClick","dir","disabled","getRootNode","id","ids","interactive","onOpenChange","defaultOpen","open","openDelay","positioning"]);const Gj=t=>{const e=H.useId(),{getRootNode:n}=Bw(),{dir:i}=yL(),r={id:e,dir:i,getRootNode:n,...t},s=$w(Hj,r);return Bj(s,_L)},Wj=t=>{const[e,{children:n,...i}]=xL(t),r=Gj(i),s=EL(aa({present:r.open},e));return pe.jsx(jz,{value:r,children:pe.jsx(TL,{value:s,children:n})})},jj=t=>{const[e,{value:n,children:i}]=xL(t),r=EL(aa({present:n.open},e));return pe.jsx(jz,{value:n,children:pe.jsx(TL,{value:r,children:i})})},Jz=H.forwardRef((t,e)=>{const n=c0(),i=aa(n.getTriggerProps(),t);return pe.jsx($o.button,{...i,ref:e})});Jz.displayName="TooltipTrigger";function eU(t,e=[]){const n=Object.assign({},t);for(const i of e)i in n&&delete n[i];return n}const Xj=(t,e)=>{if(!t||typeof t!="string")return{invalid:!0,value:t};const[n,i]=t.split("/");if(!n||!i||n==="currentBg")return{invalid:!0,value:n};const r=e(`colors.${n}`),s=e.raw(`opacity.${i}`)?.value;if(!s&&isNaN(Number(i)))return{invalid:!0,value:n};const o=s?Number(s)*100+"%":`${i}%`,l=r??n;return{invalid:!1,color:l,value:`color-mix(in srgb, ${l} ${o}, transparent)`}},ii=t=>(e,n)=>{const i=n.utils.colorMix(e);if(i.invalid)return{[t]:e};const r="--mix-"+t;return{[r]:i.value,[t]:`var(${r}, ${i.color})`}};function TC(t){if(t===null||typeof t!="object")return t;if(Array.isArray(t))return t.map(n=>TC(n));const e=Object.create(Object.getPrototypeOf(t));for(const n of Object.keys(t))e[n]=TC(t[n]);return e}function MC(t,e){if(e==null)return t;for(const n of Object.keys(e))if(!(e[n]===void 0||n==="__proto__"))if(!Qs(t[n])&&Qs(e[n]))Object.assign(t,{[n]:e[n]});else if(t[n]&&Qs(e[n]))MC(t[n],e[n]);else if(Array.isArray(e[n])&&Array.isArray(t[n])){let i=0;for(;i<e[n].length;i++)Qs(t[n][i])&&Qs(e[n][i])?MC(t[n][i],e[n][i]):t[n][i]=e[n][i]}else Object.assign(t,{[n]:e[n]});return t}function Hm(t,...e){for(const n of e)MC(t,n);return t}const CC=t=>t!=null;function Ql(t,e,n={}){const{stop:i,getKey:r}=n;function s(o,l=[]){if(Qs(o)||Array.isArray(o)){const d={};for(const[h,m]of Object.entries(o)){const g=r?.(h,m)??h,y=[...l,g];if(i?.(o,y))return e(o,l);const b=s(m,y);CC(b)&&(d[g]=b)}return d}return e(o,l)}return s(t)}function tU(t,e){return Array.isArray(t)?t.map(n=>CC(n)?e(n):n):Qs(t)?Ql(t,n=>e(n)):CC(t)?e(t):t}const yb=["value","type","description"],qj=t=>t&&typeof t=="object"&&!Array.isArray(t),nU=(...t)=>{const e=Hm({},...t.map(TC));return e.theme?.tokens&&Ql(e.theme.tokens,n=>{const s=Object.keys(n).filter(l=>!yb.includes(l)).length>0,o=yb.some(l=>n[l]!=null);return s&&o&&(n.DEFAULT||(n.DEFAULT={}),yb.forEach(l=>{var d;n[l]!=null&&((d=n.DEFAULT)[l]||(d[l]=n[l]),delete n[l])})),n},{stop(n){return qj(n)&&Object.keys(n).some(i=>yb.includes(i)||i!==i.toLowerCase()&&i!==i.toUpperCase())}}),e},Yj=t=>t,hr=t=>t,Bt=t=>t,Kj=t=>t,$j=t=>t,Gm=t=>t,Zj=t=>t,Qj=t=>t,Jj=t=>t;function iU(){const t=e=>e;return new Proxy(t,{get(){return t}})}const $i=iU(),pA=iU(),rU=t=>t,eX=/[^a-zA-Z0-9_\u0081-\uffff-]/g;function tX(t){return`${t}`.replace(eX,e=>`\\${e}`)}const nX=/[A-Z]/g;function iX(t){return t.replace(nX,e=>`-${e.toLowerCase()}`)}function sU(t,e={}){const{fallback:n="",prefix:i=""}=e,r=iX(["-",i,tX(t)].filter(Boolean).join("-"));return{var:r,ref:`var(${r}${n?`, ${n}`:""})`}}const rX=t=>/^var\(--.+\)$/.test(t),Sr=(t,e)=>e!=null?`${t}(${e})`:e,_f=t=>{if(rX(t)||t==null)return t;const e=typeof t=="string"&&!t.endsWith("deg");return typeof t=="number"||e?`${t}deg`:t},dN=t=>({values:["outside","inside","mixed","none"],transform(e,{token:n}){const i=n("colors.colorPalette.focusRing");return{inside:{"--focus-ring-color":i,[t]:{outlineOffset:"0px",outlineWidth:"var(--focus-ring-width, 1px)",outlineColor:"var(--focus-ring-color)",outlineStyle:"var(--focus-ring-style, solid)",borderColor:"var(--focus-ring-color)"}},outside:{"--focus-ring-color":i,[t]:{outlineWidth:"var(--focus-ring-width, 2px)",outlineOffset:"var(--focus-ring-offset, 2px)",outlineStyle:"var(--focus-ring-style, solid)",outlineColor:"var(--focus-ring-color)"}},mixed:{"--focus-ring-color":i,[t]:{outlineWidth:"var(--focus-ring-width, 3px)",outlineStyle:"var(--focus-ring-style, solid)",outlineColor:"color-mix(in srgb, var(--focus-ring-color), transparent 60%)",borderColor:"var(--focus-ring-color)"}},none:{"--focus-ring-color":i,[t]:{outline:"none"}}}[e]??{}}}),sX=ii("borderColor"),Oc=t=>({transition:t,transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"150ms"}),aX=Yj({hover:["@media (hover: hover)","&:is(:hover, [data-hover]):not(:disabled, [data-disabled])"],active:"&:is(:active, [data-active]):not(:disabled, [data-disabled], [data-state=open])",focus:"&:is(:focus, [data-focus])",focusWithin:"&:is(:focus-within, [data-focus-within])",focusVisible:"&:is(:focus-visible, [data-focus-visible])",disabled:"&:is(:disabled, [disabled], [data-disabled], [aria-disabled=true])",visited:"&:visited",target:"&:target",readOnly:"&:is([data-readonly], [aria-readonly=true], [readonly])",readWrite:"&:read-write",empty:"&:is(:empty, [data-empty])",checked:"&:is(:checked, [data-checked], [aria-checked=true], [data-state=checked])",enabled:"&:enabled",expanded:"&:is([aria-expanded=true], [data-expanded], [data-state=expanded])",highlighted:"&[data-highlighted]",complete:"&[data-complete]",incomplete:"&[data-incomplete]",dragging:"&[data-dragging]",before:"&::before",after:"&::after",firstLetter:"&::first-letter",firstLine:"&::first-line",marker:"&::marker",selection:"&::selection",file:"&::file-selector-button",backdrop:"&::backdrop",first:"&:first-of-type",last:"&:last-of-type",notFirst:"&:not(:first-of-type)",notLast:"&:not(:last-of-type)",only:"&:only-child",even:"&:nth-of-type(even)",odd:"&:nth-of-type(odd)",peerFocus:".peer:is(:focus, [data-focus]) ~ &",peerHover:".peer:is(:hover, [data-hover]):not(:disabled, [data-disabled]) ~ &",peerActive:".peer:is(:active, [data-active]):not(:disabled, [data-disabled]) ~ &",peerFocusWithin:".peer:focus-within ~ &",peerFocusVisible:".peer:is(:focus-visible, [data-focus-visible]) ~ &",peerDisabled:".peer:is(:disabled, [disabled], [data-disabled]) ~ &",peerChecked:".peer:is(:checked, [data-checked], [aria-checked=true], [data-state=checked]) ~ &",peerInvalid:".peer:is(:invalid, [data-invalid], [aria-invalid=true]) ~ &",peerExpanded:".peer:is([aria-expanded=true], [data-expanded], [data-state=expanded]) ~ &",peerPlaceholderShown:".peer:placeholder-shown ~ &",groupFocus:".group:is(:focus, [data-focus]) &",groupHover:".group:is(:hover, [data-hover]):not(:disabled, [data-disabled]) &",groupActive:".group:is(:active, [data-active]):not(:disabled, [data-disabled]) &",groupFocusWithin:".group:focus-within &",groupFocusVisible:".group:is(:focus-visible, [data-focus-visible]) &",groupDisabled:".group:is(:disabled, [disabled], [data-disabled]) &",groupChecked:".group:is(:checked, [data-checked], [aria-checked=true], [data-state=checked]) &",groupExpanded:".group:is([aria-expanded=true], [data-expanded], [data-state=expanded]) &",groupInvalid:".group:invalid &",indeterminate:"&:is(:indeterminate, [data-indeterminate], [aria-checked=mixed], [data-state=indeterminate])",required:"&:is([data-required], [aria-required=true])",valid:"&:is([data-valid], [data-state=valid])",invalid:"&:is([data-invalid], [aria-invalid=true], [data-state=invalid])",autofill:"&:autofill",inRange:"&:is(:in-range, [data-in-range])",outOfRange:"&:is(:out-of-range, [data-outside-range])",placeholder:"&::placeholder, &[data-placeholder]",placeholderShown:"&:is(:placeholder-shown, [data-placeholder-shown])",pressed:"&:is([aria-pressed=true], [data-pressed])",selected:"&:is([aria-selected=true], [data-selected])",grabbed:"&:is([aria-grabbed=true], [data-grabbed])",underValue:"&[data-state=under-value]",overValue:"&[data-state=over-value]",atValue:"&[data-state=at-value]",default:"&:default",optional:"&:optional",open:"&:is([open], [data-open], [data-state=open])",closed:"&:is([closed], [data-closed], [data-state=closed])",fullscreen:"&:is(:fullscreen, [data-fullscreen])",loading:"&:is([data-loading], [aria-busy=true])",hidden:"&:is([hidden], [data-hidden])",current:"&[data-current]",currentPage:"&[aria-current=page]",currentStep:"&[aria-current=step]",today:"&[data-today]",unavailable:"&[data-unavailable]",rangeStart:"&[data-range-start]",rangeEnd:"&[data-range-end]",now:"&[data-now]",topmost:"&[data-topmost]",motionReduce:"@media (prefers-reduced-motion: reduce)",motionSafe:"@media (prefers-reduced-motion: no-preference)",print:"@media print",landscape:"@media (orientation: landscape)",portrait:"@media (orientation: portrait)",dark:".dark &, .dark .chakra-theme:not(.light) &",light:":root &, .light &",osDark:"@media (prefers-color-scheme: dark)",osLight:"@media (prefers-color-scheme: light)",highContrast:"@media (forced-colors: active)",lessContrast:"@media (prefers-contrast: less)",moreContrast:"@media (prefers-contrast: more)",ltr:"[dir=ltr] &",rtl:"[dir=rtl] &",scrollbar:"&::-webkit-scrollbar",scrollbarThumb:"&::-webkit-scrollbar-thumb",scrollbarTrack:"&::-webkit-scrollbar-track",horizontal:"&[data-orientation=horizontal]",vertical:"&[data-orientation=vertical]",icon:"& :where(svg)",starting:"@starting-style"}),rm=sU("bg-currentcolor"),fN=t=>t===rm.ref||t==="currentBg",ni=t=>({...t("colors"),currentBg:rm}),oX=rU({conditions:aX,utilities:{background:{values:ni,shorthand:["bg"],transform(t,e){if(fN(e.raw))return{background:rm.ref};const n=ii("background")(t,e);return{...n,[rm.var]:n?.background}}},backgroundColor:{values:ni,shorthand:["bgColor"],transform(t,e){if(fN(e.raw))return{backgroundColor:rm.ref};const n=ii("backgroundColor")(t,e);return{...n,[rm.var]:n?.backgroundColor}}},backgroundSize:{shorthand:["bgSize"]},backgroundPosition:{shorthand:["bgPos"]},backgroundRepeat:{shorthand:["bgRepeat"]},backgroundAttachment:{shorthand:["bgAttachment"]},backgroundClip:{shorthand:["bgClip"],values:["text"],transform(t){return t==="text"?{color:"transparent",backgroundClip:"text"}:{backgroundClip:t}}},backgroundGradient:{shorthand:["bgGradient"],values(t){return{...t("gradients"),"to-t":"linear-gradient(to top, var(--gradient))","to-tr":"linear-gradient(to top right, var(--gradient))","to-r":"linear-gradient(to right, var(--gradient))","to-br":"linear-gradient(to bottom right, var(--gradient))","to-b":"linear-gradient(to bottom, var(--gradient))","to-bl":"linear-gradient(to bottom left, var(--gradient))","to-l":"linear-gradient(to left, var(--gradient))","to-tl":"linear-gradient(to top left, var(--gradient))"}},transform(t){return{"--gradient-stops":"var(--gradient-from), var(--gradient-to)","--gradient":"var(--gradient-via-stops, var(--gradient-stops))",backgroundImage:t}}},gradientFrom:{values:ni,transform:ii("--gradient-from")},gradientTo:{values:ni,transform:ii("--gradient-to")},gradientVia:{values:ni,transform(t,e){return{...ii("--gradient-via")(t,e),"--gradient-via-stops":"var(--gradient-from), var(--gradient-via), var(--gradient-to)"}}},backgroundImage:{values(t){return{...t("gradients"),...t("assets")}},shorthand:["bgImg","bgImage"]},border:{values:"borders"},borderTop:{values:"borders"},borderLeft:{values:"borders"},borderBlockStart:{values:"borders"},borderRight:{values:"borders"},borderBottom:{values:"borders"},borderBlockEnd:{values:"borders"},borderInlineStart:{values:"borders",shorthand:["borderStart"]},borderInlineEnd:{values:"borders",shorthand:["borderEnd"]},borderInline:{values:"borders",shorthand:["borderX"]},borderBlock:{values:"borders",shorthand:["borderY"]},borderColor:{values:ni,transform:ii("borderColor")},borderTopColor:{values:ni,transform:ii("borderTopColor")},borderBlockStartColor:{values:ni,transform:ii("borderBlockStartColor")},borderBottomColor:{values:ni,transform:ii("borderBottomColor")},borderBlockEndColor:{values:ni,transform:ii("borderBlockEndColor")},borderLeftColor:{values:ni,transform:ii("borderLeftColor")},borderInlineStartColor:{values:ni,shorthand:["borderStartColor"],transform:ii("borderInlineStartColor")},borderRightColor:{values:ni,transform:ii("borderRightColor")},borderInlineEndColor:{values:ni,shorthand:["borderEndColor"],transform:ii("borderInlineEndColor")},borderStyle:{values:"borderStyles"},borderTopStyle:{values:"borderStyles"},borderBlockStartStyle:{values:"borderStyles"},borderBottomStyle:{values:"borderStyles"},borderBlockEndStyle:{values:"borderStyles"},borderInlineStartStyle:{values:"borderStyles",shorthand:["borderStartStyle"]},borderInlineEndStyle:{values:"borderStyles",shorthand:["borderEndStyle"]},borderLeftStyle:{values:"borderStyles"},borderRightStyle:{values:"borderStyles"},borderRadius:{values:"radii",shorthand:["rounded"]},borderTopLeftRadius:{values:"radii",shorthand:["roundedTopLeft"]},borderStartStartRadius:{values:"radii",shorthand:["roundedStartStart","borderTopStartRadius"]},borderEndStartRadius:{values:"radii",shorthand:["roundedEndStart","borderBottomStartRadius"]},borderTopRightRadius:{values:"radii",shorthand:["roundedTopRight"]},borderStartEndRadius:{values:"radii",shorthand:["roundedStartEnd","borderTopEndRadius"]},borderEndEndRadius:{values:"radii",shorthand:["roundedEndEnd","borderBottomEndRadius"]},borderBottomLeftRadius:{values:"radii",shorthand:["roundedBottomLeft"]},borderBottomRightRadius:{values:"radii",shorthand:["roundedBottomRight"]},borderInlineStartRadius:{values:"radii",property:"borderRadius",shorthand:["roundedStart","borderStartRadius"],transform:t=>({borderStartStartRadius:t,borderEndStartRadius:t})},borderInlineEndRadius:{values:"radii",property:"borderRadius",shorthand:["roundedEnd","borderEndRadius"],transform:t=>({borderStartEndRadius:t,borderEndEndRadius:t})},borderTopRadius:{values:"radii",property:"borderRadius",shorthand:["roundedTop"],transform:t=>({borderTopLeftRadius:t,borderTopRightRadius:t})},borderBottomRadius:{values:"radii",property:"borderRadius",shorthand:["roundedBottom"],transform:t=>({borderBottomLeftRadius:t,borderBottomRightRadius:t})},borderLeftRadius:{values:"radii",property:"borderRadius",shorthand:["roundedLeft"],transform:t=>({borderTopLeftRadius:t,borderBottomLeftRadius:t})},borderRightRadius:{values:"radii",property:"borderRadius",shorthand:["roundedRight"],transform:t=>({borderTopRightRadius:t,borderBottomRightRadius:t})},borderWidth:{values:"borderWidths"},borderBlockStartWidth:{values:"borderWidths"},borderTopWidth:{values:"borderWidths"},borderBottomWidth:{values:"borderWidths"},borderBlockEndWidth:{values:"borderWidths"},borderRightWidth:{values:"borderWidths"},borderInlineWidth:{values:"borderWidths",shorthand:["borderXWidth"]},borderInlineStartWidth:{values:"borderWidths",shorthand:["borderStartWidth"]},borderInlineEndWidth:{values:"borderWidths",shorthand:["borderEndWidth"]},borderLeftWidth:{values:"borderWidths"},borderBlockWidth:{values:"borderWidths",shorthand:["borderYWidth"]},color:{values:ni,transform:ii("color")},fill:{values:ni,transform:ii("fill")},stroke:{values:ni,transform:ii("stroke")},accentColor:{values:ni,transform:ii("accentColor")},divideX:{values:{type:"string"},transform(t){return{"& > :not(style, [hidden]) ~ :not(style, [hidden])":{borderInlineStartWidth:t,borderInlineEndWidth:"0px"}}}},divideY:{values:{type:"string"},transform(t){return{"& > :not(style, [hidden]) ~ :not(style, [hidden])":{borderTopWidth:t,borderBottomWidth:"0px"}}}},divideColor:{values:ni,transform(t,e){return{"& > :not(style, [hidden]) ~ :not(style, [hidden])":sX(t,e)}}},divideStyle:{property:"borderStyle",transform(t){return{"& > :not(style, [hidden]) ~ :not(style, [hidden])":{borderStyle:t}}}},boxShadow:{values:"shadows",shorthand:["shadow"]},boxShadowColor:{values:ni,transform:ii("--shadow-color"),shorthand:["shadowColor"]},mixBlendMode:{shorthand:["blendMode"]},backgroundBlendMode:{shorthand:["bgBlendMode"]},opacity:{values:"opacity"},filter:{transform(t){return t!=="auto"?{filter:t}:{filter:"var(--blur) var(--brightness) var(--contrast) var(--grayscale) var(--hue-rotate) var(--invert) var(--saturate) var(--sepia) var(--drop-shadow)"}}},blur:{values:"blurs",transform:t=>({"--blur":Sr("blur",t)})},brightness:{transform:t=>({"--brightness":Sr("brightness",t)})},contrast:{transform:t=>({"--contrast":Sr("contrast",t)})},grayscale:{transform:t=>({"--grayscale":Sr("grayscale",t)})},hueRotate:{transform:t=>({"--hue-rotate":Sr("hue-rotate",_f(t))})},invert:{transform:t=>({"--invert":Sr("invert",t)})},saturate:{transform:t=>({"--saturate":Sr("saturate",t)})},sepia:{transform:t=>({"--sepia":Sr("sepia",t)})},dropShadow:{transform:t=>({"--drop-shadow":Sr("drop-shadow",t)})},backdropFilter:{transform(t){return t!=="auto"?{backdropFilter:t}:{backdropFilter:"var(--backdrop-blur) var(--backdrop-brightness) var(--backdrop-contrast) var(--backdrop-grayscale) var(--backdrop-hue-rotate) var(--backdrop-invert) var(--backdrop-opacity) var(--backdrop-saturate) var(--backdrop-sepia)"}}},backdropBlur:{values:"blurs",transform:t=>({"--backdrop-blur":Sr("blur",t)})},backdropBrightness:{transform:t=>({"--backdrop-brightness":Sr("brightness",t)})},backdropContrast:{transform:t=>({"--backdrop-contrast":Sr("contrast",t)})},backdropGrayscale:{transform:t=>({"--backdrop-grayscale":Sr("grayscale",t)})},backdropHueRotate:{transform:t=>({"--backdrop-hue-rotate":Sr("hue-rotate",_f(t))})},backdropInvert:{transform:t=>({"--backdrop-invert":Sr("invert",t)})},backdropOpacity:{transform:t=>({"--backdrop-opacity":Sr("opacity",t)})},backdropSaturate:{transform:t=>({"--backdrop-saturate":Sr("saturate",t)})},backdropSepia:{transform:t=>({"--backdrop-sepia":Sr("sepia",t)})},flexBasis:{values:"sizes"},gap:{values:"spacing"},rowGap:{values:"spacing",shorthand:["gapY"]},columnGap:{values:"spacing",shorthand:["gapX"]},flexDirection:{shorthand:["flexDir"]},gridGap:{values:"spacing"},gridColumnGap:{values:"spacing"},gridRowGap:{values:"spacing"},outlineColor:{values:ni,transform:ii("outlineColor")},focusRing:dN("&:is(:focus, [data-focus])"),focusVisibleRing:dN("&:is(:focus-visible, [data-focus-visible])"),focusRingColor:{values:ni,transform:ii("--focus-ring-color")},focusRingOffset:{values:"spacing",transform:t=>({"--focus-ring-offset":t})},focusRingWidth:{values:"borderWidths",property:"outlineWidth",transform:t=>({"--focus-ring-width":t})},focusRingStyle:{values:"borderStyles",property:"outlineStyle",transform:t=>({"--focus-ring-style":t})},aspectRatio:{values:"aspectRatios"},width:{values:"sizes",shorthand:["w"]},inlineSize:{values:"sizes"},height:{values:"sizes",shorthand:["h"]},blockSize:{values:"sizes"},boxSize:{values:"sizes",property:"width",transform:t=>({width:t,height:t})},minWidth:{values:"sizes",shorthand:["minW"]},minInlineSize:{values:"sizes"},minHeight:{values:"sizes",shorthand:["minH"]},minBlockSize:{values:"sizes"},maxWidth:{values:"sizes",shorthand:["maxW"]},maxInlineSize:{values:"sizes"},maxHeight:{values:"sizes",shorthand:["maxH"]},maxBlockSize:{values:"sizes"},hideFrom:{values:"breakpoints",transform:(t,{raw:e,token:n})=>({[n.raw(`breakpoints.${e}`)?`@breakpoint ${e}`:`@media screen and (min-width: ${t})`]:{display:"none"}})},hideBelow:{values:"breakpoints",transform(t,{raw:e,token:n}){return{[n.raw(`breakpoints.${e}`)?`@breakpoint ${e}Down`:`@media screen and (max-width: ${t})`]:{display:"none"}}}},overscrollBehavior:{shorthand:["overscroll"]},overscrollBehaviorX:{shorthand:["overscrollX"]},overscrollBehaviorY:{shorthand:["overscrollY"]},scrollbar:{values:["visible","hidden"],transform(t){switch(t){case"visible":return{msOverflowStyle:"auto",scrollbarWidth:"auto","&::-webkit-scrollbar":{display:"block"}};case"hidden":return{msOverflowStyle:"none",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}};default:return{}}}},scrollbarColor:{values:ni,transform:ii("scrollbarColor")},scrollbarGutter:{values:"spacing"},scrollbarWidth:{values:"sizes"},scrollMargin:{values:"spacing"},scrollMarginTop:{values:"spacing"},scrollMarginBottom:{values:"spacing"},scrollMarginLeft:{values:"spacing"},scrollMarginRight:{values:"spacing"},scrollMarginX:{values:"spacing",transform:t=>({scrollMarginLeft:t,scrollMarginRight:t})},scrollMarginY:{values:"spacing",transform:t=>({scrollMarginTop:t,scrollMarginBottom:t})},scrollPadding:{values:"spacing"},scrollPaddingTop:{values:"spacing"},scrollPaddingBottom:{values:"spacing"},scrollPaddingLeft:{values:"spacing"},scrollPaddingRight:{values:"spacing"},scrollPaddingInline:{values:"spacing",shorthand:["scrollPaddingX"]},scrollPaddingBlock:{values:"spacing",shorthand:["scrollPaddingY"]},scrollSnapType:{values:{none:"none",x:"x var(--scroll-snap-strictness)",y:"y var(--scroll-snap-strictness)",both:"both var(--scroll-snap-strictness)"}},scrollSnapStrictness:{values:["mandatory","proximity"],transform:t=>({"--scroll-snap-strictness":t})},scrollSnapMargin:{values:"spacing"},scrollSnapMarginTop:{values:"spacing"},scrollSnapMarginBottom:{values:"spacing"},scrollSnapMarginLeft:{values:"spacing"},scrollSnapMarginRight:{values:"spacing"},listStylePosition:{shorthand:["listStylePos"]},listStyleImage:{values:"assets",shorthand:["listStyleImg"]},position:{shorthand:["pos"]},zIndex:{values:"zIndex"},inset:{values:"spacing"},insetInline:{values:"spacing",shorthand:["insetX"]},insetBlock:{values:"spacing",shorthand:["insetY"]},top:{values:"spacing"},insetBlockStart:{values:"spacing"},bottom:{values:"spacing"},insetBlockEnd:{values:"spacing"},left:{values:"spacing"},right:{values:"spacing"},insetInlineStart:{values:"spacing",shorthand:["insetStart"]},insetInlineEnd:{values:"spacing",shorthand:["insetEnd"]},ring:{transform(t){return{"--ring-offset-shadow":"var(--ring-inset) 0 0 0 var(--ring-offset-width) var(--ring-offset-color)","--ring-shadow":"var(--ring-inset) 0 0 0 calc(var(--ring-width) + var(--ring-offset-width)) var(--ring-color)","--ring-width":t,boxShadow:"var(--ring-offset-shadow), var(--ring-shadow), var(--shadow, 0 0 #0000)"}}},ringColor:{values:ni,transform:ii("--ring-color")},ringOffset:{transform:t=>({"--ring-offset-width":t})},ringOffsetColor:{values:ni,transform:ii("--ring-offset-color")},ringInset:{transform:t=>({"--ring-inset":t})},margin:{values:"spacing",shorthand:["m"]},marginTop:{values:"spacing",shorthand:["mt"]},marginBlockStart:{values:"spacing"},marginRight:{values:"spacing",shorthand:["mr"]},marginBottom:{values:"spacing",shorthand:["mb"]},marginBlockEnd:{values:"spacing"},marginLeft:{values:"spacing",shorthand:["ml"]},marginInlineStart:{values:"spacing",shorthand:["ms","marginStart"]},marginInlineEnd:{values:"spacing",shorthand:["me","marginEnd"]},marginInline:{values:"spacing",shorthand:["mx","marginX"]},marginBlock:{values:"spacing",shorthand:["my","marginY"]},padding:{values:"spacing",shorthand:["p"]},paddingTop:{values:"spacing",shorthand:["pt"]},paddingRight:{values:"spacing",shorthand:["pr"]},paddingBottom:{values:"spacing",shorthand:["pb"]},paddingBlockStart:{values:"spacing"},paddingBlockEnd:{values:"spacing"},paddingLeft:{values:"spacing",shorthand:["pl"]},paddingInlineStart:{values:"spacing",shorthand:["ps","paddingStart"]},paddingInlineEnd:{values:"spacing",shorthand:["pe","paddingEnd"]},paddingInline:{values:"spacing",shorthand:["px","paddingX"]},paddingBlock:{values:"spacing",shorthand:["py","paddingY"]},textDecoration:{shorthand:["textDecor"]},textDecorationColor:{values:ni,transform:ii("textDecorationColor")},textShadow:{values:"shadows"},transform:{transform:t=>{let e=t;return t==="auto"&&(e="translateX(var(--translate-x, 0)) translateY(var(--translate-y, 0)) rotate(var(--rotate, 0)) scaleX(var(--scale-x, 1)) scaleY(var(--scale-y, 1)) skewX(var(--skew-x, 0)) skewY(var(--skew-y, 0))"),t==="auto-gpu"&&(e="translate3d(var(--translate-x, 0), var(--translate-y, 0), 0) rotate(var(--rotate, 0)) scaleX(var(--scale-x, 1)) scaleY(var(--scale-y, 1)) skewX(var(--skew-x, 0)) skewY(var(--skew-y, 0))"),{transform:e}}},skewX:{transform:t=>({"--skew-x":_f(t)})},skewY:{transform:t=>({"--skew-y":_f(t)})},scaleX:{transform:t=>({"--scale-x":t})},scaleY:{transform:t=>({"--scale-y":t})},scale:{transform(t){return t!=="auto"?{scale:t}:{scale:"var(--scale-x, 1) var(--scale-y, 1)"}}},spaceXReverse:{values:{type:"boolean"},transform(t){return{"& > :not(style, [hidden]) ~ :not(style, [hidden])":{"--space-x-reverse":t?"1":void 0}}}},spaceX:{property:"marginInlineStart",values:"spacing",transform:t=>({"& > :not(style, [hidden]) ~ :not(style, [hidden])":{"--space-x-reverse":"0",marginInlineStart:`calc(${t} * calc(1 - var(--space-x-reverse)))`,marginInlineEnd:`calc(${t} * var(--space-x-reverse))`}})},spaceYReverse:{values:{type:"boolean"},transform(t){return{"& > :not(style, [hidden]) ~ :not(style, [hidden])":{"--space-y-reverse":t?"1":void 0}}}},spaceY:{property:"marginTop",values:"spacing",transform:t=>({"& > :not(style, [hidden]) ~ :not(style, [hidden])":{"--space-y-reverse":"0",marginTop:`calc(${t} * calc(1 - var(--space-y-reverse)))`,marginBottom:`calc(${t} * var(--space-y-reverse))`}})},rotate:{transform(t){return t!=="auto"?{rotate:_f(t)}:{rotate:"var(--rotate-x, 0) var(--rotate-y, 0) var(--rotate-z, 0)"}}},rotateX:{transform(t){return{"--rotate-x":_f(t)}}},rotateY:{transform(t){return{"--rotate-y":_f(t)}}},translate:{transform(t){return t!=="auto"?{translate:t}:{translate:"var(--translate-x) var(--translate-y)"}}},translateX:{values:"spacing",transform:t=>({"--translate-x":t})},translateY:{values:"spacing",transform:t=>({"--translate-y":t})},transition:{values:["all","common","colors","opacity","position","backgrounds","size","shadow","transform"],transform(t){switch(t){case"all":return Oc("all");case"position":return Oc("left, right, top, bottom, inset-inline, inset-block");case"colors":return Oc("color, background-color, border-color, text-decoration-color, fill, stroke");case"opacity":return Oc("opacity");case"shadow":return Oc("box-shadow");case"transform":return Oc("transform");case"size":return Oc("width, height");case"backgrounds":return Oc("background, background-color, background-image, background-position");case"common":return Oc("color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter");default:return{transition:t}}}},transitionDuration:{values:"durations"},transitionProperty:{values:{common:"background-color, border-color, color, fill, stroke, opacity, box-shadow, translate, transform",colors:"background-color, border-color, color, fill, stroke",size:"width, height",position:"left, right, top, bottom, inset-inline, inset-block",background:"background, background-color, background-image, background-position"}},transitionTimingFunction:{values:"easings"},animation:{values:"animations"},animationDuration:{values:"durations"},animationDelay:{values:"durations"},animationTimingFunction:{values:"easings"},fontFamily:{values:"fonts"},fontSize:{values:"fontSizes"},fontWeight:{values:"fontWeights"},lineHeight:{values:"lineHeights"},letterSpacing:{values:"letterSpacings"},textIndent:{values:"spacing"},truncate:{values:{type:"boolean"},transform(t){return t===!0?{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}:{}}},lineClamp:{transform(t){return t==="none"?{WebkitLineClamp:"unset"}:{overflow:"hidden",display:"-webkit-box",WebkitLineClamp:t,WebkitBoxOrient:"vertical",textWrap:"wrap"}}},borderSpacing:{values:t=>({...t("spacing"),auto:"var(--border-spacing-x, 0) var(--border-spacing-y, 0)"})},borderSpacingX:{values:"spacing",transform(t){return{"--border-spacing-x":t}}},borderSpacingY:{values:"spacing",transform(t){return{"--border-spacing-y":t}}},srOnly:{values:{type:"boolean"},transform(t){return lX[t]||{}}},debug:{values:{type:"boolean"},transform(t){return t?{outline:"1px solid blue !important","& > *":{outline:"1px solid red !important"}}:{}}},caretColor:{values:ni,transform:ii("caretColor")},cursor:{values:"cursor"}}}),lX={true:{position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"},false:{position:"static",width:"auto",height:"auto",padding:"0",margin:"0",overflow:"visible",clip:"auto",whiteSpace:"normal"}};var cX="",uX=cX.split(","),dX="WebkitAppearance,WebkitBorderBefore,WebkitBorderBeforeColor,WebkitBorderBeforeStyle,WebkitBorderBeforeWidth,WebkitBoxReflect,WebkitLineClamp,WebkitMask,WebkitMaskAttachment,WebkitMaskClip,WebkitMaskComposite,WebkitMaskImage,WebkitMaskOrigin,WebkitMaskPosition,WebkitMaskPositionX,WebkitMaskPositionY,WebkitMaskRepeat,WebkitMaskRepeatX,WebkitMaskRepeatY,WebkitMaskSize,WebkitOverflowScrolling,WebkitTapHighlightColor,WebkitTextFillColor,WebkitTextStroke,WebkitTextStrokeColor,WebkitTextStrokeWidth,WebkitTouchCallout,WebkitUserModify,WebkitUserSelect,accentColor,alignContent,alignItems,alignSelf,alignTracks,all,anchorName,anchorScope,animation,animationComposition,animationDelay,animationDirection,animationDuration,animationFillMode,animationIterationCount,animationName,animationPlayState,animationRange,animationRangeEnd,animationRangeStart,animationTimeline,animationTimingFunction,appearance,aspectRatio,backdropFilter,backfaceVisibility,background,backgroundAttachment,backgroundBlendMode,backgroundClip,backgroundColor,backgroundImage,backgroundOrigin,backgroundPosition,backgroundPositionX,backgroundPositionY,backgroundRepeat,backgroundSize,blockSize,border,borderBlock,borderBlockColor,borderBlockEnd,borderBlockEndColor,borderBlockEndStyle,borderBlockEndWidth,borderBlockStart,borderBlockStartColor,borderBlockStartStyle,borderBlockStartWidth,borderBlockStyle,borderBlockWidth,borderBottom,borderBottomColor,borderBottomLeftRadius,borderBottomRightRadius,borderBottomStyle,borderBottomWidth,borderCollapse,borderColor,borderEndEndRadius,borderEndStartRadius,borderImage,borderImageOutset,borderImageRepeat,borderImageSlice,borderImageSource,borderImageWidth,borderInline,borderInlineColor,borderInlineEnd,borderInlineEndColor,borderInlineEndStyle,borderInlineEndWidth,borderInlineStart,borderInlineStartColor,borderInlineStartStyle,borderInlineStartWidth,borderInlineStyle,borderInlineWidth,borderLeft,borderLeftColor,borderLeftStyle,borderLeftWidth,borderRadius,borderRight,borderRightColor,borderRightStyle,borderRightWidth,borderSpacing,borderStartEndRadius,borderStartStartRadius,borderStyle,borderTop,borderTopColor,borderTopLeftRadius,borderTopRightRadius,borderTopStyle,borderTopWidth,borderWidth,bottom,boxAlign,boxDecorationBreak,boxDirection,boxFlex,boxFlexGroup,boxLines,boxOrdinalGroup,boxOrient,boxPack,boxShadow,boxSizing,breakAfter,breakBefore,breakInside,captionSide,caret,caretColor,caretShape,clear,clip,clipPath,clipRule,color,colorInterpolationFilters,colorScheme,columnCount,columnFill,columnGap,columnRule,columnRuleColor,columnRuleStyle,columnRuleWidth,columnSpan,columnWidth,columns,contain,containIntrinsicBlockSize,containIntrinsicHeight,containIntrinsicInlineSize,containIntrinsicSize,containIntrinsicWidth,container,containerName,containerType,content,contentVisibility,counterIncrement,counterReset,counterSet,cursor,cx,cy,d,direction,display,dominantBaseline,emptyCells,fieldSizing,fill,fillOpacity,fillRule,filter,flex,flexBasis,flexDirection,flexFlow,flexGrow,flexShrink,flexWrap,float,floodColor,floodOpacity,font,fontFamily,fontFeatureSettings,fontKerning,fontLanguageOverride,fontOpticalSizing,fontPalette,fontSize,fontSizeAdjust,fontSmooth,fontStretch,fontStyle,fontSynthesis,fontSynthesisPosition,fontSynthesisSmallCaps,fontSynthesisStyle,fontSynthesisWeight,fontVariant,fontVariantAlternates,fontVariantCaps,fontVariantEastAsian,fontVariantEmoji,fontVariantLigatures,fontVariantNumeric,fontVariantPosition,fontVariationSettings,fontWeight,forcedColorAdjust,gap,grid,gridArea,gridAutoColumns,gridAutoFlow,gridAutoRows,gridColumn,gridColumnEnd,gridColumnGap,gridColumnStart,gridGap,gridRow,gridRowEnd,gridRowGap,gridRowStart,gridTemplate,gridTemplateAreas,gridTemplateColumns,gridTemplateRows,hangingPunctuation,height,hyphenateCharacter,hyphenateLimitChars,hyphens,imageOrientation,imageRendering,imageResolution,imeMode,initialLetter,initialLetterAlign,inlineSize,inset,insetBlock,insetBlockEnd,insetBlockStart,insetInline,insetInlineEnd,insetInlineStart,interpolateSize,isolation,justifyContent,justifyItems,justifySelf,justifyTracks,left,letterSpacing,lightingColor,lineBreak,lineClamp,lineHeight,lineHeightStep,listStyle,listStyleImage,listStylePosition,listStyleType,margin,marginBlock,marginBlockEnd,marginBlockStart,marginBottom,marginInline,marginInlineEnd,marginInlineStart,marginLeft,marginRight,marginTop,marginTrim,marker,markerEnd,markerMid,markerStart,mask,maskBorder,maskBorderMode,maskBorderOutset,maskBorderRepeat,maskBorderSlice,maskBorderSource,maskBorderWidth,maskClip,maskComposite,maskImage,maskMode,maskOrigin,maskPosition,maskRepeat,maskSize,maskType,masonryAutoFlow,mathDepth,mathShift,mathStyle,maxBlockSize,maxHeight,maxInlineSize,maxLines,maxWidth,minBlockSize,minHeight,minInlineSize,minWidth,mixBlendMode,objectFit,objectPosition,offset,offsetAnchor,offsetDistance,offsetPath,offsetPosition,offsetRotate,opacity,order,orphans,outline,outlineColor,outlineOffset,outlineStyle,outlineWidth,overflow,overflowAnchor,overflowBlock,overflowClipBox,overflowClipMargin,overflowInline,overflowWrap,overflowX,overflowY,overlay,overscrollBehavior,overscrollBehaviorBlock,overscrollBehaviorInline,overscrollBehaviorX,overscrollBehaviorY,padding,paddingBlock,paddingBlockEnd,paddingBlockStart,paddingBottom,paddingInline,paddingInlineEnd,paddingInlineStart,paddingLeft,paddingRight,paddingTop,page,pageBreakAfter,pageBreakBefore,pageBreakInside,paintOrder,perspective,perspectiveOrigin,placeContent,placeItems,placeSelf,pointerEvents,position,positionAnchor,positionArea,positionTry,positionTryFallbacks,positionTryOrder,positionVisibility,printColorAdjust,quotes,r,resize,right,rotate,rowGap,rubyAlign,rubyMerge,rubyPosition,rx,ry,scale,scrollBehavior,scrollMargin,scrollMarginBlock,scrollMarginBlockEnd,scrollMarginBlockStart,scrollMarginBottom,scrollMarginInline,scrollMarginInlineEnd,scrollMarginInlineStart,scrollMarginLeft,scrollMarginRight,scrollMarginTop,scrollPadding,scrollPaddingBlock,scrollPaddingBlockEnd,scrollPaddingBlockStart,scrollPaddingBottom,scrollPaddingInline,scrollPaddingInlineEnd,scrollPaddingInlineStart,scrollPaddingLeft,scrollPaddingRight,scrollPaddingTop,scrollSnapAlign,scrollSnapCoordinate,scrollSnapDestination,scrollSnapPointsX,scrollSnapPointsY,scrollSnapStop,scrollSnapType,scrollSnapTypeX,scrollSnapTypeY,scrollTimeline,scrollTimelineAxis,scrollTimelineName,scrollbarColor,scrollbarGutter,scrollbarWidth,shapeImageThreshold,shapeMargin,shapeOutside,shapeRendering,stopColor,stopOpacity,stroke,strokeDasharray,strokeDashoffset,strokeLinecap,strokeLinejoin,strokeMiterlimit,strokeOpacity,strokeWidth,tabSize,tableLayout,textAlign,textAlignLast,textAnchor,textBox,textBoxEdge,textBoxTrim,textCombineUpright,textDecoration,textDecorationColor,textDecorationLine,textDecorationSkip,textDecorationSkipInk,textDecorationStyle,textDecorationThickness,textEmphasis,textEmphasisColor,textEmphasisPosition,textEmphasisStyle,textIndent,textJustify,textOrientation,textOverflow,textRendering,textShadow,textSizeAdjust,textSpacingTrim,textTransform,textUnderlineOffset,textUnderlinePosition,textWrap,textWrapMode,textWrapStyle,timelineScope,top,touchAction,transform,transformBox,transformOrigin,transformStyle,transition,transitionBehavior,transitionDelay,transitionDuration,transitionProperty,transitionTimingFunction,translate,unicodeBidi,userSelect,vectorEffect,verticalAlign,viewTimeline,viewTimelineAxis,viewTimelineInset,viewTimelineName,viewTransitionName,visibility,whiteSpace,whiteSpaceCollapse,widows,width,willChange,wordBreak,wordSpacing,wordWrap,writingMode,x,y,zIndex,zoom,alignmentBaseline,baselineShift,colorInterpolation,colorRendering,glyphOrientationVertical",fX=dX.split(",").concat(uX),hX=new Map(fX.map(t=>[t,!0]));function pX(t){const e=Object.create(null);return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}var mX=/&|@/,gX=pX(t=>hX.has(t)||t.startsWith("--")||mX.test(t));function aU(t,e){const n={};return Ql(t,(i,r)=>{i&&(n[r.join(".")]=i.value)},{stop:e}),n}var DT,hN;function vX(){if(hN)return DT;hN=1,DT=s,s.default=s,s.stable=h,s.stableStringify=h;var t="[...]",e="[Circular]",n=[],i=[];function r(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function s(y,b,S,C){typeof C>"u"&&(C=r()),l(y,"",0,[],void 0,0,C);var T;try{i.length===0?T=JSON.stringify(y,b,S):T=JSON.stringify(y,g(b),S)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;n.length!==0;){var _=n.pop();_.length===4?Object.defineProperty(_[0],_[1],_[3]):_[0][_[1]]=_[2]}}return T}function o(y,b,S,C){var T=Object.getOwnPropertyDescriptor(C,S);T.get!==void 0?T.configurable?(Object.defineProperty(C,S,{value:y}),n.push([C,S,b,T])):i.push([b,S,y]):(C[S]=y,n.push([C,S,b]))}function l(y,b,S,C,T,_,w){_+=1;var R;if(typeof y=="object"&&y!==null){for(R=0;R<C.length;R++)if(C[R]===y){o(e,y,b,T);return}if(typeof w.depthLimit<"u"&&_>w.depthLimit){o(t,y,b,T);return}if(typeof w.edgesLimit<"u"&&S+1>w.edgesLimit){o(t,y,b,T);return}if(C.push(y),Array.isArray(y))for(R=0;R<y.length;R++)l(y[R],R,R,C,y,_,w);else{var N=Object.keys(y);for(R=0;R<N.length;R++){var D=N[R];l(y[D],D,R,C,y,_,w)}}C.pop()}}function d(y,b){return y<b?-1:y>b?1:0}function h(y,b,S,C){typeof C>"u"&&(C=r());var T=m(y,"",0,[],void 0,0,C)||y,_;try{i.length===0?_=JSON.stringify(T,b,S):_=JSON.stringify(T,g(b),S)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;n.length!==0;){var w=n.pop();w.length===4?Object.defineProperty(w[0],w[1],w[3]):w[0][w[1]]=w[2]}}return _}function m(y,b,S,C,T,_,w){_+=1;var R;if(typeof y=="object"&&y!==null){for(R=0;R<C.length;R++)if(C[R]===y){o(e,y,b,T);return}try{if(typeof y.toJSON=="function")return}catch{return}if(typeof w.depthLimit<"u"&&_>w.depthLimit){o(t,y,b,T);return}if(typeof w.edgesLimit<"u"&&S+1>w.edgesLimit){o(t,y,b,T);return}if(C.push(y),Array.isArray(y))for(R=0;R<y.length;R++)m(y[R],R,R,C,y,_,w);else{var N={},D=Object.keys(y).sort(d);for(R=0;R<D.length;R++){var I=D[R];m(y[I],I,R,C,y,_,w),N[I]=y[I]}if(typeof T<"u")n.push([T,b,y]),T[b]=N;else return N}C.pop()}}function g(y){return y=typeof y<"u"?y:function(b,S){return S},function(b,S){if(i.length>0)for(var C=0;C<i.length;C++){var T=i[C];if(T[1]===b&&T[0]===S){S=T[2],i.splice(C,1);break}}return y.call(this,b,S)}}return DT}var yX=vX();const xX=l1(yX),Fo=t=>{const e=Object.create(null);function n(...i){const r=i.map(s=>xX(s)).join("|");return e[r]===void 0&&(e[r]=t(...i)),e[r]}return n},oU=16,s_="px",mA="em",ey="rem";function lU(t=""){const e=new RegExp(String.raw`-?\d+(?:\.\d+|\d*)`),n=new RegExp(`${s_}|${mA}|${ey}`);return t.match(new RegExp(`${e.source}(${n.source})`))?.[1]}function cU(t=""){if(typeof t=="number")return`${t}px`;const e=lU(t);if(!e||e===s_)return t;if(e===mA||e===ey)return`${parseFloat(t)*oU}${s_}`}function uU(t=""){const e=lU(t);if(!e||e===ey)return t;if(e===mA)return`${parseFloat(t)}${ey}`;if(e===s_)return`${parseFloat(t)/oU}${ey}`}const bX=t=>t.charAt(0).toUpperCase()+t.slice(1);function SX(t){const e=_X(t),n=Object.fromEntries(e);function i(y){return n[y]}function r(y){return Mp(i(y))}function s(){const y=Object.keys(n),b=EX(y),S=y.flatMap(C=>{const T=i(C),_=[`${C}Down`,Mp({max:OS(T.min)})],w=[C,Mp({min:T.min})],R=[`${C}Only`,r(C)];return[w,R,_]}).filter(([,C])=>C!=="").concat(b.map(([C,T])=>{const _=i(C),w=i(T);return[`${C}To${bX(T)}`,Mp({min:_.min,max:OS(w.min)})]}));return Object.fromEntries(S)}function o(){const y=s();return Object.fromEntries(Object.entries(y))}const l=o(),d=y=>l[y];function h(){return["base",...Object.keys(n)]}function m(y){return Mp({min:i(y).min})}function g(y){return Mp({max:OS(i(y).min)})}return{values:Object.values(n),only:r,keys:h,conditions:l,getCondition:d,up:m,down:g}}function OS(t){const e=parseFloat(cU(t)??"")-.04;return uU(`${e}px`)}function _X(t){return Object.entries(t).sort(([,n],[,i])=>parseInt(n,10)<parseInt(i,10)?-1:1).map(([n,i],r,s)=>{let o=null;return r<=s.length-1&&(o=s[r+1]?.[1]),o!=null&&(o=OS(o)),[n,{name:n,min:uU(i),max:o}]})}function EX(t){const e=[];return t.forEach((n,i)=>{let r=i;r++;let s=t[r];for(;s;)e.push([n,s]),r++,s=t[r]}),e}function Mp({min:t,max:e}){return t==null&&e==null?"":["@media screen",t&&`(min-width: ${t})`,e&&`(max-width: ${e})`].filter(Boolean).join(" and ")}const TX=(t,e)=>Object.fromEntries(Object.entries(t).map(([n,i])=>e(n,i))),MX=t=>{const{breakpoints:e,conditions:n={}}=t,i=TX(n,(m,g)=>[`_${m}`,g]),r=Object.assign({},i,e.conditions);function s(){return Object.keys(r)}function o(m){return s().includes(m)||/^@|&|&$/.test(m)||m.startsWith("_")}function l(m){return m.filter(g=>g!=="base").sort((g,y)=>{const b=o(g),S=o(y);return b&&!S?1:!b&&S?-1:0})}function d(m){return m.startsWith("@breakpoint")?e.getCondition(m.replace("@breakpoint ","")):m}function h(m){return Reflect.get(r,m)||m}return{keys:s,sort:l,has:o,resolve:h,breakpoints:e.keys(),expandAtRule:d}},dU=t=>({minMax:new RegExp(`(!?\\(\\s*min(-device-)?-${t})(.|
)+\\(\\s*max(-device)?-${t}`,"i"),min:new RegExp(`\\(\\s*min(-device)?-${t}`,"i"),maxMin:new RegExp(`(!?\\(\\s*max(-device)?-${t})(.|
)+\\(\\s*min(-device)?-${t}`,"i"),max:new RegExp(`\\(\\s*max(-device)?-${t}`,"i")}),CX=dU("width"),wX=dU("height"),fU=t=>({isMin:xN(t.minMax,t.maxMin,t.min),isMax:xN(t.maxMin,t.minMax,t.max)}),{isMin:wC,isMax:pN}=fU(CX),{isMin:AC,isMax:mN}=fU(wX),gN=/print/i,vN=/^print$/i,AX=/(-?\d*\.?\d+)(ch|em|ex|px|rem)/,RX=/(\d)/,Wv=Number.MAX_VALUE,OX={ch:8.8984375,em:16,rem:16,ex:8.296875,px:1};function yN(t){const e=AX.exec(t)||(wC(t)||AC(t)?RX.exec(t):null);if(!e)return Wv;if(e[0]==="0")return 0;const n=parseFloat(e[1]),i=e[2];return n*(OX[i]||1)}function xN(t,e,n){return i=>t.test(i)||!e.test(i)&&n.test(i)}function NX(t,e){const n=gN.test(t),i=vN.test(t),r=gN.test(e),s=vN.test(e);return n&&r?!i&&s?1:i&&!s?-1:t.localeCompare(e):n?1:r?-1:null}const DX=Fo((t,e)=>{const n=NX(t,e);if(n!==null)return n;const i=wC(t)||AC(t),r=pN(t)||mN(t),s=wC(e)||AC(e),o=pN(e)||mN(e);if(i&&o)return-1;if(r&&s)return 1;const l=yN(t),d=yN(e);return l===Wv&&d===Wv?t.localeCompare(e):l===Wv?1:d===Wv?-1:l!==d?l>d?r?-1:1:r?1:-1:t.localeCompare(e)});function bN(t){return t.sort(([e],[n])=>DX(e,n))}function hU(t){const e=[],n=[],i={};for(const[o,l]of Object.entries(t))o.startsWith("@media")?e.push([o,l]):o.startsWith("@container")?n.push([o,l]):Qs(l)?i[o]=hU(l):i[o]=l;const r=bN(e),s=bN(n);return{...i,...Object.fromEntries(r),...Object.fromEntries(s)}}const pU=/\s*!(important)?/i,PX=t=>Kl(t)?pU.test(t):!1,IX=t=>Kl(t)?t.replace(pU,"").trim():t;function mU(t){const{transform:e,conditions:n,normalize:i}=t,r=UX(t);return Fo(function(...o){const l=r(...o),d=i(l),h=Object.create(null);return Ql(d,(m,g)=>{const y=PX(m);if(m==null)return;const[b,...S]=n.sort(g).map(n.resolve);y&&(m=IX(m));let C=e(b,m)??Object.create(null);C=Ql(C,T=>Kl(T)&&y?`${T} !important`:T,{getKey:T=>n.expandAtRule(T)}),LX(h,S.flat(),C)}),hU(h)})}function LX(t,e,n){let i=t;for(const r of e)r&&(i[r]||(i[r]=Object.create(null)),i=i[r]);Hm(i,n)}function zX(...t){return t.filter(e=>Qs(e)&&Object.keys(i0(e)).length>0)}function UX(t){function e(n){const i=zX(...n);return i.length===1?i:i.map(r=>t.normalize(r))}return Fo(function(...i){return Hm({},...e(i))})}const gU=t=>({base:{},variants:{},defaultVariants:{},compoundVariants:[],...t});function VX(t){const{css:e,conditions:n,normalize:i,layers:r}=t;function s(l={}){const{base:d,variants:h,defaultVariants:m,compoundVariants:g}=gU(l),y=mU({conditions:n,normalize:i,transform(w,R){return h[w]?.[R]}}),b=(w={})=>{const R=i({...m,...i0(w)});let N={...d};Hm(N,y(R));const D=o(g,R);return r.wrap("recipes",e(N,D))},S=Object.keys(h),C=w=>{const R=eU(w,["recipe"]),[N,D]=ym(R,S);return S.includes("colorPalette")||(N.colorPalette=w.colorPalette||m.colorPalette),S.includes("orientation")&&(D.orientation=w.orientation),[N,D]},T=Object.fromEntries(Object.entries(h).map(([w,R])=>[w,Object.keys(R)]));return Object.assign(w=>e(b(w)),{className:l.className,__cva__:!0,variantMap:T,variantKeys:S,raw:b,config:l,splitVariantProps:C,merge(w){return s(kX(t)(this,w))}})}function o(l,d){let h={};return l.forEach(m=>{Object.entries(m).every(([y,b])=>y==="css"?!0:(Array.isArray(b)?b:[b]).some(C=>d[y]===C))&&(h=e(h,m.css))}),h}return s}function kX(t){const{css:e}=t;return function(i,r){const s=gU(r.config),o=qI(i.variantKeys,Object.keys(r.variants)),l=e(i.base,s.base),d=Object.fromEntries(o.map(y=>[y,e(i.config.variants[y],s.variants[y])])),h=Hm(i.config.defaultVariants,s.defaultVariants),m=[...i.compoundVariants,...s.compoundVariants];return{className:so(i.className,r.className),base:l,variants:d,defaultVariants:h,compoundVariants:m}}}const BX={reset:"reset",base:"base",tokens:"tokens",recipes:"recipes"},SN={reset:0,base:1,tokens:2,recipes:3};function FX(t){const e=t.layers??BX,i=Object.values(e).sort((r,s)=>SN[r]-SN[s]);return{names:i,atRule:`@layer ${i.join(", ")};`,wrap(r,s){return t.disableLayers?s:{[`@layer ${e[r]}`]:s}}}}function HX(t){const{utility:e,normalize:n}=t,{hasShorthand:i,resolveShorthand:r}=e;return function(s){return Ql(s,n,{stop:o=>Array.isArray(o),getKey:i?r:void 0})}}function GX(t){const{preflight:e}=t;if(!e)return{};const{scope:n="",level:i="parent"}=Qs(e)?e:{};let r="";n&&i==="parent"?r=`${n} `:n&&i==="element"&&(r=`&${n}`);const s={"*":{margin:"0px",padding:"0px",font:"inherit",wordWrap:"break-word",WebkitTapHighlightColor:"transparent"},"*, *::before, *::after, *::backdrop":{boxSizing:"border-box",borderWidth:"0px",borderStyle:"solid",borderColor:"var(--global-color-border, currentColor)"},hr:{height:"0px",color:"inherit",borderTopWidth:"1px"},body:{minHeight:"100dvh",position:"relative"},img:{borderStyle:"none"},"img, svg, video, canvas, audio, iframe, embed, object":{display:"block",verticalAlign:"middle"},iframe:{border:"none"},"img, video":{maxWidth:"100%",height:"auto"},"p, h1, h2, h3, h4, h5, h6":{overflowWrap:"break-word"},"ol, ul":{listStyle:"none"},"code, kbd, pre, samp":{fontSize:"1em"},"button, [type='button'], [type='reset'], [type='submit']":{WebkitAppearance:"button",backgroundColor:"transparent",backgroundImage:"none"},"button, input, optgroup, select, textarea":{color:"inherit"},"button, select":{textTransform:"none"},table:{textIndent:"0px",borderColor:"inherit",borderCollapse:"collapse"},"*::placeholder":{opacity:"unset",color:"#9ca3af",userSelect:"none"},textarea:{resize:"vertical"},summary:{display:"list-item"},small:{fontSize:"80%"},"sub, sup":{fontSize:"75%",lineHeight:0,position:"relative",verticalAlign:"baseline"},sub:{bottom:"-0.25em"},sup:{top:"-0.5em"},dialog:{padding:"0px"},a:{color:"inherit",textDecoration:"inherit"},"abbr:where([title])":{textDecoration:"underline dotted"},"b, strong":{fontWeight:"bolder"},"code, kbd, samp, pre":{fontSize:"1em","--font-mono-fallback":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New'",fontFamily:"var(--global-font-mono, var(--font-mono-fallback))"},'input[type="text"], input[type="email"], input[type="search"], input[type="password"]':{WebkitAppearance:"none",MozAppearance:"none"},"input[type='search']":{WebkitAppearance:"textfield",outlineOffset:"-2px"},"::-webkit-search-decoration, ::-webkit-search-cancel-button":{WebkitAppearance:"none"},"::-webkit-file-upload-button":{WebkitAppearance:"button",font:"inherit"},'input[type="number"]::-webkit-inner-spin-button, input[type="number"]::-webkit-outer-spin-button':{height:"auto"},"input[type='number']":{MozAppearance:"textfield"},":-moz-ui-invalid":{boxShadow:"none"},":-moz-focusring":{outline:"auto"},"[hidden]:where(:not([hidden='until-found']))":{display:"none !important"}},o={[n||"html"]:{lineHeight:1.5,"--font-fallback":"ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji'",WebkitTextSizeAdjust:"100%",WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",textRendering:"optimizeLegibility",touchAction:"manipulation",MozTabSize:"4",tabSize:"4",fontFamily:"var(--global-font-body, var(--font-fallback))"}};if(i==="element"){const l=Object.entries(s).reduce((d,[h,m])=>(d[h]={[r]:m},d),{});Object.assign(o,l)}else r?o[r]=s:Object.assign(o,s);return o}function WX(t){const{conditions:e,isValidProperty:n}=t;return function(r){return Ql(r,s=>s,{getKey:(s,o)=>Qs(o)&&!e.has(s)&&!n(s)?jX(s).map(l=>"&"+l).join(", "):s})}}function jX(t){const e=[];let n=0,i="",r=!1;for(let s=0;s<t.length;s++){const o=t[s];if(o==="\\"&&!r){r=!0,i+=o;continue}if(r){r=!1,i+=o;continue}o==="("?n++:o===")"&&n--,o===","&&n===0?(e.push(i.trim()),i=""):i+=o}return i&&e.push(i.trim()),e}const XX=(t={})=>{const e=r=>({base:t.base?.[r]??{},variants:{},defaultVariants:t.defaultVariants??{},compoundVariants:t.compoundVariants?qX(t.compoundVariants,r):[]}),i=(t.slots??[]).map(r=>[r,e(r)]);for(const[r,s]of Object.entries(t.variants??{}))for(const[o,l]of Object.entries(s))i.forEach(([d,h])=>{var m;(m=h.variants)[r]??(m[r]={}),h.variants[r][o]=l[d]??{}});return Object.fromEntries(i)},qX=(t,e)=>t.filter(n=>n.css[e]).map(n=>({...n,css:n.css[e]}));function YX(t){const{cva:e}=t;return function(i={}){const r=Object.entries(XX(i)).map(([g,y])=>[g,e(y)]);function s(g){const y=r.map(([b,S])=>[b,S(g)]);return Object.fromEntries(y)}const o=i.variants??{},l=Object.keys(o);function d(g){const y=eU(g,["recipe"]),[b,S]=ym(y,l);return l.includes("colorPalette")||(b.colorPalette=g.colorPalette||i.defaultVariants?.colorPalette),l.includes("orientation")&&(S.orientation=g.orientation),[b,S]}const h=Object.fromEntries(Object.entries(o).map(([g,y])=>[g,Object.keys(y)]));let m={};return i.className&&(m=Object.fromEntries(i.slots.map(g=>[g,`${i.className}__${g}`]))),Object.assign(s,{variantMap:h,variantKeys:l,splitVariantProps:d,classNameMap:m})}}const KX=()=>t=>Array.from(new Set(t)),$X=/([\0-\x1f\x7f]|^-?\d)|^-$|^-|[^\x80-\uFFFF\w-]/g,ZX=function(t,e){return e?t==="\0"?"":t==="-"&&t.length===1?"\\-":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16):"\\"+t},vU=t=>(t+"").replace($X,ZX),yU=(t,e)=>{let n="",i=0,r="char",s="",o="";const l=[];for(;i<t.length;){const d=t[i];if(d==="{"){const m=t.indexOf("}",i);if(m===-1)break;const g=t.slice(i+1,m),y=e(g);n+=y??g,i=m+1;continue}if(r==="token"&&d===","){t[i]===""&&i++,r="fallback",l.push(r);const m=e(s);m?.endsWith(")")&&(n+=m.slice(0,-1)),s="",o="";continue}if(r==="fallback"&&o+d===", var("){const y=QX(t.slice(i+1))+i+1,b=t.slice(i+1,y);if(y===-1)break;n+=", var("+b+")",i=y+1,r=l.pop()??r,o="";continue}if(r==="token"||r==="fallback"){if(i++,d===")"){r=l.pop()??r??"char",o+=d;const m=s&&(e(s)??vU(s));if(o){if(o=o.slice(1).trim(),!o.startsWith("token(")&&o.endsWith(")")&&(o=o.slice(0,-1)),o.includes("token(")){const y=yU(o,e);y&&(o=y.slice(0,-1))}else if(o){const y=e(o);y&&(o=y)}}const g=n.at(-1);o?g?.trim()?n+=m.slice(0,-1)+(", "+o+")"):n+=o:n+=m||")",s="",o="",r="char";continue}r==="token"&&(s+=d),r==="fallback"&&(o+=d);continue}const h=t.indexOf("token(",i);if(h!==-1){const m=h+6;n+=t.slice(i,h),i=m,r="token",l.push(r);continue}n+=d,i++}return n},QX=t=>{let e=0;const n=["("];for(;e<t.length;){const i=t[e];if(i==="(")n.push(i);else if(i===")"&&(n.pop(),n.length===0))return e;e++}return e};function xU(t){const e={};return t.forEach((n,i)=>{n instanceof Map?e[i]=Object.fromEntries(n):e[i]=n}),e}const bU=/({([^}]*)})/g,JX=/[{}]/g,eq=/\w+\.\w+/,SU=t=>{if(!Kl(t))return[];const e=t.match(bU);return e?e.map(n=>n.replace(JX,"")).map(n=>n.trim()):[]},tq=t=>bU.test(t);function _U(t){if(!t.extensions?.references)return t.extensions?.cssVar?.ref??t.value;const e=t.extensions.references??{};return t.value=Object.keys(e).reduce((n,i)=>{const r=e[i];if(r.extensions.conditions)return n;const s=_U(r);return n.replace(`{${i}}`,s)},t.value),delete t.extensions.references,t.value}function EU(t){return Qs(t)&&t.reference?t.reference:String(t)}const P1=(t,...e)=>e.map(EU).join(` ${t} `).replace(/calc/g,""),_N=(...t)=>`calc(${P1("+",...t)})`,EN=(...t)=>`calc(${P1("-",...t)})`,RC=(...t)=>`calc(${P1("*",...t)})`,TN=(...t)=>`calc(${P1("/",...t)})`,MN=t=>{const e=EU(t);return e!=null&&!Number.isNaN(parseFloat(e))?String(e).startsWith("-")?String(e).slice(1):`-${e}`:RC(e,-1)},em=Object.assign(t=>({add:(...e)=>em(_N(t,...e)),subtract:(...e)=>em(EN(t,...e)),multiply:(...e)=>em(RC(t,...e)),divide:(...e)=>em(TN(t,...e)),negate:()=>em(MN(t)),toString:()=>t.toString()}),{add:_N,subtract:EN,multiply:RC,divide:TN,negate:MN}),nq={enforce:"pre",transform(t){const{prefix:e,allTokens:n,formatCssVar:i,formatTokenName:r,registerToken:s}=t;n.filter(({extensions:l})=>l.category==="spacing").forEach(l=>{const d=l.path.slice(),h=i(d,e);if(Kl(l.value)&&l.value==="0rem")return;const m=structuredClone(l);Object.assign(m.extensions,{negative:!0,prop:`-${l.extensions.prop}`,originalPath:d}),m.value=em.negate(h.ref);const g=m.path[m.path.length-1];g!=null&&(m.path[m.path.length-1]=`-${g}`),m.path&&(m.name=r(m.path)),s(m)})}},iq=new Set(["spacing","sizes","borderWidths","fontSizes","radii"]),rq={enforce:"post",transform(t){t.allTokens.filter(n=>iq.has(n.extensions.category)&&!n.extensions.negative).forEach(n=>{Object.assign(n.extensions,{pixelValue:cU(n.value)})})}},sq={enforce:"post",transform(t){const{allTokens:e,registerToken:n,formatTokenName:i}=t,r=e.filter(({extensions:l})=>l.category==="colors"),s=new Map,o=new Map;r.forEach(l=>{const{colorPalette:d}=l.extensions;d&&(d.keys.forEach(h=>{s.set(i(h),h)}),d.roots.forEach(h=>{const m=i(h),g=o.get(m)||[];if(g.push(l),o.set(m,g),l.extensions.default&&h.length===1){const y=d.keys[0]?.filter(Boolean);if(!y.length)return;const b=h.concat(y);s.set(i(b),[])}}))}),s.forEach(l=>{const d=["colors","colorPalette",...l].filter(Boolean),h=i(d),m=i(d.slice(1));n({name:h,value:h,originalValue:h,path:d,extensions:{condition:"base",originalPath:d,category:"colors",prop:m,virtual:!0}},"pre")})}},aq={enforce:"post",transform(t){t.allTokens=t.allTokens.filter(e=>e.value!=="")}},oq=[nq,sq,rq,aq],lq={type:"extensions",enforce:"pre",name:"tokens/css-var",transform(t,e){const{prefix:n,formatCssVar:i}=e,{negative:r,originalPath:s}=t.extensions,o=r?s:t.path;return{cssVar:i(o.filter(Boolean),n)}}},cq={enforce:"post",type:"value",name:"tokens/conditionals",transform(t,e){const{prefix:n,formatCssVar:i}=e,r=SU(t.value);return r.length&&r.forEach(s=>{const o=i(s.split("."),n);t.value=t.value.replace(`{${o.ref}}`,o)}),t.value}},uq={type:"extensions",enforce:"pre",name:"tokens/colors/colorPalette",match(t){return t.extensions.category==="colors"&&!t.extensions.virtual},transform(t,e){let n=t.path.slice();if(n.pop(),n.shift(),n.length===0){const l=[...t.path];l.shift(),n=l}if(n.length===0)return{};const i=n.reduce((l,d,h,m)=>{const g=m.slice(0,h+1);return l.push(g),l},[]),r=n[0],s=e.formatTokenName(n),o=t.path.slice(t.path.indexOf(r)+1).reduce((l,d,h,m)=>(l.push(m.slice(h)),l),[]);return o.length===0&&o.push([""]),{colorPalette:{value:s,roots:i,keys:o}}}},dq=[lq,cq,uq],CN=t=>Qs(t)&&Object.prototype.hasOwnProperty.call(t,"value");function fq(t){return t?{breakpoints:tU(t,e=>({value:e})),sizes:Object.fromEntries(Object.entries(t).map(([e,n])=>[`breakpoint-${e}`,{value:n}]))}:{breakpoints:{},sizes:{}}}function hq(t){const{prefix:e="",tokens:n={},semanticTokens:i={},breakpoints:r={}}=t,s=de=>de.join("."),o=(de,_e)=>sU(de.join("-"),{prefix:_e}),l=[],d=new Map,h=new Map,m=new Map,g=new Map,y=new Map,b=new Map,S=new Map,C=new Map,T=[];function _(de,_e){l.push(de),d.set(de.name,de),_e&&C.forEach(Xe=>{Xe.enforce===_e&&G(Xe,de)})}const w=fq(r),R=i0({...n,breakpoints:w.breakpoints,sizes:{...n.sizes,...w.sizes}});function N(){Ql(R,(de,_e)=>{const Xe=_e.includes("DEFAULT");_e=wN(_e);const dt=_e[0],Rt=s(_e),ee=Kl(de)?{value:de}:de,Ve={value:ee.value,originalValue:ee.value,name:Rt,path:_e,extensions:{condition:"base",originalPath:_e,category:dt,prop:s(_e.slice(1))}};Xe&&(Ve.extensions.default=!0),_(Ve)},{stop:CN}),Ql(i,(de,_e)=>{const Xe=_e.includes("DEFAULT");_e=TU(wN(_e));const dt=_e[0],Rt=s(_e),ee=Kl(de.value)?{value:{base:de.value}}:de,Ve={value:ee.value.base||"",originalValue:ee.value.base||"",name:Rt,path:_e,extensions:{originalPath:_e,category:dt,conditions:ee.value,condition:"base",prop:s(_e.slice(1))}};Xe&&(Ve.extensions.default=!0),_(Ve)},{stop:CN})}function D(de){return d.get(de)}function I(de){const{condition:_e}=de.extensions;_e&&(h.has(_e)||h.set(_e,new Set),h.get(_e).add(de))}function V(de){const{category:_e,prop:Xe}=de.extensions;_e&&(S.has(_e)||S.set(_e,new Map),S.get(_e).set(Xe,de))}function B(de){const{condition:_e,negative:Xe,virtual:dt,cssVar:Rt}=de.extensions;Xe||dt||!_e||!Rt||(m.has(_e)||m.set(_e,new Map),m.get(_e).set(Rt.var,de.value))}function L(de){const{category:_e,prop:Xe,cssVar:dt,negative:Rt}=de.extensions;if(!_e)return;b.has(_e)||b.set(_e,new Map);const ee=Rt?de.extensions.conditions?de.originalValue:de.value:dt.ref;b.get(_e).set(Xe,ee),y.set([_e,Xe].join("."),ee)}function z(de){const{colorPalette:_e,virtual:Xe,default:dt}=de.extensions;!_e||Xe||_e.roots.forEach(Rt=>{const ee=s(Rt);g.has(ee)||g.set(ee,new Map);const Ve=mq([...de.path],[...Rt]),Ue=s(Ve),Ie=D(Ue);if(!Ie||!Ie.extensions.cssVar)return;const{var:Ne}=Ie.extensions.cssVar;if(g.get(ee).set(Ne,de.extensions.cssVar.ref),dt&&Rt.length===1){const it=s(["colors","colorPalette"]),je=D(it);if(!je)return;const Ke=s(de.path),Tt=D(Ke);if(!Tt)return;const Pt=_e.keys[0]?.filter(Boolean);if(!Pt.length)return;const Q=s(Rt.concat(Pt));g.has(Q)||g.set(Q,new Map),g.get(Q).set(je.extensions.cssVar.var,Tt.extensions.cssVar.ref)}})}let F={};function j(){l.forEach(de=>{I(de),V(de),B(de),L(de),z(de)}),F=xU(b)}const Z=(de,_e)=>{if(!de||typeof de!="string")return{invalid:!0,value:de};const[Xe,dt]=de.split("/");if(!Xe||!dt)return{invalid:!0,value:Xe};const Rt=_e(Xe),ee=D(`opacity.${dt}`)?.value;if(!ee&&isNaN(Number(dt)))return{invalid:!0,value:Xe};const Ve=ee?Number(ee)*100+"%":`${dt}%`,Ue=Rt??Xe;return{invalid:!1,color:Ue,value:`color-mix(in srgb, ${Ue} ${Ve}, transparent)`}},se=Fo((de,_e)=>y.get(de)??_e),ie=Fo(de=>F[de]||null),k=Fo(de=>yU(de,_e=>{if(!_e)return;if(_e.includes("/")){const dt=Z(_e,Rt=>se(Rt));if(dt.invalid)throw new Error("Invalid color mix at "+_e+": "+dt.value);return dt.value}const Xe=se(_e);return Xe||(eq.test(_e)?vU(_e):_e)})),q={prefix:e,allTokens:l,tokenMap:d,registerToken:_,getByName:D,formatTokenName:s,formatCssVar:o,flatMap:y,cssVarMap:m,categoryMap:S,colorPaletteMap:g,getVar:se,getCategoryValues:ie,expandReferenceInValue:k};function $(...de){de.forEach(_e=>{C.set(_e.name,_e)})}function ne(...de){T.push(...de)}function G(de,_e){if(_e.extensions.references||Vw(de.match)&&!de.match(_e))return;const dt=(Rt=>de.transform(Rt,q))(_e);switch(!0){case de.type==="extensions":Object.assign(_e.extensions,dt);break;case de.type==="value":_e.value=dt;break;default:_e[de.type]=dt;break}}function te(de){T.forEach(_e=>{_e.enforce===de&&_e.transform(q)})}function ve(de){C.forEach(_e=>{_e.enforce===de&&l.forEach(Xe=>{G(_e,Xe)})})}function Me(){l.forEach(de=>{const _e=pq(de);!_e||_e.length===0||_e.forEach(Xe=>{_(Xe)})})}function De(de){return SU(de).map(Xe=>D(Xe)).filter(Boolean)}function qe(){l.forEach(de=>{if(!tq(de.value))return;const _e=De(de.value);de.extensions.references=_e.reduce((Xe,dt)=>(Xe[dt.name]=dt,Xe),{})})}function me(){l.forEach(de=>{_U(de)})}function Pe(){te("pre"),ve("pre"),Me(),qe(),me(),te("post"),ve("post"),j()}return N(),$(...dq),ne(...oq),Pe(),q}function wN(t){return t[0]==="DEFAULT"?t:t.filter(e=>e!=="DEFAULT")}function TU(t){return t.filter(e=>e!=="base")}function pq(t){if(!t.extensions.conditions)return;const{conditions:e}=t.extensions,n=[];return Ql(e,(i,r)=>{const s=TU(r);if(!s.length)return;const o=structuredClone(t);o.value=i,o.extensions.condition=s.join(":"),n.push(o)}),n}function mq(t,e){const n=t.findIndex((i,r)=>e.every((s,o)=>t[r+o]===s));return n===-1||(t.splice(n,e.length),t.splice(n,0,"colorPalette")),t}KX()(["aspectRatios","zIndex","opacity","colors","fonts","fontSizes","fontWeights","lineHeights","letterSpacings","sizes","shadows","spacing","radii","cursor","borders","borderWidths","borderStyles","durations","easings","animations","blurs","gradients","breakpoints","assets"]);function gq(t){return Object.fromEntries(Object.entries(t).map(([e,n])=>[e,n]))}function vq(t){const e=gq(t.config),n=t.tokens,i=new Map,r=new Map;function s(B,L){e[B]=L,o(B,L)}const o=(B,L)=>{const z=C(L);z&&(r.set(B,z),g(B,L))},l=()=>{for(const[B,L]of Object.entries(e))L&&o(B,L)},d=()=>{for(const[B,L]of Object.entries(e)){const{shorthand:z}=L??{};if(!z)continue;(Array.isArray(z)?z:[z]).forEach(j=>i.set(j,B))}},h=()=>{const B=xU(n.colorPaletteMap);s("colorPalette",{values:Object.keys(B),transform:Fo(L=>B[L])})},m=new Map,g=(B,L)=>{if(!L)return;const z=C(L,j=>`type:Tokens["${j}"]`);if(typeof z=="object"&&z.type){m.set(B,new Set([`type:${z.type}`]));return}if(z){const j=new Set(Object.keys(z));m.set(B,j)}const F=m.get(B)??new Set;L.property&&m.set(B,F.add(`CssProperties["${L.property}"]`))},y=()=>{for(const[B,L]of Object.entries(e))L&&g(B,L)},b=(B,L)=>{const z=m.get(B)??new Set;m.set(B,new Set([...z,...L]))},S=()=>{const B=new Map;for(const[L,z]of m.entries()){if(z.size===0){B.set(L,["string"]);continue}const F=Array.from(z).map(j=>j.startsWith("CssProperties")?j:j.startsWith("type:")?j.replace("type:",""):JSON.stringify(j));B.set(L,F)}return B},C=(B,L)=>{const{values:z}=B,F=j=>{const Z=L?.(j);return Z?{[Z]:Z}:void 0};return Kl(z)?F?.(z)??n.getCategoryValues(z)??{}:Array.isArray(z)?z.reduce((j,Z)=>(j[Z]=Z,j),{}):Vw(z)?z(L?F:n.getCategoryValues):z},T=Fo((B,L)=>({[B]:B.startsWith("--")?n.getVar(L,L):L})),_=Object.assign(n.getVar,{raw:B=>n.getByName(B)}),w=Fo((B,L)=>{const z=D(B);Kl(L)&&!L.includes("_EMO_")&&(L=n.expandReferenceInValue(L));const F=e[z];if(!F)return T(z,L);const j=r.get(z)?.[L];if(!F.transform)return T(B,j??L);const Z=se=>Xj(se,_);return F.transform(j??L,{raw:L,token:_,utils:{colorMix:Z}})});function R(){d(),h(),l(),y()}R();const N=i.size>0,D=Fo(B=>i.get(B)??B);return{keys:()=>[...Array.from(i.keys()),...Object.keys(e)],hasShorthand:N,transform:w,shorthands:i,resolveShorthand:D,register:s,getTypes:S,addPropertyType:b}}const Ks={};function yq(...t){const e=nU(...t),{theme:n={},utilities:i={},globalCss:r={},cssVarsRoot:s=":where(:root, :host)",cssVarsPrefix:o="chakra",preflight:l}=e,d=FX(e),h=hq({breakpoints:n.breakpoints,tokens:n.tokens,semanticTokens:n.semanticTokens,prefix:o}),m=SX(n.breakpoints??Ks),g=MX({conditions:e.conditions??Ks,breakpoints:m}),y=vq({config:i,tokens:h});function b(){const{textStyles:ne,layerStyles:G,animationStyles:te}=n,ve=i0({textStyle:ne,layerStyle:G,animationStyle:te});for(const[Me,De]of Object.entries(ve)){const qe=aU(De??Ks,MU);y.register(Me,{values:Object.keys(qe),transform(me){return R(qe[me])}})}}b(),y.addPropertyType("animationName",Object.keys(n.keyframes??Ks));const S=new Set(["css",...y.keys(),...g.keys()]),C=Fo(ne=>S.has(ne)||gX(ne)),T=ne=>Array.isArray(ne)?ne.reduce((G,te,ve)=>{const Me=g.breakpoints[ve];return te!=null&&(G[Me]=te),G},{}):ne,_=HX({utility:y,normalize:T}),w=WX({conditions:g,isValidProperty:C}),R=mU({transform:y.transform,conditions:g,normalize:_}),N=VX({css:R,conditions:g,normalize:_,layers:d}),D=YX({cva:N});function I(){const ne={};for(const[G,te]of h.cssVarMap.entries()){const ve=Object.fromEntries(te);if(Object.keys(ve).length===0)continue;const Me=G==="base"?s:g.resolve(G),De=Me.startsWith("@"),qe=R(w({[Me]:De?{[s]:ve}:ve}));Hm(ne,qe)}return d.wrap("tokens",ne)}function V(){const ne=Object.fromEntries(Object.entries(n.keyframes??Ks).map(([te,ve])=>[`@keyframes ${te}`,ve])),G=Object.assign({},ne,R(w(r)));return d.wrap("base",G)}function B(ne){return ym(ne,C)}function L(){const ne=GX({preflight:l});return d.wrap("reset",ne)}const z=xq(h),F=(ne,G)=>z.get(ne)?.value||G;F.var=(ne,G)=>z.get(ne)?.variable||G;function j(ne,G){return n.recipes?.[ne]??G}function Z(ne,G){return n.slotRecipes?.[ne]??G}function se(ne){return Object.hasOwnProperty.call(n.recipes??Ks,ne)}function ie(ne){return Object.hasOwnProperty.call(n.slotRecipes??Ks,ne)}function k(ne){return se(ne)||ie(ne)}const q=[L(),V(),I()],$={layerStyles:PT(n.layerStyles??Ks),textStyles:PT(n.textStyles??Ks),animationStyles:PT(n.animationStyles??Ks),tokens:AN(h,Object.keys(n.tokens??Ks),(ne,G)=>!ne.extensions.conditions&&!G.includes("colorPalette")),semanticTokens:AN(h,Object.keys(n.semanticTokens??Ks),ne=>!!ne.extensions.conditions),keyframes:RN(n.keyframes??Ks),breakpoints:RN(n.breakpoints??Ks)};return{$$chakra:!0,_config:e,_global:q,breakpoints:m,tokens:h,conditions:g,utility:y,token:F,properties:S,layers:d,isValidProperty:C,splitCssProps:B,normalizeValue:T,getTokenCss:I,getGlobalCss:V,getPreflightCss:L,css:R,cva:N,sva:D,getRecipe:j,getSlotRecipe:Z,hasRecipe:k,isRecipe:se,isSlotRecipe:ie,query:$}}function xq(t){const e=new Map;return t.allTokens.forEach(n=>{const{cssVar:i,virtual:r,conditions:s}=n.extensions,o=s||r?i.ref:n.value;e.set(n.name,{value:o,variable:i.ref})}),e}const MU=t=>Qs(t)&&"value"in t,PT=t=>({list(){return Object.keys(aU(t,MU))},search(e){return this.list().filter(n=>n.includes(e))}}),AN=(t,e,n)=>({categoryKeys:e,list(i){return Array.from(t.categoryMap.get(i)?.entries()??[]).reduce((r,[s,o])=>(n(o,s)&&r.push(s),r),[])},search(i,r){return this.list(i).filter(s=>s.includes(r))}}),RN=t=>({list(){return Object.keys(t)},search(e){return this.list().filter(n=>n.includes(e))}}),bq={sm:"480px",md:"768px",lg:"1024px",xl:"1280px","2xl":"1536px"},IT="var(--chakra-empty,/*!*/ /*!*/)",Sq=$j({"*":{fontFeatureSettings:'"cv11"',"--ring-inset":IT,"--ring-offset-width":"0px","--ring-offset-color":"#fff","--ring-color":"rgba(66, 153, 225, 0.6)","--ring-offset-shadow":"0 0 #0000","--ring-shadow":"0 0 #0000",...Object.fromEntries(["brightness","contrast","grayscale","hue-rotate","invert","saturate","sepia","drop-shadow"].map(t=>[`--${t}`,IT])),...Object.fromEntries(["blur","brightness","contrast","grayscale","hue-rotate","invert","opacity","saturate","sepia"].map(t=>[`--backdrop-${t}`,IT])),"--global-font-mono":"fonts.mono","--global-font-body":"fonts.body","--global-color-border":"colors.border"},html:{color:"fg",bg:"bg",lineHeight:"1.5",colorPalette:"gray"},"*::placeholder, *[data-placeholder]":{color:"fg.muted/80"},"*::selection":{bg:"colorPalette.emphasized/80"}}),_q=Jj({"fill.muted":{value:{background:"colorPalette.muted",color:"colorPalette.fg"}},"fill.subtle":{value:{background:"colorPalette.subtle",color:"colorPalette.fg"}},"fill.surface":{value:{background:"colorPalette.subtle",color:"colorPalette.fg",boxShadow:"0 0 0px 1px var(--shadow-color)",boxShadowColor:"colorPalette.muted"}},"fill.solid":{value:{background:"colorPalette.solid",color:"colorPalette.contrast"}},"outline.subtle":{value:{color:"colorPalette.fg",boxShadow:"inset 0 0 0px 1px var(--shadow-color)",boxShadowColor:"colorPalette.subtle"}},"outline.solid":{value:{borderWidth:"1px",borderColor:"colorPalette.solid",color:"colorPalette.fg"}},"indicator.bottom":{value:{position:"relative","--indicator-color-fallback":"colors.colorPalette.solid",_before:{content:'""',position:"absolute",bottom:"var(--indicator-offset-y, 0)",insetInline:"var(--indicator-offset-x, 0)",height:"var(--indicator-thickness, 2px)",background:"var(--indicator-color, var(--indicator-color-fallback))"}}},"indicator.top":{value:{position:"relative","--indicator-color-fallback":"colors.colorPalette.solid",_before:{content:'""',position:"absolute",top:"var(--indicator-offset-y, 0)",insetInline:"var(--indicator-offset-x, 0)",height:"var(--indicator-thickness, 2px)",background:"var(--indicator-color, var(--indicator-color-fallback))"}}},"indicator.start":{value:{position:"relative","--indicator-color-fallback":"colors.colorPalette.solid",_before:{content:'""',position:"absolute",insetInlineStart:"var(--indicator-offset-x, 0)",insetBlock:"var(--indicator-offset-y, 0)",width:"var(--indicator-thickness, 2px)",background:"var(--indicator-color, var(--indicator-color-fallback))"}}},"indicator.end":{value:{position:"relative","--indicator-color-fallback":"colors.colorPalette.solid",_before:{content:'""',position:"absolute",insetInlineEnd:"var(--indicator-offset-x, 0)",insetBlock:"var(--indicator-offset-y, 0)",width:"var(--indicator-thickness, 2px)",background:"var(--indicator-color, var(--indicator-color-fallback))"}}},disabled:{value:{opacity:"0.5",cursor:"not-allowed"}},none:{value:{}}}),Eq=Qj({"slide-fade-in":{value:{transformOrigin:"var(--transform-origin)","&[data-placement^=top]":{animationName:"slide-from-bottom, fade-in"},"&[data-placement^=bottom]":{animationName:"slide-from-top, fade-in"},"&[data-placement^=left]":{animationName:"slide-from-right, fade-in"},"&[data-placement^=right]":{animationName:"slide-from-left, fade-in"}}},"slide-fade-out":{value:{transformOrigin:"var(--transform-origin)","&[data-placement^=top]":{animationName:"slide-to-bottom, fade-out"},"&[data-placement^=bottom]":{animationName:"slide-to-top, fade-out"},"&[data-placement^=left]":{animationName:"slide-to-right, fade-out"},"&[data-placement^=right]":{animationName:"slide-to-left, fade-out"}}},"scale-fade-in":{value:{transformOrigin:"var(--transform-origin)",animationName:"scale-in, fade-in"}},"scale-fade-out":{value:{transformOrigin:"var(--transform-origin)",animationName:"scale-out, fade-out"}}}),gA=hr({className:"chakra-badge",base:{display:"inline-flex",alignItems:"center",borderRadius:"l2",gap:"1",fontWeight:"medium",fontVariantNumeric:"tabular-nums",whiteSpace:"nowrap",userSelect:"none"},variants:{variant:{solid:{bg:"colorPalette.solid",color:"colorPalette.contrast"},subtle:{bg:"colorPalette.subtle",color:"colorPalette.fg"},outline:{color:"colorPalette.fg",shadow:"inset 0 0 0px 1px var(--shadow-color)",shadowColor:"colorPalette.muted"},surface:{bg:"colorPalette.subtle",color:"colorPalette.fg",shadow:"inset 0 0 0px 1px var(--shadow-color)",shadowColor:"colorPalette.muted"},plain:{color:"colorPalette.fg"}},size:{xs:{textStyle:"2xs",px:"1",minH:"4"},sm:{textStyle:"xs",px:"1.5",minH:"5"},md:{textStyle:"sm",px:"2",minH:"6"},lg:{textStyle:"sm",px:"2.5",minH:"7"}}},defaultVariants:{variant:"subtle",size:"sm"}}),Tq=hr({className:"chakra-button",base:{display:"inline-flex",appearance:"none",alignItems:"center",justifyContent:"center",userSelect:"none",position:"relative",borderRadius:"l2",whiteSpace:"nowrap",verticalAlign:"middle",borderWidth:"1px",borderColor:"transparent",cursor:"button",flexShrink:"0",outline:"0",lineHeight:"1.2",isolation:"isolate",fontWeight:"medium",transitionProperty:"common",transitionDuration:"moderate",focusVisibleRing:"outside",_disabled:{layerStyle:"disabled"},_icon:{flexShrink:"0"}},variants:{size:{"2xs":{h:"6",minW:"6",textStyle:"xs",px:"2",gap:"1",_icon:{width:"3.5",height:"3.5"}},xs:{h:"8",minW:"8",textStyle:"xs",px:"2.5",gap:"1",_icon:{width:"4",height:"4"}},sm:{h:"9",minW:"9",px:"3.5",textStyle:"sm",gap:"2",_icon:{width:"4",height:"4"}},md:{h:"10",minW:"10",textStyle:"sm",px:"4",gap:"2",_icon:{width:"5",height:"5"}},lg:{h:"11",minW:"11",textStyle:"md",px:"5",gap:"3",_icon:{width:"5",height:"5"}},xl:{h:"12",minW:"12",textStyle:"md",px:"5",gap:"2.5",_icon:{width:"5",height:"5"}},"2xl":{h:"16",minW:"16",textStyle:"lg",px:"7",gap:"3",_icon:{width:"6",height:"6"}}},variant:{solid:{bg:"colorPalette.solid",color:"colorPalette.contrast",borderColor:"transparent",_hover:{bg:"colorPalette.solid/90"},_expanded:{bg:"colorPalette.solid/90"}},subtle:{bg:"colorPalette.subtle",color:"colorPalette.fg",borderColor:"transparent",_hover:{bg:"colorPalette.muted"},_expanded:{bg:"colorPalette.muted"}},surface:{bg:"colorPalette.subtle",color:"colorPalette.fg",shadow:"0 0 0px 1px var(--shadow-color)",shadowColor:"colorPalette.muted",_hover:{bg:"colorPalette.muted"},_expanded:{bg:"colorPalette.muted"}},outline:{borderWidth:"1px",borderColor:"colorPalette.muted",color:"colorPalette.fg",_hover:{bg:"colorPalette.subtle"},_expanded:{bg:"colorPalette.subtle"}},ghost:{bg:"transparent",color:"colorPalette.fg",_hover:{bg:"colorPalette.subtle"},_expanded:{bg:"colorPalette.subtle"}},plain:{color:"colorPalette.fg"}}},defaultVariants:{size:"md",variant:"solid"}}),Lr=hr({className:"chakra-checkmark",base:{display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:"0",color:"white",borderWidth:"1px",borderColor:"transparent",borderRadius:"l1",cursor:"checkbox",focusVisibleRing:"outside",_icon:{boxSize:"full"},_invalid:{colorPalette:"red",borderColor:"border.error"},_disabled:{opacity:"0.5",cursor:"disabled"}},variants:{size:{xs:{boxSize:"3"},sm:{boxSize:"4"},md:{boxSize:"5",p:"0.5"},lg:{boxSize:"6",p:"0.5"}},variant:{solid:{borderColor:"border.emphasized","&:is([data-state=checked], [data-state=indeterminate])":{bg:"colorPalette.solid",color:"colorPalette.contrast",borderColor:"colorPalette.solid"}},outline:{borderColor:"border","&:is([data-state=checked], [data-state=indeterminate])":{color:"colorPalette.fg",borderColor:"colorPalette.solid"}},subtle:{bg:"colorPalette.muted",borderColor:"colorPalette.muted","&:is([data-state=checked], [data-state=indeterminate])":{color:"colorPalette.fg"}},plain:{"&:is([data-state=checked], [data-state=indeterminate])":{color:"colorPalette.fg"}},inverted:{borderColor:"border",color:"colorPalette.fg","&:is([data-state=checked], [data-state=indeterminate])":{borderColor:"colorPalette.solid"}}},filled:{true:{bg:"bg"}}},defaultVariants:{variant:"solid",size:"md"}}),{variants:Mq,defaultVariants:Cq}=gA,wq=hr({className:"chakra-code",base:{fontFamily:"mono",alignItems:"center",display:"inline-flex",borderRadius:"l2"},variants:Mq,defaultVariants:Cq}),CU=hr({className:"color-swatch",base:{boxSize:"var(--swatch-size)",shadow:"inset 0 0 0 1px rgba(0, 0, 0, 0.1)","--checker-size":"8px","--checker-bg":"colors.bg","--checker-fg":"colors.bg.emphasized",background:"linear-gradient(var(--color), var(--color)), repeating-conic-gradient(var(--checker-fg) 0%, var(--checker-fg) 25%, var(--checker-bg) 0%, var(--checker-bg) 50%) 0% 50% / var(--checker-size) var(--checker-size) !important",display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:"0"},variants:{size:{"2xs":{"--swatch-size":"sizes.3.5"},xs:{"--swatch-size":"sizes.4"},sm:{"--swatch-size":"sizes.4.5"},md:{"--swatch-size":"sizes.5"},lg:{"--swatch-size":"sizes.6"},xl:{"--swatch-size":"sizes.7"},"2xl":{"--swatch-size":"sizes.8"},inherit:{"--swatch-size":"inherit"},full:{"--swatch-size":"100%"}},shape:{square:{borderRadius:"none"},circle:{borderRadius:"full"},rounded:{borderRadius:"l1"}}},defaultVariants:{size:"md",shape:"rounded"}}),Aq=hr({className:"chakra-container",base:{position:"relative",maxWidth:"8xl",w:"100%",mx:"auto",px:{base:"4",md:"6",lg:"8"}},variants:{centerContent:{true:{display:"flex",flexDirection:"column",alignItems:"center"}},fluid:{true:{maxWidth:"full"}}}}),Rq=hr({className:"chakra-heading",base:{fontFamily:"heading",fontWeight:"semibold"},variants:{size:{xs:{textStyle:"xs"},sm:{textStyle:"sm"},md:{textStyle:"md"},lg:{textStyle:"lg"},xl:{textStyle:"xl"},"2xl":{textStyle:"2xl"},"3xl":{textStyle:"3xl"},"4xl":{textStyle:"4xl"},"5xl":{textStyle:"5xl"},"6xl":{textStyle:"6xl"},"7xl":{textStyle:"7xl"}}},defaultVariants:{size:"xl"}}),Oq=hr({className:"chakra-icon",base:{display:"inline-block",lineHeight:"1em",flexShrink:"0",color:"currentcolor",verticalAlign:"middle"},variants:{size:{inherit:{},xs:{boxSize:"3"},sm:{boxSize:"4"},md:{boxSize:"5"},lg:{boxSize:"6"},xl:{boxSize:"7"},"2xl":{boxSize:"8"}}},defaultVariants:{size:"inherit"}}),Xi=hr({className:"chakra-input",base:{width:"100%",minWidth:"0",outline:"0",position:"relative",appearance:"none",textAlign:"start",borderRadius:"l2",_disabled:{layerStyle:"disabled"},height:"var(--input-height)",minW:"var(--input-height)","--focus-color":"colors.colorPalette.focusRing","--error-color":"colors.border.error",_invalid:{focusRingColor:"var(--error-color)",borderColor:"var(--error-color)"}},variants:{size:{"2xs":{textStyle:"xs",px:"2","--input-height":"sizes.7"},xs:{textStyle:"xs",px:"2","--input-height":"sizes.8"},sm:{textStyle:"sm",px:"2.5","--input-height":"sizes.9"},md:{textStyle:"sm",px:"3","--input-height":"sizes.10"},lg:{textStyle:"md",px:"4","--input-height":"sizes.11"},xl:{textStyle:"md",px:"4.5","--input-height":"sizes.12"},"2xl":{textStyle:"lg",px:"5","--input-height":"sizes.16"}},variant:{outline:{bg:"transparent",borderWidth:"1px",borderColor:"border",focusVisibleRing:"inside",focusRingColor:"var(--focus-color)"},subtle:{borderWidth:"1px",borderColor:"transparent",bg:"bg.muted",focusVisibleRing:"inside",focusRingColor:"var(--focus-color)"},flushed:{bg:"transparent",borderBottomWidth:"1px",borderBottomColor:"border",borderRadius:"0",px:"0",_focusVisible:{borderColor:"var(--focus-color)",boxShadow:"0px 1px 0px 0px var(--focus-color)",_invalid:{borderColor:"var(--error-color)",boxShadow:"0px 1px 0px 0px var(--error-color)"}}}}},defaultVariants:{size:"md",variant:"outline"}}),Nq=hr({className:"chakra-input-addon",base:{flex:"0 0 auto",width:"auto",display:"flex",alignItems:"center",whiteSpace:"nowrap",alignSelf:"stretch",borderRadius:"l2"},variants:{size:Xi.variants.size,variant:{outline:{borderWidth:"1px",borderColor:"border",bg:"bg.muted"},subtle:{borderWidth:"1px",borderColor:"transparent",bg:"bg.emphasized"},flushed:{borderBottom:"1px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent"}}},defaultVariants:{size:"md",variant:"outline"}}),Dq=hr({className:"chakra-kbd",base:{display:"inline-flex",alignItems:"center",fontWeight:"medium",fontFamily:"mono",flexShrink:"0",whiteSpace:"nowrap",wordSpacing:"-0.5em",userSelect:"none",px:"1",borderRadius:"l2"},variants:{variant:{raised:{bg:"colorPalette.subtle",color:"colorPalette.fg",borderWidth:"1px",borderBottomWidth:"2px",borderColor:"colorPalette.muted"},outline:{borderWidth:"1px",color:"colorPalette.fg"},subtle:{bg:"colorPalette.muted",color:"colorPalette.fg"},plain:{color:"colorPalette.fg"}},size:{sm:{textStyle:"xs",height:"4.5"},md:{textStyle:"sm",height:"5"},lg:{textStyle:"md",height:"6"}}},defaultVariants:{size:"md",variant:"raised"}}),Pq=hr({className:"chakra-link",base:{display:"inline-flex",alignItems:"center",outline:"none",gap:"1.5",cursor:"pointer",borderRadius:"l1",focusRing:"outside"},variants:{variant:{underline:{color:"colorPalette.fg",textDecoration:"underline",textUnderlineOffset:"3px",textDecorationColor:"currentColor/20"},plain:{color:"colorPalette.fg",_hover:{textDecoration:"underline",textUnderlineOffset:"3px",textDecorationColor:"currentColor/20"}}}},defaultVariants:{variant:"plain"}}),Iq=hr({className:"chakra-mark",base:{bg:"transparent",color:"inherit",whiteSpace:"nowrap"},variants:{variant:{subtle:{bg:"colorPalette.subtle",color:"inherit"},solid:{bg:"colorPalette.solid",color:"colorPalette.contrast"},text:{fontWeight:"medium"},plain:{}}}}),zr=hr({className:"chakra-radiomark",base:{display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0,verticalAlign:"top",color:"white",borderWidth:"1px",borderColor:"transparent",borderRadius:"full",cursor:"radio",_focusVisible:{outline:"2px solid",outlineColor:"colorPalette.focusRing",outlineOffset:"2px"},_invalid:{colorPalette:"red",borderColor:"red.500"},_disabled:{opacity:"0.5",cursor:"disabled"},"& .dot":{height:"100%",width:"100%",borderRadius:"full",bg:"currentColor",scale:"0.4"}},variants:{variant:{solid:{borderWidth:"1px",borderColor:"border.emphasized",_checked:{bg:"colorPalette.solid",color:"colorPalette.contrast",borderColor:"colorPalette.solid"}},subtle:{borderWidth:"1px",bg:"colorPalette.muted",borderColor:"colorPalette.muted",color:"transparent",_checked:{color:"colorPalette.fg"}},outline:{borderWidth:"1px",borderColor:"inherit",_checked:{color:"colorPalette.fg",borderColor:"colorPalette.solid"},"& .dot":{scale:"0.6"}},inverted:{bg:"bg",borderWidth:"1px",borderColor:"inherit",_checked:{color:"colorPalette.solid",borderColor:"currentcolor"}}},size:{xs:{boxSize:"3"},sm:{boxSize:"4"},md:{boxSize:"5"},lg:{boxSize:"6"}},filled:{true:{bg:"bg"}}},defaultVariants:{variant:"solid",size:"md"}}),Lq=hr({className:"chakra-separator",base:{display:"block",borderColor:"border"},variants:{variant:{solid:{borderStyle:"solid"},dashed:{borderStyle:"dashed"},dotted:{borderStyle:"dotted"}},orientation:{vertical:{borderInlineStartWidth:"var(--separator-thickness)"},horizontal:{borderTopWidth:"var(--separator-thickness)"}},size:{xs:{"--separator-thickness":"0.5px"},sm:{"--separator-thickness":"1px"},md:{"--separator-thickness":"2px"},lg:{"--separator-thickness":"3px"}}},defaultVariants:{size:"sm",variant:"solid",orientation:"horizontal"}}),zq=hr({className:"chakra-skeleton",base:{},variants:{loading:{true:{borderRadius:"l2",boxShadow:"none",backgroundClip:"padding-box",cursor:"default",color:"transparent",pointerEvents:"none",userSelect:"none",flexShrink:"0","&::before, &::after, *":{visibility:"hidden"}},false:{background:"unset",animation:"fade-in var(--fade-duration, 0.1s) ease-out !important"}},variant:{pulse:{background:"bg.emphasized",animation:"pulse",animationDuration:"var(--duration, 1.2s)"},shine:{"--animate-from":"200%","--animate-to":"-200%","--start-color":"colors.bg.muted","--end-color":"colors.bg.emphasized",backgroundImage:"linear-gradient(270deg,var(--start-color),var(--end-color),var(--end-color),var(--start-color))",backgroundSize:"400% 100%",animation:"bg-position var(--duration, 5s) ease-in-out infinite"},none:{animation:"none"}}},defaultVariants:{variant:"pulse",loading:!0}}),Uq=hr({className:"chakra-skip-nav",base:{display:"inline-flex",bg:"bg.panel",padding:"2.5",borderRadius:"l2",fontWeight:"semibold",focusVisibleRing:"outside",textStyle:"sm",userSelect:"none",border:"0",height:"1px",width:"1px",margin:"-1px",outline:"0",overflow:"hidden",position:"absolute",clip:"rect(0 0 0 0)",_focusVisible:{clip:"auto",width:"auto",height:"auto",position:"fixed",top:"6",insetStart:"6"}}}),Vq=hr({className:"chakra-spinner",base:{display:"inline-block",borderColor:"currentColor",borderStyle:"solid",borderWidth:"2px",borderRadius:"full",width:"var(--spinner-size)",height:"var(--spinner-size)",animation:"spin",animationDuration:"slowest","--spinner-track-color":"transparent",borderBottomColor:"var(--spinner-track-color)",borderInlineStartColor:"var(--spinner-track-color)"},variants:{size:{inherit:{"--spinner-size":"1em"},xs:{"--spinner-size":"sizes.3"},sm:{"--spinner-size":"sizes.4"},md:{"--spinner-size":"sizes.5"},lg:{"--spinner-size":"sizes.8"},xl:{"--spinner-size":"sizes.10"}}},defaultVariants:{size:"md"}}),kq=hr({className:"chakra-textarea",base:{width:"100%",minWidth:"0",outline:"0",position:"relative",appearance:"none",textAlign:"start",borderRadius:"l2",_disabled:{layerStyle:"disabled"},"--focus-color":"colors.colorPalette.focusRing","--error-color":"colors.border.error",_invalid:{focusRingColor:"var(--error-color)",borderColor:"var(--error-color)"}},variants:{size:{xs:{textStyle:"xs",px:"2",py:"1.5",scrollPaddingBottom:"1.5"},sm:{textStyle:"sm",px:"2.5",py:"2",scrollPaddingBottom:"2"},md:{textStyle:"sm",px:"3",py:"2",scrollPaddingBottom:"2"},lg:{textStyle:"md",px:"4",py:"3",scrollPaddingBottom:"3"},xl:{textStyle:"md",px:"4.5",py:"3.5",scrollPaddingBottom:"3.5"}},variant:{outline:{bg:"transparent",borderWidth:"1px",borderColor:"border",focusVisibleRing:"inside"},subtle:{borderWidth:"1px",borderColor:"transparent",bg:"bg.muted",focusVisibleRing:"inside"},flushed:{bg:"transparent",borderBottomWidth:"1px",borderBottomColor:"border",borderRadius:"0",px:"0",_focusVisible:{borderColor:"var(--focus-color)",boxShadow:"0px 1px 0px 0px var(--focus-color)"}}}},defaultVariants:{size:"md",variant:"outline"}}),Bq={badge:gA,button:Tq,code:wq,container:Aq,heading:Rq,input:Xi,inputAddon:Nq,kbd:Dq,link:Pq,mark:Iq,separator:Lq,skeleton:zq,skipNavLink:Uq,spinner:Vq,textarea:kq,icon:Oq,checkmark:Lr,radiomark:zr,colorSwatch:CU},Fq=pA.colors({bg:{DEFAULT:{value:{_light:"{colors.white}",_dark:"{colors.black}"}},subtle:{value:{_light:"{colors.gray.50}",_dark:"{colors.gray.950}"}},muted:{value:{_light:"{colors.gray.100}",_dark:"{colors.gray.900}"}},emphasized:{value:{_light:"{colors.gray.200}",_dark:"{colors.gray.800}"}},inverted:{value:{_light:"{colors.black}",_dark:"{colors.white}"}},panel:{value:{_light:"{colors.white}",_dark:"{colors.gray.950}"}},error:{value:{_light:"{colors.red.50}",_dark:"{colors.red.950}"}},warning:{value:{_light:"{colors.orange.50}",_dark:"{colors.orange.950}"}},success:{value:{_light:"{colors.green.50}",_dark:"{colors.green.950}"}},info:{value:{_light:"{colors.blue.50}",_dark:"{colors.blue.950}"}}},fg:{DEFAULT:{value:{_light:"{colors.black}",_dark:"{colors.gray.50}"}},muted:{value:{_light:"{colors.gray.600}",_dark:"{colors.gray.400}"}},subtle:{value:{_light:"{colors.gray.400}",_dark:"{colors.gray.500}"}},inverted:{value:{_light:"{colors.gray.50}",_dark:"{colors.black}"}},error:{value:{_light:"{colors.red.500}",_dark:"{colors.red.400}"}},warning:{value:{_light:"{colors.orange.600}",_dark:"{colors.orange.300}"}},success:{value:{_light:"{colors.green.600}",_dark:"{colors.green.300}"}},info:{value:{_light:"{colors.blue.600}",_dark:"{colors.blue.300}"}}},border:{DEFAULT:{value:{_light:"{colors.gray.200}",_dark:"{colors.gray.800}"}},muted:{value:{_light:"{colors.gray.100}",_dark:"{colors.gray.900}"}},subtle:{value:{_light:"{colors.gray.50}",_dark:"{colors.gray.950}"}},emphasized:{value:{_light:"{colors.gray.300}",_dark:"{colors.gray.700}"}},inverted:{value:{_light:"{colors.gray.800}",_dark:"{colors.gray.200}"}},error:{value:{_light:"{colors.red.500}",_dark:"{colors.red.400}"}},warning:{value:{_light:"{colors.orange.500}",_dark:"{colors.orange.400}"}},success:{value:{_light:"{colors.green.500}",_dark:"{colors.green.400}"}},info:{value:{_light:"{colors.blue.500}",_dark:"{colors.blue.400}"}}},gray:{contrast:{value:{_light:"{colors.white}",_dark:"{colors.black}"}},fg:{value:{_light:"{colors.gray.800}",_dark:"{colors.gray.200}"}},subtle:{value:{_light:"{colors.gray.100}",_dark:"{colors.gray.900}"}},muted:{value:{_light:"{colors.gray.200}",_dark:"{colors.gray.800}"}},emphasized:{value:{_light:"{colors.gray.300}",_dark:"{colors.gray.700}"}},solid:{value:{_light:"{colors.gray.900}",_dark:"{colors.white}"}},focusRing:{value:{_light:"{colors.gray.400}",_dark:"{colors.gray.400}"}}},red:{contrast:{value:{_light:"white",_dark:"white"}},fg:{value:{_light:"{colors.red.700}",_dark:"{colors.red.300}"}},subtle:{value:{_light:"{colors.red.100}",_dark:"{colors.red.900}"}},muted:{value:{_light:"{colors.red.200}",_dark:"{colors.red.800}"}},emphasized:{value:{_light:"{colors.red.300}",_dark:"{colors.red.700}"}},solid:{value:{_light:"{colors.red.600}",_dark:"{colors.red.600}"}},focusRing:{value:{_light:"{colors.red.500}",_dark:"{colors.red.500}"}}},orange:{contrast:{value:{_light:"white",_dark:"black"}},fg:{value:{_light:"{colors.orange.700}",_dark:"{colors.orange.300}"}},subtle:{value:{_light:"{colors.orange.100}",_dark:"{colors.orange.900}"}},muted:{value:{_light:"{colors.orange.200}",_dark:"{colors.orange.800}"}},emphasized:{value:{_light:"{colors.orange.300}",_dark:"{colors.orange.700}"}},solid:{value:{_light:"{colors.orange.600}",_dark:"{colors.orange.500}"}},focusRing:{value:{_light:"{colors.orange.500}",_dark:"{colors.orange.500}"}}},green:{contrast:{value:{_light:"white",_dark:"white"}},fg:{value:{_light:"{colors.green.700}",_dark:"{colors.green.300}"}},subtle:{value:{_light:"{colors.green.100}",_dark:"{colors.green.900}"}},muted:{value:{_light:"{colors.green.200}",_dark:"{colors.green.800}"}},emphasized:{value:{_light:"{colors.green.300}",_dark:"{colors.green.700}"}},solid:{value:{_light:"{colors.green.600}",_dark:"{colors.green.600}"}},focusRing:{value:{_light:"{colors.green.500}",_dark:"{colors.green.500}"}}},blue:{contrast:{value:{_light:"white",_dark:"white"}},fg:{value:{_light:"{colors.blue.700}",_dark:"{colors.blue.300}"}},subtle:{value:{_light:"{colors.blue.100}",_dark:"{colors.blue.900}"}},muted:{value:{_light:"{colors.blue.200}",_dark:"{colors.blue.800}"}},emphasized:{value:{_light:"{colors.blue.300}",_dark:"{colors.blue.700}"}},solid:{value:{_light:"{colors.blue.600}",_dark:"{colors.blue.600}"}},focusRing:{value:{_light:"{colors.blue.500}",_dark:"{colors.blue.500}"}}},yellow:{contrast:{value:{_light:"black",_dark:"black"}},fg:{value:{_light:"{colors.yellow.800}",_dark:"{colors.yellow.300}"}},subtle:{value:{_light:"{colors.yellow.100}",_dark:"{colors.yellow.900}"}},muted:{value:{_light:"{colors.yellow.200}",_dark:"{colors.yellow.800}"}},emphasized:{value:{_light:"{colors.yellow.300}",_dark:"{colors.yellow.700}"}},solid:{value:{_light:"{colors.yellow.300}",_dark:"{colors.yellow.300}"}},focusRing:{value:{_light:"{colors.yellow.500}",_dark:"{colors.yellow.500}"}}},teal:{contrast:{value:{_light:"white",_dark:"white"}},fg:{value:{_light:"{colors.teal.700}",_dark:"{colors.teal.300}"}},subtle:{value:{_light:"{colors.teal.100}",_dark:"{colors.teal.900}"}},muted:{value:{_light:"{colors.teal.200}",_dark:"{colors.teal.800}"}},emphasized:{value:{_light:"{colors.teal.300}",_dark:"{colors.teal.700}"}},solid:{value:{_light:"{colors.teal.600}",_dark:"{colors.teal.600}"}},focusRing:{value:{_light:"{colors.teal.500}",_dark:"{colors.teal.500}"}}},purple:{contrast:{value:{_light:"white",_dark:"white"}},fg:{value:{_light:"{colors.purple.700}",_dark:"{colors.purple.300}"}},subtle:{value:{_light:"{colors.purple.100}",_dark:"{colors.purple.900}"}},muted:{value:{_light:"{colors.purple.200}",_dark:"{colors.purple.800}"}},emphasized:{value:{_light:"{colors.purple.300}",_dark:"{colors.purple.700}"}},solid:{value:{_light:"{colors.purple.600}",_dark:"{colors.purple.600}"}},focusRing:{value:{_light:"{colors.purple.500}",_dark:"{colors.purple.500}"}}},pink:{contrast:{value:{_light:"white",_dark:"white"}},fg:{value:{_light:"{colors.pink.700}",_dark:"{colors.pink.300}"}},subtle:{value:{_light:"{colors.pink.100}",_dark:"{colors.pink.900}"}},muted:{value:{_light:"{colors.pink.200}",_dark:"{colors.pink.800}"}},emphasized:{value:{_light:"{colors.pink.300}",_dark:"{colors.pink.700}"}},solid:{value:{_light:"{colors.pink.600}",_dark:"{colors.pink.600}"}},focusRing:{value:{_light:"{colors.pink.500}",_dark:"{colors.pink.500}"}}},cyan:{contrast:{value:{_light:"white",_dark:"white"}},fg:{value:{_light:"{colors.cyan.700}",_dark:"{colors.cyan.300}"}},subtle:{value:{_light:"{colors.cyan.100}",_dark:"{colors.cyan.900}"}},muted:{value:{_light:"{colors.cyan.200}",_dark:"{colors.cyan.800}"}},emphasized:{value:{_light:"{colors.cyan.300}",_dark:"{colors.cyan.700}"}},solid:{value:{_light:"{colors.cyan.600}",_dark:"{colors.cyan.600}"}},focusRing:{value:{_light:"{colors.cyan.500}",_dark:"{colors.cyan.500}"}}}}),Hq=pA.radii({l1:{value:"{radii.xs}"},l2:{value:"{radii.sm}"},l3:{value:"{radii.md}"}}),Gq=pA.shadows({xs:{value:{_light:"0px 1px 2px {colors.gray.900/10}, 0px 0px 1px {colors.gray.900/20}",_dark:"0px 1px 1px {black/64}, 0px 0px 1px inset {colors.gray.300/20}"}},sm:{value:{_light:"0px 2px 4px {colors.gray.900/10}, 0px 0px 1px {colors.gray.900/30}",_dark:"0px 2px 4px {black/64}, 0px 0px 1px inset {colors.gray.300/30}"}},md:{value:{_light:"0px 4px 8px {colors.gray.900/10}, 0px 0px 1px {colors.gray.900/30}",_dark:"0px 4px 8px {black/64}, 0px 0px 1px inset {colors.gray.300/30}"}},lg:{value:{_light:"0px 8px 16px {colors.gray.900/10}, 0px 0px 1px {colors.gray.900/30}",_dark:"0px 8px 16px {black/64}, 0px 0px 1px inset {colors.gray.300/30}"}},xl:{value:{_light:"0px 16px 24px {colors.gray.900/10}, 0px 0px 1px {colors.gray.900/30}",_dark:"0px 16px 24px {black/64}, 0px 0px 1px inset {colors.gray.300/30}"}},"2xl":{value:{_light:"0px 24px 40px {colors.gray.900/16}, 0px 0px 1px {colors.gray.900/30}",_dark:"0px 24px 40px {black/64}, 0px 0px 1px inset {colors.gray.300/30}"}},inner:{value:{_light:"inset 0 2px 4px 0 {black/5}",_dark:"inset 0 2px 4px 0 black"}},inset:{value:{_light:"inset 0 0 0 1px {black/5}",_dark:"inset 0 0 0 1px {colors.gray.300/5}"}}}),Wq=HL.extendWith("itemBody"),jq=zt("action-bar").parts("positioner","content","separator","selectionTrigger","closeTrigger"),Xq=zt("alert").parts("title","description","root","indicator","content"),qq=zt("breadcrumb").parts("link","currentLink","item","list","root","ellipsis","separator"),Yq=zt("blockquote").parts("root","icon","content","caption"),Kq=zt("card").parts("root","header","body","footer","title","description"),$q=zt("checkbox-card",["root","control","label","description","addon","indicator","content"]),Zq=zt("data-list").parts("root","item","itemLabel","itemValue"),Qq=uA.extendWith("header","body","footer","backdrop"),Jq=uA.extendWith("header","body","footer","backdrop"),eY=cz.extendWith("textarea"),tY=zt("empty-state",["root","content","indicator","title","description"]),nY=uz.extendWith("requiredIndicator"),iY=dz.extendWith("content"),rY=fz.extendWith("itemContent","dropzoneContent","fileText"),sY=zt("list").parts("root","item","indicator"),aY=vz.extendWith("itemCommand"),oY=zt("select").parts("root","field","indicator"),lY=Cz.extendWith("header","body","footer"),wU=hA.extendWith("itemAddon","itemIndicator"),cY=wU.extendWith("itemContent","itemDescription"),uY=Oz.extendWith("itemIndicator"),dY=Fz.extendWith("indicatorGroup"),fY=h9.extendWith("indicatorGroup","empty"),hY=Gz.extendWith("markerIndicator"),pY=zt("stat").parts("root","label","helpText","valueText","valueUnit","indicator"),mY=zt("status").parts("root","indicator"),gY=zt("steps",["root","list","item","trigger","indicator","separator","content","title","description","nextTrigger","prevTrigger","progress"]),vY=Wz.extendWith("indicator"),yY=zt("table").parts("root","header","body","row","columnHeader","cell","footer","caption"),xY=zt("toast").parts("root","title","description","indicator","closeTrigger","actionTrigger"),bY=zt("tabs").parts("root","trigger","list","content","contentGroup","indicator"),SY=zt("tag").parts("root","label","closeTrigger","startElement","endElement"),_Y=zt("timeline").parts("root","item","content","separator","indicator","connector","title","description"),EY=R7.extendWith("channelText"),TY=zt("code-block",["root","content","title","header","footer","control","overlay","code","codeText","copyTrigger","copyIndicator","collapseTrigger","collapseIndicator","collapseText"]);ZL.extendWith("valueText");const MY=b9,CY=Bt({className:"chakra-accordion",slots:Wq.keys(),base:{root:{width:"full","--accordion-radius":"radii.l2"},item:{overflowAnchor:"none"},itemTrigger:{display:"flex",alignItems:"center",textAlign:"start",width:"full",outline:"0",gap:"3",fontWeight:"medium",borderRadius:"var(--accordion-radius)",_focusVisible:{outline:"2px solid",outlineColor:"colorPalette.focusRing"},_disabled:{layerStyle:"disabled"}},itemBody:{pt:"var(--accordion-padding-y)",pb:"calc(var(--accordion-padding-y) * 2)"},itemContent:{overflow:"hidden",borderRadius:"var(--accordion-radius)",_open:{animationName:"expand-height, fade-in",animationDuration:"moderate"},_closed:{animationName:"collapse-height, fade-out",animationDuration:"moderate"}},itemIndicator:{transition:"rotate 0.2s",transformOrigin:"center",color:"fg.subtle",_open:{rotate:"180deg"},_icon:{width:"1.2em",height:"1.2em"}}},variants:{variant:{outline:{item:{borderBottomWidth:"1px"}},subtle:{itemTrigger:{px:"var(--accordion-padding-x)"},itemContent:{px:"var(--accordion-padding-x)"},item:{borderRadius:"var(--accordion-radius)",_open:{bg:"colorPalette.subtle"}}},enclosed:{root:{borderWidth:"1px",borderRadius:"var(--accordion-radius)",divideY:"1px",overflow:"hidden"},itemTrigger:{px:"var(--accordion-padding-x)"},itemContent:{px:"var(--accordion-padding-x)"},item:{_open:{bg:"bg.subtle"}}},plain:{}},size:{sm:{root:{"--accordion-padding-x":"spacing.3","--accordion-padding-y":"spacing.2"},itemTrigger:{textStyle:"sm",py:"var(--accordion-padding-y)"}},md:{root:{"--accordion-padding-x":"spacing.4","--accordion-padding-y":"spacing.2"},itemTrigger:{textStyle:"md",py:"var(--accordion-padding-y)"}},lg:{root:{"--accordion-padding-x":"spacing.4.5","--accordion-padding-y":"spacing.2.5"},itemTrigger:{textStyle:"lg",py:"var(--accordion-padding-y)"}}}},defaultVariants:{size:"md",variant:"outline"}}),wY=Bt({className:"chakra-action-bar",slots:jq.keys(),base:{positioner:{position:"fixed",display:"flex",justifyContent:"center",pointerEvents:"none",insetInline:"0",top:"unset",bottom:"calc(env(safe-area-inset-bottom) + 20px)"},content:{bg:"bg.panel",shadow:"md",display:"flex",alignItems:"center",gap:"3",borderRadius:"l3",py:"2.5",px:"3",pointerEvents:"auto",translate:"calc(-1 * var(--scrollbar-width) / 2) 0px",_open:{animationName:"slide-from-bottom, fade-in",animationDuration:"moderate"},_closed:{animationName:"slide-to-bottom, fade-out",animationDuration:"faster"}},separator:{width:"1px",height:"5",bg:"border"},selectionTrigger:{display:"inline-flex",alignItems:"center",gap:"2",alignSelf:"stretch",textStyle:"sm",px:"4",py:"1",borderRadius:"l2",borderWidth:"1px",borderStyle:"dashed"}}}),AY=Bt({slots:Xq.keys(),className:"chakra-alert",base:{root:{width:"full",display:"flex",alignItems:"flex-start",position:"relative",borderRadius:"l3"},title:{fontWeight:"medium"},description:{display:"inline"},indicator:{display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:"0",width:"1em",height:"1em",_icon:{boxSize:"full"}},content:{display:"flex",flex:"1",gap:"1"}},variants:{status:{info:{root:{colorPalette:"blue"}},warning:{root:{colorPalette:"orange"}},success:{root:{colorPalette:"green"}},error:{root:{colorPalette:"red"}},neutral:{root:{colorPalette:"gray"}}},inline:{true:{content:{display:"inline-flex",flexDirection:"row",alignItems:"center"}},false:{content:{display:"flex",flexDirection:"column"}}},variant:{subtle:{root:{bg:"colorPalette.subtle",color:"colorPalette.fg"}},surface:{root:{bg:"colorPalette.subtle",color:"colorPalette.fg",shadow:"inset 0 0 0px 1px var(--shadow-color)",shadowColor:"colorPalette.muted"},indicator:{color:"colorPalette.fg"}},outline:{root:{color:"colorPalette.fg",shadow:"inset 0 0 0px 1px var(--shadow-color)",shadowColor:"colorPalette.muted"},indicator:{color:"colorPalette.fg"}},solid:{root:{bg:"colorPalette.solid",color:"colorPalette.contrast"},indicator:{color:"colorPalette.contrast"}}},size:{sm:{root:{gap:"2",px:"3",py:"3",textStyle:"xs"},indicator:{textStyle:"lg"}},md:{root:{gap:"3",px:"4",py:"4",textStyle:"sm"},indicator:{textStyle:"xl"}},lg:{root:{gap:"3",px:"4",py:"4",textStyle:"md"},indicator:{textStyle:"2xl"}}}},defaultVariants:{status:"info",variant:"subtle",size:"md",inline:!1}}),RY=Bt({slots:jL.keys(),className:"chakra-avatar",base:{root:{display:"inline-flex",alignItems:"center",justifyContent:"center",fontWeight:"medium",position:"relative",verticalAlign:"top",flexShrink:"0",userSelect:"none",width:"var(--avatar-size)",height:"var(--avatar-size)",fontSize:"var(--avatar-font-size)",borderRadius:"var(--avatar-radius)","&[data-group-item]":{borderWidth:"2px",borderColor:"bg"}},image:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"var(--avatar-radius)"},fallback:{lineHeight:"1",textTransform:"uppercase",fontWeight:"medium",fontSize:"var(--avatar-font-size)",borderRadius:"var(--avatar-radius)"}},variants:{size:{full:{root:{"--avatar-size":"100%","--avatar-font-size":"100%"}},"2xs":{root:{"--avatar-font-size":"fontSizes.2xs","--avatar-size":"sizes.6"}},xs:{root:{"--avatar-font-size":"fontSizes.xs","--avatar-size":"sizes.8"}},sm:{root:{"--avatar-font-size":"fontSizes.sm","--avatar-size":"sizes.9"}},md:{root:{"--avatar-font-size":"fontSizes.md","--avatar-size":"sizes.10"}},lg:{root:{"--avatar-font-size":"fontSizes.md","--avatar-size":"sizes.11"}},xl:{root:{"--avatar-font-size":"fontSizes.lg","--avatar-size":"sizes.12"}},"2xl":{root:{"--avatar-font-size":"fontSizes.xl","--avatar-size":"sizes.16"}}},variant:{solid:{root:{bg:"colorPalette.solid",color:"colorPalette.contrast"}},subtle:{root:{bg:"colorPalette.muted",color:"colorPalette.fg"}},outline:{root:{color:"colorPalette.fg",borderWidth:"1px",borderColor:"colorPalette.muted"}}},shape:{square:{},rounded:{root:{"--avatar-radius":"radii.l3"}},full:{root:{"--avatar-radius":"radii.full"}}},borderless:{true:{root:{"&[data-group-item]":{borderWidth:"0px"}}}}},defaultVariants:{size:"md",shape:"full",variant:"subtle"}}),OY=Bt({className:"chakra-blockquote",slots:Yq.keys(),base:{root:{position:"relative",display:"flex",flexDirection:"column",gap:"2"},caption:{textStyle:"sm",color:"fg.muted"},icon:{boxSize:"5"}},variants:{justify:{start:{root:{alignItems:"flex-start",textAlign:"start"}},center:{root:{alignItems:"center",textAlign:"center"}},end:{root:{alignItems:"flex-end",textAlign:"end"}}},variant:{subtle:{root:{paddingX:"5",borderStartWidth:"4px",borderStartColor:"colorPalette.muted"},icon:{color:"colorPalette.fg"}},solid:{root:{paddingX:"5",borderStartWidth:"4px",borderStartColor:"colorPalette.solid"},icon:{color:"colorPalette.solid"}},plain:{root:{paddingX:"5"},icon:{color:"colorPalette.solid"}}}},defaultVariants:{variant:"subtle",justify:"start"}}),NY=Bt({className:"chakra-breadcrumb",slots:qq.keys(),base:{list:{display:"flex",alignItems:"center",wordBreak:"break-word",color:"fg.muted",listStyle:"none"},link:{outline:"0",textDecoration:"none",borderRadius:"l1",focusRing:"outside",display:"inline-flex",alignItems:"center",gap:"2"},item:{display:"inline-flex",alignItems:"center"},separator:{color:"fg.muted",opacity:"0.8",_icon:{boxSize:"1em"},_rtl:{rotate:"180deg"}},ellipsis:{display:"inline-flex",alignItems:"center",justifyContent:"center",_icon:{boxSize:"1em"}}},variants:{variant:{underline:{link:{color:"colorPalette.fg",textDecoration:"underline",textUnderlineOffset:"0.2em",textDecorationColor:"colorPalette.muted"},currentLink:{color:"colorPalette.fg"}},plain:{link:{color:"fg.muted",_hover:{color:"fg"}},currentLink:{color:"fg"}}},size:{sm:{list:{gap:"1",textStyle:"xs"}},md:{list:{gap:"1.5",textStyle:"sm"}},lg:{list:{gap:"2",textStyle:"md"}}}},defaultVariants:{variant:"plain",size:"md"}}),DY=Bt({className:"chakra-card",slots:Kq.keys(),base:{root:{display:"flex",flexDirection:"column",position:"relative",minWidth:"0",wordWrap:"break-word",borderRadius:"l3",color:"fg",textAlign:"start"},title:{fontWeight:"semibold"},description:{color:"fg.muted",fontSize:"sm"},header:{paddingInline:"var(--card-padding)",paddingTop:"var(--card-padding)",display:"flex",flexDirection:"column",gap:"1.5"},body:{padding:"var(--card-padding)",flex:"1",display:"flex",flexDirection:"column"},footer:{display:"flex",alignItems:"center",gap:"2",paddingInline:"var(--card-padding)",paddingBottom:"var(--card-padding)"}},variants:{size:{sm:{root:{"--card-padding":"spacing.4"},title:{textStyle:"md"}},md:{root:{"--card-padding":"spacing.6"},title:{textStyle:"lg"}},lg:{root:{"--card-padding":"spacing.7"},title:{textStyle:"xl"}}},variant:{elevated:{root:{bg:"bg.panel",boxShadow:"md"}},outline:{root:{bg:"bg.panel",borderWidth:"1px",borderColor:"border"}},subtle:{root:{bg:"bg.muted"}}}},defaultVariants:{variant:"outline",size:"md"}}),PY=Bt({slots:A7.keys(),className:"chakra-checkbox",base:{root:{display:"inline-flex",gap:"2",alignItems:"center",verticalAlign:"top",position:"relative"},control:Lr.base,label:{fontWeight:"medium",userSelect:"none",_disabled:{opacity:"0.5"}}},variants:{size:{xs:{root:{gap:"1.5"},label:{textStyle:"xs"},control:Lr.variants?.size?.xs},sm:{root:{gap:"2"},label:{textStyle:"sm"},control:Lr.variants?.size?.sm},md:{root:{gap:"2.5"},label:{textStyle:"sm"},control:Lr.variants?.size?.md},lg:{root:{gap:"3"},label:{textStyle:"md"},control:Lr.variants?.size?.lg}},variant:{outline:{control:Lr.variants?.variant?.outline},solid:{control:Lr.variants?.variant?.solid},subtle:{control:Lr.variants?.variant?.subtle}}},defaultVariants:{variant:"solid",size:"md"}}),IY=Bt({slots:$q.keys(),className:"chakra-checkbox-card",base:{root:{display:"flex",flexDirection:"column",userSelect:"none",position:"relative",borderRadius:"l2",flex:"1",focusVisibleRing:"outside",_disabled:{opacity:"0.8"},_invalid:{outline:"2px solid",outlineColor:"border.error"}},control:{display:"inline-flex",flex:"1",position:"relative",borderRadius:"inherit",justifyContent:"var(--checkbox-card-justify)",alignItems:"var(--checkbox-card-align)"},label:{fontWeight:"medium",display:"flex",alignItems:"center",gap:"2",flex:"1",_disabled:{opacity:"0.5"}},description:{opacity:"0.64",textStyle:"sm",_disabled:{opacity:"0.5"}},addon:{_disabled:{opacity:"0.5"}},indicator:Lr.base,content:{display:"flex",flexDirection:"column",flex:"1",gap:"1",justifyContent:"var(--checkbox-card-justify)",alignItems:"var(--checkbox-card-align)"}},variants:{size:{sm:{root:{textStyle:"sm"},control:{padding:"3",gap:"1.5"},addon:{px:"3",py:"1.5",borderTopWidth:"1px"},indicator:Lr.variants?.size.sm},md:{root:{textStyle:"sm"},control:{padding:"4",gap:"2.5"},addon:{px:"4",py:"2",borderTopWidth:"1px"},indicator:Lr.variants?.size.md},lg:{root:{textStyle:"md"},control:{padding:"4",gap:"3.5"},addon:{px:"4",py:"2",borderTopWidth:"1px"},indicator:Lr.variants?.size.lg}},variant:{surface:{root:{borderWidth:"1px",borderColor:"border",_checked:{bg:"colorPalette.subtle",color:"colorPalette.fg",borderColor:"colorPalette.muted"},_disabled:{bg:"bg.muted"}},indicator:Lr.variants?.variant.solid},subtle:{root:{bg:"bg.muted"},control:{_checked:{bg:"colorPalette.muted",color:"colorPalette.fg"}},indicator:Lr.variants?.variant.plain},outline:{root:{borderWidth:"1px",borderColor:"border",_checked:{boxShadow:"0 0 0 1px var(--shadow-color)",boxShadowColor:"colorPalette.solid",borderColor:"colorPalette.solid"}},indicator:Lr.variants?.variant.solid},solid:{root:{borderWidth:"1px",_checked:{bg:"colorPalette.solid",color:"colorPalette.contrast",borderColor:"colorPalette.solid"}},indicator:Lr.variants?.variant.inverted}},justify:{start:{root:{"--checkbox-card-justify":"flex-start"}},end:{root:{"--checkbox-card-justify":"flex-end"}},center:{root:{"--checkbox-card-justify":"center"}}},align:{start:{root:{"--checkbox-card-align":"flex-start"},content:{textAlign:"start"}},end:{root:{"--checkbox-card-align":"flex-end"},content:{textAlign:"end"}},center:{root:{"--checkbox-card-align":"center"},content:{textAlign:"center"}}},orientation:{vertical:{control:{flexDirection:"column"}},horizontal:{control:{flexDirection:"row"}}}},defaultVariants:{size:"md",variant:"outline",align:"start",orientation:"horizontal"}}),LY=Bt({slots:TY.keys(),className:"code-block",base:{root:{colorPalette:"gray",rounded:"var(--code-block-radius)",overflow:"hidden",bg:"bg",color:"fg",borderWidth:"1px","--code-block-max-height":"320px","--code-block-bg":"colors.bg","--code-block-fg":"colors.fg","--code-block-obscured-opacity":"0.5","--code-block-obscured-blur":"1px","--code-block-line-number-width":"sizes.3","--code-block-line-number-margin":"spacing.4","--code-block-highlight-bg":"{colors.teal.focusRing/20}","--code-block-highlight-border":"colors.teal.focusRing","--code-block-highlight-added-bg":"{colors.green.focusRing/20}","--code-block-highlight-added-border":"colors.green.focusRing","--code-block-highlight-removed-bg":"{colors.red.focusRing/20}","--code-block-highlight-removed-border":"colors.red.focusRing"},header:{display:"flex",alignItems:"center",gap:"2",position:"relative",px:"var(--code-block-padding)",minH:"var(--code-block-header-height)",mb:"calc(var(--code-block-padding) / 2 * -1)"},title:{display:"inline-flex",alignItems:"center",gap:"1.5",flex:"1",color:"fg.muted"},control:{gap:"1.5",display:"inline-flex",alignItems:"center"},footer:{display:"flex",alignItems:"center",justifyContent:"center",gap:"2",px:"var(--code-block-padding)",minH:"var(--code-block-header-height)"},content:{position:"relative",colorScheme:"dark",overflowX:"auto",overflowY:"hidden",borderBottomRadius:"var(--code-block-radius)",maxHeight:"var(--code-block-max-height)","& ::selection":{bg:"blue.500/40"},_expanded:{maxHeight:"unset"}},overlay:{"--bg":"{colors.black/50}",display:"flex",alignItems:"flex-end",justifyContent:"center",padding:"4",bgImage:"linear-gradient(0deg,var(--bg) 25%,transparent 100%)",color:"white",minH:"5rem",pos:"absolute",bottom:"0",insetInline:"0",zIndex:"1",fontWeight:"medium",_expanded:{display:"none"}},code:{fontFamily:"mono",lineHeight:"tall",whiteSpace:"pre",counterReset:"line 0"},codeText:{px:"var(--code-block-padding)",py:"var(--code-block-padding)",position:"relative",display:"block",width:"100%","&[data-has-focused]":{"& [data-line]:not([data-focused])":{transitionProperty:"opacity, filter",transitionDuration:"moderate",transitionTimingFunction:"ease-in-out",opacity:"var(--code-block-obscured-opacity)",filter:"blur(var(--code-block-obscured-blur))"},"&:hover":{"--code-block-obscured-opacity":"1","--code-block-obscured-blur":"0px"}},"&[data-has-line-numbers][data-plaintext]":{paddingInlineStart:"calc(var(--code-block-line-number-width) + var(--code-block-line-number-margin) + var(--code-block-padding))"},"& [data-line]":{position:"relative","--highlight-bg":"var(--code-block-highlight-bg)","--highlight-border":"var(--code-block-highlight-border)","&[data-highlight], &[data-diff]":{display:"inline-block",width:"full","&:after":{content:"''",display:"block",position:"absolute",insetStart:"calc(var(--code-block-padding) * -1)",insetEnd:"0px",width:"calc(100% + var(--code-block-padding) * 2)",height:"100%",bg:"var(--highlight-bg)",borderStartWidth:"2px",borderStartColor:"var(--highlight-border)"}},"&[data-diff='added']":{"--highlight-bg":"var(--code-block-highlight-added-bg)","--highlight-border":"var(--code-block-highlight-added-border)"},"&[data-diff='removed']":{"--highlight-bg":"var(--code-block-highlight-removed-bg)","--highlight-border":"var(--code-block-highlight-removed-border)"}},"&[data-word-wrap]":{"&[data-plaintext], & [data-line]":{whiteSpace:"pre-wrap",wordBreak:"break-all"}},"&[data-has-line-numbers]":{"--content":"counter(line)","& [data-line]:before":{content:"var(--content)",counterIncrement:"line",width:"var(--code-block-line-number-width)",marginRight:"var(--code-block-line-number-margin)",display:"inline-block",textAlign:"end",userSelect:"none",whiteSpace:"nowrap",opacity:.4},"& [data-diff='added']:before":{content:"'+'"},"& [data-diff='removed']:before":{content:"'-'"}}}},variants:{size:{sm:{root:{"--code-block-padding":"spacing.4","--code-block-radius":"radii.md","--code-block-header-height":"sizes.8"},title:{textStyle:"xs"},code:{fontSize:"xs"}},md:{root:{"--code-block-padding":"spacing.4","--code-block-radius":"radii.lg","--code-block-header-height":"sizes.10"},title:{textStyle:"xs"},code:{fontSize:"sm"}},lg:{root:{"--code-block-padding":"spacing.5","--code-block-radius":"radii.xl","--code-block-header-height":"sizes.12"},title:{textStyle:"sm"},code:{fontSize:"sm"}}}},defaultVariants:{size:"md"}}),zY=Bt({slots:CL.keys(),className:"chakra-collapsible",base:{content:{overflow:"hidden",_open:{animationName:"expand-height, fade-in",animationDuration:"moderate"},_closed:{animationName:"collapse-height, fade-out",animationDuration:"moderate"}}}}),UY=Bt({className:"colorPicker",slots:EY.keys(),base:{root:{display:"flex",flexDirection:"column",gap:"1.5"},label:{color:"fg",fontWeight:"medium",textStyle:"sm",_disabled:{opacity:"0.5"}},valueText:{textAlign:"start"},control:{display:"flex",alignItems:"center",flexDirection:"row",gap:"2",position:"relative"},swatchTrigger:{display:"flex",alignItems:"center",justifyContent:"center"},trigger:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"row",flexShrink:"0",gap:"2",textStyle:"sm",minH:"var(--input-height)",minW:"var(--input-height)",px:"1",rounded:"l2",_disabled:{opacity:"0.5"},"--focus-color":"colors.colorPalette.focusRing","&:focus-visible":{borderColor:"var(--focus-color)",outline:"1px solid var(--focus-color)"},"&[data-fit-content]":{"--input-height":"unset",px:"0",border:"0"}},content:{display:"flex",flexDirection:"column",bg:"bg.panel",borderRadius:"l3",boxShadow:"lg",width:"64",p:"4",gap:"3",zIndex:"dropdown",_open:{animationStyle:"slide-fade-in",animationDuration:"fast"},_closed:{animationStyle:"slide-fade-out",animationDuration:"faster"}},area:{height:"180px",borderRadius:"l2",overflow:"hidden"},areaThumb:{borderRadius:"full",height:"var(--thumb-size)",width:"var(--thumb-size)",borderWidth:"2px",borderColor:"white",shadow:"sm",focusVisibleRing:"mixed",focusRingColor:"white"},areaBackground:{height:"full"},channelSlider:{borderRadius:"l2",flex:"1"},channelSliderTrack:{height:"var(--slider-height)",borderRadius:"inherit",boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"},channelText:{textStyle:"xs",color:"fg.muted",fontWeight:"medium",textTransform:"capitalize"},swatchGroup:{display:"flex",flexDirection:"row",flexWrap:"wrap",gap:"2"},swatch:{...CU.base,borderRadius:"l1"},swatchIndicator:{color:"white",rounded:"full"},channelSliderThumb:{borderRadius:"full",height:"var(--thumb-size)",width:"var(--thumb-size)",borderWidth:"2px",borderColor:"white",shadow:"sm",transform:"translate(-50%, -50%)",focusVisibleRing:"outside",focusRingOffset:"1px"},channelInput:{...Xi.base,"&::-webkit-inner-spin-button, &::-webkit-outer-spin-button":{WebkitAppearance:"none",margin:0}},formatSelect:{textStyle:"xs",textTransform:"uppercase",borderWidth:"1px",minH:"6",focusRing:"inside",rounded:"l2"},transparencyGrid:{borderRadius:"l2"},view:{display:"flex",flexDirection:"column",gap:"2"}},variants:{size:{"2xs":{channelInput:Xi.variants?.size?.["2xs"],swatch:{"--swatch-size":"sizes.4.5"},trigger:{"--input-height":"sizes.7"},area:{"--thumb-size":"sizes.3"},channelSlider:{"--slider-height":"sizes.3","--thumb-size":"sizes.3"}},xs:{channelInput:Xi.variants?.size?.xs,swatch:{"--swatch-size":"sizes.5"},trigger:{"--input-height":"sizes.8"},area:{"--thumb-size":"sizes.3.5"},channelSlider:{"--slider-height":"sizes.3.5","--thumb-size":"sizes.3.5"}},sm:{channelInput:Xi.variants?.size?.sm,swatch:{"--swatch-size":"sizes.6"},trigger:{"--input-height":"sizes.9"},area:{"--thumb-size":"sizes.3.5"},channelSlider:{"--slider-height":"sizes.3.5","--thumb-size":"sizes.3.5"}},md:{channelInput:Xi.variants?.size?.md,swatch:{"--swatch-size":"sizes.7"},trigger:{"--input-height":"sizes.10"},area:{"--thumb-size":"sizes.3.5"},channelSlider:{"--slider-height":"sizes.3.5","--thumb-size":"sizes.3.5"}},lg:{channelInput:Xi.variants?.size?.lg,swatch:{"--swatch-size":"sizes.7"},trigger:{"--input-height":"sizes.11"},area:{"--thumb-size":"sizes.3.5"},channelSlider:{"--slider-height":"sizes.3.5","--thumb-size":"sizes.3.5"}},xl:{channelInput:Xi.variants?.size?.xl,swatch:{"--swatch-size":"sizes.8"},trigger:{"--input-height":"sizes.12"},area:{"--thumb-size":"sizes.3.5"},channelSlider:{"--slider-height":"sizes.3.5","--thumb-size":"sizes.3.5"}},"2xl":{channelInput:Xi.variants?.size?.["2xl"],swatch:{"--swatch-size":"sizes.10"},trigger:{"--input-height":"sizes.16"},area:{"--thumb-size":"sizes.3.5"},channelSlider:{"--slider-height":"sizes.3.5","--thumb-size":"sizes.3.5"}}},variant:{outline:{channelInput:Xi.variants?.variant?.outline,trigger:{borderWidth:"1px"}},subtle:{channelInput:Xi.variants?.variant?.subtle,trigger:{borderWidth:"1px",borderColor:"transparent",bg:"bg.muted"}}}},defaultVariants:{size:"md",variant:"outline"}}),VY=Bt({className:"chakra-combobox",slots:fY.keys(),base:{root:{display:"flex",flexDirection:"column",gap:"1.5",width:"full"},label:{fontWeight:"medium",userSelect:"none",textStyle:"sm",_disabled:{layerStyle:"disabled"}},input:{display:"flex",alignItems:"center",justifyContent:"space-between",background:"bg.panel",width:"full",minH:"var(--combobox-input-height)",px:"var(--combobox-input-padding-x)","--input-height":"var(--combobox-input-height)",borderRadius:"l2",outline:0,userSelect:"none",textAlign:"start",_placeholderShown:{color:"fg.muted"},_disabled:{layerStyle:"disabled"},"--focus-color":"colors.colorPalette.focusRing","--error-color":"colors.border.error",_invalid:{focusRingColor:"var(--error-color)",borderColor:"var(--error-color)"}},trigger:{display:"inline-flex",alignItems:"center",justifyContent:"center","--input-height":"var(--combobox-input-height)"},clearTrigger:{color:"fg.muted",pointerEvents:"auto",focusVisibleRing:"inside",focusRingWidth:"2px",rounded:"l1"},control:{pos:"relative"},indicatorGroup:{display:"flex",alignItems:"center",justifyContent:"center",gap:"1",pos:"absolute",insetEnd:"0",top:"0",bottom:"0",px:"var(--combobox-input-padding-x)",_icon:{boxSize:"var(--combobox-indicator-size)"},"[data-disabled] &":{opacity:.5}},content:{background:"bg.panel",display:"flex",flexDirection:"column",zIndex:"dropdown",borderRadius:"l2",outline:0,maxH:"96",overflowY:"auto",boxShadow:"md",_open:{animationStyle:"slide-fade-in",animationDuration:"fast"},_closed:{animationStyle:"slide-fade-out",animationDuration:"0s"},"&[data-empty]:not(:has([data-scope=combobox][data-part=empty]))":{opacity:0}},item:{position:"relative",userSelect:"none",display:"flex",alignItems:"center",gap:"2",py:"var(--combobox-item-padding-y)",px:"var(--combobox-item-padding-x)",cursor:"option",justifyContent:"space-between",flex:"1",textAlign:"start",borderRadius:"l1",_highlighted:{bg:"bg.emphasized/60"},_disabled:{pointerEvents:"none",opacity:"0.5"},_icon:{boxSize:"var(--combobox-indicator-size)"}},empty:{py:"var(--combobox-item-padding-y)",px:"var(--combobox-item-padding-x)"},itemText:{flex:"1"},itemGroup:{pb:"var(--combobox-item-padding-y)",_last:{pb:"0"}},itemGroupLabel:{fontWeight:"medium",py:"var(--combobox-item-padding-y)",px:"var(--combobox-item-padding-x)"}},variants:{variant:{outline:{input:{bg:"transparent",borderWidth:"1px",borderColor:"border",focusVisibleRing:"inside"}},subtle:{input:{borderWidth:"1px",borderColor:"transparent",bg:"bg.muted",focusVisibleRing:"inside"}},flushed:{input:{bg:"transparent",borderBottomWidth:"1px",borderBottomColor:"border",borderRadius:"0",px:"0",_focusVisible:{borderColor:"var(--focus-color)",boxShadow:"0px 1px 0px 0px var(--focus-color)"}},indicatorGroup:{px:"0"}}},size:{xs:{root:{"--combobox-input-height":"sizes.8","--combobox-input-padding-x":"spacing.2","--combobox-indicator-size":"sizes.3.5"},input:{textStyle:"xs"},content:{"--combobox-item-padding-x":"spacing.1.5","--combobox-item-padding-y":"spacing.1","--combobox-indicator-size":"sizes.3.5",p:"1",textStyle:"xs"},trigger:{textStyle:"xs",gap:"1"}},sm:{root:{"--combobox-input-height":"sizes.9","--combobox-input-padding-x":"spacing.2.5","--combobox-indicator-size":"sizes.4"},input:{textStyle:"sm"},content:{"--combobox-item-padding-x":"spacing.2","--combobox-item-padding-y":"spacing.1.5","--combobox-indicator-size":"sizes.4",p:"1",textStyle:"sm"},trigger:{textStyle:"sm",gap:"1"}},md:{root:{"--combobox-input-height":"sizes.10","--combobox-input-padding-x":"spacing.3","--combobox-indicator-size":"sizes.4"},input:{textStyle:"sm"},content:{"--combobox-item-padding-x":"spacing.2","--combobox-item-padding-y":"spacing.1.5","--combobox-indicator-size":"sizes.4",p:"1",textStyle:"sm"},itemIndicator:{display:"flex",alignItems:"center",justifyContent:"center"},trigger:{textStyle:"sm",gap:"2"}},lg:{root:{"--combobox-input-height":"sizes.12","--combobox-input-padding-x":"spacing.4","--combobox-indicator-size":"sizes.5"},input:{textStyle:"md"},content:{"--combobox-item-padding-y":"spacing.2","--combobox-item-padding-x":"spacing.3","--combobox-indicator-size":"sizes.5",p:"1.5",textStyle:"md"},trigger:{textStyle:"md",py:"3",gap:"2"}}}},defaultVariants:{size:"md",variant:"outline"}}),kY=Bt({slots:Zq.keys(),className:"chakra-data-list",base:{itemLabel:{display:"flex",alignItems:"center",gap:"1"},itemValue:{display:"flex",minWidth:"0",flex:"1"}},variants:{orientation:{horizontal:{root:{display:"flex",flexDirection:"column"},item:{display:"inline-flex",alignItems:"center",gap:"4"},itemLabel:{minWidth:"120px"}},vertical:{root:{display:"flex",flexDirection:"column"},item:{display:"flex",flexDirection:"column",gap:"1"}}},size:{sm:{root:{gap:"3"},item:{textStyle:"xs"}},md:{root:{gap:"4"},item:{textStyle:"sm"}},lg:{root:{gap:"5"},item:{textStyle:"md"}}},variant:{subtle:{itemLabel:{color:"fg.muted"}},bold:{itemLabel:{fontWeight:"medium"},itemValue:{color:"fg.muted"}}}},defaultVariants:{size:"md",orientation:"vertical",variant:"subtle"}}),BY=Bt({slots:Qq.keys(),className:"chakra-dialog",base:{backdrop:{bg:"blackAlpha.500",pos:"fixed",left:0,top:0,w:"100dvw",h:"100dvh",zIndex:"var(--z-index)",_open:{animationName:"fade-in",animationDuration:"slow"},_closed:{animationName:"fade-out",animationDuration:"moderate"}},positioner:{display:"flex",width:"100dvw",height:"100dvh",position:"fixed",left:0,top:0,"--dialog-z-index":"zIndex.modal",zIndex:"calc(var(--dialog-z-index) + var(--layer-index, 0))",justifyContent:"center",overscrollBehaviorY:"none"},content:{display:"flex",flexDirection:"column",position:"relative",width:"100%",outline:0,borderRadius:"l3",textStyle:"sm",my:"var(--dialog-margin, var(--dialog-base-margin))","--dialog-z-index":"zIndex.modal",zIndex:"calc(var(--dialog-z-index) + var(--layer-index, 0))",bg:"bg.panel",boxShadow:"lg",_open:{animationDuration:"moderate"},_closed:{animationDuration:"faster"}},header:{display:"flex",gap:"2",flex:0,px:"6",pt:"6",pb:"4"},body:{flex:"1",px:"6",pt:"2",pb:"6"},footer:{display:"flex",alignItems:"center",justifyContent:"flex-end",gap:"3",px:"6",pt:"2",pb:"4"},title:{textStyle:"lg",fontWeight:"semibold"},description:{color:"fg.muted"},closeTrigger:{pos:"absolute",top:"2",insetEnd:"2"}},variants:{placement:{center:{positioner:{alignItems:"center"},content:{"--dialog-base-margin":"auto",mx:"auto"}},top:{positioner:{alignItems:"flex-start"},content:{"--dialog-base-margin":"spacing.16",mx:"auto"}},bottom:{positioner:{alignItems:"flex-end"},content:{"--dialog-base-margin":"spacing.16",mx:"auto"}}},scrollBehavior:{inside:{positioner:{overflow:"hidden"},content:{maxH:"calc(100% - 7.5rem)"},body:{overflow:"auto"}},outside:{positioner:{overflow:"auto",pointerEvents:"auto"}}},size:{xs:{content:{maxW:"sm"}},sm:{content:{maxW:"md"}},md:{content:{maxW:"lg"}},lg:{content:{maxW:"2xl"}},xl:{content:{maxW:"4xl"}},cover:{positioner:{padding:"10"},content:{width:"100%",height:"100%","--dialog-margin":"0"}},full:{content:{maxW:"100dvw",minH:"100dvh","--dialog-margin":"0",borderRadius:"0"}}},motionPreset:{scale:{content:{_open:{animationName:"scale-in, fade-in"},_closed:{animationName:"scale-out, fade-out"}}},"slide-in-bottom":{content:{_open:{animationName:"slide-from-bottom, fade-in"},_closed:{animationName:"slide-to-bottom, fade-out"}}},"slide-in-top":{content:{_open:{animationName:"slide-from-top, fade-in"},_closed:{animationName:"slide-to-top, fade-out"}}},"slide-in-left":{content:{_open:{animationName:"slide-from-left, fade-in"},_closed:{animationName:"slide-to-left, fade-out"}}},"slide-in-right":{content:{_open:{animationName:"slide-from-right, fade-in"},_closed:{animationName:"slide-to-right, fade-out"}}},none:{}}},defaultVariants:{size:"md",scrollBehavior:"outside",placement:"top",motionPreset:"scale"}}),FY=Bt({slots:Jq.keys(),className:"chakra-drawer",base:{backdrop:{bg:"blackAlpha.500",pos:"fixed",insetInlineStart:0,top:0,w:"100vw",h:"100dvh",zIndex:"overlay",_open:{animationName:"fade-in",animationDuration:"slow"},_closed:{animationName:"fade-out",animationDuration:"moderate"}},positioner:{display:"flex",width:"100vw",height:"100dvh",position:"fixed",insetInlineStart:0,top:0,zIndex:"modal",overscrollBehaviorY:"none"},content:{display:"flex",flexDirection:"column",position:"relative",width:"100%",outline:0,zIndex:"modal",textStyle:"sm",maxH:"100dvh",color:"inherit",bg:"bg.panel",boxShadow:"lg",_open:{animationDuration:"slowest",animationTimingFunction:"ease-in-smooth"},_closed:{animationDuration:"slower",animationTimingFunction:"ease-in-smooth"}},header:{display:"flex",alignItems:"center",gap:"2",flex:0,px:"6",pt:"6",pb:"4"},body:{px:"6",py:"2",flex:"1",overflow:"auto"},footer:{display:"flex",alignItems:"center",justifyContent:"flex-end",gap:"3",px:"6",pt:"2",pb:"4"},title:{flex:"1",textStyle:"lg",fontWeight:"semibold"},description:{color:"fg.muted"},closeTrigger:{pos:"absolute",top:"3",insetEnd:"2"}},variants:{size:{xs:{content:{maxW:"xs"}},sm:{content:{maxW:"md"}},md:{content:{maxW:"lg"}},lg:{content:{maxW:"2xl"}},xl:{content:{maxW:"4xl"}},full:{content:{maxW:"100vw",h:"100dvh"}}},placement:{start:{positioner:{justifyContent:"flex-start",alignItems:"stretch"},content:{_open:{animationName:{base:"slide-from-left-full, fade-in",_rtl:"slide-from-right-full, fade-in"}},_closed:{animationName:{base:"slide-to-left-full, fade-out",_rtl:"slide-to-right-full, fade-out"}}}},end:{positioner:{justifyContent:"flex-end",alignItems:"stretch"},content:{_open:{animationName:{base:"slide-from-right-full, fade-in",_rtl:"slide-from-left-full, fade-in"}},_closed:{animationName:{base:"slide-to-right-full, fade-out",_rtl:"slide-to-left-full, fade-out"}}}},top:{positioner:{justifyContent:"stretch",alignItems:"flex-start"},content:{maxW:"100%",_open:{animationName:"slide-from-top-full, fade-in"},_closed:{animationName:"slide-to-top-full, fade-out"}}},bottom:{positioner:{justifyContent:"stretch",alignItems:"flex-end"},content:{maxW:"100%",_open:{animationName:"slide-from-bottom-full, fade-in"},_closed:{animationName:"slide-to-bottom-full, fade-out"}}}},contained:{true:{positioner:{padding:"4"},content:{borderRadius:"l3"}}}},defaultVariants:{size:"xs",placement:"end"}}),ON=Gm({fontSize:"inherit",fontWeight:"inherit",textAlign:"inherit",bg:"transparent",borderRadius:"l2"}),HY=Bt({slots:eY.keys(),className:"chakra-editable",base:{root:{display:"inline-flex",alignItems:"center",position:"relative",gap:"1.5",width:"full"},preview:{...ON,py:"1",px:"1",display:"inline-flex",alignItems:"center",transitionProperty:"common",transitionDuration:"moderate",cursor:"text",_hover:{bg:"bg.muted"},_disabled:{userSelect:"none"}},input:{...ON,outline:"0",py:"1",px:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",focusVisibleRing:"inside",focusRingWidth:"2px",_placeholder:{opacity:.6}},control:{display:"inline-flex",alignItems:"center",gap:"1.5"}},variants:{size:{sm:{root:{textStyle:"sm"},preview:{minH:"8"},input:{minH:"8"}},md:{root:{textStyle:"sm"},preview:{minH:"9"},input:{minH:"9"}},lg:{root:{textStyle:"md"},preview:{minH:"10"},input:{minH:"10"}}}},defaultVariants:{size:"md"}}),GY=Bt({slots:tY.keys(),className:"chakra-empty-state",base:{root:{width:"full"},content:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},indicator:{display:"flex",alignItems:"center",justifyContent:"center",color:"fg.subtle",_icon:{boxSize:"1em"}},title:{fontWeight:"semibold"},description:{textStyle:"sm",color:"fg.muted"}},variants:{size:{sm:{root:{px:"4",py:"6"},title:{textStyle:"md"},content:{gap:"4"},indicator:{textStyle:"2xl"}},md:{root:{px:"8",py:"12"},title:{textStyle:"lg"},content:{gap:"6"},indicator:{textStyle:"4xl"}},lg:{root:{px:"12",py:"16"},title:{textStyle:"xl"},content:{gap:"8"},indicator:{textStyle:"6xl"}}}},defaultVariants:{size:"md"}}),WY=Bt({className:"chakra-field",slots:nY.keys(),base:{requiredIndicator:{color:"fg.error",lineHeight:"1"},root:{display:"flex",width:"100%",position:"relative",gap:"1.5"},label:{display:"flex",alignItems:"center",textAlign:"start",textStyle:"sm",fontWeight:"medium",gap:"1",userSelect:"none",_disabled:{opacity:"0.5"}},errorText:{display:"inline-flex",alignItems:"center",fontWeight:"medium",gap:"1",color:"fg.error",textStyle:"xs"},helperText:{color:"fg.muted",textStyle:"xs"}},variants:{orientation:{vertical:{root:{flexDirection:"column",alignItems:"flex-start"}},horizontal:{root:{flexDirection:"row",alignItems:"center",justifyContent:"space-between"},label:{flex:"0 0 var(--field-label-width, 80px)"}}}},defaultVariants:{orientation:"vertical"}}),jY=Bt({className:"fieldset",slots:iY.keys(),base:{root:{display:"flex",flexDirection:"column",width:"full"},content:{display:"flex",flexDirection:"column",width:"full"},legend:{color:"fg",fontWeight:"medium",_disabled:{opacity:"0.5"}},helperText:{color:"fg.muted",textStyle:"sm"},errorText:{display:"inline-flex",alignItems:"center",color:"fg.error",gap:"2",fontWeight:"medium",textStyle:"sm"}},variants:{size:{sm:{root:{spaceY:"2"},content:{gap:"1.5"},legend:{textStyle:"sm"}},md:{root:{spaceY:"4"},content:{gap:"4"},legend:{textStyle:"sm"}},lg:{root:{spaceY:"6"},content:{gap:"4"},legend:{textStyle:"md"}}}},defaultVariants:{size:"md"}}),XY=Bt({className:"chakra-file-upload",slots:rY.keys(),base:{root:{display:"flex",flexDirection:"column",gap:"4",width:"100%",alignItems:"flex-start"},label:{fontWeight:"medium",textStyle:"sm"},dropzone:{background:"bg",borderRadius:"l3",borderWidth:"2px",borderStyle:"dashed",display:"flex",alignItems:"center",flexDirection:"column",gap:"4",justifyContent:"center",minHeight:"2xs",px:"3",py:"2",transition:"backgrounds",focusVisibleRing:"outside",_hover:{bg:"bg.subtle"},_dragging:{bg:"colorPalette.subtle",borderStyle:"solid",borderColor:"colorPalette.solid"}},dropzoneContent:{display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",gap:"1",textStyle:"sm"},item:{pos:"relative",textStyle:"sm",animationName:"fade-in",animationDuration:"moderate",background:"bg",borderRadius:"l2",borderWidth:"1px",width:"100%",display:"flex",alignItems:"center",gap:"3",p:"4"},itemGroup:{width:"100%",display:"flex",flexDirection:"column",gap:"3",_empty:{display:"none"}},itemName:{color:"fg",fontWeight:"medium",lineClamp:"1"},itemContent:{display:"flex",flexDirection:"column",gap:"0.5",flex:"1"},itemSizeText:{color:"fg.muted",textStyle:"xs"},itemDeleteTrigger:{display:"flex",alignItems:"center",justifyContent:"center",alignSelf:"flex-start",boxSize:"5",p:"2px",color:"fg.muted",cursor:"button"},itemPreview:{color:"fg.muted",_icon:{boxSize:"4.5"}}},defaultVariants:{}}),qY=Bt({className:"chakra-hover-card",slots:hz.keys(),base:{content:{position:"relative",display:"flex",flexDirection:"column",textStyle:"sm","--hovercard-bg":"colors.bg.panel",bg:"var(--hovercard-bg)",boxShadow:"lg",maxWidth:"80",borderRadius:"l3",zIndex:"popover",transformOrigin:"var(--transform-origin)",outline:"0",_open:{animationStyle:"slide-fade-in",animationDuration:"fast"},_closed:{animationStyle:"slide-fade-out",animationDuration:"faster"}},arrow:{"--arrow-size":"sizes.3","--arrow-background":"var(--hovercard-bg)"},arrowTip:{borderTopWidth:"0.5px",borderInlineStartWidth:"0.5px"}},variants:{size:{xs:{content:{padding:"3"}},sm:{content:{padding:"4"}},md:{content:{padding:"5"}},lg:{content:{padding:"6"}}}},defaultVariants:{size:"md"}}),YY=Bt({className:"chakra-list",slots:sY.keys(),base:{root:{display:"flex",flexDirection:"column",gap:"var(--list-gap)","& :where(ul, ol)":{marginTop:"var(--list-gap)"}},item:{whiteSpace:"normal",display:"list-item"},indicator:{marginEnd:"2",minHeight:"1lh",flexShrink:0,display:"inline-block",verticalAlign:"middle"}},variants:{variant:{marker:{root:{listStyle:"revert"},item:{_marker:{color:"fg.subtle"}}},plain:{item:{alignItems:"flex-start",display:"inline-flex"}}},align:{center:{item:{alignItems:"center"}},start:{item:{alignItems:"flex-start"}},end:{item:{alignItems:"flex-end"}}}},defaultVariants:{variant:"marker"}}),KY=Bt({className:"chakra-listbox",slots:MY.keys(),base:{root:{display:"flex",flexDirection:"column",gap:"1.5",width:"full"},content:{display:"flex",maxH:"96",p:"1",gap:"1",textStyle:"sm",outline:"none",scrollPadding:"1",_horizontal:{flexDirection:"row",overflowX:"auto"},_vertical:{flexDirection:"column",overflowY:"auto"},"--listbox-item-padding-x":"spacing.2","--listbox-item-padding-y":"spacing.1.5"},item:{position:"relative",userSelect:"none",display:"flex",alignItems:"center",gap:"2",cursor:"pointer",justifyContent:"space-between",flex:"1",textAlign:"start",borderRadius:"l1",py:"var(--listbox-item-padding-y)",px:"var(--listbox-item-padding-x)",_highlighted:{outline:"2px solid",outlineColor:"border.emphasized"},_disabled:{pointerEvents:"none",opacity:"0.5"}},empty:{py:"var(--listbox-item-padding-y)",px:"var(--listbox-item-padding-x)"},itemText:{flex:"1"},itemGroup:{mt:"1.5",_first:{mt:"0"}},itemGroupLabel:{py:"1.5",px:"2",fontWeight:"medium"},label:{fontWeight:"medium",userSelect:"none",textStyle:"sm",_disabled:{layerStyle:"disabled"}},valueText:{lineClamp:"1",maxW:"80%"},itemIndicator:{display:"flex",alignItems:"center",justifyContent:"center",_icon:{boxSize:"4"}}},variants:{variant:{subtle:{content:{bg:"bg.panel",borderWidth:"1px",borderRadius:"l2"},item:{_hover:{bg:"bg.emphasized/60"},_selected:{bg:"bg.muted"}}},solid:{content:{bg:"bg.panel",borderWidth:"1px",borderRadius:"l2"},item:{_selected:{bg:"colorPalette.solid",color:"colorPalette.contrast"}}},plain:{}}},defaultVariants:{variant:"subtle"}}),$Y=Bt({className:"chakra-menu",slots:aY.keys(),base:{content:{outline:0,bg:"bg.panel",boxShadow:"lg",color:"fg",maxHeight:"var(--available-height)","--menu-z-index":"zIndex.dropdown",zIndex:"calc(var(--menu-z-index) + var(--layer-index, 0))",borderRadius:"l2",overflow:"hidden",overflowY:"auto",_open:{animationStyle:"slide-fade-in",animationDuration:"fast"},_closed:{animationStyle:"slide-fade-out",animationDuration:"faster"}},item:{textDecoration:"none",color:"fg",userSelect:"none",borderRadius:"l1",width:"100%",display:"flex",cursor:"menuitem",alignItems:"center",textAlign:"start",position:"relative",flex:"0 0 auto",outline:0,_disabled:{layerStyle:"disabled"},"&[data-type]":{ps:"8"}},itemText:{flex:"1"},itemIndicator:{position:"absolute",insetStart:"2",transform:"translateY(-50%)",top:"50%"},itemGroupLabel:{px:"2",py:"1.5",fontWeight:"semibold",textStyle:"sm"},indicator:{display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:"0"},itemCommand:{opacity:"0.6",textStyle:"xs",ms:"auto",ps:"4",letterSpacing:"widest",fontFamily:"inherit"},separator:{height:"1px",bg:"bg.muted",my:"1",mx:"-1"}},variants:{variant:{subtle:{item:{_highlighted:{bg:"bg.emphasized/60"}}},solid:{item:{_highlighted:{bg:"colorPalette.solid",color:"colorPalette.contrast"}}}},size:{sm:{content:{minW:"8rem",padding:"1",scrollPadding:"1"},item:{gap:"1",textStyle:"xs",py:"1",px:"1.5"}},md:{content:{minW:"8rem",padding:"1.5",scrollPadding:"1.5"},item:{gap:"2",textStyle:"sm",py:"1.5",px:"2"}}}},defaultVariants:{size:"md",variant:"subtle"}}),NS=Bt({className:"chakra-select",slots:dY.keys(),base:{root:{display:"flex",flexDirection:"column",gap:"1.5",width:"full"},trigger:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"full",minH:"var(--select-trigger-height)","--input-height":"var(--select-trigger-height)",px:"var(--select-trigger-padding-x)",borderRadius:"l2",userSelect:"none",textAlign:"start",focusVisibleRing:"inside",_placeholderShown:{color:"fg.muted/80"},_disabled:{layerStyle:"disabled"},_invalid:{borderColor:"border.error"}},indicatorGroup:{display:"flex",alignItems:"center",gap:"1",pos:"absolute",insetEnd:"0",top:"0",bottom:"0",px:"var(--select-trigger-padding-x)",pointerEvents:"none"},indicator:{display:"flex",alignItems:"center",justifyContent:"center",color:{base:"fg.muted",_disabled:"fg.subtle",_invalid:"fg.error"}},content:{background:"bg.panel",display:"flex",flexDirection:"column",zIndex:"dropdown",borderRadius:"l2",outline:0,maxH:"96",overflowY:"auto",boxShadow:"md",_open:{animationStyle:"slide-fade-in",animationDuration:"fast"},_closed:{animationStyle:"slide-fade-out",animationDuration:"fastest"}},item:{position:"relative",userSelect:"none",display:"flex",alignItems:"center",gap:"2",cursor:"option",justifyContent:"space-between",flex:"1",textAlign:"start",borderRadius:"l1",_highlighted:{bg:"bg.emphasized/60"},_disabled:{pointerEvents:"none",opacity:"0.5"},_icon:{width:"4",height:"4"}},control:{pos:"relative"},itemText:{flex:"1"},itemGroup:{_first:{mt:"0"}},itemGroupLabel:{py:"1",fontWeight:"medium"},label:{fontWeight:"medium",userSelect:"none",textStyle:"sm",_disabled:{layerStyle:"disabled"}},valueText:{lineClamp:"1",maxW:"80%"},clearTrigger:{color:"fg.muted",pointerEvents:"auto",focusVisibleRing:"inside",focusRingWidth:"2px",rounded:"l1"}},variants:{variant:{outline:{trigger:{bg:"transparent",borderWidth:"1px",borderColor:"border",_expanded:{borderColor:"border.emphasized"}}},subtle:{trigger:{borderWidth:"1px",borderColor:"transparent",bg:"bg.muted"}}},size:{xs:{root:{"--select-trigger-height":"sizes.8","--select-trigger-padding-x":"spacing.2"},content:{p:"1",gap:"1",textStyle:"xs"},trigger:{textStyle:"xs",gap:"1"},item:{py:"1",px:"2"},itemGroupLabel:{py:"1",px:"2"},indicator:{_icon:{width:"3.5",height:"3.5"}}},sm:{root:{"--select-trigger-height":"sizes.9","--select-trigger-padding-x":"spacing.2.5"},content:{p:"1",textStyle:"sm"},trigger:{textStyle:"sm",gap:"1"},indicator:{_icon:{width:"4",height:"4"}},item:{py:"1",px:"1.5"},itemGroup:{mt:"1"},itemGroupLabel:{py:"1",px:"1.5"}},md:{root:{"--select-trigger-height":"sizes.10","--select-trigger-padding-x":"spacing.3"},content:{p:"1",textStyle:"sm"},itemGroup:{mt:"1.5"},item:{py:"1.5",px:"2"},itemIndicator:{display:"flex",alignItems:"center",justifyContent:"center"},itemGroupLabel:{py:"1.5",px:"2"},trigger:{textStyle:"sm",gap:"2"},indicator:{_icon:{width:"4",height:"4"}}},lg:{root:{"--select-trigger-height":"sizes.12","--select-trigger-padding-x":"spacing.4"},content:{p:"1.5",textStyle:"md"},itemGroup:{mt:"2"},item:{py:"2",px:"3"},itemGroupLabel:{py:"2",px:"3"},trigger:{textStyle:"md",py:"3",gap:"2"},indicator:{_icon:{width:"5",height:"5"}}}}},defaultVariants:{size:"md",variant:"outline"}}),ZY=Bt({className:"chakra-native-select",slots:oY.keys(),base:{root:{height:"fit-content",display:"flex",width:"100%",position:"relative"},field:{width:"100%",minWidth:"0",outline:"0",appearance:"none",borderRadius:"l2","--error-color":"colors.border.error","--input-height":"var(--select-field-height)",height:"var(--select-field-height)",_disabled:{layerStyle:"disabled"},_invalid:{focusRingColor:"var(--error-color)",borderColor:"var(--error-color)"},focusVisibleRing:"inside",lineHeight:"normal","& > option, & > optgroup":{bg:"bg"}},indicator:{position:"absolute",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",top:"50%",transform:"translateY(-50%)",height:"100%",color:"fg.muted",_disabled:{opacity:"0.5"},_invalid:{color:"fg.error"},_icon:{width:"1em",height:"1em"}}},variants:{variant:{outline:{field:NS.variants?.variant.outline.trigger},subtle:{field:NS.variants?.variant.subtle.trigger},plain:{field:{bg:"transparent",color:"fg",focusRingWidth:"2px"}}},size:{xs:{root:{"--select-field-height":"sizes.8"},field:{textStyle:"xs",ps:"2",pe:"6"},indicator:{textStyle:"sm",insetEnd:"1.5"}},sm:{root:{"--select-field-height":"sizes.9"},field:{textStyle:"sm",ps:"2.5",pe:"8"},indicator:{textStyle:"md",insetEnd:"2"}},md:{root:{"--select-field-height":"sizes.10"},field:{textStyle:"sm",ps:"3",pe:"8"},indicator:{textStyle:"lg",insetEnd:"2"}},lg:{root:{"--select-field-height":"sizes.11"},field:{textStyle:"md",ps:"4",pe:"8"},indicator:{textStyle:"xl",insetEnd:"3"}},xl:{root:{"--select-field-height":"sizes.12"},field:{textStyle:"md",ps:"4.5",pe:"10"},indicator:{textStyle:"xl",insetEnd:"3"}}}},defaultVariants:NS.defaultVariants});function OC(t,e){const n={};for(const i in t){const r=e(i,t[i]);n[r[0]]=r[1]}return n}const NN=Gm({display:"flex",justifyContent:"center",alignItems:"center",flex:"1",userSelect:"none",cursor:"button",lineHeight:"1",color:"fg.muted","--stepper-base-radius":"radii.l1","--stepper-radius":"calc(var(--stepper-base-radius) + 1px)",_icon:{boxSize:"1em"},_disabled:{opacity:"0.5"},_hover:{bg:"bg.muted"},_active:{bg:"bg.emphasized"}}),QY=Bt({className:"chakra-number-input",slots:_z.keys(),base:{root:{position:"relative",zIndex:"0",isolation:"isolate"},input:{...Xi.base,verticalAlign:"top",pe:"calc(var(--stepper-width) + 0.5rem)"},control:{display:"flex",flexDirection:"column",position:"absolute",top:"0",insetEnd:"0px",margin:"1px",width:"var(--stepper-width)",height:"calc(100% - 2px)",zIndex:"1",borderStartWidth:"1px",divideY:"1px"},incrementTrigger:{...NN,borderTopEndRadius:"var(--stepper-radius)"},decrementTrigger:{...NN,borderBottomEndRadius:"var(--stepper-radius)"},valueText:{fontWeight:"medium",fontFeatureSettings:"pnum",fontVariantNumeric:"proportional-nums"}},variants:{size:{xs:{input:Xi.variants.size.xs,control:{fontSize:"2xs","--stepper-width":"sizes.4"}},sm:{input:Xi.variants.size.sm,control:{fontSize:"xs","--stepper-width":"sizes.5"}},md:{input:Xi.variants.size.md,control:{fontSize:"sm","--stepper-width":"sizes.6"}},lg:{input:Xi.variants.size.lg,control:{fontSize:"sm","--stepper-width":"sizes.6"}}},variant:OC(Xi.variants.variant,(t,e)=>[t,{input:e}])},defaultVariants:{size:"md",variant:"outline"}}),{variants:DN,defaultVariants:JY}=Xi,eK=Bt({className:"chakra-pin-input",slots:Mz.keys(),base:{input:{...Xi.base,textAlign:"center",width:"var(--input-height)"},control:{display:"inline-flex",gap:"2",isolation:"isolate"}},variants:{size:OC(DN.size,(t,e)=>[t,{input:{...e,px:"1"}}]),variant:OC(DN.variant,(t,e)=>[t,{input:e}]),attached:{true:{control:{gap:"0",spaceX:"-1px"},input:{_notFirst:{borderStartRadius:"0"},_notLast:{borderEndRadius:"0"},_focusVisible:{zIndex:"1"}}}}},defaultVariants:JY}),tK=Bt({className:"chakra-popover",slots:lY.keys(),base:{content:{position:"relative",display:"flex",flexDirection:"column",textStyle:"sm","--popover-bg":"colors.bg.panel",bg:"var(--popover-bg)",boxShadow:"lg","--popover-size":"sizes.xs","--popover-mobile-size":"calc(100dvw - 1rem)",width:{base:"min(var(--popover-mobile-size), var(--popover-size))",sm:"var(--popover-size)"},borderRadius:"l3","--popover-z-index":"zIndex.popover",zIndex:"calc(var(--popover-z-index) + var(--layer-index, 0))",outline:"0",transformOrigin:"var(--transform-origin)",maxHeight:"var(--available-height)",_open:{animationStyle:"scale-fade-in",animationDuration:"fast"},_closed:{animationStyle:"scale-fade-out",animationDuration:"faster"}},header:{paddingInline:"var(--popover-padding)",paddingTop:"var(--popover-padding)"},body:{padding:"var(--popover-padding)",flex:"1"},footer:{display:"flex",alignItems:"center",paddingInline:"var(--popover-padding)",paddingBottom:"var(--popover-padding)"},arrow:{"--arrow-size":"sizes.3","--arrow-background":"var(--popover-bg)"},arrowTip:{borderTopWidth:"1px",borderInlineStartWidth:"1px"}},variants:{size:{xs:{content:{"--popover-padding":"spacing.3"}},sm:{content:{"--popover-padding":"spacing.4"}},md:{content:{"--popover-padding":"spacing.5"}},lg:{content:{"--popover-padding":"spacing.6"}}}},defaultVariants:{size:"md"}}),nK=Bt({slots:fA.keys(),className:"chakra-progress",base:{root:{textStyle:"sm",position:"relative"},track:{overflow:"hidden",position:"relative"},range:{display:"flex",alignItems:"center",justifyContent:"center",transitionProperty:"width, height",transitionDuration:"slow",height:"100%",bgColor:"var(--track-color)",_indeterminate:{"--animate-from-x":"-40%","--animate-to-x":"100%",position:"absolute",willChange:"left",minWidth:"50%",animation:"position 1s ease infinite normal none running",backgroundImage:"linear-gradient(to right, transparent 0%, var(--track-color) 50%, transparent 100%)"}},label:{display:"inline-flex",fontWeight:"medium",alignItems:"center",gap:"1"},valueText:{textStyle:"xs",lineHeight:"1",fontWeight:"medium"}},variants:{variant:{outline:{track:{shadow:"inset",bgColor:"bg.muted"},range:{bgColor:"colorPalette.solid"}},subtle:{track:{bgColor:"colorPalette.muted"},range:{bgColor:"colorPalette.solid/72"}}},shape:{square:{},rounded:{track:{borderRadius:"l1"}},full:{track:{borderRadius:"full"}}},striped:{true:{range:{backgroundImage:"linear-gradient(45deg, var(--stripe-color) 25%, transparent 25%, transparent 50%, var(--stripe-color) 50%, var(--stripe-color) 75%, transparent 75%, transparent)",backgroundSize:"var(--stripe-size) var(--stripe-size)","--stripe-size":"1rem","--stripe-color":{_light:"rgba(255, 255, 255, 0.3)",_dark:"rgba(0, 0, 0, 0.3)"}}}},animated:{true:{range:{"--animate-from":"var(--stripe-size)",animation:"bg-position 1s linear infinite"}}},size:{xs:{track:{h:"1.5"}},sm:{track:{h:"2"}},md:{track:{h:"2.5"}},lg:{track:{h:"3"}},xl:{track:{h:"4"}}}},defaultVariants:{variant:"outline",size:"md",shape:"rounded"}}),iK=Bt({className:"chakra-progress-circle",slots:fA.keys(),base:{root:{display:"inline-flex",textStyle:"sm",position:"relative"},circle:{_indeterminate:{animation:"spin 2s linear infinite"}},circleTrack:{"--track-color":"colors.colorPalette.muted",stroke:"var(--track-color)"},circleRange:{stroke:"colorPalette.solid",transitionProperty:"stroke-dashoffset, stroke-dasharray",transitionDuration:"0.6s",_indeterminate:{animation:"circular-progress 1.5s linear infinite"}},label:{display:"inline-flex"},valueText:{lineHeight:"1",fontWeight:"medium",letterSpacing:"tight",fontVariantNumeric:"tabular-nums"}},variants:{size:{xs:{circle:{"--size":"24px","--thickness":"4px"},valueText:{textStyle:"2xs"}},sm:{circle:{"--size":"32px","--thickness":"5px"},valueText:{textStyle:"2xs"}},md:{circle:{"--size":"40px","--thickness":"6px"},valueText:{textStyle:"xs"}},lg:{circle:{"--size":"48px","--thickness":"7px"},valueText:{textStyle:"sm"}},xl:{circle:{"--size":"64px","--thickness":"8px"},valueText:{textStyle:"sm"}}}},defaultVariants:{size:"md"}}),rK=Bt({slots:wz.keys(),className:"chakra-qr-code",base:{root:{position:"relative",width:"fit-content","--qr-code-overlay-size":"calc(var(--qr-code-size) / 3)"},frame:{width:"var(--qr-code-size)",height:"var(--qr-code-size)",fill:"currentColor"},overlay:{display:"flex",alignItems:"center",justifyContent:"center",width:"var(--qr-code-overlay-size)",height:"var(--qr-code-overlay-size)",padding:"1",bg:"bg",rounded:"l1"}},variants:{size:{"2xs":{root:{"--qr-code-size":"40px"}},xs:{root:{"--qr-code-size":"64px"}},sm:{root:{"--qr-code-size":"80px"}},md:{root:{"--qr-code-size":"120px"}},lg:{root:{"--qr-code-size":"160px"}},xl:{root:{"--qr-code-size":"200px"}},"2xl":{root:{"--qr-code-size":"240px"}},full:{root:{"--qr-code-size":"100%"}}}},defaultVariants:{size:"md"}}),sK=Bt({className:"chakra-radio-card",slots:cY.keys(),base:{root:{display:"flex",flexDirection:"column",gap:"1.5",isolation:"isolate"},item:{flex:"1",display:"flex",flexDirection:"column",userSelect:"none",position:"relative",borderRadius:"l2",_focus:{bg:"colorPalette.muted/20"},_disabled:{opacity:"0.8",borderColor:"border.disabled"},_checked:{zIndex:"1"}},label:{display:"inline-flex",fontWeight:"medium",textStyle:"sm",_disabled:{opacity:"0.5"}},itemText:{fontWeight:"medium",flex:"1"},itemDescription:{opacity:"0.64",textStyle:"sm"},itemControl:{display:"inline-flex",flex:"1",pos:"relative",rounded:"inherit",justifyContent:"var(--radio-card-justify)",alignItems:"var(--radio-card-align)",_disabled:{bg:"bg.muted"}},itemIndicator:zr.base,itemAddon:{roundedBottom:"inherit",_disabled:{color:"fg.muted"}},itemContent:{display:"flex",flexDirection:"column",flex:"1",gap:"1",justifyContent:"var(--radio-card-justify)",alignItems:"var(--radio-card-align)"}},variants:{size:{sm:{item:{textStyle:"sm"},itemControl:{padding:"3",gap:"1.5"},itemAddon:{px:"3",py:"1.5",borderTopWidth:"1px"},itemIndicator:zr.variants?.size.sm},md:{item:{textStyle:"sm"},itemControl:{padding:"4",gap:"2.5"},itemAddon:{px:"4",py:"2",borderTopWidth:"1px"},itemIndicator:zr.variants?.size.md},lg:{item:{textStyle:"md"},itemControl:{padding:"4",gap:"3.5"},itemAddon:{px:"4",py:"2",borderTopWidth:"1px"},itemIndicator:zr.variants?.size.lg}},variant:{surface:{item:{borderWidth:"1px",_checked:{bg:"colorPalette.subtle",color:"colorPalette.fg",borderColor:"colorPalette.muted"}},itemIndicator:zr.variants?.variant.solid},subtle:{item:{bg:"bg.muted"},itemControl:{_checked:{bg:"colorPalette.muted",color:"colorPalette.fg"}},itemIndicator:zr.variants?.variant.outline},outline:{item:{borderWidth:"1px",_checked:{boxShadow:"0 0 0 1px var(--shadow-color)",boxShadowColor:"colorPalette.solid",borderColor:"colorPalette.solid"}},itemIndicator:zr.variants?.variant.solid},solid:{item:{borderWidth:"1px",_checked:{bg:"colorPalette.solid",color:"colorPalette.contrast",borderColor:"colorPalette.solid"}},itemIndicator:zr.variants?.variant.inverted}},justify:{start:{item:{"--radio-card-justify":"flex-start"}},end:{item:{"--radio-card-justify":"flex-end"}},center:{item:{"--radio-card-justify":"center"}}},align:{start:{item:{"--radio-card-align":"flex-start"},itemControl:{textAlign:"start"}},end:{item:{"--radio-card-align":"flex-end"},itemControl:{textAlign:"end"}},center:{item:{"--radio-card-align":"center"},itemControl:{textAlign:"center"}}},orientation:{vertical:{itemControl:{flexDirection:"column"}},horizontal:{itemControl:{flexDirection:"row"}}}},defaultVariants:{size:"md",variant:"outline",align:"start",orientation:"horizontal"}}),aK=Bt({className:"chakra-radio-group",slots:wU.keys(),base:{item:{display:"inline-flex",alignItems:"center",position:"relative",fontWeight:"medium",_disabled:{cursor:"disabled"}},itemControl:zr.base,label:{userSelect:"none",textStyle:"sm",_disabled:{opacity:"0.5"}}},variants:{variant:{outline:{itemControl:zr.variants?.variant?.outline},subtle:{itemControl:zr.variants?.variant?.subtle},solid:{itemControl:zr.variants?.variant?.solid}},size:{xs:{item:{textStyle:"xs",gap:"1.5"},itemControl:zr.variants?.size?.xs},sm:{item:{textStyle:"sm",gap:"2"},itemControl:zr.variants?.size?.sm},md:{item:{textStyle:"sm",gap:"2.5"},itemControl:zr.variants?.size?.md},lg:{item:{textStyle:"md",gap:"3"},itemControl:zr.variants?.size?.lg}}},defaultVariants:{size:"md",variant:"solid"}}),oK=Bt({className:"chakra-rating-group",slots:uY.keys(),base:{root:{display:"inline-flex"},control:{display:"inline-flex",alignItems:"center"},item:{display:"inline-flex",alignItems:"center",justifyContent:"center",userSelect:"none"},itemIndicator:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:"1em",height:"1em",position:"relative","--clip-path":{base:"inset(0 50% 0 0)",_rtl:"inset(0 0 0 50%)"},_icon:{stroke:"currentColor",width:"100%",height:"100%",display:"inline-block",flexShrink:0,position:"absolute",left:0,top:0},"& [data-bg]":{color:"bg.emphasized"},"& [data-fg]":{color:"transparent"},"&[data-highlighted]:not([data-half])":{"& [data-fg]":{color:"colorPalette.solid"}},"&[data-half]":{"& [data-fg]":{color:"colorPalette.solid",clipPath:"var(--clip-path)"}}}},variants:{size:{xs:{item:{textStyle:"sm"}},sm:{item:{textStyle:"md"}},md:{item:{textStyle:"xl"}},lg:{item:{textStyle:"2xl"}}}},defaultVariants:{size:"md"}}),lK=Bt({className:"chakra-scroll-area",slots:Nz.keys(),base:{root:{display:"flex",flexDirection:"column",width:"100%",height:"100%",position:"relative",overflow:"hidden","--scrollbar-margin":"2px","--scrollbar-click-area":"calc(var(--scrollbar-size) + calc(var(--scrollbar-margin) * 2))"},viewport:{display:"flex",flexDirection:"column",height:"100%",width:"100%",borderRadius:"inherit",WebkitOverflowScrolling:"touch",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},content:{minWidth:"100%"},scrollbar:{display:"flex",userSelect:"none",touchAction:"none",borderRadius:"full",colorPalette:"gray",transition:"opacity 150ms 300ms",position:"relative",margin:"var(--scrollbar-margin)","&:not([data-overflow-x], [data-overflow-y])":{display:"none"},bg:"{colors.colorPalette.solid/10}","--thumb-bg":"{colors.colorPalette.solid/25}","&:is(:hover, :active)":{"--thumb-bg":"{colors.colorPalette.solid/50}"},_before:{content:'""',position:"absolute"},_vertical:{width:"var(--scrollbar-size)",flexDirection:"column","&::before":{width:"var(--scrollbar-click-area)",height:"100%",insetInlineStart:"calc(var(--scrollbar-margin) * -1)"}},_horizontal:{height:"var(--scrollbar-size)",flexDirection:"row","&::before":{height:"var(--scrollbar-click-area)",width:"100%",top:"calc(var(--scrollbar-margin) * -1)"}}},thumb:{borderRadius:"inherit",bg:"var(--thumb-bg)",transition:"backgrounds",_vertical:{width:"full"},_horizontal:{height:"full"}},corner:{bg:"bg.muted",margin:"var(--scrollbar-margin)",opacity:0,transition:"opacity 150ms 300ms","&[data-hover]":{transitionDelay:"0ms",opacity:1}}},variants:{variant:{hover:{scrollbar:{opacity:"0","&[data-hover], &[data-scrolling]":{opacity:"1",transitionDuration:"faster",transitionDelay:"0ms"}}},always:{scrollbar:{opacity:"1"}}},size:{xs:{root:{"--scrollbar-size":"sizes.1"}},sm:{root:{"--scrollbar-size":"sizes.1.5"}},md:{root:{"--scrollbar-size":"sizes.2"}},lg:{root:{"--scrollbar-size":"sizes.3"}}}},defaultVariants:{size:"md",variant:"hover"}}),cK=Bt({className:"chakra-segment-group",slots:Pz.keys(),base:{root:{"--segment-radius":"radii.l2",borderRadius:"l2",display:"inline-flex",boxShadow:"inset",minW:"max-content",textAlign:"center",position:"relative",isolation:"isolate",bg:"bg.muted",_vertical:{flexDirection:"column"}},item:{display:"flex",alignItems:"center",justifyContent:"center",userSelect:"none",fontSize:"sm",position:"relative",color:"fg",borderRadius:"var(--segment-radius)",_disabled:{opacity:"0.5"},"&:has(input:focus-visible)":{focusRing:"outside"},_before:{content:'""',position:"absolute",bg:"border",transition:"opacity 0.2s"},_horizontal:{_before:{insetInlineStart:0,insetBlock:"1.5",width:"1px"}},_vertical:{_before:{insetBlockStart:0,insetInline:"1.5",height:"1px"}},"& + &[data-state=checked], &[data-state=checked] + &, &:first-of-type":{_before:{opacity:"0"}},"&[data-state=checked][data-ssr]":{shadow:"sm",bg:"bg",borderRadius:"var(--segment-radius)"}},indicator:{shadow:"sm",pos:"absolute",bg:{_light:"bg",_dark:"bg.emphasized"},width:"var(--width)",height:"var(--height)",top:"var(--top)",left:"var(--left)",zIndex:-1,borderRadius:"var(--segment-radius)"}},variants:{size:{xs:{item:{textStyle:"xs",px:"3",gap:"1",height:"6"}},sm:{item:{textStyle:"sm",px:"4",gap:"2",height:"8"}},md:{item:{textStyle:"sm",px:"4",gap:"2",height:"10"}},lg:{item:{textStyle:"md",px:"4.5",gap:"3",height:"11"}}}},defaultVariants:{size:"md"}}),uK=Bt({className:"chakra-slider",slots:hY.keys(),base:{root:{display:"flex",flexDirection:"column",gap:"1",textStyle:"sm",position:"relative",isolation:"isolate",touchAction:"none"},label:{fontWeight:"medium",textStyle:"sm"},control:{display:"inline-flex",alignItems:"center",position:"relative"},track:{overflow:"hidden",borderRadius:"full",flex:"1"},range:{width:"inherit",height:"inherit",_disabled:{bg:"border.emphasized!"}},markerGroup:{position:"absolute!",zIndex:"1"},marker:{"--marker-bg":{base:"white",_underValue:"colors.bg"},display:"flex",alignItems:"center",gap:"calc(var(--slider-thumb-size) / 2)",color:"fg.muted",textStyle:"xs"},markerIndicator:{width:"var(--slider-marker-size)",height:"var(--slider-marker-size)",borderRadius:"full",bg:"var(--marker-bg)"},thumb:{width:"var(--slider-thumb-size)",height:"var(--slider-thumb-size)",display:"flex",alignItems:"center",justifyContent:"center",outline:0,zIndex:"2",borderRadius:"full",_focusVisible:{ring:"2px",ringColor:"colorPalette.focusRing",ringOffset:"2px",ringOffsetColor:"bg"}}},variants:{size:{sm:{root:{"--slider-thumb-size":"sizes.4","--slider-track-size":"sizes.1.5","--slider-marker-center":"6px","--slider-marker-size":"sizes.1","--slider-marker-inset":"3px"}},md:{root:{"--slider-thumb-size":"sizes.5","--slider-track-size":"sizes.2","--slider-marker-center":"8px","--slider-marker-size":"sizes.1","--slider-marker-inset":"4px"}},lg:{root:{"--slider-thumb-size":"sizes.6","--slider-track-size":"sizes.2.5","--slider-marker-center":"9px","--slider-marker-size":"sizes.1.5","--slider-marker-inset":"5px"}}},variant:{outline:{track:{shadow:"inset",bg:"bg.emphasized/72"},range:{bg:"colorPalette.solid"},thumb:{borderWidth:"2px",borderColor:"colorPalette.solid",bg:"bg",_disabled:{bg:"border.emphasized",borderColor:"border.emphasized"}}},solid:{track:{bg:"colorPalette.subtle",_disabled:{bg:"bg.muted"}},range:{bg:"colorPalette.solid"},thumb:{bg:"colorPalette.solid",_disabled:{bg:"border.emphasized"}}}},orientation:{vertical:{root:{display:"inline-flex"},control:{flexDirection:"column",height:"100%",minWidth:"var(--slider-thumb-size)","&[data-has-mark-label], &:has(.chakra-slider__marker-label)":{marginEnd:"4"}},track:{width:"var(--slider-track-size)"},thumb:{left:"50%",translate:"-50% 0"},markerGroup:{insetStart:"var(--slider-marker-center)",insetBlock:"var(--slider-marker-inset)"},marker:{flexDirection:"row"}},horizontal:{control:{flexDirection:"row",width:"100%",minHeight:"var(--slider-thumb-size)","&[data-has-mark-label], &:has(.chakra-slider__marker-label)":{marginBottom:"4"}},track:{height:"var(--slider-track-size)"},thumb:{top:"50%",translate:"0 -50%"},markerGroup:{top:"var(--slider-marker-center)",insetInline:"var(--slider-marker-inset)"},marker:{flexDirection:"column"}}}},defaultVariants:{size:"md",variant:"outline",orientation:"horizontal"}}),dK=Bt({className:"chakra-stat",slots:pY.keys(),base:{root:{display:"flex",flexDirection:"column",gap:"1",position:"relative",flex:"1"},label:{display:"inline-flex",gap:"1.5",alignItems:"center",color:"fg.muted",textStyle:"sm"},helpText:{color:"fg.muted",textStyle:"xs"},valueUnit:{color:"fg.muted",textStyle:"xs",fontWeight:"initial",letterSpacing:"initial"},valueText:{verticalAlign:"baseline",fontWeight:"semibold",letterSpacing:"tight",fontFeatureSettings:"pnum",fontVariantNumeric:"proportional-nums",display:"inline-flex",gap:"1"},indicator:{display:"inline-flex",alignItems:"center",justifyContent:"center",marginEnd:1,"& :where(svg)":{w:"1em",h:"1em"},"&[data-type=up]":{color:"fg.success"},"&[data-type=down]":{color:"fg.error"}}},variants:{size:{sm:{valueText:{textStyle:"xl"}},md:{valueText:{textStyle:"2xl"}},lg:{valueText:{textStyle:"3xl"}}}},defaultVariants:{size:"md"}}),fK=Bt({className:"chakra-status",slots:mY.keys(),base:{root:{display:"inline-flex",alignItems:"center",gap:"2"},indicator:{width:"0.64em",height:"0.64em",flexShrink:0,borderRadius:"full",forcedColorAdjust:"none",bg:"colorPalette.solid"}},variants:{size:{sm:{root:{textStyle:"xs"}},md:{root:{textStyle:"sm"}},lg:{root:{textStyle:"md"}}}},defaultVariants:{size:"md"}}),hK=Bt({className:"chakra-steps",slots:gY.keys(),base:{root:{display:"flex",width:"full"},list:{display:"flex",justifyContent:"space-between","--steps-gutter":"spacing.3","--steps-thickness":"2px"},title:{fontWeight:"medium",color:"fg"},description:{color:"fg.muted"},separator:{bg:"border",flex:"1"},indicator:{display:"flex",justifyContent:"center",alignItems:"center",flexShrink:"0",borderRadius:"full",fontWeight:"medium",width:"var(--steps-size)",height:"var(--steps-size)",_icon:{flexShrink:"0",width:"var(--steps-icon-size)",height:"var(--steps-icon-size)"}},item:{position:"relative",display:"flex",gap:"3",flex:"1 0 0","&:last-of-type":{flex:"initial","& [data-part=separator]":{display:"none"}}},trigger:{display:"flex",alignItems:"center",gap:"3",textAlign:"start",focusVisibleRing:"outside",borderRadius:"l2"},content:{focusVisibleRing:"outside"}},variants:{orientation:{vertical:{root:{flexDirection:"row",height:"100%"},list:{flexDirection:"column",alignItems:"flex-start"},separator:{position:"absolute",width:"var(--steps-thickness)",height:"100%",maxHeight:"calc(100% - var(--steps-size) - var(--steps-gutter) * 2)",top:"calc(var(--steps-size) + var(--steps-gutter))",insetStart:"calc(var(--steps-size) / 2 - 1px)"},item:{alignItems:"flex-start"}},horizontal:{root:{flexDirection:"column",width:"100%"},list:{flexDirection:"row",alignItems:"center"},separator:{width:"100%",height:"var(--steps-thickness)",marginX:"var(--steps-gutter)"},item:{alignItems:"center"}}},variant:{solid:{indicator:{_incomplete:{borderWidth:"var(--steps-thickness)"},_current:{bg:"colorPalette.muted",borderWidth:"var(--steps-thickness)",borderColor:"colorPalette.solid",color:"colorPalette.fg"},_complete:{bg:"colorPalette.solid",borderColor:"colorPalette.solid",color:"colorPalette.contrast"}},separator:{_complete:{bg:"colorPalette.solid"}}},subtle:{indicator:{_incomplete:{bg:"bg.muted"},_current:{bg:"colorPalette.muted",color:"colorPalette.fg"},_complete:{bg:"colorPalette.emphasized",color:"colorPalette.fg"}},separator:{_complete:{bg:"colorPalette.emphasized"}}}},size:{xs:{root:{gap:"2.5"},list:{"--steps-size":"sizes.6","--steps-icon-size":"sizes.3.5",textStyle:"xs"},title:{textStyle:"sm"}},sm:{root:{gap:"3"},list:{"--steps-size":"sizes.8","--steps-icon-size":"sizes.4",textStyle:"xs"},title:{textStyle:"sm"}},md:{root:{gap:"4"},list:{"--steps-size":"sizes.10","--steps-icon-size":"sizes.4",textStyle:"sm"},title:{textStyle:"sm"}},lg:{root:{gap:"6"},list:{"--steps-size":"sizes.11","--steps-icon-size":"sizes.5",textStyle:"md"},title:{textStyle:"md"}}}},defaultVariants:{size:"md",variant:"solid",orientation:"horizontal"}}),pK=Bt({slots:vY.keys(),className:"chakra-switch",base:{root:{display:"inline-flex",gap:"2.5",alignItems:"center",position:"relative",verticalAlign:"middle","--switch-diff":"calc(var(--switch-width) - var(--switch-height))","--switch-x":{base:"var(--switch-diff)",_rtl:"calc(var(--switch-diff) * -1)"}},label:{lineHeight:"1",userSelect:"none",fontSize:"sm",fontWeight:"medium",_disabled:{opacity:"0.5"}},indicator:{position:"absolute",height:"var(--switch-height)",width:"var(--switch-height)",fontSize:"var(--switch-indicator-font-size)",fontWeight:"medium",flexShrink:0,userSelect:"none",display:"grid",placeContent:"center",transition:"inset-inline-start 0.12s ease",insetInlineStart:"calc(var(--switch-x) - 2px)",_checked:{insetInlineStart:"2px"}},control:{display:"inline-flex",gap:"0.5rem",flexShrink:0,justifyContent:"flex-start",cursor:"switch",borderRadius:"full",position:"relative",width:"var(--switch-width)",height:"var(--switch-height)",transition:"backgrounds",_disabled:{opacity:"0.5",cursor:"not-allowed"},_invalid:{outline:"2px solid",outlineColor:"border.error",outlineOffset:"2px"}},thumb:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,transitionProperty:"translate",transitionDuration:"fast",borderRadius:"inherit",_checked:{translate:"var(--switch-x) 0"}}},variants:{variant:{solid:{control:{borderRadius:"full",bg:"bg.emphasized",focusVisibleRing:"outside",_checked:{bg:"colorPalette.solid"}},thumb:{bg:"white",width:"var(--switch-height)",height:"var(--switch-height)",scale:"0.8",boxShadow:"sm",_checked:{bg:"colorPalette.contrast"}}},raised:{control:{borderRadius:"full",height:"calc(var(--switch-height) / 2)",bg:"bg.muted",boxShadow:"inset",_checked:{bg:"colorPalette.solid/60"}},thumb:{width:"var(--switch-height)",height:"var(--switch-height)",position:"relative",top:"calc(var(--switch-height) * -0.25)",bg:"white",boxShadow:"xs",focusVisibleRing:"outside",_checked:{bg:"colorPalette.solid"}}}},size:{xs:{root:{"--switch-width":"sizes.6","--switch-height":"sizes.3","--switch-indicator-font-size":"fontSizes.xs"}},sm:{root:{"--switch-width":"sizes.8","--switch-height":"sizes.4","--switch-indicator-font-size":"fontSizes.xs"}},md:{root:{"--switch-width":"sizes.10","--switch-height":"sizes.5","--switch-indicator-font-size":"fontSizes.sm"}},lg:{root:{"--switch-width":"sizes.12","--switch-height":"sizes.6","--switch-indicator-font-size":"fontSizes.md"}}}},defaultVariants:{variant:"solid",size:"md"}}),mK=Bt({className:"chakra-table",slots:yY.keys(),base:{root:{fontVariantNumeric:"lining-nums tabular-nums",borderCollapse:"collapse",width:"full",textAlign:"start",verticalAlign:"top"},row:{_selected:{bg:"colorPalette.subtle"}},cell:{textAlign:"start",alignItems:"center"},columnHeader:{fontWeight:"medium",textAlign:"start",color:"fg"},caption:{fontWeight:"medium",textStyle:"xs"},footer:{fontWeight:"medium"}},variants:{interactive:{true:{body:{"& tr":{_hover:{bg:"colorPalette.subtle"}}}}},stickyHeader:{true:{header:{"& :where(tr)":{top:"var(--table-sticky-offset, 0)",position:"sticky",zIndex:1}}}},striped:{true:{row:{"&:nth-of-type(odd) td":{bg:"bg.muted"}}}},showColumnBorder:{true:{columnHeader:{"&:not(:last-of-type)":{borderInlineEndWidth:"1px"}},cell:{"&:not(:last-of-type)":{borderInlineEndWidth:"1px"}}}},variant:{line:{columnHeader:{borderBottomWidth:"1px"},cell:{borderBottomWidth:"1px"},row:{bg:"bg"}},outline:{root:{boxShadow:"0 0 0 1px {colors.border}",overflow:"hidden"},columnHeader:{borderBottomWidth:"1px"},header:{bg:"bg.muted"},row:{"&:not(:last-of-type)":{borderBottomWidth:"1px"}},footer:{borderTopWidth:"1px"}}},size:{sm:{root:{textStyle:"sm"},columnHeader:{px:"2",py:"2"},cell:{px:"2",py:"2"}},md:{root:{textStyle:"sm"},columnHeader:{px:"3",py:"3"},cell:{px:"3",py:"3"}},lg:{root:{textStyle:"md"},columnHeader:{px:"4",py:"3"},cell:{px:"4",py:"3"}}}},defaultVariants:{variant:"line",size:"md"}}),gK=Bt({slots:bY.keys(),className:"chakra-tabs",base:{root:{"--tabs-trigger-radius":"radii.l2",position:"relative",_horizontal:{display:"block"},_vertical:{display:"flex"}},list:{display:"inline-flex",position:"relative",isolation:"isolate","--tabs-indicator-shadow":"shadows.xs","--tabs-indicator-bg":"colors.bg",minH:"var(--tabs-height)",_horizontal:{flexDirection:"row"},_vertical:{flexDirection:"column"}},trigger:{outline:"0",minW:"var(--tabs-height)",height:"var(--tabs-height)",display:"flex",alignItems:"center",fontWeight:"medium",position:"relative",cursor:"button",gap:"2",_focusVisible:{zIndex:1,outline:"2px solid",outlineColor:"colorPalette.focusRing"},_disabled:{cursor:"not-allowed",opacity:.5}},content:{focusVisibleRing:"inside",_horizontal:{width:"100%",pt:"var(--tabs-content-padding)"},_vertical:{height:"100%",ps:"var(--tabs-content-padding)"}},indicator:{width:"var(--width)",height:"var(--height)",borderRadius:"var(--tabs-indicator-radius)",bg:"var(--tabs-indicator-bg)",shadow:"var(--tabs-indicator-shadow)",zIndex:-1}},variants:{fitted:{true:{list:{display:"flex"},trigger:{flex:1,textAlign:"center",justifyContent:"center"}}},justify:{start:{list:{justifyContent:"flex-start"}},center:{list:{justifyContent:"center"}},end:{list:{justifyContent:"flex-end"}}},size:{sm:{root:{"--tabs-height":"sizes.9","--tabs-content-padding":"spacing.3"},trigger:{py:"1",px:"3",textStyle:"sm"}},md:{root:{"--tabs-height":"sizes.10","--tabs-content-padding":"spacing.4"},trigger:{py:"2",px:"4",textStyle:"sm"}},lg:{root:{"--tabs-height":"sizes.11","--tabs-content-padding":"spacing.4.5"},trigger:{py:"2",px:"4.5",textStyle:"md"}}},variant:{line:{list:{display:"flex",borderColor:"border",_horizontal:{borderBottomWidth:"1px"},_vertical:{borderEndWidth:"1px"}},trigger:{color:"fg.muted",_disabled:{_active:{bg:"initial"}},_selected:{color:"fg",_horizontal:{layerStyle:"indicator.bottom","--indicator-offset-y":"-1px","--indicator-color":"colors.colorPalette.solid"},_vertical:{layerStyle:"indicator.end","--indicator-offset-x":"-1px"}}}},subtle:{trigger:{borderRadius:"var(--tabs-trigger-radius)",color:"fg.muted",_selected:{bg:"colorPalette.subtle",color:"colorPalette.fg"}}},enclosed:{list:{bg:"bg.muted",padding:"1",borderRadius:"l3",minH:"calc(var(--tabs-height) - 4px)"},trigger:{justifyContent:"center",color:"fg.muted",borderRadius:"var(--tabs-trigger-radius)",_selected:{bg:"bg",color:"colorPalette.fg",shadow:"xs"}}},outline:{list:{"--line-thickness":"1px","--line-offset":"calc(var(--line-thickness) * -1)",borderColor:"border",display:"flex",_horizontal:{_before:{content:'""',position:"absolute",bottom:"0px",width:"100%",borderBottomWidth:"var(--line-thickness)",borderBottomColor:"border"}},_vertical:{_before:{content:'""',position:"absolute",insetInline:"var(--line-offset)",height:"calc(100% - calc(var(--line-thickness) * 2))",borderEndWidth:"var(--line-thickness)",borderEndColor:"border"}}},trigger:{color:"fg.muted",borderWidth:"1px",borderColor:"transparent",_selected:{bg:"currentBg",color:"colorPalette.fg"},_horizontal:{borderTopRadius:"var(--tabs-trigger-radius)",marginBottom:"var(--line-offset)",marginEnd:{_notLast:"var(--line-offset)"},_selected:{borderColor:"border",borderBottomColor:"transparent"}},_vertical:{borderStartRadius:"var(--tabs-trigger-radius)",marginEnd:"var(--line-offset)",marginBottom:{_notLast:"var(--line-offset)"},_selected:{borderColor:"border",borderEndColor:"transparent"}}}},plain:{trigger:{color:"fg.muted",_selected:{color:"colorPalette.fg"},borderRadius:"var(--tabs-trigger-radius)","&[data-selected][data-ssr]":{bg:"var(--tabs-indicator-bg)",shadow:"var(--tabs-indicator-shadow)",borderRadius:"var(--tabs-indicator-radius)"}}}}},defaultVariants:{size:"md",variant:"line"}}),xb=gA.variants?.variant,vK=Bt({slots:SY.keys(),className:"chakra-tag",base:{root:{display:"inline-flex",alignItems:"center",verticalAlign:"top",maxWidth:"100%",userSelect:"none",borderRadius:"l2",focusVisibleRing:"outside"},label:{lineClamp:"1"},closeTrigger:{display:"flex",alignItems:"center",justifyContent:"center",outline:"0",borderRadius:"l1",color:"currentColor",focusVisibleRing:"inside",focusRingWidth:"2px"},startElement:{flexShrink:0,boxSize:"var(--tag-element-size)",ms:"var(--tag-element-offset)","&:has([data-scope=avatar])":{boxSize:"var(--tag-avatar-size)",ms:"calc(var(--tag-element-offset) * 1.5)"},_icon:{boxSize:"100%"}},endElement:{flexShrink:0,boxSize:"var(--tag-element-size)",me:"var(--tag-element-offset)",_icon:{boxSize:"100%"},"&:has(button)":{ms:"calc(var(--tag-element-offset) * -1)"}}},variants:{size:{sm:{root:{px:"1.5",minH:"4.5",gap:"1","--tag-avatar-size":"spacing.3","--tag-element-size":"spacing.3","--tag-element-offset":"-2px"},label:{textStyle:"xs"}},md:{root:{px:"1.5",minH:"5",gap:"1","--tag-avatar-size":"spacing.3.5","--tag-element-size":"spacing.3.5","--tag-element-offset":"-2px"},label:{textStyle:"xs"}},lg:{root:{px:"2",minH:"6",gap:"1.5","--tag-avatar-size":"spacing.4.5","--tag-element-size":"spacing.4","--tag-element-offset":"-3px"},label:{textStyle:"sm"}},xl:{root:{px:"2.5",minH:"8",gap:"1.5","--tag-avatar-size":"spacing.6","--tag-element-size":"spacing.4.5","--tag-element-offset":"-4px"},label:{textStyle:"sm"}}},variant:{subtle:{root:xb?.subtle},solid:{root:xb?.solid},outline:{root:xb?.outline},surface:{root:xb?.surface}}},defaultVariants:{size:"md",variant:"surface"}}),yK=Bt({slots:_Y.keys(),className:"chakra-timeline",base:{root:{display:"flex",flexDirection:"column",width:"full","--timeline-thickness":"1px","--timeline-gutter":"4px"},item:{display:"flex",position:"relative",alignItems:"flex-start",flexShrink:0,gap:"4",_last:{"& :where(.chakra-timeline__separator)":{display:"none"}}},separator:{position:"absolute",borderStartWidth:"var(--timeline-thickness)",ms:"calc(-1 * var(--timeline-thickness) / 2)",insetInlineStart:"calc(var(--timeline-indicator-size) / 2)",insetBlock:"0",borderColor:"border"},indicator:{outline:"2px solid {colors.bg}",position:"relative",flexShrink:"0",boxSize:"var(--timeline-indicator-size)",fontSize:"var(--timeline-font-size)",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"full",fontWeight:"medium"},connector:{alignSelf:"stretch",position:"relative"},content:{pb:"6",display:"flex",flexDirection:"column",width:"full",gap:"2"},title:{display:"flex",fontWeight:"medium",flexWrap:"wrap",gap:"1.5",alignItems:"center",mt:"var(--timeline-margin)"},description:{color:"fg.muted",textStyle:"xs"}},variants:{variant:{subtle:{indicator:{bg:"colorPalette.muted"}},solid:{indicator:{bg:"colorPalette.solid",color:"colorPalette.contrast"}},outline:{indicator:{bg:"currentBg",borderWidth:"1px",borderColor:"colorPalette.muted"}},plain:{}},size:{sm:{root:{"--timeline-indicator-size":"sizes.4","--timeline-font-size":"fontSizes.2xs"},title:{textStyle:"xs"}},md:{root:{"--timeline-indicator-size":"sizes.5","--timeline-font-size":"fontSizes.xs"},title:{textStyle:"sm"}},lg:{root:{"--timeline-indicator-size":"sizes.6","--timeline-font-size":"fontSizes.xs"},title:{mt:"0.5",textStyle:"sm"}},xl:{root:{"--timeline-indicator-size":"sizes.8","--timeline-font-size":"fontSizes.sm"},title:{mt:"1.5",textStyle:"sm"}}}},defaultVariants:{size:"md",variant:"solid"}}),xK=Bt({slots:xY.keys(),className:"chakra-toast",base:{root:{width:"full",display:"flex",alignItems:"flex-start",position:"relative",gap:"3",py:"4",ps:"4",pe:"6",borderRadius:"l2",translate:"var(--x) var(--y)",scale:"var(--scale)",zIndex:"var(--z-index)",height:"var(--height)",opacity:"var(--opacity)",willChange:"translate, opacity, scale",transition:"translate 400ms, scale 400ms, opacity 400ms, height 400ms, box-shadow 200ms",transitionTimingFunction:"cubic-bezier(0.21, 1.02, 0.73, 1)",_closed:{transition:"translate 400ms, scale 400ms, opacity 200ms",transitionTimingFunction:"cubic-bezier(0.06, 0.71, 0.55, 1)"},bg:"bg.panel",color:"fg",boxShadow:"xl","--toast-trigger-bg":"colors.bg.muted","&[data-type=warning]":{bg:"orange.solid",color:"orange.contrast","--toast-trigger-bg":"{white/10}","--toast-border-color":"{white/40}"},"&[data-type=success]":{bg:"green.solid",color:"green.contrast","--toast-trigger-bg":"{white/10}","--toast-border-color":"{white/40}"},"&[data-type=error]":{bg:"red.solid",color:"red.contrast","--toast-trigger-bg":"{white/10}","--toast-border-color":"{white/40}"}},title:{fontWeight:"medium",textStyle:"sm",marginEnd:"2"},description:{display:"inline",textStyle:"sm",opacity:"0.8"},indicator:{flexShrink:"0",boxSize:"5"},actionTrigger:{textStyle:"sm",fontWeight:"medium",height:"8",px:"3",borderRadius:"l2",alignSelf:"center",borderWidth:"1px",borderColor:"var(--toast-border-color, inherit)",transition:"background 200ms",_hover:{bg:"var(--toast-trigger-bg)"}},closeTrigger:{position:"absolute",top:"1",insetEnd:"1",padding:"1",display:"inline-flex",alignItems:"center",justifyContent:"center",color:"{currentColor/60}",borderRadius:"l2",textStyle:"md",transition:"background 200ms",_icon:{boxSize:"1em"}}}}),bK=Bt({slots:$z.keys(),className:"chakra-tooltip",base:{content:{"--tooltip-bg":"colors.bg.inverted",bg:"var(--tooltip-bg)",color:"fg.inverted",px:"2.5",py:"1",borderRadius:"l2",fontWeight:"medium",textStyle:"xs",boxShadow:"md",maxW:"xs",zIndex:"tooltip",transformOrigin:"var(--transform-origin)",_open:{animationStyle:"scale-fade-in",animationDuration:"fast"},_closed:{animationStyle:"scale-fade-out",animationDuration:"fast"}},arrow:{"--arrow-size":"sizes.2","--arrow-background":"var(--tooltip-bg)"},arrowTip:{borderTopWidth:"1px",borderInlineStartWidth:"1px",borderColor:"var(--tooltip-bg)"}}}),PN=Gm({display:"flex",alignItems:"center",gap:"var(--tree-item-gap)",rounded:"l2",userSelect:"none",position:"relative","--tree-depth":"calc(var(--depth) - 1)","--tree-indentation-offset":"calc(var(--tree-indentation) * var(--tree-depth))","--tree-icon-offset":"calc(var(--tree-icon-size) * var(--tree-depth) * 0.5)","--tree-offset":"calc(var(--tree-padding-inline) + var(--tree-indentation-offset) + var(--tree-icon-offset))",ps:"var(--tree-offset)",pe:"var(--tree-padding-inline)",py:"var(--tree-padding-block)",focusVisibleRing:"inside",focusRingColor:"border.emphasized",focusRingWidth:"2px","&:hover, &:focus-visible":{bg:"bg.muted"},_disabled:{layerStyle:"disabled"}}),IN=Gm({flex:"1"}),LN=Gm({_selected:{bg:"colorPalette.subtle",color:"colorPalette.fg"}}),zN=Gm({_selected:{layerStyle:"fill.solid"}}),SK=Bt({slots:pz.keys(),className:"chakra-tree-view",base:{root:{width:"full",display:"flex",flexDirection:"column",gap:"2"},tree:{display:"flex",flexDirection:"column","--tree-item-gap":"spacing.2",_icon:{boxSize:"var(--tree-icon-size)"}},label:{fontWeight:"medium",textStyle:"sm"},branch:{position:"relative"},branchContent:{position:"relative"},branchIndentGuide:{height:"100%",width:"1px",bg:"border",position:"absolute","--tree-depth":"calc(var(--depth) - 1)","--tree-indentation-offset":"calc(var(--tree-indentation) * var(--tree-depth))","--tree-offset":"calc(var(--tree-padding-inline) + var(--tree-indentation-offset))","--tree-icon-offset":"calc(var(--tree-icon-size) * 0.5 * var(--depth))",insetInlineStart:"calc(var(--tree-offset) + var(--tree-icon-offset))",zIndex:"1"},branchIndicator:{color:"fg.muted",transformOrigin:"center",transitionDuration:"normal",transitionProperty:"transform",transitionTimingFunction:"default",_open:{transform:"rotate(90deg)"}},branchTrigger:{display:"inline-flex",alignItems:"center",justifyContent:"center"},branchControl:PN,item:PN,itemText:IN,branchText:IN,nodeCheckbox:{display:"inline-flex"}},variants:{size:{md:{tree:{textStyle:"sm","--tree-indentation":"spacing.4","--tree-padding-inline":"spacing.3","--tree-padding-block":"spacing.1.5","--tree-icon-size":"spacing.4"}},sm:{tree:{textStyle:"sm","--tree-indentation":"spacing.4","--tree-padding-inline":"spacing.3","--tree-padding-block":"spacing.1","--tree-icon-size":"spacing.3"}},xs:{tree:{textStyle:"xs","--tree-indentation":"spacing.4","--tree-padding-inline":"spacing.2","--tree-padding-block":"spacing.1","--tree-icon-size":"spacing.3"}}},variant:{subtle:{branchControl:LN,item:LN},solid:{branchControl:zN,item:zN}},animateContent:{true:{branchContent:{_open:{animationName:"expand-height, fade-in",animationDuration:"moderate"},_closed:{animationName:"collapse-height, fade-out",animationDuration:"moderate"}}}}},defaultVariants:{size:"md",variant:"subtle"}}),_K={accordion:CY,actionBar:wY,alert:AY,avatar:RY,blockquote:OY,breadcrumb:NY,card:DY,checkbox:PY,checkboxCard:IY,codeBlock:LY,collapsible:zY,dataList:kY,dialog:BY,drawer:FY,editable:HY,emptyState:GY,field:WY,fieldset:jY,fileUpload:XY,hoverCard:qY,list:YY,listbox:KY,menu:$Y,nativeSelect:ZY,numberInput:QY,pinInput:eK,popover:tK,progress:nK,progressCircle:iK,radioCard:sK,radioGroup:aK,ratingGroup:oK,scrollArea:lK,segmentGroup:cK,select:NS,combobox:VY,slider:uK,stat:dK,steps:hK,switch:pK,table:mK,tabs:gK,tag:vK,toast:xK,tooltip:bK,status:fK,timeline:yK,colorPicker:UY,qrCode:rK,treeView:SK},EK=Zj({"2xs":{value:{fontSize:"2xs",lineHeight:"0.75rem"}},xs:{value:{fontSize:"xs",lineHeight:"1rem"}},sm:{value:{fontSize:"sm",lineHeight:"1.25rem"}},md:{value:{fontSize:"md",lineHeight:"1.5rem"}},lg:{value:{fontSize:"lg",lineHeight:"1.75rem"}},xl:{value:{fontSize:"xl",lineHeight:"1.875rem"}},"2xl":{value:{fontSize:"2xl",lineHeight:"2rem"}},"3xl":{value:{fontSize:"3xl",lineHeight:"2.375rem"}},"4xl":{value:{fontSize:"4xl",lineHeight:"2.75rem",letterSpacing:"-0.025em"}},"5xl":{value:{fontSize:"5xl",lineHeight:"3.75rem",letterSpacing:"-0.025em"}},"6xl":{value:{fontSize:"6xl",lineHeight:"4.5rem",letterSpacing:"-0.025em"}},"7xl":{value:{fontSize:"7xl",lineHeight:"5.75rem",letterSpacing:"-0.025em"}},none:{value:{}},label:{value:{fontSize:"sm",lineHeight:"1.25rem",fontWeight:"medium"}}}),TK=$i.animations({spin:{value:"spin 1s linear infinite"},ping:{value:"ping 1s cubic-bezier(0, 0, 0.2, 1) infinite"},pulse:{value:"pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite"},bounce:{value:"bounce 1s infinite"}}),MK=$i.aspectRatios({square:{value:"1 / 1"},landscape:{value:"4 / 3"},portrait:{value:"3 / 4"},wide:{value:"16 / 9"},ultrawide:{value:"18 / 5"},golden:{value:"1.618 / 1"}}),CK=$i.blurs({none:{value:" "},sm:{value:"4px"},md:{value:"8px"},lg:{value:"12px"},xl:{value:"16px"},"2xl":{value:"24px"},"3xl":{value:"40px"},"4xl":{value:"64px"}}),wK=$i.borders({xs:{value:"0.5px solid"},sm:{value:"1px solid"},md:{value:"2px solid"},lg:{value:"4px solid"},xl:{value:"8px solid"}}),AK=$i.colors({transparent:{value:"transparent"},current:{value:"currentColor"},black:{value:"#09090B"},white:{value:"#FFFFFF"},whiteAlpha:{50:{value:"rgba(255, 255, 255, 0.04)"},100:{value:"rgba(255, 255, 255, 0.06)"},200:{value:"rgba(255, 255, 255, 0.08)"},300:{value:"rgba(255, 255, 255, 0.16)"},400:{value:"rgba(255, 255, 255, 0.24)"},500:{value:"rgba(255, 255, 255, 0.36)"},600:{value:"rgba(255, 255, 255, 0.48)"},700:{value:"rgba(255, 255, 255, 0.64)"},800:{value:"rgba(255, 255, 255, 0.80)"},900:{value:"rgba(255, 255, 255, 0.92)"},950:{value:"rgba(255, 255, 255, 0.95)"}},blackAlpha:{50:{value:"rgba(0, 0, 0, 0.04)"},100:{value:"rgba(0, 0, 0, 0.06)"},200:{value:"rgba(0, 0, 0, 0.08)"},300:{value:"rgba(0, 0, 0, 0.16)"},400:{value:"rgba(0, 0, 0, 0.24)"},500:{value:"rgba(0, 0, 0, 0.36)"},600:{value:"rgba(0, 0, 0, 0.48)"},700:{value:"rgba(0, 0, 0, 0.64)"},800:{value:"rgba(0, 0, 0, 0.80)"},900:{value:"rgba(0, 0, 0, 0.92)"},950:{value:"rgba(0, 0, 0, 0.95)"}},gray:{50:{value:"#fafafa"},100:{value:"#f4f4f5"},200:{value:"#e4e4e7"},300:{value:"#d4d4d8"},400:{value:"#a1a1aa"},500:{value:"#71717a"},600:{value:"#52525b"},700:{value:"#3f3f46"},800:{value:"#27272a"},900:{value:"#18181b"},950:{value:"#111111"}},red:{50:{value:"#fef2f2"},100:{value:"#fee2e2"},200:{value:"#fecaca"},300:{value:"#fca5a5"},400:{value:"#f87171"},500:{value:"#ef4444"},600:{value:"#dc2626"},700:{value:"#991919"},800:{value:"#511111"},900:{value:"#300c0c"},950:{value:"#1f0808"}},orange:{50:{value:"#fff7ed"},100:{value:"#ffedd5"},200:{value:"#fed7aa"},300:{value:"#fdba74"},400:{value:"#fb923c"},500:{value:"#f97316"},600:{value:"#ea580c"},700:{value:"#92310a"},800:{value:"#6c2710"},900:{value:"#3b1106"},950:{value:"#220a04"}},yellow:{50:{value:"#fefce8"},100:{value:"#fef9c3"},200:{value:"#fef08a"},300:{value:"#fde047"},400:{value:"#facc15"},500:{value:"#eab308"},600:{value:"#ca8a04"},700:{value:"#845209"},800:{value:"#713f12"},900:{value:"#422006"},950:{value:"#281304"}},green:{50:{value:"#f0fdf4"},100:{value:"#dcfce7"},200:{value:"#bbf7d0"},300:{value:"#86efac"},400:{value:"#4ade80"},500:{value:"#22c55e"},600:{value:"#16a34a"},700:{value:"#116932"},800:{value:"#124a28"},900:{value:"#042713"},950:{value:"#03190c"}},teal:{50:{value:"#f0fdfa"},100:{value:"#ccfbf1"},200:{value:"#99f6e4"},300:{value:"#5eead4"},400:{value:"#2dd4bf"},500:{value:"#14b8a6"},600:{value:"#0d9488"},700:{value:"#0c5d56"},800:{value:"#114240"},900:{value:"#032726"},950:{value:"#021716"}},blue:{50:{value:"#eff6ff"},100:{value:"#dbeafe"},200:{value:"#bfdbfe"},300:{value:"#a3cfff"},400:{value:"#60a5fa"},500:{value:"#3b82f6"},600:{value:"#2563eb"},700:{value:"#173da6"},800:{value:"#1a3478"},900:{value:"#14204a"},950:{value:"#0c142e"}},cyan:{50:{value:"#ecfeff"},100:{value:"#cffafe"},200:{value:"#a5f3fc"},300:{value:"#67e8f9"},400:{value:"#22d3ee"},500:{value:"#06b6d4"},600:{value:"#0891b2"},700:{value:"#0c5c72"},800:{value:"#134152"},900:{value:"#072a38"},950:{value:"#051b24"}},purple:{50:{value:"#faf5ff"},100:{value:"#f3e8ff"},200:{value:"#e9d5ff"},300:{value:"#d8b4fe"},400:{value:"#c084fc"},500:{value:"#a855f7"},600:{value:"#9333ea"},700:{value:"#641ba3"},800:{value:"#4a1772"},900:{value:"#2f0553"},950:{value:"#1a032e"}},pink:{50:{value:"#fdf2f8"},100:{value:"#fce7f3"},200:{value:"#fbcfe8"},300:{value:"#f9a8d4"},400:{value:"#f472b6"},500:{value:"#ec4899"},600:{value:"#db2777"},700:{value:"#a41752"},800:{value:"#6d0e34"},900:{value:"#45061f"},950:{value:"#2c0514"}}}),RK=$i.cursor({button:{value:"pointer"},checkbox:{value:"default"},disabled:{value:"not-allowed"},menuitem:{value:"default"},option:{value:"default"},radio:{value:"default"},slider:{value:"default"},switch:{value:"pointer"}}),OK=$i.durations({fastest:{value:"50ms"},faster:{value:"100ms"},fast:{value:"150ms"},moderate:{value:"200ms"},slow:{value:"300ms"},slower:{value:"400ms"},slowest:{value:"500ms"}}),NK=$i.easings({"ease-in":{value:"cubic-bezier(0.42, 0, 1, 1)"},"ease-out":{value:"cubic-bezier(0, 0, 0.58, 1)"},"ease-in-out":{value:"cubic-bezier(0.42, 0, 0.58, 1)"},"ease-in-smooth":{value:"cubic-bezier(0.32, 0.72, 0, 1)"}}),DK=$i.fontSizes({"2xs":{value:"0.625rem"},xs:{value:"0.75rem"},sm:{value:"0.875rem"},md:{value:"1rem"},lg:{value:"1.125rem"},xl:{value:"1.25rem"},"2xl":{value:"1.5rem"},"3xl":{value:"1.875rem"},"4xl":{value:"2.25rem"},"5xl":{value:"3rem"},"6xl":{value:"3.75rem"},"7xl":{value:"4.5rem"},"8xl":{value:"6rem"},"9xl":{value:"8rem"}}),PK=$i.fontWeights({thin:{value:"100"},extralight:{value:"200"},light:{value:"300"},normal:{value:"400"},medium:{value:"500"},semibold:{value:"600"},bold:{value:"700"},extrabold:{value:"800"},black:{value:"900"}}),UN='-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',IK=$i.fonts({heading:{value:`Inter, ${UN}`},body:{value:`Inter, ${UN}`},mono:{value:'SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace'}}),LK=Kj({spin:{"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}},pulse:{"50%":{opacity:"0.5"}},ping:{"75%, 100%":{transform:"scale(2)",opacity:"0"}},bounce:{"0%, 100%":{transform:"translateY(-25%)",animationTimingFunction:"cubic-bezier(0.8,0,1,1)"},"50%":{transform:"none",animationTimingFunction:"cubic-bezier(0,0,0.2,1)"}},"bg-position":{from:{backgroundPosition:"var(--animate-from, 1rem) 0"},to:{backgroundPosition:"var(--animate-to, 0) 0"}},position:{from:{insetInlineStart:"var(--animate-from-x)",insetBlockStart:"var(--animate-from-y)"},to:{insetInlineStart:"var(--animate-to-x)",insetBlockStart:"var(--animate-to-y)"}},"circular-progress":{"0%":{strokeDasharray:"1, 400",strokeDashoffset:"0"},"50%":{strokeDasharray:"400, 400",strokeDashoffset:"-100%"},"100%":{strokeDasharray:"400, 400",strokeDashoffset:"-260%"}},"expand-height":{from:{height:"0"},to:{height:"var(--height)"}},"collapse-height":{from:{height:"var(--height)"},to:{height:"0"}},"expand-width":{from:{width:"0"},to:{width:"var(--width)"}},"collapse-width":{from:{height:"var(--width)"},to:{height:"0"}},"fade-in":{from:{opacity:0},to:{opacity:1}},"fade-out":{from:{opacity:1},to:{opacity:0}},"slide-from-left-full":{from:{translate:"-100% 0"},to:{translate:"0 0"}},"slide-from-right-full":{from:{translate:"100% 0"},to:{translate:"0 0"}},"slide-from-top-full":{from:{translate:"0 -100%"},to:{translate:"0 0"}},"slide-from-bottom-full":{from:{translate:"0 100%"},to:{translate:"0 0"}},"slide-to-left-full":{from:{translate:"0 0"},to:{translate:"-100% 0"}},"slide-to-right-full":{from:{translate:"0 0"},to:{translate:"100% 0"}},"slide-to-top-full":{from:{translate:"0 0"},to:{translate:"0 -100%"}},"slide-to-bottom-full":{from:{translate:"0 0"},to:{translate:"0 100%"}},"slide-from-top":{"0%":{translate:"0 -0.5rem"},to:{translate:"0"}},"slide-from-bottom":{"0%":{translate:"0 0.5rem"},to:{translate:"0"}},"slide-from-left":{"0%":{translate:"-0.5rem 0"},to:{translate:"0"}},"slide-from-right":{"0%":{translate:"0.5rem 0"},to:{translate:"0"}},"slide-to-top":{"0%":{translate:"0"},to:{translate:"0 -0.5rem"}},"slide-to-bottom":{"0%":{translate:"0"},to:{translate:"0 0.5rem"}},"slide-to-left":{"0%":{translate:"0"},to:{translate:"-0.5rem 0"}},"slide-to-right":{"0%":{translate:"0"},to:{translate:"0.5rem 0"}},"scale-in":{from:{scale:"0.95"},to:{scale:"1"}},"scale-out":{from:{scale:"1"},to:{scale:"0.95"}}}),zK=$i.letterSpacings({tighter:{value:"-0.05em"},tight:{value:"-0.025em"},wide:{value:"0.025em"},wider:{value:"0.05em"},widest:{value:"0.1em"}}),UK=$i.lineHeights({shorter:{value:1.25},short:{value:1.375},moderate:{value:1.5},tall:{value:1.625},taller:{value:2}}),VK=$i.radii({none:{value:"0"},"2xs":{value:"0.0625rem"},xs:{value:"0.125rem"},sm:{value:"0.25rem"},md:{value:"0.375rem"},lg:{value:"0.5rem"},xl:{value:"0.75rem"},"2xl":{value:"1rem"},"3xl":{value:"1.5rem"},"4xl":{value:"2rem"},full:{value:"9999px"}}),AU=$i.spacing({.5:{value:"0.125rem"},1:{value:"0.25rem"},1.5:{value:"0.375rem"},2:{value:"0.5rem"},2.5:{value:"0.625rem"},3:{value:"0.75rem"},3.5:{value:"0.875rem"},4:{value:"1rem"},4.5:{value:"1.125rem"},5:{value:"1.25rem"},6:{value:"1.5rem"},7:{value:"1.75rem"},8:{value:"2rem"},9:{value:"2.25rem"},10:{value:"2.5rem"},11:{value:"2.75rem"},12:{value:"3rem"},14:{value:"3.5rem"},16:{value:"4rem"},20:{value:"5rem"},24:{value:"6rem"},28:{value:"7rem"},32:{value:"8rem"},36:{value:"9rem"},40:{value:"10rem"},44:{value:"11rem"},48:{value:"12rem"},52:{value:"13rem"},56:{value:"14rem"},60:{value:"15rem"},64:{value:"16rem"},72:{value:"18rem"},80:{value:"20rem"},96:{value:"24rem"}}),kK=$i.sizes({"3xs":{value:"14rem"},"2xs":{value:"16rem"},xs:{value:"20rem"},sm:{value:"24rem"},md:{value:"28rem"},lg:{value:"32rem"},xl:{value:"36rem"},"2xl":{value:"42rem"},"3xl":{value:"48rem"},"4xl":{value:"56rem"},"5xl":{value:"64rem"},"6xl":{value:"72rem"},"7xl":{value:"80rem"},"8xl":{value:"90rem"}}),BK=$i.sizes({max:{value:"max-content"},min:{value:"min-content"},fit:{value:"fit-content"},prose:{value:"60ch"},full:{value:"100%"},dvh:{value:"100dvh"},svh:{value:"100svh"},lvh:{value:"100lvh"},dvw:{value:"100dvw"},svw:{value:"100svw"},lvw:{value:"100lvw"},vw:{value:"100vw"},vh:{value:"100vh"}}),FK=$i.sizes({"1/2":{value:"50%"},"1/3":{value:"33.333333%"},"2/3":{value:"66.666667%"},"1/4":{value:"25%"},"3/4":{value:"75%"},"1/5":{value:"20%"},"2/5":{value:"40%"},"3/5":{value:"60%"},"4/5":{value:"80%"},"1/6":{value:"16.666667%"},"2/6":{value:"33.333333%"},"3/6":{value:"50%"},"4/6":{value:"66.666667%"},"5/6":{value:"83.333333%"},"1/12":{value:"8.333333%"},"2/12":{value:"16.666667%"},"3/12":{value:"25%"},"4/12":{value:"33.333333%"},"5/12":{value:"41.666667%"},"6/12":{value:"50%"},"7/12":{value:"58.333333%"},"8/12":{value:"66.666667%"},"9/12":{value:"75%"},"10/12":{value:"83.333333%"},"11/12":{value:"91.666667%"}}),HK=$i.sizes({...kK,...AU,...FK,...BK}),GK=$i.zIndex({hide:{value:-1},base:{value:0},docked:{value:10},dropdown:{value:1e3},sticky:{value:1100},banner:{value:1200},overlay:{value:1300},modal:{value:1400},popover:{value:1500},skipNav:{value:1600},toast:{value:1700},tooltip:{value:1800},max:{value:2147483647}}),WK={aspectRatios:MK,animations:TK,blurs:CK,borders:wK,colors:AK,durations:OK,easings:NK,fonts:IK,fontSizes:DK,fontWeights:PK,letterSpacings:zK,lineHeights:UK,radii:VK,spacing:AU,sizes:HK,zIndex:GK,cursor:RK},jK={colors:Fq,shadows:Gq,radii:Hq},XK="chakra",qK=":where(html, .chakra-theme)",YK=rU({preflight:!0,cssVarsPrefix:XK,cssVarsRoot:qK,globalCss:Sq,theme:{breakpoints:bq,keyframes:LK,tokens:WK,semanticTokens:jK,recipes:Bq,slotRecipes:_K,textStyles:EK,layerStyles:_q,animationStyles:Eq}}),KK=nU(oX,YK),$K=yq(KK);function ZK(t){const{key:e,recipe:n}=t,i=f1();return H.useMemo(()=>{const r=n||(e!=null?i.getSlotRecipe(e):{});return i.sva(structuredClone(r))},[e,n,i])}const QK=t=>t.charAt(0).toUpperCase()+t.slice(1),RU=t=>{const{key:e,recipe:n}=t,i=QK(e||n.className||"Component"),[r,s]=Kv({name:`${i}StylesContext`,errorMessage:`use${i}Styles returned is 'undefined'. Seems you forgot to wrap the components in "<${i}.Root />" `}),[o,l]=Kv({name:`${i}ClassNameContext`,errorMessage:`use${i}ClassNames returned is 'undefined'. Seems you forgot to wrap the components in "<${i}.Root />" `,strict:!1}),[d,h]=Kv({strict:!1,name:`${i}PropsContext`,providerName:`${i}PropsContext`,defaultValue:{}});function m(S){const{unstyled:C,...T}=S,_=ZK({key:e,recipe:T.recipe||n}),[w,R]=H.useMemo(()=>_.splitVariantProps(T),[T,_]);return{styles:H.useMemo(()=>C?GH:_(w),[C,w,_]),classNames:_.classNameMap,props:R}}function g(S,C={}){const{defaultProps:T}=C,_=w=>{const R=h(),N=H.useMemo(()=>Sy(T,R,w),[R,w]),{styles:D,classNames:I,props:V}=m(N);return pe.jsx(r,{value:D,children:pe.jsx(o,{value:I,children:pe.jsx(S,{...V})})})};return _.displayName=S.displayName||S.name,_}return{StylesProvider:r,ClassNamesProvider:o,PropsProvider:d,usePropsContext:h,useRecipeResult:m,withProvider:(S,C,T)=>{const{defaultProps:_,...w}=T??{},R=$l(S,{},w),N=H.forwardRef((D,I)=>{const V=h(),B=H.useMemo(()=>Sy(_??{},V,D),[V,D]),{styles:L,props:z,classNames:F}=m(B),j=F[C],Z=pe.jsx(r,{value:L,children:pe.jsx(o,{value:F,children:pe.jsx(R,{ref:I,...z,css:[L[C],B.css],className:so(B.className,j)})})});return T?.wrapElement?.(Z,B)??Z});return N.displayName=S.displayName||S.name,N},withContext:(S,C,T)=>{const _=$l(S,{},T),w=H.forwardRef((R,N)=>{const{unstyled:D,...I}=R,V=s(),L=l()?.[C];return pe.jsx(_,{...I,css:[!D&&C?V[C]:void 0,R.css],ref:N,className:so(R.className,L)})});return w.displayName=S.displayName||S.name,w},withRootProvider:g,useStyles:s,useClassNames:l}},OU=$l("div",{base:{position:"absolute",display:"flex",alignItems:"center",justifyContent:"center"},variants:{axis:{horizontal:{insetStart:"50%",translate:"-50%",_rtl:{translate:"50%"}},vertical:{top:"50%",translate:"0 -50%"},both:{insetStart:"50%",top:"50%",translate:"-50% -50%",_rtl:{translate:"50% -50%"}}}},defaultVariants:{axis:"both"}});OU.displayName="AbsoluteCenter";const JK=t=>t?"":void 0,{withContext:e$}=r0({key:"spinner"}),NU=e$("span"),t$=H.forwardRef(function(e,n){const{spinner:i=pe.jsx(NU,{size:"inherit",borderWidth:"0.125em",color:"inherit"}),spinnerPlacement:r="start",children:s,text:o,visible:l=!0,...d}=e;return l?o?pe.jsxs(im,{ref:n,display:"contents",...d,children:[r==="start"&&i,o,r==="end"&&i]}):i?pe.jsxs(im,{ref:n,display:"contents",...d,children:[pe.jsx(OU,{display:"inline-flex",children:i}),pe.jsx(im,{visibility:"hidden",display:"contents",children:s})]}):pe.jsx(im,{ref:n,display:"contents",...d,children:s}):s}),{useRecipeResult:n$,usePropsContext:i$}=r0({key:"button"}),r$=H.forwardRef(function(e,n){const i=i$(),r=H.useMemo(()=>Sy(i,e),[i,e]),s=n$(r),{loading:o,loadingText:l,children:d,spinner:h,spinnerPlacement:m,...g}=s.props;return pe.jsx($l.button,{type:"button",ref:n,...g,"data-loading":JK(o),disabled:o||g.disabled,className:so(s.className,r.className),css:[s.styles,r.css],children:!r.asChild&&o?pe.jsx(t$,{spinner:h,text:l,spinnerPlacement:m,children:d}):d})}),s$=H.forwardRef(function(e,n){return pe.jsx(r$,{px:"0",py:"0",_icon:{fontSize:"1.2em"},ref:n,...e})}),DU=$l("div",{base:{display:"flex",alignItems:"center",justifyContent:"center"},variants:{inline:{true:{display:"inline-flex"}}}});DU.displayName="Center";function a$(t){const{when:e,fallback:n,children:i}=t;let r;return e?r=typeof i=="function"?i(e):i:r=n,H.isValidElement(r)?r:pe.jsx(pe.Fragment,{children:r})}const o$=t=>{const{children:e,fallback:n}=t,[i,r]=H.useState(!1);return H.useEffect(()=>{r(!0)},[]),pe.jsx(a$,{when:i,fallback:n,children:e})};function l$(t){const{gap:e,direction:n}=t,i={column:{marginY:e,marginX:0,borderInlineStartWidth:0,borderTopWidth:"1px"},"column-reverse":{marginY:e,marginX:0,borderInlineStartWidth:0,borderTopWidth:"1px"},row:{marginX:e,marginY:0,borderInlineStartWidth:"1px",borderTopWidth:0},"row-reverse":{marginX:e,marginY:0,borderInlineStartWidth:"1px",borderTopWidth:0}};return{"&":tU(n,r=>i[r])}}function c$(t){return H.Children.toArray(t).filter(e=>H.isValidElement(e))}const vA=H.forwardRef(function(e,n){const{direction:i="column",align:r,justify:s,gap:o="0.5rem",wrap:l,children:d,separator:h,className:m,...g}=e,y=H.useMemo(()=>l$({gap:o,direction:i}),[o,i]),b=H.useMemo(()=>H.isValidElement(h)?c$(d).map((S,C,T)=>{const _=typeof S.key<"u"?S.key:C,w=h,R=H.cloneElement(w,{css:[y,w.props.css]});return pe.jsxs(H.Fragment,{children:[S,C===T.length-1?null:R]},_)}):d,[d,h,y]);return pe.jsx($l.div,{ref:n,display:"flex",alignItems:r,justifyContent:s,flexDirection:i,flexWrap:l,gap:h?void 0:o,className:so("chakra-stack",m),...g,children:b})}),u$=H.forwardRef(function(e,n){const{align:i,fit:r="cover",...s}=e;return pe.jsx($l.img,{ref:n,objectFit:r,objectPosition:i,className:so("chakra-image",e.className),...s})}),{withContext:d$}=r0({key:"link"}),bb=d$("a"),{withProvider:PU,withContext:yA}=RU({key:"segmentGroup"});PU(Bz,"root",{forwardAsChild:!0});const f$=PU(kz,"root",{forwardAsChild:!0,forwardProps:["orientation"],defaultProps:{orientation:"horizontal"}}),h$=yA(zz,"item",{forwardAsChild:!0}),p$=yA(Vz,"itemText",{forwardAsChild:!0}),m$=yA(Iz,"indicator",{forwardAsChild:!0}),g$=Uz,{withContext:v$}=r0({key:"skeleton"}),xA=v$("div");H.forwardRef(function(e,n){const{size:i,...r}=e;return pe.jsx(FH,{size:i,asChild:!0,ref:n,children:pe.jsx(xA,{...r})})});H.forwardRef(function(e,n){const{noOfLines:i=3,gap:r,rootProps:s,...o}=e;return pe.jsx(vA,{gap:r,width:"full",ref:n,...s,children:Array.from({length:i}).map((l,d)=>pe.jsx(xA,{height:"4",_last:{maxW:i===1?"100%":"80%"},...o},d))})});const y$=H.forwardRef(function(e,n){return pe.jsx(vA,{align:"center",...e,direction:"row",ref:n})}),x$=H.forwardRef(function(e,n){return pe.jsx(vA,{align:"center",...e,direction:"column",ref:n})}),{withRootProvider:IU,withContext:u0}=RU({key:"tooltip"});IU(jj);const b$=IU(Wj,{defaultProps:{lazyMount:!0,unmountOnExit:!0}}),S$=u0(Jz,"trigger",{forwardAsChild:!0}),_$=u0(Kz,"positioner",{forwardAsChild:!0}),E$=u0(Yz,"content",{forwardAsChild:!0}),LU=u0(qz,"arrowTip",{forwardAsChild:!0}),T$=u0(Xz,"arrow",{forwardAsChild:!0,defaultProps:{children:pe.jsx(LU,{})}}),zU=H.createContext({});function a_(t){const e=H.useRef(null);return e.current===null&&(e.current=t()),e.current}const bA=typeof window<"u",UU=bA?H.useLayoutEffect:H.useEffect,SA=H.createContext(null);function _A(t,e){t.indexOf(e)===-1&&t.push(e)}function d0(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Jl=(t,e,n)=>n>e?e:n<t?t:n;let wy=()=>{};const Kc={},VU=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function kU(t){return typeof t=="object"&&t!==null}const BU=t=>/^0[^.\s]+$/u.test(t);function EA(t){let e;return()=>(e===void 0&&(e=t()),e)}const ia=t=>t,M$=(t,e)=>n=>e(t(n)),f0=(...t)=>t.reduce(M$),lh=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class TA{constructor(){this.subscriptions=[]}add(e){return _A(this.subscriptions,e),()=>d0(this.subscriptions,e)}notify(e,n,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,n,i);else for(let s=0;s<r;s++){const o=this.subscriptions[s];o&&o(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Wo=t=>t*1e3,io=t=>t/1e3;function MA(t,e){return e?t*(1e3/e):0}const C$=(t,e,n)=>{const i=e-t;return((n-t)%i+i)%i+t},FU=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,w$=1e-7,A$=12;function R$(t,e,n,i,r){let s,o,l=0;do o=e+(n-e)/2,s=FU(o,i,r)-t,s>0?n=o:e=o;while(Math.abs(s)>w$&&++l<A$);return o}function h0(t,e,n,i){if(t===e&&n===i)return ia;const r=s=>R$(s,0,1,t,n);return s=>s===0||s===1?s:FU(r(s),e,i)}const HU=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,GU=t=>e=>1-t(1-e),WU=h0(.33,1.53,.69,.99),CA=GU(WU),jU=HU(CA),XU=t=>(t*=2)<1?.5*CA(t):.5*(2-Math.pow(2,-10*(t-1))),wA=t=>1-Math.sin(Math.acos(t)),qU=GU(wA),YU=HU(wA),O$=h0(.42,0,1,1),N$=h0(0,0,.58,1),KU=h0(.42,0,.58,1),$U=t=>Array.isArray(t)&&typeof t[0]!="number";function ZU(t,e){return $U(t)?t[C$(0,t.length,e)]:t}const QU=t=>Array.isArray(t)&&typeof t[0]=="number",D$={linear:ia,easeIn:O$,easeInOut:KU,easeOut:N$,circIn:wA,circInOut:YU,circOut:qU,backIn:CA,backInOut:jU,backOut:WU,anticipate:XU},P$=t=>typeof t=="string",NC=t=>{if(QU(t)){wy(t.length===4);const[e,n,i,r]=t;return h0(e,n,i,r)}else if(P$(t))return D$[t];return t},Sb=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function I$(t,e){let n=new Set,i=new Set,r=!1,s=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function d(m){o.has(m)&&(h.schedule(m),t()),m(l)}const h={schedule:(m,g=!1,y=!1)=>{const S=y&&r?n:i;return g&&o.add(m),S.has(m)||S.add(m),m},cancel:m=>{i.delete(m),o.delete(m)},process:m=>{if(l=m,r){s=!0;return}r=!0,[n,i]=[i,n],n.forEach(d),n.clear(),r=!1,s&&(s=!1,h.process(m))}};return h}const L$=40;function JU(t,e){let n=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=Sb.reduce((R,N)=>(R[N]=I$(s),R),{}),{setup:l,read:d,resolveKeyframes:h,preUpdate:m,update:g,preRender:y,render:b,postRender:S}=o,C=()=>{const R=Kc.useManualTiming?r.timestamp:performance.now();n=!1,Kc.useManualTiming||(r.delta=i?1e3/60:Math.max(Math.min(R-r.timestamp,L$),1)),r.timestamp=R,r.isProcessing=!0,l.process(r),d.process(r),h.process(r),m.process(r),g.process(r),y.process(r),b.process(r),S.process(r),r.isProcessing=!1,n&&e&&(i=!1,t(C))},T=()=>{n=!0,i=!0,r.isProcessing||t(C)};return{schedule:Sb.reduce((R,N)=>{const D=o[N];return R[N]=(I,V=!1,B=!1)=>(n||T(),D.schedule(I,V,B)),R},{}),cancel:R=>{for(let N=0;N<Sb.length;N++)o[Sb[N]].cancel(R)},state:r,steps:o}}const{schedule:Wn,cancel:Yo,state:Er,steps:LT}=JU(typeof requestAnimationFrame<"u"?requestAnimationFrame:ia,!0);let DS;function z$(){DS=void 0}const ta={now:()=>(DS===void 0&&ta.set(Er.isProcessing||Kc.useManualTiming?Er.timestamp:performance.now()),DS),set:t=>{DS=t,queueMicrotask(z$)}},eV=t=>e=>typeof e=="string"&&e.startsWith(t),AA=eV("--"),U$=eV("var(--"),RA=t=>U$(t)?V$.test(t.split("/*")[0].trim()):!1,V$=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Wm={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Ay={...Wm,transform:t=>Jl(0,1,t)},_b={...Wm,default:1},ty=t=>Math.round(t*1e5)/1e5,OA=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function k$(t){return t==null}const B$=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,NA=(t,e)=>n=>!!(typeof n=="string"&&B$.test(n)&&n.startsWith(t)||e&&!k$(n)&&Object.prototype.hasOwnProperty.call(n,e)),tV=(t,e,n)=>i=>{if(typeof i!="string")return i;const[r,s,o,l]=i.match(OA);return{[t]:parseFloat(r),[e]:parseFloat(s),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},F$=t=>Jl(0,255,t),zT={...Wm,transform:t=>Math.round(F$(t))},Xf={test:NA("rgb","red"),parse:tV("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+zT.transform(t)+", "+zT.transform(e)+", "+zT.transform(n)+", "+ty(Ay.transform(i))+")"};function H$(t){let e="",n="",i="",r="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),r=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),r=t.substring(4,5),e+=e,n+=n,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const DC={test:NA("#"),parse:H$,transform:Xf.transform},p0=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),od=p0("deg"),Xl=p0("%"),Xt=p0("px"),G$=p0("vh"),W$=p0("vw"),VN={...Xl,parse:t=>Xl.parse(t)/100,transform:t=>Xl.transform(t*100)},sm={test:NA("hsl","hue"),parse:tV("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+Xl.transform(ty(e))+", "+Xl.transform(ty(n))+", "+ty(Ay.transform(i))+")"},qi={test:t=>Xf.test(t)||DC.test(t)||sm.test(t),parse:t=>Xf.test(t)?Xf.parse(t):sm.test(t)?sm.parse(t):DC.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Xf.transform(t):sm.transform(t),getAnimatableNone:t=>{const e=qi.parse(t);return e.alpha=0,qi.transform(e)}},j$=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function X$(t){return isNaN(t)&&typeof t=="string"&&(t.match(OA)?.length||0)+(t.match(j$)?.length||0)>0}const nV="number",iV="color",q$="var",Y$="var(",kN="${}",K$=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ry(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},r=[];let s=0;const l=e.replace(K$,d=>(qi.test(d)?(i.color.push(s),r.push(iV),n.push(qi.parse(d))):d.startsWith(Y$)?(i.var.push(s),r.push(q$),n.push(d)):(i.number.push(s),r.push(nV),n.push(parseFloat(d))),++s,kN)).split(kN);return{values:n,split:l,indexes:i,types:r}}function rV(t){return Ry(t).values}function sV(t){const{split:e,types:n}=Ry(t),i=e.length;return r=>{let s="";for(let o=0;o<i;o++)if(s+=e[o],r[o]!==void 0){const l=n[o];l===nV?s+=ty(r[o]):l===iV?s+=qi.transform(r[o]):s+=r[o]}return s}}const $$=t=>typeof t=="number"?0:qi.test(t)?qi.getAnimatableNone(t):t;function Z$(t){const e=rV(t);return sV(t)(e.map($$))}const md={test:X$,parse:rV,createTransformer:sV,getAnimatableNone:Z$};function UT(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Q$({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let r=0,s=0,o=0;if(!e)r=s=o=n;else{const l=n<.5?n*(1+e):n+e-n*e,d=2*n-l;r=UT(d,l,t+1/3),s=UT(d,l,t),o=UT(d,l,t-1/3)}return{red:Math.round(r*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:i}}function o_(t,e){return n=>n>0?e:t}const mi=(t,e,n)=>t+(e-t)*n,VT=(t,e,n)=>{const i=t*t,r=n*(e*e-i)+i;return r<0?0:Math.sqrt(r)},J$=[DC,Xf,sm],eZ=t=>J$.find(e=>e.test(t));function BN(t){const e=eZ(t);if(!e)return!1;let n=e.parse(t);return e===sm&&(n=Q$(n)),n}const FN=(t,e)=>{const n=BN(t),i=BN(e);if(!n||!i)return o_(t,e);const r={...n};return s=>(r.red=VT(n.red,i.red,s),r.green=VT(n.green,i.green,s),r.blue=VT(n.blue,i.blue,s),r.alpha=mi(n.alpha,i.alpha,s),Xf.transform(r))},PC=new Set(["none","hidden"]);function tZ(t,e){return PC.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function nZ(t,e){return n=>mi(t,e,n)}function DA(t){return typeof t=="number"?nZ:typeof t=="string"?RA(t)?o_:qi.test(t)?FN:sZ:Array.isArray(t)?aV:typeof t=="object"?qi.test(t)?FN:iZ:o_}function aV(t,e){const n=[...t],i=n.length,r=t.map((s,o)=>DA(s)(s,e[o]));return s=>{for(let o=0;o<i;o++)n[o]=r[o](s);return n}}function iZ(t,e){const n={...t,...e},i={};for(const r in n)t[r]!==void 0&&e[r]!==void 0&&(i[r]=DA(t[r])(t[r],e[r]));return r=>{for(const s in i)n[s]=i[s](r);return n}}function rZ(t,e){const n=[],i={color:0,var:0,number:0};for(let r=0;r<e.values.length;r++){const s=e.types[r],o=t.indexes[s][i[s]],l=t.values[o]??0;n[r]=l,i[s]++}return n}const sZ=(t,e)=>{const n=md.createTransformer(e),i=Ry(t),r=Ry(e);return i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length?PC.has(t)&&!r.values.length||PC.has(e)&&!i.values.length?tZ(t,e):f0(aV(rZ(i,r),r.values),n):o_(t,e)};function oV(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?mi(t,e,n):DA(t)(t,e)}const aZ=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Wn.update(e,n),stop:()=>Yo(e),now:()=>Er.isProcessing?Er.timestamp:ta.now()}},lV=(t,e,n=10)=>{let i="";const r=Math.max(Math.round(e/n),2);for(let s=0;s<r;s++)i+=Math.round(t(s/(r-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},l_=2e4;function PA(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<l_;)e+=n,i=t.next(e);return e>=l_?1/0:e}function cV(t,e=100,n){const i=n({...t,keyframes:[0,e]}),r=Math.min(PA(i),l_);return{type:"keyframes",ease:s=>i.next(r*s).value/e,duration:io(r)}}const oZ=5;function uV(t,e,n){const i=Math.max(e-oZ,0);return MA(n-t(i),e-i)}const Di={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},kT=.001;function lZ({duration:t=Di.duration,bounce:e=Di.bounce,velocity:n=Di.velocity,mass:i=Di.mass}){let r,s,o=1-e;o=Jl(Di.minDamping,Di.maxDamping,o),t=Jl(Di.minDuration,Di.maxDuration,io(t)),o<1?(r=h=>{const m=h*o,g=m*t,y=m-n,b=IC(h,o),S=Math.exp(-g);return kT-y/b*S},s=h=>{const g=h*o*t,y=g*n+n,b=Math.pow(o,2)*Math.pow(h,2)*t,S=Math.exp(-g),C=IC(Math.pow(h,2),o);return(-r(h)+kT>0?-1:1)*((y-b)*S)/C}):(r=h=>{const m=Math.exp(-h*t),g=(h-n)*t+1;return-kT+m*g},s=h=>{const m=Math.exp(-h*t),g=(n-h)*(t*t);return m*g});const l=5/t,d=uZ(r,s,l);if(t=Wo(t),isNaN(d))return{stiffness:Di.stiffness,damping:Di.damping,duration:t};{const h=Math.pow(d,2)*i;return{stiffness:h,damping:o*2*Math.sqrt(i*h),duration:t}}}const cZ=12;function uZ(t,e,n){let i=n;for(let r=1;r<cZ;r++)i=i-t(i)/e(i);return i}function IC(t,e){return t*Math.sqrt(1-e*e)}const dZ=["duration","bounce"],fZ=["stiffness","damping","mass"];function HN(t,e){return e.some(n=>t[n]!==void 0)}function hZ(t){let e={velocity:Di.velocity,stiffness:Di.stiffness,damping:Di.damping,mass:Di.mass,isResolvedFromDuration:!1,...t};if(!HN(t,fZ)&&HN(t,dZ))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),r=i*i,s=2*Jl(.05,1,1-(t.bounce||0))*Math.sqrt(r);e={...e,mass:Di.mass,stiffness:r,damping:s}}else{const n=lZ(t);e={...e,...n,mass:Di.mass},e.isResolvedFromDuration=!0}return e}function Oy(t=Di.visualDuration,e=Di.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:r}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:s},{stiffness:d,damping:h,mass:m,duration:g,velocity:y,isResolvedFromDuration:b}=hZ({...n,velocity:-io(n.velocity||0)}),S=y||0,C=h/(2*Math.sqrt(d*m)),T=o-s,_=io(Math.sqrt(d/m)),w=Math.abs(T)<5;i||(i=w?Di.restSpeed.granular:Di.restSpeed.default),r||(r=w?Di.restDelta.granular:Di.restDelta.default);let R;if(C<1){const D=IC(_,C);R=I=>{const V=Math.exp(-C*_*I);return o-V*((S+C*_*T)/D*Math.sin(D*I)+T*Math.cos(D*I))}}else if(C===1)R=D=>o-Math.exp(-_*D)*(T+(S+_*T)*D);else{const D=_*Math.sqrt(C*C-1);R=I=>{const V=Math.exp(-C*_*I),B=Math.min(D*I,300);return o-V*((S+C*_*T)*Math.sinh(B)+D*T*Math.cosh(B))/D}}const N={calculatedDuration:b&&g||null,next:D=>{const I=R(D);if(b)l.done=D>=g;else{let V=D===0?S:0;C<1&&(V=D===0?Wo(S):uV(R,D,I));const B=Math.abs(V)<=i,L=Math.abs(o-I)<=r;l.done=B&&L}return l.value=l.done?o:I,l},toString:()=>{const D=Math.min(PA(N),l_),I=lV(V=>N.next(D*V).value,D,30);return D+"ms "+I},toTransition:()=>{}};return N}Oy.applyToOptions=t=>{const e=cV(t,100,Oy);return t.ease=e.ease,t.duration=Wo(e.duration),t.type="keyframes",t};function LC({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:s=500,modifyTarget:o,min:l,max:d,restDelta:h=.5,restSpeed:m}){const g=t[0],y={done:!1,value:g},b=B=>l!==void 0&&B<l||d!==void 0&&B>d,S=B=>l===void 0?d:d===void 0||Math.abs(l-B)<Math.abs(d-B)?l:d;let C=n*e;const T=g+C,_=o===void 0?T:o(T);_!==T&&(C=_-g);const w=B=>-C*Math.exp(-B/i),R=B=>_+w(B),N=B=>{const L=w(B),z=R(B);y.done=Math.abs(L)<=h,y.value=y.done?_:z};let D,I;const V=B=>{b(y.value)&&(D=B,I=Oy({keyframes:[y.value,S(y.value)],velocity:uV(R,B,y.value),damping:r,stiffness:s,restDelta:h,restSpeed:m}))};return V(0),{calculatedDuration:null,next:B=>{let L=!1;return!I&&D===void 0&&(L=!0,N(B),V(B)),D!==void 0&&B>=D?I.next(B-D):(!L&&N(B),y)}}}function pZ(t,e,n){const i=[],r=n||Kc.mix||oV,s=t.length-1;for(let o=0;o<s;o++){let l=r(t[o],t[o+1]);if(e){const d=Array.isArray(e)?e[o]||ia:e;l=f0(d,l)}i.push(l)}return i}function dV(t,e,{clamp:n=!0,ease:i,mixer:r}={}){const s=t.length;if(wy(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=pZ(e,i,r),d=l.length,h=m=>{if(o&&m<t[0])return e[0];let g=0;if(d>1)for(;g<t.length-2&&!(m<t[g+1]);g++);const y=lh(t[g],t[g+1],m);return l[g](y)};return n?m=>h(Jl(t[0],t[s-1],m)):h}function fV(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const r=lh(0,e,i);t.push(mi(n,1,r))}}function IA(t){const e=[0];return fV(e,t.length-1),e}function mZ(t,e){return t.map(n=>n*e)}function gZ(t,e){return t.map(()=>e||KU).splice(0,t.length-1)}function ny({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const r=$U(i)?i.map(NC):NC(i),s={done:!1,value:e[0]},o=mZ(n&&n.length===e.length?n:IA(e),t),l=dV(o,e,{ease:Array.isArray(r)?r:gZ(e,r)});return{calculatedDuration:t,next:d=>(s.value=l(d),s.done=d>=t,s)}}const vZ=t=>t!==null;function LA(t,{repeat:e,repeatType:n="loop"},i,r=1){const s=t.filter(vZ),l=r<0||e&&n!=="loop"&&e%2===1?0:s.length-1;return!l||i===void 0?s[l]:i}const yZ={decay:LC,inertia:LC,tween:ny,keyframes:ny,spring:Oy};function hV(t){typeof t.type=="string"&&(t.type=yZ[t.type])}class zA{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const xZ=t=>t/100;class UA extends zA{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==ta.now()&&this.tick(ta.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;hV(e);const{type:n=ny,repeat:i=0,repeatDelay:r=0,repeatType:s,velocity:o=0}=e;let{keyframes:l}=e;const d=n||ny;d!==ny&&typeof l[0]!="number"&&(this.mixKeyframes=f0(xZ,oV(l[0],l[1])),l=[0,100]);const h=d({...e,keyframes:l});s==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...l].reverse(),velocity:-o})),h.calculatedDuration===null&&(h.calculatedDuration=PA(h));const{calculatedDuration:m}=h;this.calculatedDuration=m,this.resolvedDuration=m+r,this.totalDuration=this.resolvedDuration*(i+1)-r,this.generator=h}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:i,totalDuration:r,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:d}=this;if(this.startTime===null)return i.next(0);const{delay:h=0,keyframes:m,repeat:g,repeatType:y,repeatDelay:b,type:S,onUpdate:C,finalKeyframe:T}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const _=this.currentTime-h*(this.playbackSpeed>=0?1:-1),w=this.playbackSpeed>=0?_<0:_>r;this.currentTime=Math.max(_,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let R=this.currentTime,N=i;if(g){const B=Math.min(this.currentTime,r)/l;let L=Math.floor(B),z=B%1;!z&&B>=1&&(z=1),z===1&&L--,L=Math.min(L,g+1),!!(L%2)&&(y==="reverse"?(z=1-z,b&&(z-=b/l)):y==="mirror"&&(N=o)),R=Jl(0,1,z)*l}const D=w?{done:!1,value:m[0]}:N.next(R);s&&(D.value=s(D.value));let{done:I}=D;!w&&d!==null&&(I=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const V=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&I);return V&&S!==LC&&(D.value=LA(m,this.options,T,this.speed)),C&&C(D.value),V&&this.finish(),D}then(e,n){return this.finished.then(e,n)}get duration(){return io(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+io(e)}get time(){return io(this.currentTime)}set time(e){e=Wo(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(ta.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=io(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=aZ,startTime:n}=this.options;this.driver||(this.driver=e(r=>this.tick(r))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ta.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function bZ(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const qf=t=>t*180/Math.PI,zC=t=>{const e=qf(Math.atan2(t[1],t[0]));return UC(e)},SZ={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:zC,rotateZ:zC,skewX:t=>qf(Math.atan(t[1])),skewY:t=>qf(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},UC=t=>(t=t%360,t<0&&(t+=360),t),GN=zC,WN=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),jN=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),_Z={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:WN,scaleY:jN,scale:t=>(WN(t)+jN(t))/2,rotateX:t=>UC(qf(Math.atan2(t[6],t[5]))),rotateY:t=>UC(qf(Math.atan2(-t[2],t[0]))),rotateZ:GN,rotate:GN,skewX:t=>qf(Math.atan(t[4])),skewY:t=>qf(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function VC(t){return t.includes("scale")?1:0}function kC(t,e){if(!t||t==="none")return VC(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,r;if(n)i=_Z,r=n;else{const l=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=SZ,r=l}if(!r)return VC(e);const s=i[e],o=r[1].split(",").map(TZ);return typeof s=="function"?s(o):o[s]}const EZ=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return kC(n,e)};function TZ(t){return parseFloat(t.trim())}const jm=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Xm=new Set(jm),XN=t=>t===Wm||t===Xt,MZ=new Set(["x","y","z"]),CZ=jm.filter(t=>!MZ.has(t));function wZ(t){const e=[];return CZ.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const eh={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>kC(e,"x"),y:(t,{transform:e})=>kC(e,"y")};eh.translateX=eh.x;eh.translateY=eh.y;const th=new Set;let BC=!1,FC=!1,HC=!1;function pV(){if(FC){const t=Array.from(th).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const r=wZ(i);r.length&&(n.set(i,r),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const r=n.get(i);r&&r.forEach(([s,o])=>{i.getValue(s)?.set(o)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}FC=!1,BC=!1,th.forEach(t=>t.complete(HC)),th.clear()}function mV(){th.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(FC=!0)})}function AZ(){HC=!0,mV(),pV(),HC=!1}class VA{constructor(e,n,i,r,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=r,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(th.add(this),BC||(BC=!0,Wn.read(mV),Wn.resolveKeyframes(pV))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:r}=this;if(e[0]===null){const s=r?.get(),o=e[e.length-1];if(s!==void 0)e[0]=s;else if(i&&n){const l=i.readValue(n,o);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=o),r&&s===void 0&&r.set(e[0])}bZ(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),th.delete(this)}cancel(){this.state==="scheduled"&&(th.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const RZ=t=>t.startsWith("--");function OZ(t,e,n){RZ(e)?t.style.setProperty(e,n):t.style[e]=n}const gV=EA(()=>window.ScrollTimeline!==void 0),NZ={};function DZ(t,e){const n=EA(t);return()=>NZ[e]??n()}const vV=DZ(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),jv=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,qN={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:jv([0,.65,.55,1]),circOut:jv([.55,0,1,.45]),backIn:jv([.31,.01,.66,-.59]),backOut:jv([.33,1.53,.69,.99])};function yV(t,e){if(t)return typeof t=="function"?vV()?lV(t,e):"ease-out":QU(t)?jv(t):Array.isArray(t)?t.map(n=>yV(n,e)||qN.easeOut):qN[t]}function PZ(t,e,n,{delay:i=0,duration:r=300,repeat:s=0,repeatType:o="loop",ease:l="easeOut",times:d}={},h=void 0){const m={[e]:n};d&&(m.offset=d);const g=yV(l,r);Array.isArray(g)&&(m.easing=g);const y={delay:i,duration:r,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return h&&(y.pseudoElement=h),t.animate(m,y)}function kA(t){return typeof t=="function"&&"applyToOptions"in t}function IZ({type:t,...e}){return kA(t)&&vV()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class LZ extends zA{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:i,keyframes:r,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:l,onComplete:d}=e;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=e,wy(typeof e.type!="string");const h=IZ(e);this.animation=PZ(n,i,r,h,s),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const m=LA(r,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(m):OZ(n,i,m),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return io(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+io(e)}get time(){return io(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Wo(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&gV()?(this.animation.timeline=e,ia):n(this)}}const xV={anticipate:XU,backInOut:jU,circInOut:YU};function zZ(t){return t in xV}function UZ(t){typeof t.ease=="string"&&zZ(t.ease)&&(t.ease=xV[t.ease])}const YN=10;class VZ extends LZ{constructor(e){UZ(e),hV(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:i,onComplete:r,element:s,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const l=new UA({...o,autoplay:!1}),d=Wo(this.finishedTime??this.time);n.setWithVelocity(l.sample(d-YN).value,l.sample(d).value,YN),l.stop()}}const KN=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(md.test(t)||t==="0")&&!t.startsWith("url("));function kZ(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function BZ(t,e,n,i){const r=t[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=KN(r,e),l=KN(s,e);return!o||!l?!1:kZ(t)||(n==="spring"||kA(n))&&i}function GC(t){t.duration=0,t.type="keyframes"}const FZ=new Set(["opacity","clipPath","filter","transform"]),HZ=EA(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function GZ(t){const{motionValue:e,name:n,repeatDelay:i,repeatType:r,damping:s,type:o}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:h}=e.owner.getProps();return HZ()&&n&&FZ.has(n)&&(n!=="transform"||!h)&&!d&&!i&&r!=="mirror"&&s!==0&&o!=="inertia"}const WZ=40;class jZ extends zA{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:o="loop",keyframes:l,name:d,motionValue:h,element:m,...g}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=ta.now();const y={autoplay:e,delay:n,type:i,repeat:r,repeatDelay:s,repeatType:o,name:d,motionValue:h,element:m,...g},b=m?.KeyframeResolver||VA;this.keyframeResolver=new b(l,(S,C,T)=>this.onKeyframesResolved(S,C,y,!T),d,h,m),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,i,r){this.keyframeResolver=void 0;const{name:s,type:o,velocity:l,delay:d,isHandoff:h,onUpdate:m}=i;this.resolvedAt=ta.now(),BZ(e,s,o,l)||((Kc.instantAnimations||!d)&&m?.(LA(e,i,n)),e[0]=e[e.length-1],GC(i),i.repeat=0);const y={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>WZ?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:e},b=!h&&GZ(y)?new VZ({...y,element:y.motionValue.owner.current}):new UA(y);b.finished.then(()=>this.notifyFinished()).catch(ia),this.pendingTimeline&&(this.stopTimeline=b.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=b}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),AZ()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}class XZ{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>e.finished))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let i=0;i<this.animations.length;i++)this.animations[i][e]=n}attachTimeline(e){const n=this.animations.map(i=>i.attachTimeline(e));return()=>{n.forEach((i,r)=>{i&&i(),this.animations[r].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get state(){return this.getAll("state")}get startTime(){return this.getAll("startTime")}get duration(){return $N(this.animations,"duration")}get iterationDuration(){return $N(this.animations,"iterationDuration")}runAll(e){this.animations.forEach(n=>n[e]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function $N(t,e){let n=0;for(let i=0;i<t.length;i++){const r=t[i][e];r!==null&&r>n&&(n=r)}return n}class qZ extends XZ{then(e,n){return this.finished.finally(e).then(()=>{})}}const YZ=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function KZ(t){const e=YZ.exec(t);if(!e)return[,];const[,n,i,r]=e;return[`--${n??i}`,r]}function bV(t,e,n=1){const[i,r]=KZ(t);if(!i)return;const s=window.getComputedStyle(e).getPropertyValue(i);if(s){const o=s.trim();return VU(o)?parseFloat(o):o}return RA(r)?bV(r,e,n+1):r}function BA(t,e){return t?.[e]??t?.default??t}const SV=new Set(["width","height","top","left","right","bottom",...jm]),$Z={test:t=>t==="auto",parse:t=>t},_V=t=>e=>e.test(t),EV=[Wm,Xt,Xl,od,W$,G$,$Z],ZN=t=>EV.find(_V(t));function ZZ(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||BU(t):!0}const QZ=new Set(["brightness","contrast","saturate","opacity"]);function JZ(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(OA)||[];if(!i)return t;const r=n.replace(i,"");let s=QZ.has(e)?1:0;return i!==n&&(s*=100),e+"("+s+r+")"}const eQ=/\b([a-z-]*)\(.*?\)/gu,WC={...md,getAnimatableNone:t=>{const e=t.match(eQ);return e?e.map(JZ).join(" "):t}},QN={...Wm,transform:Math.round},tQ={rotate:od,rotateX:od,rotateY:od,rotateZ:od,scale:_b,scaleX:_b,scaleY:_b,scaleZ:_b,skew:od,skewX:od,skewY:od,distance:Xt,translateX:Xt,translateY:Xt,translateZ:Xt,x:Xt,y:Xt,z:Xt,perspective:Xt,transformPerspective:Xt,opacity:Ay,originX:VN,originY:VN,originZ:Xt},FA={borderWidth:Xt,borderTopWidth:Xt,borderRightWidth:Xt,borderBottomWidth:Xt,borderLeftWidth:Xt,borderRadius:Xt,radius:Xt,borderTopLeftRadius:Xt,borderTopRightRadius:Xt,borderBottomRightRadius:Xt,borderBottomLeftRadius:Xt,width:Xt,maxWidth:Xt,height:Xt,maxHeight:Xt,top:Xt,right:Xt,bottom:Xt,left:Xt,padding:Xt,paddingTop:Xt,paddingRight:Xt,paddingBottom:Xt,paddingLeft:Xt,margin:Xt,marginTop:Xt,marginRight:Xt,marginBottom:Xt,marginLeft:Xt,backgroundPositionX:Xt,backgroundPositionY:Xt,...tQ,zIndex:QN,fillOpacity:Ay,strokeOpacity:Ay,numOctaves:QN},nQ={...FA,color:qi,backgroundColor:qi,outlineColor:qi,fill:qi,stroke:qi,borderColor:qi,borderTopColor:qi,borderRightColor:qi,borderBottomColor:qi,borderLeftColor:qi,filter:WC,WebkitFilter:WC},TV=t=>nQ[t];function MV(t,e){let n=TV(t);return n!==WC&&(n=md),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const iQ=new Set(["auto","none","0"]);function rQ(t,e,n){let i=0,r;for(;i<t.length&&!r;){const s=t[i];typeof s=="string"&&!iQ.has(s)&&Ry(s).values.length&&(r=t[i]),i++}if(r&&n)for(const s of e)t[s]=MV(n,r)}class sQ extends VA{constructor(e,n,i,r,s){super(e,n,i,r,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let h=e[d];if(typeof h=="string"&&(h=h.trim(),RA(h))){const m=bV(h,n.current);m!==void 0&&(e[d]=m),d===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!SV.has(i)||e.length!==2)return;const[r,s]=e,o=ZN(r),l=ZN(s);if(o!==l)if(XN(o)&&XN(l))for(let d=0;d<e.length;d++){const h=e[d];typeof h=="string"&&(e[d]=parseFloat(h))}else eh[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let r=0;r<e.length;r++)(e[r]===null||ZZ(e[r]))&&i.push(r);i.length&&rQ(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=eh[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const r=n[n.length-1];r!==void 0&&e.getValue(i,r).jump(r,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const r=e.getValue(n);r&&r.jump(this.measuredOrigin,!1);const s=i.length-1,o=i[s];i[s]=eh[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),this.removedTransforms?.length&&this.removedTransforms.forEach(([l,d])=>{e.getValue(l).set(d)}),this.resolveNoneKeyframes()}}function I1(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;e&&(i=e.current);const r=n?.[t]??i.querySelectorAll(t);return r?Array.from(r):[]}return Array.from(t)}const CV=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function wV(t){return kU(t)&&"offsetHeight"in t}const JN=30,aQ=t=>!isNaN(parseFloat(t));class oQ{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const r=ta.now();if(this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const s of this.dependents)s.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=ta.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=aQ(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new TA);const i=this.events[e].add(n);return e==="change"?()=>{i(),Wn.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ta.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>JN)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,JN);return MA(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Bl(t,e){return new oQ(t,e)}const{schedule:HA}=JU(queueMicrotask,!1),Vo={x:!1,y:!1};function AV(){return Vo.x||Vo.y}function lQ(t){return t==="x"||t==="y"?Vo[t]?null:(Vo[t]=!0,()=>{Vo[t]=!1}):Vo.x||Vo.y?null:(Vo.x=Vo.y=!0,()=>{Vo.x=Vo.y=!1})}function RV(t,e){const n=I1(t),i=new AbortController,r={passive:!0,...e,signal:i.signal};return[n,r,()=>i.abort()]}function eD(t){return!(t.pointerType==="touch"||AV())}function cQ(t,e,n={}){const[i,r,s]=RV(t,n),o=l=>{if(!eD(l))return;const{target:d}=l,h=e(d,l);if(typeof h!="function"||!d)return;const m=g=>{eD(g)&&(h(g),d.removeEventListener("pointerleave",m))};d.addEventListener("pointerleave",m,r)};return i.forEach(l=>{l.addEventListener("pointerenter",o,r)}),s}const OV=(t,e)=>e?t===e?!0:OV(t,e.parentElement):!1,GA=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,uQ=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function dQ(t){return uQ.has(t.tagName)||t.tabIndex!==-1}const PS=new WeakSet;function tD(t){return e=>{e.key==="Enter"&&t(e)}}function BT(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const fQ=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=tD(()=>{if(PS.has(n))return;BT(n,"down");const r=tD(()=>{BT(n,"up")}),s=()=>BT(n,"cancel");n.addEventListener("keyup",r,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function nD(t){return GA(t)&&!AV()}function hQ(t,e,n={}){const[i,r,s]=RV(t,n),o=l=>{const d=l.currentTarget;if(!nD(l))return;PS.add(d);const h=e(d,l),m=(b,S)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",y),PS.has(d)&&PS.delete(d),nD(b)&&typeof h=="function"&&h(b,{success:S})},g=b=>{m(b,d===window||d===document||n.useGlobalTarget||OV(d,b.target))},y=b=>{m(b,!1)};window.addEventListener("pointerup",g,r),window.addEventListener("pointercancel",y,r)};return i.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",o,r),wV(l)&&(l.addEventListener("focus",h=>fQ(h,r)),!dQ(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),s}function L1(t){return kU(t)&&"ownerSVGElement"in t}const IS=new WeakMap;let LS;const NV=(t,e,n)=>(i,r)=>r&&r[0]?r[0][t+"Size"]:L1(i)&&"getBBox"in i?i.getBBox()[e]:i[n],pQ=NV("inline","width","offsetWidth"),mQ=NV("block","height","offsetHeight");function gQ({target:t,borderBoxSize:e}){IS.get(t)?.forEach(n=>{n(t,{get width(){return pQ(t,e)},get height(){return mQ(t,e)}})})}function vQ(t){t.forEach(gQ)}function yQ(){typeof ResizeObserver>"u"||(LS=new ResizeObserver(vQ))}function xQ(t,e){LS||yQ();const n=I1(t);return n.forEach(i=>{let r=IS.get(i);r||(r=new Set,IS.set(i,r)),r.add(e),LS?.observe(i)}),()=>{n.forEach(i=>{const r=IS.get(i);r?.delete(e),r?.size||LS?.unobserve(i)})}}const zS=new Set;let am;function bQ(){am=()=>{const t={get width(){return window.innerWidth},get height(){return window.innerHeight}};zS.forEach(e=>e(t))},window.addEventListener("resize",am)}function SQ(t){return zS.add(t),am||bQ(),()=>{zS.delete(t),!zS.size&&typeof am=="function"&&(window.removeEventListener("resize",am),am=void 0)}}function _Q(t,e){return typeof t=="function"?SQ(t):xQ(t,e)}function DV(t,e){let n;const i=()=>{const{currentTime:r}=e,o=(r===null?0:r.value)/100;n!==o&&t(o),n=o};return Wn.preUpdate(i,!0),()=>Yo(i)}function PV(t){return L1(t)&&t.tagName==="svg"}function EQ(t,e){if(t==="first")return 0;{const n=e-1;return t==="last"?n:n/2}}function TQ(t=.1,{startDelay:e=0,from:n=0,ease:i}={}){return(r,s)=>{const o=typeof n=="number"?n:EQ(n,s),l=Math.abs(o-r);let d=t*l;if(i){const h=s*t;d=NC(i)(d/h)*h}return e+d}}const Mr=t=>!!(t&&t.getVelocity),MQ=[...EV,qi,md],CQ=t=>MQ.find(_V(t)),IV=H.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function wQ(t=!0){const e=H.useContext(SA);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:r}=e,s=H.useId();H.useEffect(()=>{if(t)return r(s)},[t]);const o=H.useCallback(()=>t&&i&&i(s),[s,i,t]);return!n&&i?[!1,o]:[!0]}const LV=H.createContext({strict:!1}),iD={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Cm={};for(const t in iD)Cm[t]={isEnabled:e=>iD[t].some(n=>!!e[n])};function AQ(t){for(const e in t)Cm[e]={...Cm[e],...t[e]}}const RQ=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function c_(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||RQ.has(t)}let zV=t=>!c_(t);function OQ(t){typeof t=="function"&&(zV=e=>e.startsWith("on")?!c_(e):t(e))}try{OQ(require("@emotion/is-prop-valid").default)}catch{}function NQ(t,e,n){const i={};for(const r in t)r==="values"&&typeof t.values=="object"||(zV(r)||n===!0&&c_(r)||!e&&!c_(r)||t.draggable&&r.startsWith("onDrag"))&&(i[r]=t[r]);return i}const z1=H.createContext({});function U1(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Ny(t){return typeof t=="string"||Array.isArray(t)}const WA=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],jA=["initial",...WA];function V1(t){return U1(t.animate)||jA.some(e=>Ny(t[e]))}function UV(t){return!!(V1(t)||t.variants)}function DQ(t,e){if(V1(t)){const{initial:n,animate:i}=t;return{initial:n===!1||Ny(n)?n:void 0,animate:Ny(i)?i:void 0}}return t.inherit!==!1?e:{}}function PQ(t){const{initial:e,animate:n}=DQ(t,H.useContext(z1));return H.useMemo(()=>({initial:e,animate:n}),[rD(e),rD(n)])}function rD(t){return Array.isArray(t)?t.join(" "):t}const Dy={};function IQ(t){for(const e in t)Dy[e]=t[e],AA(e)&&(Dy[e].isCSSVariable=!0)}function VV(t,{layout:e,layoutId:n}){return Xm.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Dy[t]||t==="opacity")}const LQ={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},zQ=jm.length;function UQ(t,e,n){let i="",r=!0;for(let s=0;s<zQ;s++){const o=jm[s],l=t[o];if(l===void 0)continue;let d=!0;if(typeof l=="number"?d=l===(o.startsWith("scale")?1:0):d=parseFloat(l)===0,!d||n){const h=CV(l,FA[o]);if(!d){r=!1;const m=LQ[o]||o;i+=`${m}(${h}) `}n&&(e[o]=h)}}return i=i.trim(),n?i=n(e,r?"":i):r&&(i="none"),i}function XA(t,e,n){const{style:i,vars:r,transformOrigin:s}=t;let o=!1,l=!1;for(const d in e){const h=e[d];if(Xm.has(d)){o=!0;continue}else if(AA(d)){r[d]=h;continue}else{const m=CV(h,FA[d]);d.startsWith("origin")?(l=!0,s[d]=m):i[d]=m}}if(e.transform||(o||n?i.transform=UQ(e,t.transform,n):i.transform&&(i.transform="none")),l){const{originX:d="50%",originY:h="50%",originZ:m=0}=s;i.transformOrigin=`${d} ${h} ${m}`}}const qA=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function kV(t,e,n){for(const i in e)!Mr(e[i])&&!VV(i,n)&&(t[i]=e[i])}function VQ({transformTemplate:t},e){return H.useMemo(()=>{const n=qA();return XA(n,e,t),Object.assign({},n.vars,n.style)},[e])}function kQ(t,e){const n=t.style||{},i={};return kV(i,n,t),Object.assign(i,VQ(t,e)),i}function BQ(t,e){const n={},i=kQ(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const FQ={offset:"stroke-dashoffset",array:"stroke-dasharray"},HQ={offset:"strokeDashoffset",array:"strokeDasharray"};function GQ(t,e,n=1,i=0,r=!0){t.pathLength=1;const s=r?FQ:HQ;t[s.offset]=Xt.transform(-i);const o=Xt.transform(e),l=Xt.transform(n);t[s.array]=`${o} ${l}`}function BV(t,{attrX:e,attrY:n,attrScale:i,pathLength:r,pathSpacing:s=1,pathOffset:o=0,...l},d,h,m){if(XA(t,l,h),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:y}=t;g.transform&&(y.transform=g.transform,delete g.transform),(y.transform||g.transformOrigin)&&(y.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),y.transform&&(y.transformBox=m?.transformBox??"fill-box",delete g.transformBox),e!==void 0&&(g.x=e),n!==void 0&&(g.y=n),i!==void 0&&(g.scale=i),r!==void 0&&GQ(g,r,s,o,!1)}const FV=()=>({...qA(),attrs:{}}),HV=t=>typeof t=="string"&&t.toLowerCase()==="svg";function WQ(t,e,n,i){const r=H.useMemo(()=>{const s=FV();return BV(s,e,HV(i),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};kV(s,t.style,t),r.style={...s,...r.style}}return r}const jQ=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function YA(t){return typeof t!="string"||t.includes("-")?!1:!!(jQ.indexOf(t)>-1||/[A-Z]/u.test(t))}function XQ(t,e,n,{latestValues:i},r,s=!1){const l=(YA(t)?WQ:BQ)(e,i,r,t),d=NQ(e,typeof t=="string",s),h=t!==H.Fragment?{...d,...l,ref:n}:{},{children:m}=e,g=H.useMemo(()=>Mr(m)?m.get():m,[m]);return H.createElement(t,{...h,children:g})}function sD(t){const e=[{},{}];return t?.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function KA(t,e,n,i){if(typeof e=="function"){const[r,s]=sD(i);e=e(n!==void 0?n:t.custom,r,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[r,s]=sD(i);e=e(n!==void 0?n:t.custom,r,s)}return e}function US(t){return Mr(t)?t.get():t}function qQ({scrapeMotionValuesFromProps:t,createRenderState:e},n,i,r){return{latestValues:YQ(n,i,r,t),renderState:e()}}function YQ(t,e,n,i){const r={},s=i(t,{});for(const y in s)r[y]=US(s[y]);let{initial:o,animate:l}=t;const d=V1(t),h=UV(t);e&&h&&!d&&t.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let m=n?n.initial===!1:!1;m=m||o===!1;const g=m?l:o;if(g&&typeof g!="boolean"&&!U1(g)){const y=Array.isArray(g)?g:[g];for(let b=0;b<y.length;b++){const S=KA(t,y[b]);if(S){const{transitionEnd:C,transition:T,..._}=S;for(const w in _){let R=_[w];if(Array.isArray(R)){const N=m?R.length-1:0;R=R[N]}R!==null&&(r[w]=R)}for(const w in C)r[w]=C[w]}}}return r}const GV=t=>(e,n)=>{const i=H.useContext(z1),r=H.useContext(SA),s=()=>qQ(t,e,i,r);return n?s():a_(s)};function $A(t,e,n){const{style:i}=t,r={};for(const s in i)(Mr(i[s])||e.style&&Mr(e.style[s])||VV(s,t)||n?.getValue(s)?.liveStyle!==void 0)&&(r[s]=i[s]);return r}const KQ=GV({scrapeMotionValuesFromProps:$A,createRenderState:qA});function WV(t,e,n){const i=$A(t,e,n);for(const r in t)if(Mr(t[r])||Mr(e[r])){const s=jm.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;i[s]=t[r]}return i}const $Q=GV({scrapeMotionValuesFromProps:WV,createRenderState:FV}),ZQ=Symbol.for("motionComponentSymbol");function om(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function QQ(t,e,n){return H.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):om(n)&&(n.current=i))},[e])}const ZA=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),JQ="framerAppearId",jV="data-"+ZA(JQ),XV=H.createContext({});function eJ(t,e,n,i,r){const{visualElement:s}=H.useContext(z1),o=H.useContext(LV),l=H.useContext(SA),d=H.useContext(IV).reducedMotion,h=H.useRef(null);i=i||o.renderer,!h.current&&i&&(h.current=i(t,{visualState:e,parent:s,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:d}));const m=h.current,g=H.useContext(XV);m&&!m.projection&&r&&(m.type==="html"||m.type==="svg")&&tJ(h.current,n,r,g);const y=H.useRef(!1);H.useInsertionEffect(()=>{m&&y.current&&m.update(n,l)});const b=n[jV],S=H.useRef(!!b&&!window.MotionHandoffIsComplete?.(b)&&window.MotionHasOptimisedAnimation?.(b));return UU(()=>{m&&(y.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),S.current&&m.animationState&&m.animationState.animateChanges())}),H.useEffect(()=>{m&&(!S.current&&m.animationState&&m.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(b)}),S.current=!1),m.enteringChildren=void 0)}),m}function tJ(t,e,n,i){const{layoutId:r,layout:s,drag:o,dragConstraints:l,layoutScroll:d,layoutRoot:h,layoutCrossfade:m}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:qV(t.parent)),t.projection.setOptions({layoutId:r,layout:s,alwaysMeasureLayout:!!o||l&&om(l),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:i,crossfade:m,layoutScroll:d,layoutRoot:h})}function qV(t){if(t)return t.options.allowProjection!==!1?t.projection:qV(t.parent)}function FT(t,{forwardMotionProps:e=!1}={},n,i){n&&AQ(n);const r=YA(t)?$Q:KQ;function s(l,d){let h;const m={...H.useContext(IV),...l,layoutId:nJ(l)},{isStatic:g}=m,y=PQ(l),b=r(l,g);if(!g&&bA){iJ();const S=rJ(m);h=S.MeasureLayout,y.visualElement=eJ(t,b,m,i,S.ProjectionNode)}return pe.jsxs(z1.Provider,{value:y,children:[h&&y.visualElement?pe.jsx(h,{visualElement:y.visualElement,...m}):null,XQ(t,l,QQ(b,y.visualElement,d),b,g,e)]})}s.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=H.forwardRef(s);return o[ZQ]=t,o}function nJ({layoutId:t}){const e=H.useContext(zU).id;return e&&t!==void 0?e+"-"+t:t}function iJ(t,e){H.useContext(LV).strict}function rJ(t){const{drag:e,layout:n}=Cm;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function sJ(t,e){if(typeof Proxy>"u")return FT;const n=new Map,i=(s,o)=>FT(s,o,t,e),r=(s,o)=>i(s,o);return new Proxy(r,{get:(s,o)=>o==="create"?i:(n.has(o)||n.set(o,FT(o,void 0,t,e)),n.get(o))})}function YV({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function aJ({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function oJ(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function HT(t){return t===void 0||t===1}function jC({scale:t,scaleX:e,scaleY:n}){return!HT(t)||!HT(e)||!HT(n)}function Vf(t){return jC(t)||KV(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function KV(t){return aD(t.x)||aD(t.y)}function aD(t){return t&&t!=="0%"}function u_(t,e,n){const i=t-n,r=e*i;return n+r}function oD(t,e,n,i,r){return r!==void 0&&(t=u_(t,r,i)),u_(t,n,i)+e}function XC(t,e=0,n=1,i,r){t.min=oD(t.min,e,n,i,r),t.max=oD(t.max,e,n,i,r)}function $V(t,{x:e,y:n}){XC(t.x,e.translate,e.scale,e.originPoint),XC(t.y,n.translate,n.scale,n.originPoint)}const lD=.999999999999,cD=1.0000000000001;function lJ(t,e,n,i=!1){const r=n.length;if(!r)return;e.x=e.y=1;let s,o;for(let l=0;l<r;l++){s=n[l],o=s.projectionDelta;const{visualElement:d}=s.options;d&&d.props.style&&d.props.style.display==="contents"||(i&&s.options.layoutScroll&&s.scroll&&s!==s.root&&cm(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,$V(t,o)),i&&Vf(s.latestValues)&&cm(t,s.latestValues))}e.x<cD&&e.x>lD&&(e.x=1),e.y<cD&&e.y>lD&&(e.y=1)}function lm(t,e){t.min=t.min+e,t.max=t.max+e}function uD(t,e,n,i,r=.5){const s=mi(t.min,t.max,r);XC(t,e,n,s,i)}function cm(t,e){uD(t.x,e.x,e.scaleX,e.scale,e.originX),uD(t.y,e.y,e.scaleY,e.scale,e.originY)}function ZV(t,e){return YV(oJ(t.getBoundingClientRect(),e))}function cJ(t,e,n){const i=ZV(t,n),{scroll:r}=e;return r&&(lm(i.x,r.offset.x),lm(i.y,r.offset.y)),i}const dD=()=>({translate:0,scale:1,origin:0,originPoint:0}),um=()=>({x:dD(),y:dD()}),fD=()=>({min:0,max:0}),Ni=()=>({x:fD(),y:fD()}),qC={current:null},QV={current:!1};function uJ(){if(QV.current=!0,!!bA)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>qC.current=t.matches;t.addEventListener("change",e),e()}else qC.current=!1}const Py=new WeakMap;function dJ(t,e,n){for(const i in e){const r=e[i],s=n[i];if(Mr(r))t.addValue(i,r);else if(Mr(s))t.addValue(i,Bl(r,{owner:t}));else if(s!==r)if(t.hasValue(i)){const o=t.getValue(i);o.liveStyle===!0?o.jump(r):o.hasAnimated||o.set(r)}else{const o=t.getStaticValue(i);t.addValue(i,Bl(o!==void 0?o:r,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const hD=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class JV{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:r,blockInitialAnimation:s,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=VA,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=ta.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,Wn.render(this.render,!1,!0))};const{latestValues:d,renderState:h}=o;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=h,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=l,this.blockInitialAnimation=!!s,this.isControllingVariants=V1(n),this.isVariantNode=UV(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...g}=this.scrapeMotionValuesFromProps(n,{},this);for(const y in g){const b=g[y];d[y]!==void 0&&Mr(b)&&b.set(d[y])}}mount(e){this.current=e,Py.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),QV.current||uJ(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:qC.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Yo(this.notifyUpdate),Yo(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=Xm.has(e);i&&this.onBindTransform&&this.onBindTransform();const r=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Wn.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{r(),s&&s(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Cm){const n=Cm[e];if(!n)continue;const{isEnabled:i,Feature:r}=n;if(!this.features[e]&&r&&i(this.props)&&(this.features[e]=new r(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ni()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<hD.length;i++){const r=hD[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const s="on"+r,o=e[s];o&&(this.propEventSubscriptions[r]=this.on(r,o))}this.prevMotionValues=dJ(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=Bl(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(VU(i)||BU(i))?i=parseFloat(i):!CQ(i)&&md.test(n)&&(i=MV(e,n)),this.setBaseTarget(e,Mr(i)?i.get():i)),Mr(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const s=KA(this.props,n,this.presenceContext?.custom);s&&(i=s[e])}if(n&&i!==void 0)return i;const r=this.getBaseTargetFromProps(this.props,e);return r!==void 0&&!Mr(r)?r:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new TA),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){HA.render(this.render)}}class ek extends JV{constructor(){super(...arguments),this.KeyframeResolver=sQ}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Mr(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function tk(t,{style:e,vars:n},i,r){const s=t.style;let o;for(o in e)s[o]=e[o];r?.applyProjectionStyles(s,i);for(o in n)s.setProperty(o,n[o])}function fJ(t){return window.getComputedStyle(t)}class nk extends ek{constructor(){super(...arguments),this.type="html",this.renderInstance=tk}readValueFromInstance(e,n){if(Xm.has(n))return this.projection?.isProjecting?VC(n):EZ(e,n);{const i=fJ(e),r=(AA(n)?i.getPropertyValue(n):i[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:n}){return ZV(e,n)}build(e,n,i){XA(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return $A(e,n,i)}}const ik=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function hJ(t,e,n,i){tk(t,e,void 0,i);for(const r in e.attrs)t.setAttribute(ik.has(r)?r:ZA(r),e.attrs[r])}class rk extends ek{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ni}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Xm.has(n)){const i=TV(n);return i&&i.default||0}return n=ik.has(n)?n:ZA(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return WV(e,n,i)}build(e,n,i){BV(e,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,n,i,r){hJ(e,n,i,r)}mount(e){this.isSVGTag=HV(e.tagName),super.mount(e)}}const pJ=(t,e)=>YA(t)?new rk(e):new nk(e,{allowProjection:t!==H.Fragment});function bm(t,e,n){const i=t.getProps();return KA(i,e,n!==void 0?n:i.custom,t)}const YC=t=>Array.isArray(t);function mJ(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Bl(n))}function gJ(t){return YC(t)?t[t.length-1]||0:t}function vJ(t,e){const n=bm(t,e);let{transitionEnd:i={},transition:r={},...s}=n||{};s={...s,...i};for(const o in s){const l=gJ(s[o]);mJ(t,o,l)}}function yJ(t){return!!(Mr(t)&&t.add)}function KC(t,e){const n=t.getValue("willChange");if(yJ(n))return n.add(e);if(!n&&Kc.WillChange){const i=new Kc.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function sk(t){return t.props[jV]}const xJ=t=>t!==null;function bJ(t,{repeat:e,repeatType:n="loop"},i){const r=t.filter(xJ),s=e&&n!=="loop"&&e%2===1?0:r.length-1;return r[s]}const SJ={type:"spring",stiffness:500,damping:25,restSpeed:10},_J=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),EJ={type:"keyframes",duration:.8},TJ={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},MJ=(t,{keyframes:e})=>e.length>2?EJ:Xm.has(t)?t.startsWith("scale")?_J(e[1]):SJ:TJ;function CJ({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:r,repeat:s,repeatType:o,repeatDelay:l,from:d,elapsed:h,...m}){return!!Object.keys(m).length}const QA=(t,e,n,i={},r,s)=>o=>{const l=BA(i,t)||{},d=l.delay||i.delay||0;let{elapsed:h=0}=i;h=h-Wo(d);const m={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-h,onUpdate:y=>{e.set(y),l.onUpdate&&l.onUpdate(y)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:s?void 0:r};CJ(l)||Object.assign(m,MJ(t,m)),m.duration&&(m.duration=Wo(m.duration)),m.repeatDelay&&(m.repeatDelay=Wo(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let g=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(GC(m),m.delay===0&&(g=!0)),(Kc.instantAnimations||Kc.skipAnimations)&&(g=!0,GC(m),m.delay=0),m.allowFlatten=!l.type&&!l.ease,g&&!s&&e.get()!==void 0){const y=bJ(m.keyframes,l);if(y!==void 0){Wn.update(()=>{m.onUpdate(y),m.onComplete()});return}}return l.isSync?new UA(m):new jZ(m)};function wJ({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function JA(t,e,{delay:n=0,transitionOverride:i,type:r}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...l}=e;i&&(s=i);const d=[],h=r&&t.animationState&&t.animationState.getState()[r];for(const m in l){const g=t.getValue(m,t.latestValues[m]??null),y=l[m];if(y===void 0||h&&wJ(h,m))continue;const b={delay:n,...BA(s||{},m)},S=g.get();if(S!==void 0&&!g.isAnimating&&!Array.isArray(y)&&y===S&&!b.velocity)continue;let C=!1;if(window.MotionHandoffAnimation){const _=sk(t);if(_){const w=window.MotionHandoffAnimation(_,m,Wn);w!==null&&(b.startTime=w,C=!0)}}KC(t,m),g.start(QA(m,g,y,t.shouldReduceMotion&&SV.has(m)?{type:!1}:b,t,C));const T=g.animation;T&&d.push(T)}return o&&Promise.all(d).then(()=>{Wn.update(()=>{o&&vJ(t,o)})}),d}function ak(t,e,n,i=0,r=1){const s=Array.from(t).sort((h,m)=>h.sortNodePosition(m)).indexOf(e),o=t.size,l=(o-1)*i;return typeof n=="function"?n(s,o):r===1?s*i:l-s*i}function $C(t,e,n={}){const i=bm(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:r=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(r=n.transitionOverride);const s=i?()=>Promise.all(JA(t,i,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:h=0,staggerChildren:m,staggerDirection:g}=r;return AJ(t,e,d,h,m,g,n)}:()=>Promise.resolve(),{when:l}=r;if(l){const[d,h]=l==="beforeChildren"?[s,o]:[o,s];return d().then(()=>h())}else return Promise.all([s(),o(n.delay)])}function AJ(t,e,n=0,i=0,r=0,s=1,o){const l=[];for(const d of t.variantChildren)d.notify("AnimationStart",e),l.push($C(d,e,{...o,delay:n+(typeof i=="function"?0:i)+ak(t.variantChildren,d,i,r,s)}).then(()=>d.notify("AnimationComplete",e)));return Promise.all(l)}function RJ(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const r=e.map(s=>$C(t,s,n));i=Promise.all(r)}else if(typeof e=="string")i=$C(t,e,n);else{const r=typeof e=="function"?bm(t,e,n.custom):e;i=Promise.all(JA(t,r,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}function ok(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const OJ=jA.length;function lk(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?lk(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<OJ;n++){const i=jA[n],r=t.props[i];(Ny(r)||r===!1)&&(e[i]=r)}return e}const NJ=[...WA].reverse(),DJ=WA.length;function PJ(t){return e=>Promise.all(e.map(({animation:n,options:i})=>RJ(t,n,i)))}function IJ(t){let e=PJ(t),n=pD(),i=!0;const r=d=>(h,m)=>{const g=bm(t,m,d==="exit"?t.presenceContext?.custom:void 0);if(g){const{transition:y,transitionEnd:b,...S}=g;h={...h,...S,...b}}return h};function s(d){e=d(t)}function o(d){const{props:h}=t,m=lk(t.parent)||{},g=[],y=new Set;let b={},S=1/0;for(let T=0;T<DJ;T++){const _=NJ[T],w=n[_],R=h[_]!==void 0?h[_]:m[_],N=Ny(R),D=_===d?w.isActive:null;D===!1&&(S=T);let I=R===m[_]&&R!==h[_]&&N;if(I&&i&&t.manuallyAnimateOnMount&&(I=!1),w.protectedKeys={...b},!w.isActive&&D===null||!R&&!w.prevProp||U1(R)||typeof R=="boolean")continue;const V=LJ(w.prevProp,R);let B=V||_===d&&w.isActive&&!I&&N||T>S&&N,L=!1;const z=Array.isArray(R)?R:[R];let F=z.reduce(r(_),{});D===!1&&(F={});const{prevResolvedValues:j={}}=w,Z={...j,...F},se=q=>{B=!0,y.has(q)&&(L=!0,y.delete(q)),w.needsAnimating[q]=!0;const $=t.getValue(q);$&&($.liveStyle=!1)};for(const q in Z){const $=F[q],ne=j[q];if(b.hasOwnProperty(q))continue;let G=!1;YC($)&&YC(ne)?G=!ok($,ne):G=$!==ne,G?$!=null?se(q):y.add(q):$!==void 0&&y.has(q)?se(q):w.protectedKeys[q]=!0}w.prevProp=R,w.prevResolvedValues=F,w.isActive&&(b={...b,...F}),i&&t.blockInitialAnimation&&(B=!1);const ie=I&&V;B&&(!ie||L)&&g.push(...z.map(q=>{const $={type:_};if(typeof q=="string"&&i&&!ie&&t.manuallyAnimateOnMount&&t.parent){const{parent:ne}=t,G=bm(ne,q);if(ne.enteringChildren&&G){const{delayChildren:te}=G.transition||{};$.delay=ak(ne.enteringChildren,t,te)}}return{animation:q,options:$}}))}if(y.size){const T={};if(typeof h.initial!="boolean"){const _=bm(t,Array.isArray(h.initial)?h.initial[0]:h.initial);_&&_.transition&&(T.transition=_.transition)}y.forEach(_=>{const w=t.getBaseTarget(_),R=t.getValue(_);R&&(R.liveStyle=!0),T[_]=w??null}),g.push({animation:T})}let C=!!g.length;return i&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(C=!1),i=!1,C?e(g):Promise.resolve()}function l(d,h){if(n[d].isActive===h)return Promise.resolve();t.variantChildren?.forEach(g=>g.animationState?.setActive(d,h)),n[d].isActive=h;const m=o(d);for(const g in n)n[g].protectedKeys={};return m}return{animateChanges:o,setActive:l,setAnimateFunction:s,getState:()=>n,reset:()=>{n=pD(),i=!0}}}function LJ(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!ok(e,t):!1}function Ef(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function pD(){return{animate:Ef(!0),whileInView:Ef(),whileHover:Ef(),whileTap:Ef(),whileDrag:Ef(),whileFocus:Ef(),exit:Ef()}}class bd{constructor(e){this.isMounted=!1,this.node=e}update(){}}class zJ extends bd{constructor(e){super(e),e.animationState||(e.animationState=IJ(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();U1(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let UJ=0;class VJ extends bd{constructor(){super(...arguments),this.id=UJ++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const r=this.node.animationState.setActive("exit",!e);n&&!e&&r.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const kJ={animation:{Feature:zJ},exit:{Feature:VJ}};function Iy(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function m0(t){return{point:{x:t.pageX,y:t.pageY}}}const BJ=t=>e=>GA(e)&&t(e,m0(e));function iy(t,e,n,i){return Iy(t,e,BJ(n),i)}const ck=1e-4,FJ=1-ck,HJ=1+ck,uk=.01,GJ=0-uk,WJ=0+uk;function Rs(t){return t.max-t.min}function jJ(t,e,n){return Math.abs(t-e)<=n}function mD(t,e,n,i=.5){t.origin=i,t.originPoint=mi(e.min,e.max,t.origin),t.scale=Rs(n)/Rs(e),t.translate=mi(n.min,n.max,t.origin)-t.originPoint,(t.scale>=FJ&&t.scale<=HJ||isNaN(t.scale))&&(t.scale=1),(t.translate>=GJ&&t.translate<=WJ||isNaN(t.translate))&&(t.translate=0)}function ry(t,e,n,i){mD(t.x,e.x,n.x,i?i.originX:void 0),mD(t.y,e.y,n.y,i?i.originY:void 0)}function gD(t,e,n){t.min=n.min+e.min,t.max=t.min+Rs(e)}function XJ(t,e,n){gD(t.x,e.x,n.x),gD(t.y,e.y,n.y)}function vD(t,e,n){t.min=e.min-n.min,t.max=t.min+Rs(e)}function sy(t,e,n){vD(t.x,e.x,n.x),vD(t.y,e.y,n.y)}function eo(t){return[t("x"),t("y")]}const dk=({current:t})=>t?t.ownerDocument.defaultView:null,yD=(t,e)=>Math.abs(t-e);function qJ(t,e){const n=yD(t.x,e.x),i=yD(t.y,e.y);return Math.sqrt(n**2+i**2)}class fk{constructor(e,n,{transformPagePoint:i,contextWindow:r=window,dragSnapToOrigin:s=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=WT(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,S=qJ(y.offset,{x:0,y:0})>=this.distanceThreshold;if(!b&&!S)return;const{point:C}=y,{timestamp:T}=Er;this.history.push({...C,timestamp:T});const{onStart:_,onMove:w}=this.handlers;b||(_&&_(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,y)},this.handlePointerMove=(y,b)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=GT(b,this.transformPagePoint),Wn.update(this.updatePoint,!0)},this.handlePointerUp=(y,b)=>{this.end();const{onEnd:S,onSessionEnd:C,resumeAnimation:T}=this.handlers;if(this.dragSnapToOrigin&&T&&T(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=WT(y.type==="pointercancel"?this.lastMoveEventInfo:GT(b,this.transformPagePoint),this.history);this.startEvent&&S&&S(y,_),C&&C(y,_)},!GA(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=o,this.contextWindow=r||window;const l=m0(e),d=GT(l,this.transformPagePoint),{point:h}=d,{timestamp:m}=Er;this.history=[{...h,timestamp:m}];const{onSessionStart:g}=n;g&&g(e,WT(d,this.history)),this.removeListeners=f0(iy(this.contextWindow,"pointermove",this.handlePointerMove),iy(this.contextWindow,"pointerup",this.handlePointerUp),iy(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Yo(this.updatePoint)}}function GT(t,e){return e?{point:e(t.point)}:t}function xD(t,e){return{x:t.x-e.x,y:t.y-e.y}}function WT({point:t},e){return{point:t,delta:xD(t,hk(e)),offset:xD(t,YJ(e)),velocity:KJ(e,.1)}}function YJ(t){return t[0]}function hk(t){return t[t.length-1]}function KJ(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const r=hk(t);for(;n>=0&&(i=t[n],!(r.timestamp-i.timestamp>Wo(e)));)n--;if(!i)return{x:0,y:0};const s=io(r.timestamp-i.timestamp);if(s===0)return{x:0,y:0};const o={x:(r.x-i.x)/s,y:(r.y-i.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function $J(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?mi(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?mi(n,t,i.max):Math.min(t,n)),t}function bD(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function ZJ(t,{top:e,left:n,bottom:i,right:r}){return{x:bD(t.x,n,r),y:bD(t.y,e,i)}}function SD(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function QJ(t,e){return{x:SD(t.x,e.x),y:SD(t.y,e.y)}}function JJ(t,e){let n=.5;const i=Rs(t),r=Rs(e);return r>i?n=lh(e.min,e.max-i,t.min):i>r&&(n=lh(t.min,t.max-r,e.min)),Jl(0,1,n)}function eee(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const ZC=.35;function tee(t=ZC){return t===!1?t=0:t===!0&&(t=ZC),{x:_D(t,"left","right"),y:_D(t,"top","bottom")}}function _D(t,e,n){return{min:ED(t,e),max:ED(t,n)}}function ED(t,e){return typeof t=="number"?t:t[e]||0}const nee=new WeakMap;class iee{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ni(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=g=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(m0(g).point)},o=(g,y)=>{const{drag:b,dragPropagation:S,onDragStart:C}=this.getProps();if(b&&!S&&(this.openDragLock&&this.openDragLock(),this.openDragLock=lQ(b),!this.openDragLock))return;this.latestPointerEvent=g,this.latestPanInfo=y,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),eo(_=>{let w=this.getAxisMotionValue(_).get()||0;if(Xl.test(w)){const{projection:R}=this.visualElement;if(R&&R.layout){const N=R.layout.layoutBox[_];N&&(w=Rs(N)*(parseFloat(w)/100))}}this.originPoint[_]=w}),C&&Wn.postRender(()=>C(g,y)),KC(this.visualElement,"transform");const{animationState:T}=this.visualElement;T&&T.setActive("whileDrag",!0)},l=(g,y)=>{this.latestPointerEvent=g,this.latestPanInfo=y;const{dragPropagation:b,dragDirectionLock:S,onDirectionLock:C,onDrag:T}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:_}=y;if(S&&this.currentDirection===null){this.currentDirection=ree(_),this.currentDirection!==null&&C&&C(this.currentDirection);return}this.updateAxis("x",y.point,_),this.updateAxis("y",y.point,_),this.visualElement.render(),T&&T(g,y)},d=(g,y)=>{this.latestPointerEvent=g,this.latestPanInfo=y,this.stop(g,y),this.latestPointerEvent=null,this.latestPanInfo=null},h=()=>eo(g=>this.getAnimationState(g)==="paused"&&this.getAxisMotionValue(g).animation?.play()),{dragSnapToOrigin:m}=this.getProps();this.panSession=new fk(e,{onSessionStart:s,onStart:o,onMove:l,onSessionEnd:d,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,distanceThreshold:i,contextWindow:dk(this.visualElement)})}stop(e,n){const i=e||this.latestPointerEvent,r=n||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!r||!i)return;const{velocity:o}=r;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&Wn.postRender(()=>l(i,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:r}=this.getProps();if(!i||!Eb(e,r,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(o=$J(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,r=this.constraints;e&&om(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=ZJ(i.layoutBox,e):this.constraints=!1,this.elastic=tee(n),r!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&eo(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=eee(i.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!om(e))return!1;const i=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const s=cJ(i,r.root,this.visualElement.getTransformPagePoint());let o=QJ(r.layout.layoutBox,s);if(n){const l=n(aJ(o));this.hasMutatedConstraints=!!l,l&&(o=YV(l))}return o}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:r,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),d=this.constraints||{},h=eo(m=>{if(!Eb(m,n,this.currentDirection))return;let g=d&&d[m]||{};o&&(g={min:0,max:0});const y=r?200:1e6,b=r?40:1e7,S={type:"inertia",velocity:i?e[m]:0,bounceStiffness:y,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...s,...g};return this.startAxisValueAnimation(m,S)});return Promise.all(h).then(l)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return KC(this.visualElement,e),i.start(QA(e,i,0,n,this.visualElement,!1))}stopAnimation(){eo(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){eo(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),r=i[n];return r||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){eo(n=>{const{drag:i}=this.getProps();if(!Eb(n,i,this.currentDirection))return;const{projection:r}=this.visualElement,s=this.getAxisMotionValue(n);if(r&&r.layout){const{min:o,max:l}=r.layout.layoutBox[n];s.set(e[n]-mi(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!om(n)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};eo(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const d=l.get();r[o]=JJ({min:d,max:d},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),eo(o=>{if(!Eb(o,e,null))return;const l=this.getAxisMotionValue(o),{min:d,max:h}=this.constraints[o];l.set(mi(d,h,r[o]))})}addListeners(){if(!this.visualElement.current)return;nee.set(this.visualElement,this);const e=this.visualElement.current,n=iy(e,"pointerdown",d=>{const{drag:h,dragListener:m=!0}=this.getProps();h&&m&&this.start(d)}),i=()=>{const{dragConstraints:d}=this.getProps();om(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,s=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),Wn.read(i);const o=Iy(window,"resize",()=>this.scalePositionWithinConstraints()),l=r.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:h})=>{this.isDragging&&h&&(eo(m=>{const g=this.getAxisMotionValue(m);g&&(this.originPoint[m]+=d[m].translate,g.set(g.get()+d[m].translate))}),this.visualElement.render())}));return()=>{o(),n(),s(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:o=ZC,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:r,dragConstraints:s,dragElastic:o,dragMomentum:l}}}function Eb(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function ree(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class see extends bd{constructor(e){super(e),this.removeGroupControls=ia,this.removeListeners=ia,this.controls=new iee(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ia}unmount(){this.removeGroupControls(),this.removeListeners()}}const TD=t=>(e,n)=>{t&&Wn.postRender(()=>t(e,n))};class aee extends bd{constructor(){super(...arguments),this.removePointerDownListener=ia}onPointerDown(e){this.session=new fk(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:dk(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:TD(e),onStart:TD(n),onMove:i,onEnd:(s,o)=>{delete this.session,r&&Wn.postRender(()=>r(s,o))}}}mount(){this.removePointerDownListener=iy(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const VS={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function MD(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Tv={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Xt.test(t))t=parseFloat(t);else return t;const n=MD(t,e.target.x),i=MD(t,e.target.y);return`${n}% ${i}%`}},oee={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,r=md.parse(t);if(r.length>5)return i;const s=md.createTransformer(t),o=typeof r[0]!="number"?1:0,l=n.x.scale*e.x,d=n.y.scale*e.y;r[0+o]/=l,r[1+o]/=d;const h=mi(l,d,.5);return typeof r[2+o]=="number"&&(r[2+o]/=h),typeof r[3+o]=="number"&&(r[3+o]/=h),s(r)}};let jT=!1;class lee extends H.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:r}=this.props,{projection:s}=e;IQ(cee),s&&(n.group&&n.group.add(s),i&&i.register&&r&&i.register(s),jT&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),VS.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:r,isPresent:s}=this.props,{projection:o}=i;return o&&(o.isPresent=s,jT=!0,r||e.layoutDependency!==n||n===void 0||e.isPresent!==s?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Wn.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),HA.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:r}=e;jT=!0,r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function pk(t){const[e,n]=wQ(),i=H.useContext(zU);return pe.jsx(lee,{...t,layoutGroup:i,switchLayoutGroup:H.useContext(XV),isPresent:e,safeToRemove:n})}const cee={borderRadius:{...Tv,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Tv,borderTopRightRadius:Tv,borderBottomLeftRadius:Tv,borderBottomRightRadius:Tv,boxShadow:oee};function mk(t,e,n){const i=Mr(t)?t:Bl(t);return i.start(QA("",i,e,n)),i.animation}const uee=(t,e)=>t.depth-e.depth;class dee{constructor(){this.children=[],this.isDirty=!1}add(e){_A(this.children,e),this.isDirty=!0}remove(e){d0(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(uee),this.isDirty=!1,this.children.forEach(e)}}function fee(t,e){const n=ta.now(),i=({timestamp:r})=>{const s=r-n;s>=e&&(Yo(i),t(s-e))};return Wn.setup(i,!0),()=>Yo(i)}const gk=["TopLeft","TopRight","BottomLeft","BottomRight"],hee=gk.length,CD=t=>typeof t=="string"?parseFloat(t):t,wD=t=>typeof t=="number"||Xt.test(t);function pee(t,e,n,i,r,s){r?(t.opacity=mi(0,n.opacity??1,mee(i)),t.opacityExit=mi(e.opacity??1,0,gee(i))):s&&(t.opacity=mi(e.opacity??1,n.opacity??1,i));for(let o=0;o<hee;o++){const l=`border${gk[o]}Radius`;let d=AD(e,l),h=AD(n,l);if(d===void 0&&h===void 0)continue;d||(d=0),h||(h=0),d===0||h===0||wD(d)===wD(h)?(t[l]=Math.max(mi(CD(d),CD(h),i),0),(Xl.test(h)||Xl.test(d))&&(t[l]+="%")):t[l]=h}(e.rotate||n.rotate)&&(t.rotate=mi(e.rotate||0,n.rotate||0,i))}function AD(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const mee=vk(0,.5,qU),gee=vk(.5,.95,ia);function vk(t,e,n){return i=>i<t?0:i>e?1:n(lh(t,e,i))}function RD(t,e){t.min=e.min,t.max=e.max}function Za(t,e){RD(t.x,e.x),RD(t.y,e.y)}function OD(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function ND(t,e,n,i,r){return t-=e,t=u_(t,1/n,i),r!==void 0&&(t=u_(t,1/r,i)),t}function vee(t,e=0,n=1,i=.5,r,s=t,o=t){if(Xl.test(e)&&(e=parseFloat(e),e=mi(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=mi(s.min,s.max,i);t===s&&(l-=e),t.min=ND(t.min,e,n,l,r),t.max=ND(t.max,e,n,l,r)}function DD(t,e,[n,i,r],s,o){vee(t,e[n],e[i],e[r],e.scale,s,o)}const yee=["x","scaleX","originX"],xee=["y","scaleY","originY"];function PD(t,e,n,i){DD(t.x,e,yee,n?n.x:void 0,i?i.x:void 0),DD(t.y,e,xee,n?n.y:void 0,i?i.y:void 0)}function ID(t){return t.translate===0&&t.scale===1}function yk(t){return ID(t.x)&&ID(t.y)}function LD(t,e){return t.min===e.min&&t.max===e.max}function bee(t,e){return LD(t.x,e.x)&&LD(t.y,e.y)}function zD(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function xk(t,e){return zD(t.x,e.x)&&zD(t.y,e.y)}function UD(t){return Rs(t.x)/Rs(t.y)}function VD(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class See{constructor(){this.members=[]}add(e){_A(this.members,e),e.scheduleRender()}remove(e){if(d0(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(r=>e===r);if(n===0)return!1;let i;for(let r=n;r>=0;r--){const s=this.members[r];if(s.isPresent!==!1){i=s;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function _ee(t,e,n){let i="";const r=t.x.translate/e.x,s=t.y.translate/e.y,o=n?.z||0;if((r||s||o)&&(i=`translate3d(${r}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:h,rotate:m,rotateX:g,rotateY:y,skewX:b,skewY:S}=n;h&&(i=`perspective(${h}px) ${i}`),m&&(i+=`rotate(${m}deg) `),g&&(i+=`rotateX(${g}deg) `),y&&(i+=`rotateY(${y}deg) `),b&&(i+=`skewX(${b}deg) `),S&&(i+=`skewY(${S}deg) `)}const l=t.x.scale*e.x,d=t.y.scale*e.y;return(l!==1||d!==1)&&(i+=`scale(${l}, ${d})`),i||"none"}const XT=["","X","Y","Z"],Eee=1e3;let Tee=0;function qT(t,e,n,i){const{latestValues:r}=e;r[t]&&(n[t]=r[t],e.setStaticValue(t,0),i&&(i[t]=0))}function bk(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=sk(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:r,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Wn,!(r||s))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&bk(i)}function Sk({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(o={},l=e?.()){this.id=Tee++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(wee),this.nodes.forEach(Nee),this.nodes.forEach(Dee),this.nodes.forEach(Aee)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new dee)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new TA),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const d=this.eventHandlers.get(o);d&&d.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=L1(o)&&!PV(o),this.instance=o;const{layoutId:l,layout:d,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||l)&&(this.isLayoutDirty=!0),t){let m,g=0;const y=()=>this.root.updateBlockedByResize=!1;Wn.read(()=>{g=window.innerWidth}),t(o,()=>{const b=window.innerWidth;b!==g&&(g=b,this.root.updateBlockedByResize=!0,m&&m(),m=fee(y,250),VS.hasAnimatedSinceResize&&(VS.hasAnimatedSinceResize=!1,this.nodes.forEach(FD)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&h&&(l||d)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:g,hasRelativeLayoutChanged:y,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||h.getDefaultTransition()||Uee,{onLayoutAnimationStart:C,onLayoutAnimationComplete:T}=h.getProps(),_=!this.targetLayout||!xk(this.targetLayout,b),w=!g&&y;if(this.options.layoutRoot||this.resumeFrom||w||g&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const R={...BA(S,"layout"),onPlay:C,onComplete:T};(h.shouldReduceMotion||this.options.layoutRoot)&&(R.delay=0,R.type=!1),this.startAnimation(R),this.setAnimationOrigin(m,w)}else g||FD(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Yo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Pee),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&bk(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const g=this.path[m];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:l,layout:d}=this.options;if(l===void 0&&!d)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(kD);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(BD);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Oee),this.nodes.forEach(Mee),this.nodes.forEach(Cee)):this.nodes.forEach(BD),this.clearAllSnapshots();const l=ta.now();Er.delta=Jl(0,1e3/60,l-Er.timestamp),Er.timestamp=l,Er.isProcessing=!0,LT.update.process(Er),LT.preRender.process(Er),LT.render.process(Er),Er.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,HA.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Ree),this.sharedNodes.forEach(Iee)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Wn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Wn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Rs(this.snapshot.measuredBox.x)&&!Rs(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ni(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const d=i(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!yk(this.projectionDelta),d=this.getTransformTemplate(),h=d?d(this.latestValues,""):void 0,m=h!==this.prevTransformTemplateValue;o&&this.instance&&(l||Vf(this.latestValues)||m)&&(r(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let d=this.removeElementScroll(l);return o&&(d=this.removeTransform(d)),Vee(d),{animationId:this.root.animationId,measuredBox:l,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Ni();const l=o.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(kee))){const{scroll:h}=this.root;h&&(lm(l.x,h.offset.x),lm(l.y,h.offset.y))}return l}removeElementScroll(o){const l=Ni();if(Za(l,o),this.scroll?.wasRoot)return l;for(let d=0;d<this.path.length;d++){const h=this.path[d],{scroll:m,options:g}=h;h!==this.root&&m&&g.layoutScroll&&(m.wasRoot&&Za(l,o),lm(l.x,m.offset.x),lm(l.y,m.offset.y))}return l}applyTransform(o,l=!1){const d=Ni();Za(d,o);for(let h=0;h<this.path.length;h++){const m=this.path[h];!l&&m.options.layoutScroll&&m.scroll&&m!==m.root&&cm(d,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),Vf(m.latestValues)&&cm(d,m.latestValues)}return Vf(this.latestValues)&&cm(d,this.latestValues),d}removeTransform(o){const l=Ni();Za(l,o);for(let d=0;d<this.path.length;d++){const h=this.path[d];if(!h.instance||!Vf(h.latestValues))continue;jC(h.latestValues)&&h.updateSnapshot();const m=Ni(),g=h.measurePageBox();Za(m,g),PD(l,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,m)}return Vf(this.latestValues)&&PD(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Er.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==l;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:g}=this.options;if(!(!this.layout||!(m||g))){if(this.resolvedRelativeTargetAt=Er.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ni(),this.relativeTargetOrigin=Ni(),sy(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),Za(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ni(),this.targetWithTransforms=Ni()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),XJ(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Za(this.target,this.layout.layoutBox),$V(this.target,this.targetDelta)):Za(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ni(),this.relativeTargetOrigin=Ni(),sy(this.relativeTargetOrigin,this.target,y.target),Za(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||jC(this.parent.latestValues)||KV(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const o=this.getLead(),l=!!this.resumingFrom||this!==o;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Er.timestamp&&(d=!1),d)return;const{layout:h,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||m))return;Za(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,y=this.treeScale.y;lJ(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Ni());const{target:b}=o;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(OD(this.prevProjectionDelta.x,this.projectionDelta.x),OD(this.prevProjectionDelta.y,this.projectionDelta.y)),ry(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==y||!VD(this.projectionDelta.x,this.prevProjectionDelta.x)||!VD(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.visualElement?.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=um(),this.projectionDelta=um(),this.projectionDeltaWithTransform=um()}setAnimationOrigin(o,l=!1){const d=this.snapshot,h=d?d.latestValues:{},m={...this.latestValues},g=um();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const y=Ni(),b=d?d.source:void 0,S=this.layout?this.layout.source:void 0,C=b!==S,T=this.getStack(),_=!T||T.members.length<=1,w=!!(C&&!_&&this.options.crossfade===!0&&!this.path.some(zee));this.animationProgress=0;let R;this.mixTargetDelta=N=>{const D=N/1e3;HD(g.x,o.x,D),HD(g.y,o.y,D),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(sy(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Lee(this.relativeTarget,this.relativeTargetOrigin,y,D),R&&bee(this.relativeTarget,R)&&(this.isProjectionDirty=!1),R||(R=Ni()),Za(R,this.relativeTarget)),C&&(this.animationValues=m,pee(m,h,this.latestValues,D,w,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=D},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Yo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Wn.update(()=>{VS.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Bl(0)),this.currentAnimation=mk(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Eee),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:d,layout:h,latestValues:m}=o;if(!(!l||!d||!h)){if(this!==o&&this.layout&&h&&_k(this.options.animationType,this.layout.layoutBox,h.layoutBox)){d=this.target||Ni();const g=Rs(this.layout.layoutBox.x);d.x.min=o.target.x.min,d.x.max=d.x.min+g;const y=Rs(this.layout.layoutBox.y);d.y.min=o.target.y.min,d.y.max=d.y.min+y}Za(l,d),cm(l,m),ry(this.projectionDeltaWithTransform,this.layoutCorrected,l,m)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new See),this.sharedNodes.get(o).add(l);const h=l.options.initialPromotionConfig;l.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){const{layoutId:o}=this.options;return o?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:o}=this.options;return o?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:d}={}){const h=this.getStack();h&&h.promote(this,d),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:d}=o;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(l=!0),!l)return;const h={};d.z&&qT("z",o,h,this.animationValues);for(let m=0;m<XT.length;m++)qT(`rotate${XT[m]}`,o,h,this.animationValues),qT(`skew${XT[m]}`,o,h,this.animationValues);o.render();for(const m in h)o.setStaticValue(m,h[m]),this.animationValues&&(this.animationValues[m]=h[m]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=US(l?.pointerEvents)||"",o.transform=d?d(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=US(l?.pointerEvents)||""),this.hasProjected&&!Vf(this.latestValues)&&(o.transform=d?d({},""):"none",this.hasProjected=!1);return}o.visibility="";const m=h.animationValues||h.latestValues;this.applyTransformsToTarget();let g=_ee(this.projectionDeltaWithTransform,this.treeScale,m);d&&(g=d(m,g)),o.transform=g;const{x:y,y:b}=this.projectionDelta;o.transformOrigin=`${y.origin*100}% ${b.origin*100}% 0`,h.animationValues?o.opacity=h===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:o.opacity=h===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const S in Dy){if(m[S]===void 0)continue;const{correct:C,applyTo:T,isCSSVariable:_}=Dy[S],w=g==="none"?m[S]:C(m[S],h);if(T){const R=T.length;for(let N=0;N<R;N++)o[T[N]]=w}else _?this.options.visualElement.renderState.vars[S]=w:o[S]=w}this.options.layoutId&&(o.pointerEvents=h===this?US(l?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>o.currentAnimation?.stop()),this.root.nodes.forEach(kD),this.root.sharedNodes.clear()}}}function Mee(t){t.updateLayout()}function Cee(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:r}=t.options,s=e.source!==t.layout.source;r==="size"?eo(m=>{const g=s?e.measuredBox[m]:e.layoutBox[m],y=Rs(g);g.min=n[m].min,g.max=g.min+y}):_k(r,e.layoutBox,n)&&eo(m=>{const g=s?e.measuredBox[m]:e.layoutBox[m],y=Rs(n[m]);g.max=g.min+y,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[m].max=t.relativeTarget[m].min+y)});const o=um();ry(o,n,e.layoutBox);const l=um();s?ry(l,t.applyTransform(i,!0),e.measuredBox):ry(l,n,e.layoutBox);const d=!yk(o);let h=!1;if(!t.resumeFrom){const m=t.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:g,layout:y}=m;if(g&&y){const b=Ni();sy(b,e.layoutBox,g.layoutBox);const S=Ni();sy(S,n,y.layoutBox),xk(b,S)||(h=!0),m.options.layoutRoot&&(t.relativeTarget=S,t.relativeTargetOrigin=b,t.relativeParent=m)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:l,layoutDelta:o,hasLayoutChanged:d,hasRelativeLayoutChanged:h})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function wee(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Aee(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Ree(t){t.clearSnapshot()}function kD(t){t.clearMeasurements()}function BD(t){t.isLayoutDirty=!1}function Oee(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function FD(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Nee(t){t.resolveTargetDelta()}function Dee(t){t.calcProjection()}function Pee(t){t.resetSkewAndRotation()}function Iee(t){t.removeLeadSnapshot()}function HD(t,e,n){t.translate=mi(e.translate,0,n),t.scale=mi(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function GD(t,e,n,i){t.min=mi(e.min,n.min,i),t.max=mi(e.max,n.max,i)}function Lee(t,e,n,i){GD(t.x,e.x,n.x,i),GD(t.y,e.y,n.y,i)}function zee(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Uee={duration:.45,ease:[.4,0,.1,1]},WD=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),jD=WD("applewebkit/")&&!WD("chrome/")?Math.round:ia;function XD(t){t.min=jD(t.min),t.max=jD(t.max)}function Vee(t){XD(t.x),XD(t.y)}function _k(t,e,n){return t==="position"||t==="preserve-aspect"&&!jJ(UD(e),UD(n),.2)}function kee(t){return t!==t.root&&t.scroll?.wasRoot}const Bee=Sk({attachResizeListener:(t,e)=>Iy(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),YT={current:void 0},Ek=Sk({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!YT.current){const t=new Bee({});t.mount(window),t.setOptions({layoutScroll:!0}),YT.current=t}return YT.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Fee={pan:{Feature:aee},drag:{Feature:see,ProjectionNode:Ek,MeasureLayout:pk}};function qD(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const r="onHover"+n,s=i[r];s&&Wn.postRender(()=>s(e,m0(e)))}class Hee extends bd{mount(){const{current:e}=this.node;e&&(this.unmount=cQ(e,(n,i)=>(qD(this.node,i,"Start"),r=>qD(this.node,r,"End"))))}unmount(){}}class Gee extends bd{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=f0(Iy(this.node.current,"focus",()=>this.onFocus()),Iy(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function YD(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const r="onTap"+(n==="End"?"":n),s=i[r];s&&Wn.postRender(()=>s(e,m0(e)))}class Wee extends bd{mount(){const{current:e}=this.node;e&&(this.unmount=hQ(e,(n,i)=>(YD(this.node,i,"Start"),(r,{success:s})=>YD(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const QC=new WeakMap,KT=new WeakMap,jee=t=>{const e=QC.get(t.target);e&&e(t)},Xee=t=>{t.forEach(jee)};function qee({root:t,...e}){const n=t||document;KT.has(n)||KT.set(n,{});const i=KT.get(n),r=JSON.stringify(e);return i[r]||(i[r]=new IntersectionObserver(Xee,{root:t,...e})),i[r]}function Yee(t,e,n){const i=qee(e);return QC.set(t,n),i.observe(t),()=>{QC.delete(t),i.unobserve(t)}}const Kee={some:0,all:1};class $ee extends bd{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:r="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:Kee[r]},l=d=>{const{isIntersecting:h}=d;if(this.isInView===h||(this.isInView=h,s&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:m,onViewportLeave:g}=this.node.getProps(),y=h?m:g;y&&y(d)};return Yee(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Zee(e,n))&&this.startObserver()}unmount(){}}function Zee({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Qee={inView:{Feature:$ee},tap:{Feature:Wee},focus:{Feature:Gee},hover:{Feature:Hee}},Jee={layout:{ProjectionNode:Ek,MeasureLayout:pk}},ete={...kJ,...Qee,...Fee,...Jee},dm=sJ(ete,pJ);function tte(t){return H.useEffect(()=>()=>t(),[])}const nte=50,KD=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),ite=()=>({time:0,x:KD(),y:KD()}),rte={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function $D(t,e,n,i){const r=n[e],{length:s,position:o}=rte[e],l=r.current,d=n.time;r.current=t[`scroll${o}`],r.scrollLength=t[`scroll${s}`]-t[`client${s}`],r.offset.length=0,r.offset[0]=0,r.offset[1]=r.scrollLength,r.progress=lh(0,r.scrollLength,r.current);const h=i-d;r.velocity=h>nte?0:MA(r.current-l,h)}function ste(t,e,n){$D(t,"x",e,n),$D(t,"y",e,n),e.time=n}function ate(t,e){const n={x:0,y:0};let i=t;for(;i&&i!==e;)if(wV(i))n.x+=i.offsetLeft,n.y+=i.offsetTop,i=i.offsetParent;else if(i.tagName==="svg"){const r=i.getBoundingClientRect();i=i.parentElement;const s=i.getBoundingClientRect();n.x+=r.left-s.left,n.y+=r.top-s.top}else if(i instanceof SVGGraphicsElement){const{x:r,y:s}=i.getBBox();n.x+=r,n.y+=s;let o=null,l=i.parentNode;for(;!o;)l.tagName==="svg"&&(o=l),l=i.parentNode;i=o}else break;return n}const JC={start:0,center:.5,end:1};function ZD(t,e,n=0){let i=0;if(t in JC&&(t=JC[t]),typeof t=="string"){const r=parseFloat(t);t.endsWith("px")?i=r:t.endsWith("%")?t=r/100:t.endsWith("vw")?i=r/100*document.documentElement.clientWidth:t.endsWith("vh")?i=r/100*document.documentElement.clientHeight:t=r}return typeof t=="number"&&(i=e*t),n+i}const ote=[0,0];function lte(t,e,n,i){let r=Array.isArray(t)?t:ote,s=0,o=0;return typeof t=="number"?r=[t,t]:typeof t=="string"&&(t=t.trim(),t.includes(" ")?r=t.split(" "):r=[t,JC[t]?t:"0"]),s=ZD(r[0],n,i),o=ZD(r[1],e),s-o}const cte={All:[[0,0],[1,1]]},ute={x:0,y:0};function dte(t){return"getBBox"in t&&t.tagName!=="svg"?t.getBBox():{width:t.clientWidth,height:t.clientHeight}}function fte(t,e,n){const{offset:i=cte.All}=n,{target:r=t,axis:s="y"}=n,o=s==="y"?"height":"width",l=r!==t?ate(r,t):ute,d=r===t?{width:t.scrollWidth,height:t.scrollHeight}:dte(r),h={width:t.clientWidth,height:t.clientHeight};e[s].offset.length=0;let m=!e[s].interpolate;const g=i.length;for(let y=0;y<g;y++){const b=lte(i[y],h[o],d[o],l[s]);!m&&b!==e[s].interpolatorOffsets[y]&&(m=!0),e[s].offset[y]=b}m&&(e[s].interpolate=dV(e[s].offset,IA(i),{clamp:!1}),e[s].interpolatorOffsets=[...e[s].offset]),e[s].progress=Jl(0,1,e[s].interpolate(e[s].current))}function hte(t,e=t,n){if(n.x.targetOffset=0,n.y.targetOffset=0,e!==t){let i=e;for(;i&&i!==t;)n.x.targetOffset+=i.offsetLeft,n.y.targetOffset+=i.offsetTop,i=i.offsetParent}n.x.targetLength=e===t?e.scrollWidth:e.clientWidth,n.y.targetLength=e===t?e.scrollHeight:e.clientHeight,n.x.containerLength=t.clientWidth,n.y.containerLength=t.clientHeight}function pte(t,e,n,i={}){return{measure:r=>{hte(t,i.target,n),ste(t,n,r),(i.offset||i.target)&&fte(t,n,i)},notify:()=>e(n)}}const Mv=new WeakMap,QD=new WeakMap,$T=new WeakMap,JD=t=>t===document.scrollingElement?window:t;function Tk(t,{container:e=document.scrollingElement,...n}={}){if(!e)return ia;let i=$T.get(e);i||(i=new Set,$T.set(e,i));const r=ite(),s=pte(e,t,r,n);if(i.add(s),!Mv.has(e)){const l=()=>{for(const g of i)g.measure(Er.timestamp);Wn.preUpdate(d)},d=()=>{for(const g of i)g.notify()},h=()=>Wn.read(l);Mv.set(e,h);const m=JD(e);window.addEventListener("resize",h,{passive:!0}),e!==document.documentElement&&QD.set(e,_Q(e,h)),m.addEventListener("scroll",h,{passive:!0}),h()}const o=Mv.get(e);return Wn.read(o,!1,!0),()=>{Yo(o);const l=$T.get(e);if(!l||(l.delete(s),l.size))return;const d=Mv.get(e);Mv.delete(e),d&&(JD(e).removeEventListener("scroll",d),QD.get(e)?.(),window.removeEventListener("resize",d))}}const eP=new Map;function mte(t){const e={value:0},n=Tk(i=>{e.value=i[t.axis].progress*100},t);return{currentTime:e,cancel:n}}function Mk({source:t,container:e,...n}){const{axis:i}=n;t&&(e=t);const r=eP.get(e)??new Map;eP.set(e,r);const s=n.target??"self",o=r.get(s)??{},l=i+(n.offset??[]).join(",");return o[l]||(o[l]=!n.target&&gV()?new ScrollTimeline({source:e,axis:i}):mte({container:e,...n})),o[l]}function gte(t,e){const n=Mk(e);return t.attachTimeline({timeline:e.target?void 0:n,observe:i=>(i.pause(),DV(r=>{i.time=i.iterationDuration*r},n))})}function vte(t){return t.length===2}function yte(t,e){return vte(t)?Tk(n=>{t(n[e.axis].progress,n)},e):DV(t,Mk(e))}function xte(t,{axis:e="y",container:n=document.scrollingElement,...i}={}){if(!n)return ia;const r={axis:e,container:n,...i};return typeof t=="function"?yte(t,r):gte(t,r)}const bte=()=>({scrollX:Bl(0),scrollY:Bl(0),scrollXProgress:Bl(0),scrollYProgress:Bl(0)}),Tb=t=>t?!t.current:!1;function Ste({container:t,target:e,...n}={}){const i=a_(bte),r=H.useRef(null),s=H.useRef(!1),o=H.useCallback(()=>(r.current=xte((l,{x:d,y:h})=>{i.scrollX.set(d.current),i.scrollXProgress.set(d.progress),i.scrollY.set(h.current),i.scrollYProgress.set(h.progress)},{...n,container:t?.current||void 0,target:e?.current||void 0}),()=>{r.current?.()}),[t,e,JSON.stringify(n.offset)]);return UU(()=>{if(s.current=!1,Tb(t)||Tb(e)){s.current=!0;return}else return o()},[o]),H.useEffect(()=>{if(s.current)return wy(!Tb(t)),wy(!Tb(e)),o()},[o]),i}function eR(t){return typeof t=="object"&&!Array.isArray(t)}function Ck(t,e,n,i){return typeof t=="string"&&eR(e)?I1(t,n,i):t instanceof NodeList?Array.from(t):Array.isArray(t)?t:[t]}function _te(t,e,n){return t*(e+1)}function tP(t,e,n,i){return typeof e=="number"?e:e.startsWith("-")||e.startsWith("+")?Math.max(0,t+parseFloat(e)):e==="<"?n:e.startsWith("<")?Math.max(0,n+parseFloat(e.slice(1))):i.get(e)??t}function Ete(t,e,n){for(let i=0;i<t.length;i++){const r=t[i];r.at>e&&r.at<n&&(d0(t,r),i--)}}function Tte(t,e,n,i,r,s){Ete(t,r,s);for(let o=0;o<e.length;o++)t.push({value:e[o],at:mi(r,s,i[o]),easing:ZU(n,o)})}function Mte(t,e){for(let n=0;n<t.length;n++)t[n]=t[n]/(e+1)}function Cte(t,e){return t.at===e.at?t.value===null?1:e.value===null?-1:0:t.at-e.at}const wte="easeInOut";function Ate(t,{defaultTransition:e={},...n}={},i,r){const s=e.duration||.3,o=new Map,l=new Map,d={},h=new Map;let m=0,g=0,y=0;for(let b=0;b<t.length;b++){const S=t[b];if(typeof S=="string"){h.set(S,g);continue}else if(!Array.isArray(S)){h.set(S.name,tP(g,S.at,m,h));continue}let[C,T,_={}]=S;_.at!==void 0&&(g=tP(g,_.at,m,h));let w=0;const R=(N,D,I,V=0,B=0)=>{const L=Rte(N),{delay:z=0,times:F=IA(L),type:j="keyframes",repeat:Z,repeatType:se,repeatDelay:ie=0,...k}=D;let{ease:q=e.ease||"easeOut",duration:$}=D;const ne=typeof z=="function"?z(V,B):z,G=L.length,te=kA(j)?j:r?.[j||"keyframes"];if(G<=2&&te){let qe=100;if(G===2&&Dte(L)){const de=L[1]-L[0];qe=Math.abs(de)}const me={...k};$!==void 0&&(me.duration=Wo($));const Pe=cV(me,qe,te);q=Pe.ease,$=Pe.duration}$??($=s);const ve=g+ne;F.length===1&&F[0]===0&&(F[1]=1);const Me=F.length-L.length;if(Me>0&&fV(F,Me),L.length===1&&L.unshift(null),Z){$=_te($,Z);const qe=[...L],me=[...F];q=Array.isArray(q)?[...q]:[q];const Pe=[...q];for(let de=0;de<Z;de++){L.push(...qe);for(let _e=0;_e<qe.length;_e++)F.push(me[_e]+(de+1)),q.push(_e===0?"linear":ZU(Pe,_e-1))}Mte(F,Z)}const De=ve+$;Tte(I,L,q,F,ve,De),w=Math.max(ne+$,w),y=Math.max(De,y)};if(Mr(C)){const N=nP(C,l);R(T,_,iP("default",N))}else{const N=Ck(C,T,i,d),D=N.length;for(let I=0;I<D;I++){T=T,_=_;const V=N[I],B=nP(V,l);for(const L in T)R(T[L],Ote(_,L),iP(L,B),I,D)}}m=g,g+=w}return l.forEach((b,S)=>{for(const C in b){const T=b[C];T.sort(Cte);const _=[],w=[],R=[];for(let D=0;D<T.length;D++){const{at:I,value:V,easing:B}=T[D];_.push(V),w.push(lh(0,y,I)),R.push(B||"easeOut")}w[0]!==0&&(w.unshift(0),_.unshift(_[0]),R.unshift(wte)),w[w.length-1]!==1&&(w.push(1),_.push(null)),o.has(S)||o.set(S,{keyframes:{},transition:{}});const N=o.get(S);N.keyframes[C]=_,N.transition[C]={...e,duration:y,ease:R,times:w,...n}}}),o}function nP(t,e){return!e.has(t)&&e.set(t,{}),e.get(t)}function iP(t,e){return e[t]||(e[t]=[]),e[t]}function Rte(t){return Array.isArray(t)?t:[t]}function Ote(t,e){return t&&t[e]?{...t,...t[e]}:{...t}}const Nte=t=>typeof t=="number",Dte=t=>t.every(Nte);function Pte(t,e){return t in e}class Ite extends JV{constructor(){super(...arguments),this.type="object"}readValueFromInstance(e,n){if(Pte(n,e)){const i=e[n];if(typeof i=="string"||typeof i=="number")return i}}getBaseTargetFromProps(){}removeValueFromRenderState(e,n){delete n.output[e]}measureInstanceViewportBox(){return Ni()}build(e,n){Object.assign(e.output,n)}renderInstance(e,{output:n}){Object.assign(e,n)}sortInstanceNodePosition(){return 0}}function Lte(t){const e={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},n=L1(t)&&!PV(t)?new rk(e):new nk(e);n.mount(t),Py.set(t,n)}function zte(t){const e={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},n=new Ite(e);n.mount(t),Py.set(t,n)}function Ute(t,e){return Mr(t)||typeof t=="number"||typeof t=="string"&&!eR(e)}function wk(t,e,n,i){const r=[];if(Ute(t,e))r.push(mk(t,eR(e)&&e.default||e,n&&(n.default||n)));else{const s=Ck(t,e,i),o=s.length;for(let l=0;l<o;l++){const d=s[l],h=d instanceof Element?Lte:zte;Py.has(d)||h(d);const m=Py.get(d),g={...n};"delay"in g&&typeof g.delay=="function"&&(g.delay=g.delay(l,o)),r.push(...JA(m,{...e,transition:g},{}))}}return r}function Vte(t,e,n){const i=[];return Ate(t,e,n,{spring:Oy}).forEach(({keyframes:s,transition:o},l)=>{i.push(...wk(l,s,o))}),i}function kte(t){return Array.isArray(t)&&t.some(Array.isArray)}function Bte(t){function e(n,i,r){let s=[],o;if(kte(n))s=Vte(n,i,t);else{const{onComplete:d,...h}=r||{};typeof d=="function"&&(o=d),s=wk(n,i,h,t)}const l=new qZ(s);return o&&l.finished.then(o),t&&(t.animations.push(l),l.finished.then(()=>{d0(t.animations,l)})),l}return e}function Fte(){const t=a_(()=>({current:null,animations:[]})),e=a_(()=>Bte(t));return tte(()=>{t.animations.forEach(n=>n.stop()),t.animations.length=0}),[t,e]}const Hte={some:0,all:1};function Gte(t,e,{root:n,margin:i,amount:r="some"}={}){const s=I1(t),o=new WeakMap,l=h=>{h.forEach(m=>{const g=o.get(m.target);if(m.isIntersecting!==!!g)if(m.isIntersecting){const y=e(m.target,m);typeof y=="function"?o.set(m.target,y):d.unobserve(m.target)}else typeof g=="function"&&(g(m),o.delete(m.target))})},d=new IntersectionObserver(l,{root:n,rootMargin:i,threshold:typeof r=="number"?r:Hte[r]});return s.forEach(h=>d.observe(h)),()=>d.disconnect()}function Ak(t,{root:e,margin:n,amount:i,once:r=!1,initial:s=!1}={}){const[o,l]=H.useState(s);return H.useEffect(()=>{if(!t.current||r&&o)return;const d=()=>(l(!0),r?void 0:()=>l(!1)),h={root:e&&e.current||void 0,margin:n,amount:i};return Gte(t.current,d,h)},[e,t,n,r,i]),o}const Wte=(t,e,n,i)=>{const r=[n,{code:e,...i||{}}];if(t?.services?.logger?.forward)return t.services.logger.forward(r,"warn","react-i18next::",!0);nh(r[0])&&(r[0]=`react-i18next:: ${r[0]}`),t?.services?.logger?.warn?t.services.logger.warn(...r):console?.warn&&console.warn(...r)},rP={},ew=(t,e,n,i)=>{nh(n)&&rP[n]||(nh(n)&&(rP[n]=new Date),Wte(t,e,n,i))},Rk=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}},tw=(t,e,n)=>{t.loadNamespaces(e,Rk(t,n))},sP=(t,e,n,i)=>{if(nh(n)&&(n=[n]),t.options.preload&&t.options.preload.indexOf(e)>-1)return tw(t,n,i);n.forEach(r=>{t.options.ns.indexOf(r)<0&&t.options.ns.push(r)}),t.loadLanguages(e,Rk(t,i))},jte=(t,e,n={})=>!e.languages||!e.languages.length?(ew(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(t,{lng:n.lng,precheck:(i,r)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&i.services.backendConnector.backend&&i.isLanguageChangingTo&&!r(i.isLanguageChangingTo,t))return!1}}),nh=t=>typeof t=="string",Xte=t=>typeof t=="object"&&t!==null,qte=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Yte={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},Kte=t=>Yte[t],$te=t=>t.replace(qte,Kte);let nw={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:$te};const Zte=(t={})=>{nw={...nw,...t}},Qte=()=>nw;let Ok;const Jte=t=>{Ok=t},ene=()=>Ok,tne={type:"3rdParty",init(t){Zte(t.options.react),Jte(t)}},nne=H.createContext();class ine{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const rne=(t,e)=>{const n=H.useRef();return H.useEffect(()=>{n.current=t},[t,e]),n.current},Nk=(t,e,n,i)=>t.getFixedT(e,n,i),sne=(t,e,n,i)=>H.useCallback(Nk(t,e,n,i),[t,e,n,i]),Dk=(t,e={})=>{const{i18n:n}=e,{i18n:i,defaultNS:r}=H.useContext(nne)||{},s=n||i||ene();if(s&&!s.reportNamespaces&&(s.reportNamespaces=new ine),!s){ew(s,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const N=(I,V)=>nh(V)?V:Xte(V)&&nh(V.defaultValue)?V.defaultValue:Array.isArray(I)?I[I.length-1]:I,D=[N,{},!1];return D.t=N,D.i18n={},D.ready=!1,D}s.options.react?.wait&&ew(s,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const o={...Qte(),...s.options.react,...e},{useSuspense:l,keyPrefix:d}=o;let h=r||s.options?.defaultNS;h=nh(h)?[h]:h||["translation"],s.reportNamespaces.addUsedNamespaces?.(h);const m=(s.isInitialized||s.initializedStoreOnce)&&h.every(N=>jte(N,s,o)),g=sne(s,e.lng||null,o.nsMode==="fallback"?h:h[0],d),y=()=>g,b=()=>Nk(s,e.lng||null,o.nsMode==="fallback"?h:h[0],d),[S,C]=H.useState(y);let T=h.join();e.lng&&(T=`${e.lng}${T}`);const _=rne(T),w=H.useRef(!0);H.useEffect(()=>{const{bindI18n:N,bindI18nStore:D}=o;w.current=!0,!m&&!l&&(e.lng?sP(s,e.lng,h,()=>{w.current&&C(b)}):tw(s,h,()=>{w.current&&C(b)})),m&&_&&_!==T&&w.current&&C(b);const I=()=>{w.current&&C(b)};return N&&s?.on(N,I),D&&s?.store.on(D,I),()=>{w.current=!1,s&&N&&N?.split(" ").forEach(V=>s.off(V,I)),D&&s&&D.split(" ").forEach(V=>s.store.off(V,I))}},[s,T]),H.useEffect(()=>{w.current&&m&&C(y)},[s,d,m]);const R=[S,s,m];if(R.t=S,R.i18n=s,R.ready=m,m||!m&&!l)return R;throw new Promise(N=>{e.lng?sP(s,e.lng,h,()=>N()):tw(s,h,()=>N())})},aP="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*()_+-={}[];:,.<>/?";function iw(){const t=Math.floor(Math.random()*aP.length);return aP.charAt(t)}function oP(t){if(!t)return"";let e="";for(let n=0;n<t.length;n+=1){const i=t[n];e+=i===" "?" ":iw()}return e}const ane=({text:t,revealDelayMs:e=50,flipDelayMs:n=50})=>{const i=H.useRef(null),r=Ak(i,{once:!0}),[s,o]=H.useState(0),l=H.useRef(null),d=H.useRef(0),h=H.useRef(0),m=H.useRef(t?oP(t).split(""):[]);return H.useEffect(()=>{if(!r)return;const g=t?oP(t):"";m.current=g.split(""),d.current=performance.now(),h.current=d.current,o(0);let y=!1;const b=S=>{if(y)return;const C=S-d.current,T=t.length,_=Math.min(T,Math.floor(C/Math.max(1,e)));if(o(_),_>=T)return;if(S-h.current>=Math.max(0,n)){for(let R=0;R<T;R+=1)R>=_&&(t[R]!==" "?m.current[R]=iw():m.current[R]=" ");h.current=S}l.current=requestAnimationFrame(b)};return l.current=requestAnimationFrame(b),()=>{y=!0,l.current!==null&&cancelAnimationFrame(l.current)}},[r,t,e,n]),t?pe.jsx(dm.span,{ref:i,"aria-label":t,role:"text",children:t.split("").map((g,y)=>{const S=y<s?g:g===" "?" ":m.current[y]??iw();return pe.jsx("span",{children:S},y)})}):null},ZT=({text:t})=>{const e=H.useRef(0),{t:n}=Dk();return console.log(e.current),e.current?(e.current++,pe.jsx(ane,{text:n(t)})):(e.current++,pe.jsx(Qv,{children:n(t)}))},one=3e3,lne=({text:t,textProps:e,cursorProps:n})=>{const i=t.split(""),[r,s]=Fte(),o=Ak(r);H.useEffect(()=>{o&&setTimeout(()=>{s("span",{display:"inline-block",opacity:1,width:"fit-content",visibility:"visible"},{duration:0,delay:TQ(.3),ease:"easeInOut"})},one)},[o]);const l=()=>pe.jsx(ts,{asChild:!0,display:"inline-flex",children:pe.jsx(dm.div,{ref:r,children:pe.jsx(ts,{display:"inline-block",children:i.map((d,h)=>d===" "?pe.jsx(Qv,{asChild:!0,opacity:0,visibility:"hidden",display:"none",wordSpacing:"1rem",children:pe.jsx(dm.span,{initial:{},children:""})},`char-${h}`):pe.jsx(Qv,{asChild:!0,color:"gray.50",opacity:0,visibility:"hidden",display:"none",...e,children:pe.jsx(dm.span,{initial:{},children:d})},`char-${h}`))})})});return pe.jsxs(ts,{display:"flex",alignItems:"center",fontWeight:"bold",textAlign:"center",children:[l(),pe.jsx(Qv,{asChild:!0,display:"inline-block",w:"10px",h:4,bg:"gray.50",...n,children:pe.jsx(dm.span,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.8,repeat:1/0,repeatType:"reverse"}})})]})};/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const g0="180",cne={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},une={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},Pk=0,rw=1,Ik=2,dne=3,Lk=0,k1=1,ay=2,ko=3,$c=0,Os=1,Vl=2,Gc=0,ih=1,d_=2,sw=3,aw=4,zk=5,cd=100,Uk=101,Vk=102,kk=103,Bk=104,Fk=200,Hk=201,Gk=202,Wk=203,f_=204,h_=205,jk=206,Xk=207,qk=208,Yk=209,Kk=210,$k=211,Zk=212,Qk=213,Jk=214,p_=0,m_=1,g_=2,ch=3,v_=4,y_=5,x_=6,b_=7,v0=0,eB=1,tB=2,ql=0,nB=1,iB=2,rB=3,tR=4,sB=5,aB=6,oB=7,ow="attached",lB="detached",B1=300,Zc=301,gd=302,Ly=303,zy=304,qm=306,Uy=1e3,ro=1001,Vy=1002,kr=1003,nR=1004,fne=1004,fm=1005,hne=1005,cr=1006,oy=1007,pne=1007,Fl=1008,mne=1008,ao=1009,iR=1010,rR=1011,wm=1012,F1=1013,Qc=1014,na=1015,Ym=1016,H1=1017,G1=1018,Am=1020,sR=35902,aR=35899,oR=1021,lR=1022,ns=1023,Rm=1026,Om=1027,W1=1028,y0=1029,cR=1030,j1=1031,gne=1032,X1=1033,ly=33776,cy=33777,uy=33778,dy=33779,S_=35840,__=35841,E_=35842,T_=35843,M_=36196,C_=37492,w_=37496,A_=37808,R_=37809,O_=37810,N_=37811,D_=37812,P_=37813,I_=37814,L_=37815,z_=37816,U_=37817,V_=37818,k_=37819,B_=37820,F_=37821,H_=36492,G_=36494,W_=36495,j_=36283,X_=36284,q_=36285,Y_=36286,cB=2200,uB=2201,dB=2202,ky=2300,K_=2301,kS=2302,Yf=2400,Kf=2401,By=2402,q1=2500,uR=2501,vne=0,yne=1,xne=2,fB=3200,hB=3201,bne=3202,Sne=3203,Sd=0,pB=1,Fc="",es="srgb",vd="srgb-linear",Fy="linear",Gn="srgb",_ne=0,kf=7680,Ene=7681,Tne=7682,Mne=7683,Cne=34055,wne=34056,Ane=5386,Rne=512,One=513,Nne=514,Dne=515,Pne=516,Ine=517,Lne=518,lw=519,mB=512,gB=513,vB=514,dR=515,yB=516,xB=517,bB=518,SB=519,Hy=35044,zne=35048,Une=35040,Vne=35045,kne=35049,Bne=35041,Fne=35046,Hne=35050,Gne=35042,Wne="100",cw="300 es",Ca=2e3,Nm=2001,jne={COMPUTE:"compute",RENDER:"render"},Xne={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},qne={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FIRST:"first",EITHER:"either"};class ic{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(n)===-1&&i[e].push(n)}hasEventListener(e,n){const i=this._listeners;return i===void 0?!1:i[e]!==void 0&&i[e].indexOf(n)!==-1}removeEventListener(e,n){const i=this._listeners;if(i===void 0)return;const r=i[e];if(r!==void 0){const s=r.indexOf(n);s!==-1&&r.splice(s,1)}}dispatchEvent(e){const n=this._listeners;if(n===void 0)return;const i=n[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let s=0,o=r.length;s<o;s++)r[s].call(this,e);e.target=null}}}const $r=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let lP=1234567;const rh=Math.PI/180,Dm=180/Math.PI;function Ra(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return($r[t&255]+$r[t>>8&255]+$r[t>>16&255]+$r[t>>24&255]+"-"+$r[e&255]+$r[e>>8&255]+"-"+$r[e>>16&15|64]+$r[e>>24&255]+"-"+$r[n&63|128]+$r[n>>8&255]+"-"+$r[n>>16&255]+$r[n>>24&255]+$r[i&255]+$r[i>>8&255]+$r[i>>16&255]+$r[i>>24&255]).toLowerCase()}function Wt(t,e,n){return Math.max(e,Math.min(n,t))}function fR(t,e){return(t%e+e)%e}function Yne(t,e,n,i,r){return i+(t-e)*(r-i)/(n-e)}function Kne(t,e,n){return t!==e?(n-t)/(e-t):0}function fy(t,e,n){return(1-n)*t+n*e}function $ne(t,e,n,i){return fy(t,e,1-Math.exp(-n*i))}function Zne(t,e=1){return e-Math.abs(fR(t,e*2)-e)}function Qne(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function Jne(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function eie(t,e){return t+Math.floor(Math.random()*(e-t+1))}function tie(t,e){return t+Math.random()*(e-t)}function nie(t){return t*(.5-Math.random())}function iie(t){t!==void 0&&(lP=t);let e=lP+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function rie(t){return t*rh}function sie(t){return t*Dm}function aie(t){return(t&t-1)===0&&t!==0}function oie(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function lie(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function cie(t,e,n,i,r){const s=Math.cos,o=Math.sin,l=s(n/2),d=o(n/2),h=s((e+i)/2),m=o((e+i)/2),g=s((e-i)/2),y=o((e-i)/2),b=s((i-e)/2),S=o((i-e)/2);switch(r){case"XYX":t.set(l*m,d*g,d*y,l*h);break;case"YZY":t.set(d*y,l*m,d*g,l*h);break;case"ZXZ":t.set(d*g,d*y,l*m,l*h);break;case"XZX":t.set(l*m,d*S,d*b,l*h);break;case"YXY":t.set(d*b,l*m,d*S,l*h);break;case"ZYZ":t.set(d*S,d*b,l*m,l*h);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function As(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function sn(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const uie={DEG2RAD:rh,RAD2DEG:Dm,generateUUID:Ra,clamp:Wt,euclideanModulo:fR,mapLinear:Yne,inverseLerp:Kne,lerp:fy,damp:$ne,pingpong:Zne,smoothstep:Qne,smootherstep:Jne,randInt:eie,randFloat:tie,randFloatSpread:nie,seededRandom:iie,degToRad:rie,radToDeg:sie,isPowerOfTwo:aie,ceilPowerOfTwo:oie,floorPowerOfTwo:lie,setQuaternionFromProperEuler:cie,normalize:sn,denormalize:As};class Ge{constructor(e=0,n=0){Ge.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,i=this.y,r=e.elements;return this.x=r[0]*n+r[3]*i+r[6],this.y=r[1]*n+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Wt(this.x,e.x,n.x),this.y=Wt(this.y,e.y,n.y),this}clampScalar(e,n){return this.x=Wt(this.x,e,n),this.y=Wt(this.y,e,n),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Wt(i,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const i=this.dot(e)/n;return Math.acos(Wt(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,i=this.y-e.y;return n*n+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const i=Math.cos(n),r=Math.sin(n),s=this.x-e.x,o=this.y-e.y;return this.x=s*i-o*r+e.x,this.y=s*r+o*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class ra{constructor(e=0,n=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=i,this._w=r}static slerpFlat(e,n,i,r,s,o,l){let d=i[r+0],h=i[r+1],m=i[r+2],g=i[r+3];const y=s[o+0],b=s[o+1],S=s[o+2],C=s[o+3];if(l===0){e[n+0]=d,e[n+1]=h,e[n+2]=m,e[n+3]=g;return}if(l===1){e[n+0]=y,e[n+1]=b,e[n+2]=S,e[n+3]=C;return}if(g!==C||d!==y||h!==b||m!==S){let T=1-l;const _=d*y+h*b+m*S+g*C,w=_>=0?1:-1,R=1-_*_;if(R>Number.EPSILON){const D=Math.sqrt(R),I=Math.atan2(D,_*w);T=Math.sin(T*I)/D,l=Math.sin(l*I)/D}const N=l*w;if(d=d*T+y*N,h=h*T+b*N,m=m*T+S*N,g=g*T+C*N,T===1-l){const D=1/Math.sqrt(d*d+h*h+m*m+g*g);d*=D,h*=D,m*=D,g*=D}}e[n]=d,e[n+1]=h,e[n+2]=m,e[n+3]=g}static multiplyQuaternionsFlat(e,n,i,r,s,o){const l=i[r],d=i[r+1],h=i[r+2],m=i[r+3],g=s[o],y=s[o+1],b=s[o+2],S=s[o+3];return e[n]=l*S+m*g+d*b-h*y,e[n+1]=d*S+m*y+h*g-l*b,e[n+2]=h*S+m*b+l*y-d*g,e[n+3]=m*S-l*g-d*y-h*b,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,i,r){return this._x=e,this._y=n,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const i=e._x,r=e._y,s=e._z,o=e._order,l=Math.cos,d=Math.sin,h=l(i/2),m=l(r/2),g=l(s/2),y=d(i/2),b=d(r/2),S=d(s/2);switch(o){case"XYZ":this._x=y*m*g+h*b*S,this._y=h*b*g-y*m*S,this._z=h*m*S+y*b*g,this._w=h*m*g-y*b*S;break;case"YXZ":this._x=y*m*g+h*b*S,this._y=h*b*g-y*m*S,this._z=h*m*S-y*b*g,this._w=h*m*g+y*b*S;break;case"ZXY":this._x=y*m*g-h*b*S,this._y=h*b*g+y*m*S,this._z=h*m*S+y*b*g,this._w=h*m*g-y*b*S;break;case"ZYX":this._x=y*m*g-h*b*S,this._y=h*b*g+y*m*S,this._z=h*m*S-y*b*g,this._w=h*m*g+y*b*S;break;case"YZX":this._x=y*m*g+h*b*S,this._y=h*b*g+y*m*S,this._z=h*m*S-y*b*g,this._w=h*m*g-y*b*S;break;case"XZY":this._x=y*m*g-h*b*S,this._y=h*b*g-y*m*S,this._z=h*m*S+y*b*g,this._w=h*m*g+y*b*S;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const i=n/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,i=n[0],r=n[4],s=n[8],o=n[1],l=n[5],d=n[9],h=n[2],m=n[6],g=n[10],y=i+l+g;if(y>0){const b=.5/Math.sqrt(y+1);this._w=.25/b,this._x=(m-d)*b,this._y=(s-h)*b,this._z=(o-r)*b}else if(i>l&&i>g){const b=2*Math.sqrt(1+i-l-g);this._w=(m-d)/b,this._x=.25*b,this._y=(r+o)/b,this._z=(s+h)/b}else if(l>g){const b=2*Math.sqrt(1+l-i-g);this._w=(s-h)/b,this._x=(r+o)/b,this._y=.25*b,this._z=(d+m)/b}else{const b=2*Math.sqrt(1+g-i-l);this._w=(o-r)/b,this._x=(s+h)/b,this._y=(d+m)/b,this._z=.25*b}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let i=e.dot(n)+1;return i<1e-8?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Wt(this.dot(e),-1,1)))}rotateTowards(e,n){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,n/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const i=e._x,r=e._y,s=e._z,o=e._w,l=n._x,d=n._y,h=n._z,m=n._w;return this._x=i*m+o*l+r*h-s*d,this._y=r*m+o*d+s*l-i*h,this._z=s*m+o*h+i*d-r*l,this._w=o*m-i*l-r*d-s*h,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const i=this._x,r=this._y,s=this._z,o=this._w;let l=o*e._w+i*e._x+r*e._y+s*e._z;if(l<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,l=-l):this.copy(e),l>=1)return this._w=o,this._x=i,this._y=r,this._z=s,this;const d=1-l*l;if(d<=Number.EPSILON){const b=1-n;return this._w=b*o+n*this._w,this._x=b*i+n*this._x,this._y=b*r+n*this._y,this._z=b*s+n*this._z,this.normalize(),this}const h=Math.sqrt(d),m=Math.atan2(h,l),g=Math.sin((1-n)*m)/h,y=Math.sin(n*m)/h;return this._w=o*g+this._w*y,this._x=i*g+this._x*y,this._y=r*g+this._y*y,this._z=s*g+this._z*y,this._onChangeCallback(),this}slerpQuaternions(e,n,i){return this.copy(e).slerp(n,i)}random(){const e=2*Math.PI*Math.random(),n=2*Math.PI*Math.random(),i=Math.random(),r=Math.sqrt(1-i),s=Math.sqrt(i);return this.set(r*Math.sin(e),r*Math.cos(e),s*Math.sin(n),s*Math.cos(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class J{constructor(e=0,n=0,i=0){J.prototype.isVector3=!0,this.x=e,this.y=n,this.z=i}set(e,n,i){return i===void 0&&(i=this.z),this.x=e,this.y=n,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(cP.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(cP.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*n+s[3]*i+s[6]*r,this.y=s[1]*n+s[4]*i+s[7]*r,this.z=s[2]*n+s[5]*i+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,i=this.y,r=this.z,s=e.elements,o=1/(s[3]*n+s[7]*i+s[11]*r+s[15]);return this.x=(s[0]*n+s[4]*i+s[8]*r+s[12])*o,this.y=(s[1]*n+s[5]*i+s[9]*r+s[13])*o,this.z=(s[2]*n+s[6]*i+s[10]*r+s[14])*o,this}applyQuaternion(e){const n=this.x,i=this.y,r=this.z,s=e.x,o=e.y,l=e.z,d=e.w,h=2*(o*r-l*i),m=2*(l*n-s*r),g=2*(s*i-o*n);return this.x=n+d*h+o*g-l*m,this.y=i+d*m+l*h-s*g,this.z=r+d*g+s*m-o*h,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*n+s[4]*i+s[8]*r,this.y=s[1]*n+s[5]*i+s[9]*r,this.z=s[2]*n+s[6]*i+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Wt(this.x,e.x,n.x),this.y=Wt(this.y,e.y,n.y),this.z=Wt(this.z,e.z,n.z),this}clampScalar(e,n){return this.x=Wt(this.x,e,n),this.y=Wt(this.y,e,n),this.z=Wt(this.z,e,n),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Wt(i,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this.z=e.z+(n.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const i=e.x,r=e.y,s=e.z,o=n.x,l=n.y,d=n.z;return this.x=r*d-s*l,this.y=s*o-i*d,this.z=i*l-r*o,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const i=e.dot(this)/n;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return QT.copy(this).projectOnVector(e),this.sub(QT)}reflect(e){return this.sub(QT.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const i=this.dot(e)/n;return Math.acos(Wt(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return n*n+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,i){const r=Math.sin(n)*e;return this.x=r*Math.sin(i),this.y=Math.cos(n)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,i){return this.x=e*Math.sin(n),this.y=i,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=i,this.z=r,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,n=Math.random()*2-1,i=Math.sqrt(1-n*n);return this.x=i*Math.cos(e),this.y=n,this.z=i*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const QT=new J,cP=new ra;class nn{constructor(e,n,i,r,s,o,l,d,h){nn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,i,r,s,o,l,d,h)}set(e,n,i,r,s,o,l,d,h){const m=this.elements;return m[0]=e,m[1]=r,m[2]=l,m[3]=n,m[4]=s,m[5]=d,m[6]=i,m[7]=o,m[8]=h,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,i=e.elements;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],this}extractBasis(e,n,i){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const i=e.elements,r=n.elements,s=this.elements,o=i[0],l=i[3],d=i[6],h=i[1],m=i[4],g=i[7],y=i[2],b=i[5],S=i[8],C=r[0],T=r[3],_=r[6],w=r[1],R=r[4],N=r[7],D=r[2],I=r[5],V=r[8];return s[0]=o*C+l*w+d*D,s[3]=o*T+l*R+d*I,s[6]=o*_+l*N+d*V,s[1]=h*C+m*w+g*D,s[4]=h*T+m*R+g*I,s[7]=h*_+m*N+g*V,s[2]=y*C+b*w+S*D,s[5]=y*T+b*R+S*I,s[8]=y*_+b*N+S*V,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],i=e[1],r=e[2],s=e[3],o=e[4],l=e[5],d=e[6],h=e[7],m=e[8];return n*o*m-n*l*h-i*s*m+i*l*d+r*s*h-r*o*d}invert(){const e=this.elements,n=e[0],i=e[1],r=e[2],s=e[3],o=e[4],l=e[5],d=e[6],h=e[7],m=e[8],g=m*o-l*h,y=l*d-m*s,b=h*s-o*d,S=n*g+i*y+r*b;if(S===0)return this.set(0,0,0,0,0,0,0,0,0);const C=1/S;return e[0]=g*C,e[1]=(r*h-m*i)*C,e[2]=(l*i-r*o)*C,e[3]=y*C,e[4]=(m*n-r*d)*C,e[5]=(r*s-l*n)*C,e[6]=b*C,e[7]=(i*d-h*n)*C,e[8]=(o*n-i*s)*C,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,i,r,s,o,l){const d=Math.cos(s),h=Math.sin(s);return this.set(i*d,i*h,-i*(d*o+h*l)+o+e,-r*h,r*d,-r*(-h*o+d*l)+l+n,0,0,1),this}scale(e,n){return this.premultiply(JT.makeScale(e,n)),this}rotate(e){return this.premultiply(JT.makeRotation(-e)),this}translate(e,n){return this.premultiply(JT.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,-i,0,i,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,i=e.elements;for(let r=0;r<9;r++)if(n[r]!==i[r])return!1;return!0}fromArray(e,n=0){for(let i=0;i<9;i++)this.elements[i]=e[i+n];return this}toArray(e=[],n=0){const i=this.elements;return e[n]=i[0],e[n+1]=i[1],e[n+2]=i[2],e[n+3]=i[3],e[n+4]=i[4],e[n+5]=i[5],e[n+6]=i[6],e[n+7]=i[7],e[n+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const JT=new nn;function _B(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const die={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function hm(t,e){return new die[t](e)}function Gy(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function EB(){const t=Gy("canvas");return t.style.display="block",t}const uP={};function Wy(t){t in uP||(uP[t]=!0,console.warn(t))}function fie(t,e,n){return new Promise(function(i,r){function s(){switch(t.clientWaitSync(e,t.SYNC_FLUSH_COMMANDS_BIT,0)){case t.WAIT_FAILED:r();break;case t.TIMEOUT_EXPIRED:setTimeout(s,n);break;default:i()}}setTimeout(s,n)})}const dP=new nn().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),fP=new nn().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function hie(){const t={enabled:!0,workingColorSpace:vd,spaces:{},convert:function(r,s,o){return this.enabled===!1||s===o||!s||!o||(this.spaces[s].transfer===Gn&&(r.r=Wc(r.r),r.g=Wc(r.g),r.b=Wc(r.b)),this.spaces[s].primaries!==this.spaces[o].primaries&&(r.applyMatrix3(this.spaces[s].toXYZ),r.applyMatrix3(this.spaces[o].fromXYZ)),this.spaces[o].transfer===Gn&&(r.r=Sm(r.r),r.g=Sm(r.g),r.b=Sm(r.b))),r},workingToColorSpace:function(r,s){return this.convert(r,this.workingColorSpace,s)},colorSpaceToWorking:function(r,s){return this.convert(r,s,this.workingColorSpace)},getPrimaries:function(r){return this.spaces[r].primaries},getTransfer:function(r){return r===Fc?Fy:this.spaces[r].transfer},getToneMappingMode:function(r){return this.spaces[r].outputColorSpaceConfig.toneMappingMode||"standard"},getLuminanceCoefficients:function(r,s=this.workingColorSpace){return r.fromArray(this.spaces[s].luminanceCoefficients)},define:function(r){Object.assign(this.spaces,r)},_getMatrix:function(r,s,o){return r.copy(this.spaces[s].toXYZ).multiply(this.spaces[o].fromXYZ)},_getDrawingBufferColorSpace:function(r){return this.spaces[r].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(r=this.workingColorSpace){return this.spaces[r].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(r,s){return Wy("THREE.ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),t.workingToColorSpace(r,s)},toWorkingColorSpace:function(r,s){return Wy("THREE.ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),t.colorSpaceToWorking(r,s)}},e=[.64,.33,.3,.6,.15,.06],n=[.2126,.7152,.0722],i=[.3127,.329];return t.define({[vd]:{primaries:e,whitePoint:i,transfer:Fy,toXYZ:dP,fromXYZ:fP,luminanceCoefficients:n,workingColorSpaceConfig:{unpackColorSpace:es},outputColorSpaceConfig:{drawingBufferColorSpace:es}},[es]:{primaries:e,whitePoint:i,transfer:Gn,toXYZ:dP,fromXYZ:fP,luminanceCoefficients:n,outputColorSpaceConfig:{drawingBufferColorSpace:es}}}),t}const Sn=hie();function Wc(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function Sm(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let Cp;class TB{static getDataURL(e,n="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let i;if(e instanceof HTMLCanvasElement)i=e;else{Cp===void 0&&(Cp=Gy("canvas")),Cp.width=e.width,Cp.height=e.height;const r=Cp.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),i=Cp}return i.toDataURL(n)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=Gy("canvas");n.width=e.width,n.height=e.height;const i=n.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),s=r.data;for(let o=0;o<s.length;o++)s[o]=Wc(s[o]/255)*255;return i.putImageData(r,0,0),n}else if(e.data){const n=e.data.slice(0);for(let i=0;i<n.length;i++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[i]=Math.floor(Wc(n[i]/255)*255):n[i]=Wc(n[i]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let pie=0;class fd{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:pie++}),this.uuid=Ra(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const n=this.data;return typeof HTMLVideoElement<"u"&&n instanceof HTMLVideoElement?e.set(n.videoWidth,n.videoHeight,0):n instanceof VideoFrame?e.set(n.displayHeight,n.displayWidth,0):n!==null?e.set(n.width,n.height,n.depth||0):e.set(0,0,0),e}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let s;if(Array.isArray(r)){s=[];for(let o=0,l=r.length;o<l;o++)r[o].isDataTexture?s.push(eM(r[o].image)):s.push(eM(r[o]))}else s=eM(r);i.url=s}return n||(e.images[this.uuid]=i),i}}function eM(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?TB.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let mie=0;const tM=new J;class gi extends ic{constructor(e=gi.DEFAULT_IMAGE,n=gi.DEFAULT_MAPPING,i=ro,r=ro,s=cr,o=Fl,l=ns,d=ao,h=gi.DEFAULT_ANISOTROPY,m=Fc){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:mie++}),this.uuid=Ra(),this.name="",this.source=new fd(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=i,this.wrapT=r,this.magFilter=s,this.minFilter=o,this.anisotropy=h,this.format=l,this.internalFormat=null,this.type=d,this.offset=new Ge(0,0),this.repeat=new Ge(1,1),this.center=new Ge(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new nn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=m,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(tM).x}get height(){return this.source.getSize(tM).y}get depth(){return this.source.getSize(tM).z}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(const n in e){const i=e[n];if(i===void 0){console.warn(`THREE.Texture.setValues(): parameter '${n}' has value of undefined.`);continue}const r=this[n];if(r===void 0){console.warn(`THREE.Texture.setValues(): property '${n}' does not exist.`);continue}r&&i&&r.isVector2&&i.isVector2||r&&i&&r.isVector3&&i.isVector3||r&&i&&r.isMatrix3&&i.isMatrix3?r.copy(i):this[n]=i}}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),n||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==B1)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Uy:e.x=e.x-Math.floor(e.x);break;case ro:e.x=e.x<0?0:1;break;case Vy:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Uy:e.y=e.y-Math.floor(e.y);break;case ro:e.y=e.y<0?0:1;break;case Vy:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}gi.DEFAULT_IMAGE=null;gi.DEFAULT_MAPPING=B1;gi.DEFAULT_ANISOTROPY=1;class Cn{constructor(e=0,n=0,i=0,r=1){Cn.prototype.isVector4=!0,this.x=e,this.y=n,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,i,r){return this.x=e,this.y=n,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,i=this.y,r=this.z,s=this.w,o=e.elements;return this.x=o[0]*n+o[4]*i+o[8]*r+o[12]*s,this.y=o[1]*n+o[5]*i+o[9]*r+o[13]*s,this.z=o[2]*n+o[6]*i+o[10]*r+o[14]*s,this.w=o[3]*n+o[7]*i+o[11]*r+o[15]*s,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,i,r,s;const d=e.elements,h=d[0],m=d[4],g=d[8],y=d[1],b=d[5],S=d[9],C=d[2],T=d[6],_=d[10];if(Math.abs(m-y)<.01&&Math.abs(g-C)<.01&&Math.abs(S-T)<.01){if(Math.abs(m+y)<.1&&Math.abs(g+C)<.1&&Math.abs(S+T)<.1&&Math.abs(h+b+_-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const R=(h+1)/2,N=(b+1)/2,D=(_+1)/2,I=(m+y)/4,V=(g+C)/4,B=(S+T)/4;return R>N&&R>D?R<.01?(i=0,r=.707106781,s=.707106781):(i=Math.sqrt(R),r=I/i,s=V/i):N>D?N<.01?(i=.707106781,r=0,s=.707106781):(r=Math.sqrt(N),i=I/r,s=B/r):D<.01?(i=.707106781,r=.707106781,s=0):(s=Math.sqrt(D),i=V/s,r=B/s),this.set(i,r,s,n),this}let w=Math.sqrt((T-S)*(T-S)+(g-C)*(g-C)+(y-m)*(y-m));return Math.abs(w)<.001&&(w=1),this.x=(T-S)/w,this.y=(g-C)/w,this.z=(y-m)/w,this.w=Math.acos((h+b+_-1)/2),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this.w=n[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Wt(this.x,e.x,n.x),this.y=Wt(this.y,e.y,n.y),this.z=Wt(this.z,e.z,n.z),this.w=Wt(this.w,e.w,n.w),this}clampScalar(e,n){return this.x=Wt(this.x,e,n),this.y=Wt(this.y,e,n),this.z=Wt(this.z,e,n),this.w=Wt(this.w,e,n),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Wt(i,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this.z=e.z+(n.z-e.z)*i,this.w=e.w+(n.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class hR extends ic{constructor(e=1,n=1,i={}){super(),i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:cr,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},i),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=i.depth,this.scissor=new Cn(0,0,e,n),this.scissorTest=!1,this.viewport=new Cn(0,0,e,n);const r={width:e,height:n,depth:i.depth},s=new gi(r);this.textures=[];const o=i.count;for(let l=0;l<o;l++)this.textures[l]=s.clone(),this.textures[l].isRenderTargetTexture=!0,this.textures[l].renderTarget=this;this._setTextureOptions(i),this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.resolveDepthBuffer=i.resolveDepthBuffer,this.resolveStencilBuffer=i.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=i.depthTexture,this.samples=i.samples,this.multiview=i.multiview}_setTextureOptions(e={}){const n={minFilter:cr,generateMipmaps:!1,flipY:!1,internalFormat:null};e.mapping!==void 0&&(n.mapping=e.mapping),e.wrapS!==void 0&&(n.wrapS=e.wrapS),e.wrapT!==void 0&&(n.wrapT=e.wrapT),e.wrapR!==void 0&&(n.wrapR=e.wrapR),e.magFilter!==void 0&&(n.magFilter=e.magFilter),e.minFilter!==void 0&&(n.minFilter=e.minFilter),e.format!==void 0&&(n.format=e.format),e.type!==void 0&&(n.type=e.type),e.anisotropy!==void 0&&(n.anisotropy=e.anisotropy),e.colorSpace!==void 0&&(n.colorSpace=e.colorSpace),e.flipY!==void 0&&(n.flipY=e.flipY),e.generateMipmaps!==void 0&&(n.generateMipmaps=e.generateMipmaps),e.internalFormat!==void 0&&(n.internalFormat=e.internalFormat);for(let i=0;i<this.textures.length;i++)this.textures[i].setValues(n)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,n,i=1){if(this.width!==e||this.height!==n||this.depth!==i){this.width=e,this.height=n,this.depth=i;for(let r=0,s=this.textures.length;r<s;r++)this.textures[r].image.width=e,this.textures[r].image.height=n,this.textures[r].image.depth=i,this.textures[r].isArrayTexture=this.textures[r].image.depth>1;this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let n=0,i=e.textures.length;n<i;n++){this.textures[n]=e.textures[n].clone(),this.textures[n].isRenderTargetTexture=!0,this.textures[n].renderTarget=this;const r=Object.assign({},e.textures[n].image);this.textures[n].source=new fd(r)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class ec extends hR{constructor(e=1,n=1,i={}){super(e,n,i),this.isWebGLRenderTarget=!0}}class Y1 extends gi{constructor(e=null,n=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:i,depth:r},this.magFilter=kr,this.minFilter=kr,this.wrapR=ro,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class gie extends ec{constructor(e=1,n=1,i=1,r={}){super(e,n,r),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new Y1(null,e,n,i),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class K1 extends gi{constructor(e=null,n=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:i,depth:r},this.magFilter=kr,this.minFilter=kr,this.wrapR=ro,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class vie extends ec{constructor(e=1,n=1,i=1,r={}){super(e,n,r),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new K1(null,e,n,i),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class is{constructor(e=new J(1/0,1/0,1/0),n=new J(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n+=3)this.expandByPoint(Lo.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,i=e.count;n<i;n++)this.expandByPoint(Lo.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const i=Lo.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0){const s=i.getAttribute("position");if(n===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let o=0,l=s.count;o<l;o++)e.isMesh===!0?e.getVertexPosition(o,Lo):Lo.fromBufferAttribute(s,o),Lo.applyMatrix4(e.matrixWorld),this.expandByPoint(Lo);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),Mb.copy(e.boundingBox)):(i.boundingBox===null&&i.computeBoundingBox(),Mb.copy(i.boundingBox)),Mb.applyMatrix4(e.matrixWorld),this.union(Mb)}const r=e.children;for(let s=0,o=r.length;s<o;s++)this.expandByObject(r[s],n);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,Lo),Lo.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,i;return e.normal.x>0?(n=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),n<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Cv),Cb.subVectors(this.max,Cv),wp.subVectors(e.a,Cv),Ap.subVectors(e.b,Cv),Rp.subVectors(e.c,Cv),Zu.subVectors(Ap,wp),Qu.subVectors(Rp,Ap),Tf.subVectors(wp,Rp);let n=[0,-Zu.z,Zu.y,0,-Qu.z,Qu.y,0,-Tf.z,Tf.y,Zu.z,0,-Zu.x,Qu.z,0,-Qu.x,Tf.z,0,-Tf.x,-Zu.y,Zu.x,0,-Qu.y,Qu.x,0,-Tf.y,Tf.x,0];return!nM(n,wp,Ap,Rp,Cb)||(n=[1,0,0,0,1,0,0,0,1],!nM(n,wp,Ap,Rp,Cb))?!1:(wb.crossVectors(Zu,Qu),n=[wb.x,wb.y,wb.z],nM(n,wp,Ap,Rp,Cb))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Lo).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Lo).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Nc[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Nc[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Nc[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Nc[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Nc[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Nc[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Nc[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Nc[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Nc),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const Nc=[new J,new J,new J,new J,new J,new J,new J,new J],Lo=new J,Mb=new is,wp=new J,Ap=new J,Rp=new J,Zu=new J,Qu=new J,Tf=new J,Cv=new J,Cb=new J,wb=new J,Mf=new J;function nM(t,e,n,i,r){for(let s=0,o=t.length-3;s<=o;s+=3){Mf.fromArray(t,s);const l=r.x*Math.abs(Mf.x)+r.y*Math.abs(Mf.y)+r.z*Math.abs(Mf.z),d=e.dot(Mf),h=n.dot(Mf),m=i.dot(Mf);if(Math.max(-Math.max(d,h,m),Math.min(d,h,m))>l)return!1}return!0}const yie=new is,wv=new J,iM=new J;class Br{constructor(e=new J,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const i=this.center;n!==void 0?i.copy(n):yie.setFromPoints(e).getCenter(i);let r=0;for(let s=0,o=e.length;s<o;s++)r=Math.max(r,i.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const i=this.center.distanceToSquared(e);return n.copy(e),i>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;wv.subVectors(e,this.center);const n=wv.lengthSq();if(n>this.radius*this.radius){const i=Math.sqrt(n),r=(i-this.radius)*.5;this.center.addScaledVector(wv,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(iM.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(wv.copy(e.center).add(iM)),this.expandByPoint(wv.copy(e.center).sub(iM))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}}const Dc=new J,rM=new J,Ab=new J,Ju=new J,sM=new J,Rb=new J,aM=new J;class Km{constructor(e=new J,n=new J(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Dc)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const i=n.dot(this.direction);return i<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=Dc.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(Dc.copy(this.origin).addScaledVector(this.direction,n),Dc.distanceToSquared(e))}distanceSqToSegment(e,n,i,r){rM.copy(e).add(n).multiplyScalar(.5),Ab.copy(n).sub(e).normalize(),Ju.copy(this.origin).sub(rM);const s=e.distanceTo(n)*.5,o=-this.direction.dot(Ab),l=Ju.dot(this.direction),d=-Ju.dot(Ab),h=Ju.lengthSq(),m=Math.abs(1-o*o);let g,y,b,S;if(m>0)if(g=o*d-l,y=o*l-d,S=s*m,g>=0)if(y>=-S)if(y<=S){const C=1/m;g*=C,y*=C,b=g*(g+o*y+2*l)+y*(o*g+y+2*d)+h}else y=s,g=Math.max(0,-(o*y+l)),b=-g*g+y*(y+2*d)+h;else y=-s,g=Math.max(0,-(o*y+l)),b=-g*g+y*(y+2*d)+h;else y<=-S?(g=Math.max(0,-(-o*s+l)),y=g>0?-s:Math.min(Math.max(-s,-d),s),b=-g*g+y*(y+2*d)+h):y<=S?(g=0,y=Math.min(Math.max(-s,-d),s),b=y*(y+2*d)+h):(g=Math.max(0,-(o*s+l)),y=g>0?s:Math.min(Math.max(-s,-d),s),b=-g*g+y*(y+2*d)+h);else y=o>0?-s:s,g=Math.max(0,-(o*y+l)),b=-g*g+y*(y+2*d)+h;return i&&i.copy(this.origin).addScaledVector(this.direction,g),r&&r.copy(rM).addScaledVector(Ab,y),b}intersectSphere(e,n){Dc.subVectors(e.center,this.origin);const i=Dc.dot(this.direction),r=Dc.dot(Dc)-i*i,s=e.radius*e.radius;if(r>s)return null;const o=Math.sqrt(s-r),l=i-o,d=i+o;return d<0?null:l<0?this.at(d,n):this.at(l,n)}intersectsSphere(e){return e.radius<0?!1:this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/n;return i>=0?i:null}intersectPlane(e,n){const i=this.distanceToPlane(e);return i===null?null:this.at(i,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let i,r,s,o,l,d;const h=1/this.direction.x,m=1/this.direction.y,g=1/this.direction.z,y=this.origin;return h>=0?(i=(e.min.x-y.x)*h,r=(e.max.x-y.x)*h):(i=(e.max.x-y.x)*h,r=(e.min.x-y.x)*h),m>=0?(s=(e.min.y-y.y)*m,o=(e.max.y-y.y)*m):(s=(e.max.y-y.y)*m,o=(e.min.y-y.y)*m),i>o||s>r||((s>i||isNaN(i))&&(i=s),(o<r||isNaN(r))&&(r=o),g>=0?(l=(e.min.z-y.z)*g,d=(e.max.z-y.z)*g):(l=(e.max.z-y.z)*g,d=(e.min.z-y.z)*g),i>d||l>r)||((l>i||i!==i)&&(i=l),(d<r||r!==r)&&(r=d),r<0)?null:this.at(i>=0?i:r,n)}intersectsBox(e){return this.intersectBox(e,Dc)!==null}intersectTriangle(e,n,i,r,s){sM.subVectors(n,e),Rb.subVectors(i,e),aM.crossVectors(sM,Rb);let o=this.direction.dot(aM),l;if(o>0){if(r)return null;l=1}else if(o<0)l=-1,o=-o;else return null;Ju.subVectors(this.origin,e);const d=l*this.direction.dot(Rb.crossVectors(Ju,Rb));if(d<0)return null;const h=l*this.direction.dot(sM.cross(Ju));if(h<0||d+h>o)return null;const m=-l*Ju.dot(aM);return m<0?null:this.at(m/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class qt{constructor(e,n,i,r,s,o,l,d,h,m,g,y,b,S,C,T){qt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,i,r,s,o,l,d,h,m,g,y,b,S,C,T)}set(e,n,i,r,s,o,l,d,h,m,g,y,b,S,C,T){const _=this.elements;return _[0]=e,_[4]=n,_[8]=i,_[12]=r,_[1]=s,_[5]=o,_[9]=l,_[13]=d,_[2]=h,_[6]=m,_[10]=g,_[14]=y,_[3]=b,_[7]=S,_[11]=C,_[15]=T,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new qt().fromArray(this.elements)}copy(e){const n=this.elements,i=e.elements;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],n[9]=i[9],n[10]=i[10],n[11]=i[11],n[12]=i[12],n[13]=i[13],n[14]=i[14],n[15]=i[15],this}copyPosition(e){const n=this.elements,i=e.elements;return n[12]=i[12],n[13]=i[13],n[14]=i[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,i){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,n,i){return this.set(e.x,n.x,i.x,0,e.y,n.y,i.y,0,e.z,n.z,i.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,i=e.elements,r=1/Op.setFromMatrixColumn(e,0).length(),s=1/Op.setFromMatrixColumn(e,1).length(),o=1/Op.setFromMatrixColumn(e,2).length();return n[0]=i[0]*r,n[1]=i[1]*r,n[2]=i[2]*r,n[3]=0,n[4]=i[4]*s,n[5]=i[5]*s,n[6]=i[6]*s,n[7]=0,n[8]=i[8]*o,n[9]=i[9]*o,n[10]=i[10]*o,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,i=e.x,r=e.y,s=e.z,o=Math.cos(i),l=Math.sin(i),d=Math.cos(r),h=Math.sin(r),m=Math.cos(s),g=Math.sin(s);if(e.order==="XYZ"){const y=o*m,b=o*g,S=l*m,C=l*g;n[0]=d*m,n[4]=-d*g,n[8]=h,n[1]=b+S*h,n[5]=y-C*h,n[9]=-l*d,n[2]=C-y*h,n[6]=S+b*h,n[10]=o*d}else if(e.order==="YXZ"){const y=d*m,b=d*g,S=h*m,C=h*g;n[0]=y+C*l,n[4]=S*l-b,n[8]=o*h,n[1]=o*g,n[5]=o*m,n[9]=-l,n[2]=b*l-S,n[6]=C+y*l,n[10]=o*d}else if(e.order==="ZXY"){const y=d*m,b=d*g,S=h*m,C=h*g;n[0]=y-C*l,n[4]=-o*g,n[8]=S+b*l,n[1]=b+S*l,n[5]=o*m,n[9]=C-y*l,n[2]=-o*h,n[6]=l,n[10]=o*d}else if(e.order==="ZYX"){const y=o*m,b=o*g,S=l*m,C=l*g;n[0]=d*m,n[4]=S*h-b,n[8]=y*h+C,n[1]=d*g,n[5]=C*h+y,n[9]=b*h-S,n[2]=-h,n[6]=l*d,n[10]=o*d}else if(e.order==="YZX"){const y=o*d,b=o*h,S=l*d,C=l*h;n[0]=d*m,n[4]=C-y*g,n[8]=S*g+b,n[1]=g,n[5]=o*m,n[9]=-l*m,n[2]=-h*m,n[6]=b*g+S,n[10]=y-C*g}else if(e.order==="XZY"){const y=o*d,b=o*h,S=l*d,C=l*h;n[0]=d*m,n[4]=-g,n[8]=h*m,n[1]=y*g+C,n[5]=o*m,n[9]=b*g-S,n[2]=S*g-b,n[6]=l*m,n[10]=C*g+y}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(xie,e,bie)}lookAt(e,n,i){const r=this.elements;return _a.subVectors(e,n),_a.lengthSq()===0&&(_a.z=1),_a.normalize(),ed.crossVectors(i,_a),ed.lengthSq()===0&&(Math.abs(i.z)===1?_a.x+=1e-4:_a.z+=1e-4,_a.normalize(),ed.crossVectors(i,_a)),ed.normalize(),Ob.crossVectors(_a,ed),r[0]=ed.x,r[4]=Ob.x,r[8]=_a.x,r[1]=ed.y,r[5]=Ob.y,r[9]=_a.y,r[2]=ed.z,r[6]=Ob.z,r[10]=_a.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const i=e.elements,r=n.elements,s=this.elements,o=i[0],l=i[4],d=i[8],h=i[12],m=i[1],g=i[5],y=i[9],b=i[13],S=i[2],C=i[6],T=i[10],_=i[14],w=i[3],R=i[7],N=i[11],D=i[15],I=r[0],V=r[4],B=r[8],L=r[12],z=r[1],F=r[5],j=r[9],Z=r[13],se=r[2],ie=r[6],k=r[10],q=r[14],$=r[3],ne=r[7],G=r[11],te=r[15];return s[0]=o*I+l*z+d*se+h*$,s[4]=o*V+l*F+d*ie+h*ne,s[8]=o*B+l*j+d*k+h*G,s[12]=o*L+l*Z+d*q+h*te,s[1]=m*I+g*z+y*se+b*$,s[5]=m*V+g*F+y*ie+b*ne,s[9]=m*B+g*j+y*k+b*G,s[13]=m*L+g*Z+y*q+b*te,s[2]=S*I+C*z+T*se+_*$,s[6]=S*V+C*F+T*ie+_*ne,s[10]=S*B+C*j+T*k+_*G,s[14]=S*L+C*Z+T*q+_*te,s[3]=w*I+R*z+N*se+D*$,s[7]=w*V+R*F+N*ie+D*ne,s[11]=w*B+R*j+N*k+D*G,s[15]=w*L+R*Z+N*q+D*te,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],i=e[4],r=e[8],s=e[12],o=e[1],l=e[5],d=e[9],h=e[13],m=e[2],g=e[6],y=e[10],b=e[14],S=e[3],C=e[7],T=e[11],_=e[15];return S*(+s*d*g-r*h*g-s*l*y+i*h*y+r*l*b-i*d*b)+C*(+n*d*b-n*h*y+s*o*y-r*o*b+r*h*m-s*d*m)+T*(+n*h*g-n*l*b-s*o*g+i*o*b+s*l*m-i*h*m)+_*(-r*l*m-n*d*g+n*l*y+r*o*g-i*o*y+i*d*m)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=n,r[14]=i),this}invert(){const e=this.elements,n=e[0],i=e[1],r=e[2],s=e[3],o=e[4],l=e[5],d=e[6],h=e[7],m=e[8],g=e[9],y=e[10],b=e[11],S=e[12],C=e[13],T=e[14],_=e[15],w=g*T*h-C*y*h+C*d*b-l*T*b-g*d*_+l*y*_,R=S*y*h-m*T*h-S*d*b+o*T*b+m*d*_-o*y*_,N=m*C*h-S*g*h+S*l*b-o*C*b-m*l*_+o*g*_,D=S*g*d-m*C*d-S*l*y+o*C*y+m*l*T-o*g*T,I=n*w+i*R+r*N+s*D;if(I===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const V=1/I;return e[0]=w*V,e[1]=(C*y*s-g*T*s-C*r*b+i*T*b+g*r*_-i*y*_)*V,e[2]=(l*T*s-C*d*s+C*r*h-i*T*h-l*r*_+i*d*_)*V,e[3]=(g*d*s-l*y*s-g*r*h+i*y*h+l*r*b-i*d*b)*V,e[4]=R*V,e[5]=(m*T*s-S*y*s+S*r*b-n*T*b-m*r*_+n*y*_)*V,e[6]=(S*d*s-o*T*s-S*r*h+n*T*h+o*r*_-n*d*_)*V,e[7]=(o*y*s-m*d*s+m*r*h-n*y*h-o*r*b+n*d*b)*V,e[8]=N*V,e[9]=(S*g*s-m*C*s-S*i*b+n*C*b+m*i*_-n*g*_)*V,e[10]=(o*C*s-S*l*s+S*i*h-n*C*h-o*i*_+n*l*_)*V,e[11]=(m*l*s-o*g*s-m*i*h+n*g*h+o*i*b-n*l*b)*V,e[12]=D*V,e[13]=(m*C*r-S*g*r+S*i*y-n*C*y-m*i*T+n*g*T)*V,e[14]=(S*l*r-o*C*r-S*i*d+n*C*d+o*i*T-n*l*T)*V,e[15]=(o*g*r-m*l*r+m*i*d-n*g*d-o*i*y+n*l*y)*V,this}scale(e){const n=this.elements,i=e.x,r=e.y,s=e.z;return n[0]*=i,n[4]*=r,n[8]*=s,n[1]*=i,n[5]*=r,n[9]*=s,n[2]*=i,n[6]*=r,n[10]*=s,n[3]*=i,n[7]*=r,n[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,i,r))}makeTranslation(e,n,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,i,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,n,-i,0,0,i,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,0,i,0,0,1,0,0,-i,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,-i,0,0,i,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const i=Math.cos(n),r=Math.sin(n),s=1-i,o=e.x,l=e.y,d=e.z,h=s*o,m=s*l;return this.set(h*o+i,h*l-r*d,h*d+r*l,0,h*l+r*d,m*l+i,m*d-r*o,0,h*d-r*l,m*d+r*o,s*d*d+i,0,0,0,0,1),this}makeScale(e,n,i){return this.set(e,0,0,0,0,n,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,n,i,r,s,o){return this.set(1,i,s,0,e,1,o,0,n,r,1,0,0,0,0,1),this}compose(e,n,i){const r=this.elements,s=n._x,o=n._y,l=n._z,d=n._w,h=s+s,m=o+o,g=l+l,y=s*h,b=s*m,S=s*g,C=o*m,T=o*g,_=l*g,w=d*h,R=d*m,N=d*g,D=i.x,I=i.y,V=i.z;return r[0]=(1-(C+_))*D,r[1]=(b+N)*D,r[2]=(S-R)*D,r[3]=0,r[4]=(b-N)*I,r[5]=(1-(y+_))*I,r[6]=(T+w)*I,r[7]=0,r[8]=(S+R)*V,r[9]=(T-w)*V,r[10]=(1-(y+C))*V,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,n,i){const r=this.elements;let s=Op.set(r[0],r[1],r[2]).length();const o=Op.set(r[4],r[5],r[6]).length(),l=Op.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],zo.copy(this);const h=1/s,m=1/o,g=1/l;return zo.elements[0]*=h,zo.elements[1]*=h,zo.elements[2]*=h,zo.elements[4]*=m,zo.elements[5]*=m,zo.elements[6]*=m,zo.elements[8]*=g,zo.elements[9]*=g,zo.elements[10]*=g,n.setFromRotationMatrix(zo),i.x=s,i.y=o,i.z=l,this}makePerspective(e,n,i,r,s,o,l=Ca,d=!1){const h=this.elements,m=2*s/(n-e),g=2*s/(i-r),y=(n+e)/(n-e),b=(i+r)/(i-r);let S,C;if(d)S=s/(o-s),C=o*s/(o-s);else if(l===Ca)S=-(o+s)/(o-s),C=-2*o*s/(o-s);else if(l===Nm)S=-o/(o-s),C=-o*s/(o-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+l);return h[0]=m,h[4]=0,h[8]=y,h[12]=0,h[1]=0,h[5]=g,h[9]=b,h[13]=0,h[2]=0,h[6]=0,h[10]=S,h[14]=C,h[3]=0,h[7]=0,h[11]=-1,h[15]=0,this}makeOrthographic(e,n,i,r,s,o,l=Ca,d=!1){const h=this.elements,m=2/(n-e),g=2/(i-r),y=-(n+e)/(n-e),b=-(i+r)/(i-r);let S,C;if(d)S=1/(o-s),C=o/(o-s);else if(l===Ca)S=-2/(o-s),C=-(o+s)/(o-s);else if(l===Nm)S=-1/(o-s),C=-s/(o-s);else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+l);return h[0]=m,h[4]=0,h[8]=0,h[12]=y,h[1]=0,h[5]=g,h[9]=0,h[13]=b,h[2]=0,h[6]=0,h[10]=S,h[14]=C,h[3]=0,h[7]=0,h[11]=0,h[15]=1,this}equals(e){const n=this.elements,i=e.elements;for(let r=0;r<16;r++)if(n[r]!==i[r])return!1;return!0}fromArray(e,n=0){for(let i=0;i<16;i++)this.elements[i]=e[i+n];return this}toArray(e=[],n=0){const i=this.elements;return e[n]=i[0],e[n+1]=i[1],e[n+2]=i[2],e[n+3]=i[3],e[n+4]=i[4],e[n+5]=i[5],e[n+6]=i[6],e[n+7]=i[7],e[n+8]=i[8],e[n+9]=i[9],e[n+10]=i[10],e[n+11]=i[11],e[n+12]=i[12],e[n+13]=i[13],e[n+14]=i[14],e[n+15]=i[15],e}}const Op=new J,zo=new qt,xie=new J(0,0,0),bie=new J(1,1,1),ed=new J,Ob=new J,_a=new J,hP=new qt,pP=new ra;class Oa{constructor(e=0,n=0,i=0,r=Oa.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,i,r=this._order){return this._x=e,this._y=n,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,i=!0){const r=e.elements,s=r[0],o=r[4],l=r[8],d=r[1],h=r[5],m=r[9],g=r[2],y=r[6],b=r[10];switch(n){case"XYZ":this._y=Math.asin(Wt(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-m,b),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(y,h),this._z=0);break;case"YXZ":this._x=Math.asin(-Wt(m,-1,1)),Math.abs(m)<.9999999?(this._y=Math.atan2(l,b),this._z=Math.atan2(d,h)):(this._y=Math.atan2(-g,s),this._z=0);break;case"ZXY":this._x=Math.asin(Wt(y,-1,1)),Math.abs(y)<.9999999?(this._y=Math.atan2(-g,b),this._z=Math.atan2(-o,h)):(this._y=0,this._z=Math.atan2(d,s));break;case"ZYX":this._y=Math.asin(-Wt(g,-1,1)),Math.abs(g)<.9999999?(this._x=Math.atan2(y,b),this._z=Math.atan2(d,s)):(this._x=0,this._z=Math.atan2(-o,h));break;case"YZX":this._z=Math.asin(Wt(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(-m,h),this._y=Math.atan2(-g,s)):(this._x=0,this._y=Math.atan2(l,b));break;case"XZY":this._z=Math.asin(-Wt(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(y,h),this._y=Math.atan2(l,s)):(this._x=Math.atan2(-m,b),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,i){return hP.makeRotationFromQuaternion(e),this.setFromRotationMatrix(hP,n,i)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return pP.setFromEuler(this),this.setFromQuaternion(pP,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Oa.DEFAULT_ORDER="XYZ";class Pm{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let Sie=0;const mP=new J,Np=new ra,Pc=new qt,Nb=new J,Av=new J,_ie=new J,Eie=new ra,gP=new J(1,0,0),vP=new J(0,1,0),yP=new J(0,0,1),xP={type:"added"},Tie={type:"removed"},Dp={type:"childadded",child:null},oM={type:"childremoved",child:null};class wn extends ic{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Sie++}),this.uuid=Ra(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=wn.DEFAULT_UP.clone();const e=new J,n=new Oa,i=new ra,r=new J(1,1,1);function s(){i.setFromEuler(n,!1)}function o(){n.setFromQuaternion(i,void 0,!1)}n._onChange(s),i._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new qt},normalMatrix:{value:new nn}}),this.matrix=new qt,this.matrixWorld=new qt,this.matrixAutoUpdate=wn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=wn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Pm,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return Np.setFromAxisAngle(e,n),this.quaternion.multiply(Np),this}rotateOnWorldAxis(e,n){return Np.setFromAxisAngle(e,n),this.quaternion.premultiply(Np),this}rotateX(e){return this.rotateOnAxis(gP,e)}rotateY(e){return this.rotateOnAxis(vP,e)}rotateZ(e){return this.rotateOnAxis(yP,e)}translateOnAxis(e,n){return mP.copy(e).applyQuaternion(this.quaternion),this.position.add(mP.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(gP,e)}translateY(e){return this.translateOnAxis(vP,e)}translateZ(e){return this.translateOnAxis(yP,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Pc.copy(this.matrixWorld).invert())}lookAt(e,n,i){e.isVector3?Nb.copy(e):Nb.set(e,n,i);const r=this.parent;this.updateWorldMatrix(!0,!1),Av.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Pc.lookAt(Av,Nb,this.up):Pc.lookAt(Nb,Av,this.up),this.quaternion.setFromRotationMatrix(Pc),r&&(Pc.extractRotation(r.matrixWorld),Np.setFromRotationMatrix(Pc),this.quaternion.premultiply(Np.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(xP),Dp.child=e,this.dispatchEvent(Dp),Dp.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(Tie),oM.child=e,this.dispatchEvent(oM),oM.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Pc.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Pc.multiply(e.parent.matrixWorld)),e.applyMatrix4(Pc),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(xP),Dp.child=e,this.dispatchEvent(Dp),Dp.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let i=0,r=this.children.length;i<r;i++){const o=this.children[i].getObjectByProperty(e,n);if(o!==void 0)return o}}getObjectsByProperty(e,n,i=[]){this[e]===n&&i.push(this);const r=this.children;for(let s=0,o=r.length;s<o;s++)r[s].getObjectsByProperty(e,n,i);return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Av,e,_ie),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Av,Eie,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let i=0,r=n.length;i<r;i++)n[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let i=0,r=n.length;i<r;i++)n[i].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let i=0,r=n.length;i<r;i++)n[i].updateMatrixWorld(e)}updateWorldMatrix(e,n){const i=this.parent;if(e===!0&&i!==null&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),n===!0){const r=this.children;for(let s=0,o=r.length;s<o;s++)r[s].updateWorldMatrix(!1,!0)}}toJSON(e){const n=e===void 0||typeof e=="string",i={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.geometryInfo=this._geometryInfo.map(l=>({...l,boundingBox:l.boundingBox?l.boundingBox.toJSON():void 0,boundingSphere:l.boundingSphere?l.boundingSphere.toJSON():void 0})),r.instanceInfo=this._instanceInfo.map(l=>({...l})),r.availableInstanceIds=this._availableInstanceIds.slice(),r.availableGeometryIds=this._availableGeometryIds.slice(),r.nextIndexStart=this._nextIndexStart,r.nextVertexStart=this._nextVertexStart,r.geometryCount=this._geometryCount,r.maxInstanceCount=this._maxInstanceCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.matricesTexture=this._matricesTexture.toJSON(e),r.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(r.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(r.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(r.boundingBox=this.boundingBox.toJSON()));function s(l,d){return l[d.uuid]===void 0&&(l[d.uuid]=d.toJSON(e)),d.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=s(e.geometries,this.geometry);const l=this.geometry.parameters;if(l!==void 0&&l.shapes!==void 0){const d=l.shapes;if(Array.isArray(d))for(let h=0,m=d.length;h<m;h++){const g=d[h];s(e.shapes,g)}else s(e.shapes,d)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const l=[];for(let d=0,h=this.material.length;d<h;d++)l.push(s(e.materials,this.material[d]));r.material=l}else r.material=s(e.materials,this.material);if(this.children.length>0){r.children=[];for(let l=0;l<this.children.length;l++)r.children.push(this.children[l].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let l=0;l<this.animations.length;l++){const d=this.animations[l];r.animations.push(s(e.animations,d))}}if(n){const l=o(e.geometries),d=o(e.materials),h=o(e.textures),m=o(e.images),g=o(e.shapes),y=o(e.skeletons),b=o(e.animations),S=o(e.nodes);l.length>0&&(i.geometries=l),d.length>0&&(i.materials=d),h.length>0&&(i.textures=h),m.length>0&&(i.images=m),g.length>0&&(i.shapes=g),y.length>0&&(i.skeletons=y),b.length>0&&(i.animations=b),S.length>0&&(i.nodes=S)}return i.object=r,i;function o(l){const d=[];for(const h in l){const m=l[h];delete m.metadata,d.push(m)}return d}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}wn.DEFAULT_UP=new J(0,1,0);wn.DEFAULT_MATRIX_AUTO_UPDATE=!0;wn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Uo=new J,Ic=new J,lM=new J,Lc=new J,Pp=new J,Ip=new J,bP=new J,cM=new J,uM=new J,dM=new J,fM=new Cn,hM=new Cn,pM=new Cn;class Js{constructor(e=new J,n=new J,i=new J){this.a=e,this.b=n,this.c=i}static getNormal(e,n,i,r){r.subVectors(i,n),Uo.subVectors(e,n),r.cross(Uo);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,n,i,r,s){Uo.subVectors(r,n),Ic.subVectors(i,n),lM.subVectors(e,n);const o=Uo.dot(Uo),l=Uo.dot(Ic),d=Uo.dot(lM),h=Ic.dot(Ic),m=Ic.dot(lM),g=o*h-l*l;if(g===0)return s.set(0,0,0),null;const y=1/g,b=(h*d-l*m)*y,S=(o*m-l*d)*y;return s.set(1-b-S,S,b)}static containsPoint(e,n,i,r){return this.getBarycoord(e,n,i,r,Lc)===null?!1:Lc.x>=0&&Lc.y>=0&&Lc.x+Lc.y<=1}static getInterpolation(e,n,i,r,s,o,l,d){return this.getBarycoord(e,n,i,r,Lc)===null?(d.x=0,d.y=0,"z"in d&&(d.z=0),"w"in d&&(d.w=0),null):(d.setScalar(0),d.addScaledVector(s,Lc.x),d.addScaledVector(o,Lc.y),d.addScaledVector(l,Lc.z),d)}static getInterpolatedAttribute(e,n,i,r,s,o){return fM.setScalar(0),hM.setScalar(0),pM.setScalar(0),fM.fromBufferAttribute(e,n),hM.fromBufferAttribute(e,i),pM.fromBufferAttribute(e,r),o.setScalar(0),o.addScaledVector(fM,s.x),o.addScaledVector(hM,s.y),o.addScaledVector(pM,s.z),o}static isFrontFacing(e,n,i,r){return Uo.subVectors(i,n),Ic.subVectors(e,n),Uo.cross(Ic).dot(r)<0}set(e,n,i){return this.a.copy(e),this.b.copy(n),this.c.copy(i),this}setFromPointsAndIndices(e,n,i,r){return this.a.copy(e[n]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,n,i,r){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Uo.subVectors(this.c,this.b),Ic.subVectors(this.a,this.b),Uo.cross(Ic).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Js.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return Js.getBarycoord(e,this.a,this.b,this.c,n)}getInterpolation(e,n,i,r,s){return Js.getInterpolation(e,this.a,this.b,this.c,n,i,r,s)}containsPoint(e){return Js.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Js.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const i=this.a,r=this.b,s=this.c;let o,l;Pp.subVectors(r,i),Ip.subVectors(s,i),cM.subVectors(e,i);const d=Pp.dot(cM),h=Ip.dot(cM);if(d<=0&&h<=0)return n.copy(i);uM.subVectors(e,r);const m=Pp.dot(uM),g=Ip.dot(uM);if(m>=0&&g<=m)return n.copy(r);const y=d*g-m*h;if(y<=0&&d>=0&&m<=0)return o=d/(d-m),n.copy(i).addScaledVector(Pp,o);dM.subVectors(e,s);const b=Pp.dot(dM),S=Ip.dot(dM);if(S>=0&&b<=S)return n.copy(s);const C=b*h-d*S;if(C<=0&&h>=0&&S<=0)return l=h/(h-S),n.copy(i).addScaledVector(Ip,l);const T=m*S-b*g;if(T<=0&&g-m>=0&&b-S>=0)return bP.subVectors(s,r),l=(g-m)/(g-m+(b-S)),n.copy(r).addScaledVector(bP,l);const _=1/(T+C+y);return o=C*_,l=y*_,n.copy(i).addScaledVector(Pp,o).addScaledVector(Ip,l)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const MB={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},td={h:0,s:0,l:0},Db={h:0,s:0,l:0};function mM(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}class mt{constructor(e,n,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,i)}set(e,n,i){if(n===void 0&&i===void 0){const r=e;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(e,n,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=es){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Sn.colorSpaceToWorking(this,n),this}setRGB(e,n,i,r=Sn.workingColorSpace){return this.r=e,this.g=n,this.b=i,Sn.colorSpaceToWorking(this,r),this}setHSL(e,n,i,r=Sn.workingColorSpace){if(e=fR(e,1),n=Wt(n,0,1),i=Wt(i,0,1),n===0)this.r=this.g=this.b=i;else{const s=i<=.5?i*(1+n):i+n-i*n,o=2*i-s;this.r=mM(o,s,e+1/3),this.g=mM(o,s,e),this.b=mM(o,s,e-1/3)}return Sn.colorSpaceToWorking(this,r),this}setStyle(e,n=es){function i(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=r[1],l=r[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return i(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,n);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return i(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,n);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return i(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=r[1],o=s.length;if(o===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,n);if(o===6)return this.setHex(parseInt(s,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=es){const i=MB[e.toLowerCase()];return i!==void 0?this.setHex(i,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Wc(e.r),this.g=Wc(e.g),this.b=Wc(e.b),this}copyLinearToSRGB(e){return this.r=Sm(e.r),this.g=Sm(e.g),this.b=Sm(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=es){return Sn.workingToColorSpace(Zr.copy(this),e),Math.round(Wt(Zr.r*255,0,255))*65536+Math.round(Wt(Zr.g*255,0,255))*256+Math.round(Wt(Zr.b*255,0,255))}getHexString(e=es){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=Sn.workingColorSpace){Sn.workingToColorSpace(Zr.copy(this),n);const i=Zr.r,r=Zr.g,s=Zr.b,o=Math.max(i,r,s),l=Math.min(i,r,s);let d,h;const m=(l+o)/2;if(l===o)d=0,h=0;else{const g=o-l;switch(h=m<=.5?g/(o+l):g/(2-o-l),o){case i:d=(r-s)/g+(r<s?6:0);break;case r:d=(s-i)/g+2;break;case s:d=(i-r)/g+4;break}d/=6}return e.h=d,e.s=h,e.l=m,e}getRGB(e,n=Sn.workingColorSpace){return Sn.workingToColorSpace(Zr.copy(this),n),e.r=Zr.r,e.g=Zr.g,e.b=Zr.b,e}getStyle(e=es){Sn.workingToColorSpace(Zr.copy(this),e);const n=Zr.r,i=Zr.g,r=Zr.b;return e!==es?`color(${e} ${n.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(i*255)},${Math.round(r*255)})`}offsetHSL(e,n,i){return this.getHSL(td),this.setHSL(td.h+e,td.s+n,td.l+i)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,i){return this.r=e.r+(n.r-e.r)*i,this.g=e.g+(n.g-e.g)*i,this.b=e.b+(n.b-e.b)*i,this}lerpHSL(e,n){this.getHSL(td),e.getHSL(Db);const i=fy(td.h,Db.h,n),r=fy(td.s,Db.s,n),s=fy(td.l,Db.l,n);return this.setHSL(i,r,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,i=this.g,r=this.b,s=e.elements;return this.r=s[0]*n+s[3]*i+s[6]*r,this.g=s[1]*n+s[4]*i+s[7]*r,this.b=s[2]*n+s[5]*i+s[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Zr=new mt;mt.NAMES=MB;let Mie=0;class rs extends ic{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Mie++}),this.uuid=Ra(),this.name="",this.type="Material",this.blending=ih,this.side=$c,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=f_,this.blendDst=h_,this.blendEquation=cd,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new mt(0,0,0),this.blendAlpha=0,this.depthFunc=ch,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=lw,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=kf,this.stencilZFail=kf,this.stencilZPass=kf,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const i=e[n];if(i===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const r=this[n];if(r===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[n]=i}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const i={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.sheenColorMap&&this.sheenColorMap.isTexture&&(i.sheenColorMap=this.sheenColorMap.toJSON(e).uuid),this.sheenRoughnessMap&&this.sheenRoughnessMap.isTexture&&(i.sheenRoughnessMap=this.sheenRoughnessMap.toJSON(e).uuid),this.dispersion!==void 0&&(i.dispersion=this.dispersion),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapRotation!==void 0&&(i.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==ih&&(i.blending=this.blending),this.side!==$c&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),this.blendSrc!==f_&&(i.blendSrc=this.blendSrc),this.blendDst!==h_&&(i.blendDst=this.blendDst),this.blendEquation!==cd&&(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==ch&&(i.depthFunc=this.depthFunc),this.depthTest===!1&&(i.depthTest=this.depthTest),this.depthWrite===!1&&(i.depthWrite=this.depthWrite),this.colorWrite===!1&&(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==lw&&(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==kf&&(i.stencilFail=this.stencilFail),this.stencilZFail!==kf&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==kf&&(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function r(s){const o=[];for(const l in s){const d=s[l];delete d.metadata,o.push(d)}return o}if(n){const s=r(e.textures),o=r(e.images);s.length>0&&(i.textures=s),o.length>0&&(i.images=o)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let i=null;if(n!==null){const r=n.length;i=new Array(r);for(let s=0;s!==r;++s)i[s]=n[s].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class _d extends rs{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new mt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Oa,this.combine=v0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Hc=Cie();function Cie(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),i=new Uint32Array(512),r=new Uint32Array(512);for(let d=0;d<256;++d){const h=d-127;h<-27?(i[d]=0,i[d|256]=32768,r[d]=24,r[d|256]=24):h<-14?(i[d]=1024>>-h-14,i[d|256]=1024>>-h-14|32768,r[d]=-h-1,r[d|256]=-h-1):h<=15?(i[d]=h+15<<10,i[d|256]=h+15<<10|32768,r[d]=13,r[d|256]=13):h<128?(i[d]=31744,i[d|256]=64512,r[d]=24,r[d|256]=24):(i[d]=31744,i[d|256]=64512,r[d]=13,r[d|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),l=new Uint32Array(64);for(let d=1;d<1024;++d){let h=d<<13,m=0;for(;(h&8388608)===0;)h<<=1,m-=8388608;h&=-8388609,m+=947912704,s[d]=h|m}for(let d=1024;d<2048;++d)s[d]=939524096+(d-1024<<13);for(let d=1;d<31;++d)o[d]=d<<23;o[31]=1199570944,o[32]=2147483648;for(let d=33;d<63;++d)o[d]=2147483648+(d-32<<23);o[63]=3347054592;for(let d=1;d<64;++d)d!==32&&(l[d]=1024);return{floatView:e,uint32View:n,baseTable:i,shiftTable:r,mantissaTable:s,exponentTable:o,offsetTable:l}}function Zs(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=Wt(t,-65504,65504),Hc.floatView[0]=t;const e=Hc.uint32View[0],n=e>>23&511;return Hc.baseTable[n]+((e&8388607)>>Hc.shiftTable[n])}function Xv(t){const e=t>>10;return Hc.uint32View[0]=Hc.mantissaTable[Hc.offsetTable[e]+(t&1023)]+Hc.exponentTable[e],Hc.floatView[0]}class wie{static toHalfFloat(e){return Zs(e)}static fromHalfFloat(e){return Xv(e)}}const ji=new J,Pb=new Ge;let Aie=0;class Zn{constructor(e,n,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:Aie++}),this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=i,this.usage=Hy,this.updateRanges=[],this.gpuType=na,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,i){e*=this.itemSize,i*=n.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=n.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,i=this.count;n<i;n++)Pb.fromBufferAttribute(this,n),Pb.applyMatrix3(e),this.setXY(n,Pb.x,Pb.y);else if(this.itemSize===3)for(let n=0,i=this.count;n<i;n++)ji.fromBufferAttribute(this,n),ji.applyMatrix3(e),this.setXYZ(n,ji.x,ji.y,ji.z);return this}applyMatrix4(e){for(let n=0,i=this.count;n<i;n++)ji.fromBufferAttribute(this,n),ji.applyMatrix4(e),this.setXYZ(n,ji.x,ji.y,ji.z);return this}applyNormalMatrix(e){for(let n=0,i=this.count;n<i;n++)ji.fromBufferAttribute(this,n),ji.applyNormalMatrix(e),this.setXYZ(n,ji.x,ji.y,ji.z);return this}transformDirection(e){for(let n=0,i=this.count;n<i;n++)ji.fromBufferAttribute(this,n),ji.transformDirection(e),this.setXYZ(n,ji.x,ji.y,ji.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let i=this.array[e*this.itemSize+n];return this.normalized&&(i=As(i,this.array)),i}setComponent(e,n,i){return this.normalized&&(i=sn(i,this.array)),this.array[e*this.itemSize+n]=i,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=As(n,this.array)),n}setX(e,n){return this.normalized&&(n=sn(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=As(n,this.array)),n}setY(e,n){return this.normalized&&(n=sn(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=As(n,this.array)),n}setZ(e,n){return this.normalized&&(n=sn(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=As(n,this.array)),n}setW(e,n){return this.normalized&&(n=sn(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,i){return e*=this.itemSize,this.normalized&&(n=sn(n,this.array),i=sn(i,this.array)),this.array[e+0]=n,this.array[e+1]=i,this}setXYZ(e,n,i,r){return e*=this.itemSize,this.normalized&&(n=sn(n,this.array),i=sn(i,this.array),r=sn(r,this.array)),this.array[e+0]=n,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,n,i,r,s){return e*=this.itemSize,this.normalized&&(n=sn(n,this.array),i=sn(i,this.array),r=sn(r,this.array),s=sn(s,this.array)),this.array[e+0]=n,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Hy&&(e.usage=this.usage),e}}class Rie extends Zn{constructor(e,n,i){super(new Int8Array(e),n,i)}}class Oie extends Zn{constructor(e,n,i){super(new Uint8Array(e),n,i)}}class Nie extends Zn{constructor(e,n,i){super(new Uint8ClampedArray(e),n,i)}}class Die extends Zn{constructor(e,n,i){super(new Int16Array(e),n,i)}}class pR extends Zn{constructor(e,n,i){super(new Uint16Array(e),n,i)}}class Pie extends Zn{constructor(e,n,i){super(new Int32Array(e),n,i)}}class mR extends Zn{constructor(e,n,i){super(new Uint32Array(e),n,i)}}class Iie extends Zn{constructor(e,n,i){super(new Uint16Array(e),n,i),this.isFloat16BufferAttribute=!0}getX(e){let n=Xv(this.array[e*this.itemSize]);return this.normalized&&(n=As(n,this.array)),n}setX(e,n){return this.normalized&&(n=sn(n,this.array)),this.array[e*this.itemSize]=Zs(n),this}getY(e){let n=Xv(this.array[e*this.itemSize+1]);return this.normalized&&(n=As(n,this.array)),n}setY(e,n){return this.normalized&&(n=sn(n,this.array)),this.array[e*this.itemSize+1]=Zs(n),this}getZ(e){let n=Xv(this.array[e*this.itemSize+2]);return this.normalized&&(n=As(n,this.array)),n}setZ(e,n){return this.normalized&&(n=sn(n,this.array)),this.array[e*this.itemSize+2]=Zs(n),this}getW(e){let n=Xv(this.array[e*this.itemSize+3]);return this.normalized&&(n=As(n,this.array)),n}setW(e,n){return this.normalized&&(n=sn(n,this.array)),this.array[e*this.itemSize+3]=Zs(n),this}setXY(e,n,i){return e*=this.itemSize,this.normalized&&(n=sn(n,this.array),i=sn(i,this.array)),this.array[e+0]=Zs(n),this.array[e+1]=Zs(i),this}setXYZ(e,n,i,r){return e*=this.itemSize,this.normalized&&(n=sn(n,this.array),i=sn(i,this.array),r=sn(r,this.array)),this.array[e+0]=Zs(n),this.array[e+1]=Zs(i),this.array[e+2]=Zs(r),this}setXYZW(e,n,i,r,s){return e*=this.itemSize,this.normalized&&(n=sn(n,this.array),i=sn(i,this.array),r=sn(r,this.array),s=sn(s,this.array)),this.array[e+0]=Zs(n),this.array[e+1]=Zs(i),this.array[e+2]=Zs(r),this.array[e+3]=Zs(s),this}}class St extends Zn{constructor(e,n,i){super(new Float32Array(e),n,i)}}let Lie=0;const Qa=new qt,gM=new wn,Lp=new J,Ea=new is,Rv=new is,_r=new J;class an extends ic{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Lie++}),this.uuid=Ra(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(_B(e)?mR:pR)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,i=0){this.groups.push({start:e,count:n,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const s=new nn().getNormalMatrix(e);i.applyNormalMatrix(s),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Qa.makeRotationFromQuaternion(e),this.applyMatrix4(Qa),this}rotateX(e){return Qa.makeRotationX(e),this.applyMatrix4(Qa),this}rotateY(e){return Qa.makeRotationY(e),this.applyMatrix4(Qa),this}rotateZ(e){return Qa.makeRotationZ(e),this.applyMatrix4(Qa),this}translate(e,n,i){return Qa.makeTranslation(e,n,i),this.applyMatrix4(Qa),this}scale(e,n,i){return Qa.makeScale(e,n,i),this.applyMatrix4(Qa),this}lookAt(e){return gM.lookAt(e),gM.updateMatrix(),this.applyMatrix4(gM.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Lp).negate(),this.translate(Lp.x,Lp.y,Lp.z),this}setFromPoints(e){const n=this.getAttribute("position");if(n===void 0){const i=[];for(let r=0,s=e.length;r<s;r++){const o=e[r];i.push(o.x,o.y,o.z||0)}this.setAttribute("position",new St(i,3))}else{const i=Math.min(e.length,n.count);for(let r=0;r<i;r++){const s=e[r];n.setXYZ(r,s.x,s.y,s.z||0)}e.length>n.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),n.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new is);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new J(-1/0,-1/0,-1/0),new J(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let i=0,r=n.length;i<r;i++){const s=n[i];Ea.setFromBufferAttribute(s),this.morphTargetsRelative?(_r.addVectors(this.boundingBox.min,Ea.min),this.boundingBox.expandByPoint(_r),_r.addVectors(this.boundingBox.max,Ea.max),this.boundingBox.expandByPoint(_r)):(this.boundingBox.expandByPoint(Ea.min),this.boundingBox.expandByPoint(Ea.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Br);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new J,1/0);return}if(e){const i=this.boundingSphere.center;if(Ea.setFromBufferAttribute(e),n)for(let s=0,o=n.length;s<o;s++){const l=n[s];Rv.setFromBufferAttribute(l),this.morphTargetsRelative?(_r.addVectors(Ea.min,Rv.min),Ea.expandByPoint(_r),_r.addVectors(Ea.max,Rv.max),Ea.expandByPoint(_r)):(Ea.expandByPoint(Rv.min),Ea.expandByPoint(Rv.max))}Ea.getCenter(i);let r=0;for(let s=0,o=e.count;s<o;s++)_r.fromBufferAttribute(e,s),r=Math.max(r,i.distanceToSquared(_r));if(n)for(let s=0,o=n.length;s<o;s++){const l=n[s],d=this.morphTargetsRelative;for(let h=0,m=l.count;h<m;h++)_r.fromBufferAttribute(l,h),d&&(Lp.fromBufferAttribute(e,h),_r.add(Lp)),r=Math.max(r,i.distanceToSquared(_r))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=n.position,r=n.normal,s=n.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Zn(new Float32Array(4*i.count),4));const o=this.getAttribute("tangent"),l=[],d=[];for(let B=0;B<i.count;B++)l[B]=new J,d[B]=new J;const h=new J,m=new J,g=new J,y=new Ge,b=new Ge,S=new Ge,C=new J,T=new J;function _(B,L,z){h.fromBufferAttribute(i,B),m.fromBufferAttribute(i,L),g.fromBufferAttribute(i,z),y.fromBufferAttribute(s,B),b.fromBufferAttribute(s,L),S.fromBufferAttribute(s,z),m.sub(h),g.sub(h),b.sub(y),S.sub(y);const F=1/(b.x*S.y-S.x*b.y);isFinite(F)&&(C.copy(m).multiplyScalar(S.y).addScaledVector(g,-b.y).multiplyScalar(F),T.copy(g).multiplyScalar(b.x).addScaledVector(m,-S.x).multiplyScalar(F),l[B].add(C),l[L].add(C),l[z].add(C),d[B].add(T),d[L].add(T),d[z].add(T))}let w=this.groups;w.length===0&&(w=[{start:0,count:e.count}]);for(let B=0,L=w.length;B<L;++B){const z=w[B],F=z.start,j=z.count;for(let Z=F,se=F+j;Z<se;Z+=3)_(e.getX(Z+0),e.getX(Z+1),e.getX(Z+2))}const R=new J,N=new J,D=new J,I=new J;function V(B){D.fromBufferAttribute(r,B),I.copy(D);const L=l[B];R.copy(L),R.sub(D.multiplyScalar(D.dot(L))).normalize(),N.crossVectors(I,L);const F=N.dot(d[B])<0?-1:1;o.setXYZW(B,R.x,R.y,R.z,F)}for(let B=0,L=w.length;B<L;++B){const z=w[B],F=z.start,j=z.count;for(let Z=F,se=F+j;Z<se;Z+=3)V(e.getX(Z+0)),V(e.getX(Z+1)),V(e.getX(Z+2))}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new Zn(new Float32Array(n.count*3),3),this.setAttribute("normal",i);else for(let y=0,b=i.count;y<b;y++)i.setXYZ(y,0,0,0);const r=new J,s=new J,o=new J,l=new J,d=new J,h=new J,m=new J,g=new J;if(e)for(let y=0,b=e.count;y<b;y+=3){const S=e.getX(y+0),C=e.getX(y+1),T=e.getX(y+2);r.fromBufferAttribute(n,S),s.fromBufferAttribute(n,C),o.fromBufferAttribute(n,T),m.subVectors(o,s),g.subVectors(r,s),m.cross(g),l.fromBufferAttribute(i,S),d.fromBufferAttribute(i,C),h.fromBufferAttribute(i,T),l.add(m),d.add(m),h.add(m),i.setXYZ(S,l.x,l.y,l.z),i.setXYZ(C,d.x,d.y,d.z),i.setXYZ(T,h.x,h.y,h.z)}else for(let y=0,b=n.count;y<b;y+=3)r.fromBufferAttribute(n,y+0),s.fromBufferAttribute(n,y+1),o.fromBufferAttribute(n,y+2),m.subVectors(o,s),g.subVectors(r,s),m.cross(g),i.setXYZ(y+0,m.x,m.y,m.z),i.setXYZ(y+1,m.x,m.y,m.z),i.setXYZ(y+2,m.x,m.y,m.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,i=e.count;n<i;n++)_r.fromBufferAttribute(e,n),_r.normalize(),e.setXYZ(n,_r.x,_r.y,_r.z)}toNonIndexed(){function e(l,d){const h=l.array,m=l.itemSize,g=l.normalized,y=new h.constructor(d.length*m);let b=0,S=0;for(let C=0,T=d.length;C<T;C++){l.isInterleavedBufferAttribute?b=d[C]*l.data.stride+l.offset:b=d[C]*m;for(let _=0;_<m;_++)y[S++]=h[b++]}return new Zn(y,m,g)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new an,i=this.index.array,r=this.attributes;for(const l in r){const d=r[l],h=e(d,i);n.setAttribute(l,h)}const s=this.morphAttributes;for(const l in s){const d=[],h=s[l];for(let m=0,g=h.length;m<g;m++){const y=h[m],b=e(y,i);d.push(b)}n.morphAttributes[l]=d}n.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let l=0,d=o.length;l<d;l++){const h=o[l];n.addGroup(h.start,h.count,h.materialIndex)}return n}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const d=this.parameters;for(const h in d)d[h]!==void 0&&(e[h]=d[h]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const i=this.attributes;for(const d in i){const h=i[d];e.data.attributes[d]=h.toJSON(e.data)}const r={};let s=!1;for(const d in this.morphAttributes){const h=this.morphAttributes[d],m=[];for(let g=0,y=h.length;g<y;g++){const b=h[g];m.push(b.toJSON(e.data))}m.length>0&&(r[d]=m,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const l=this.boundingSphere;return l!==null&&(e.data.boundingSphere=l.toJSON()),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone());const r=e.attributes;for(const h in r){const m=r[h];this.setAttribute(h,m.clone(n))}const s=e.morphAttributes;for(const h in s){const m=[],g=s[h];for(let y=0,b=g.length;y<b;y++)m.push(g[y].clone(n));this.morphAttributes[h]=m}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let h=0,m=o.length;h<m;h++){const g=o[h];this.addGroup(g.start,g.count,g.materialIndex)}const l=e.boundingBox;l!==null&&(this.boundingBox=l.clone());const d=e.boundingSphere;return d!==null&&(this.boundingSphere=d.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const SP=new qt,Cf=new Km,Ib=new Br,_P=new J,Lb=new J,zb=new J,Ub=new J,vM=new J,Vb=new J,EP=new J,kb=new J;class Ki extends wn{constructor(e=new an,n=new _d){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,i=Object.keys(n);if(i.length>0){const r=n[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const l=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=s}}}}getVertexPosition(e,n){const i=this.geometry,r=i.attributes.position,s=i.morphAttributes.position,o=i.morphTargetsRelative;n.fromBufferAttribute(r,e);const l=this.morphTargetInfluences;if(s&&l){Vb.set(0,0,0);for(let d=0,h=s.length;d<h;d++){const m=l[d],g=s[d];m!==0&&(vM.fromBufferAttribute(g,e),o?Vb.addScaledVector(vM,m):Vb.addScaledVector(vM.sub(n),m))}n.add(Vb)}return n}raycast(e,n){const i=this.geometry,r=this.material,s=this.matrixWorld;r!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),Ib.copy(i.boundingSphere),Ib.applyMatrix4(s),Cf.copy(e.ray).recast(e.near),!(Ib.containsPoint(Cf.origin)===!1&&(Cf.intersectSphere(Ib,_P)===null||Cf.origin.distanceToSquared(_P)>(e.far-e.near)**2))&&(SP.copy(s).invert(),Cf.copy(e.ray).applyMatrix4(SP),!(i.boundingBox!==null&&Cf.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,n,Cf)))}_computeIntersections(e,n,i){let r;const s=this.geometry,o=this.material,l=s.index,d=s.attributes.position,h=s.attributes.uv,m=s.attributes.uv1,g=s.attributes.normal,y=s.groups,b=s.drawRange;if(l!==null)if(Array.isArray(o))for(let S=0,C=y.length;S<C;S++){const T=y[S],_=o[T.materialIndex],w=Math.max(T.start,b.start),R=Math.min(l.count,Math.min(T.start+T.count,b.start+b.count));for(let N=w,D=R;N<D;N+=3){const I=l.getX(N),V=l.getX(N+1),B=l.getX(N+2);r=Bb(this,_,e,i,h,m,g,I,V,B),r&&(r.faceIndex=Math.floor(N/3),r.face.materialIndex=T.materialIndex,n.push(r))}}else{const S=Math.max(0,b.start),C=Math.min(l.count,b.start+b.count);for(let T=S,_=C;T<_;T+=3){const w=l.getX(T),R=l.getX(T+1),N=l.getX(T+2);r=Bb(this,o,e,i,h,m,g,w,R,N),r&&(r.faceIndex=Math.floor(T/3),n.push(r))}}else if(d!==void 0)if(Array.isArray(o))for(let S=0,C=y.length;S<C;S++){const T=y[S],_=o[T.materialIndex],w=Math.max(T.start,b.start),R=Math.min(d.count,Math.min(T.start+T.count,b.start+b.count));for(let N=w,D=R;N<D;N+=3){const I=N,V=N+1,B=N+2;r=Bb(this,_,e,i,h,m,g,I,V,B),r&&(r.faceIndex=Math.floor(N/3),r.face.materialIndex=T.materialIndex,n.push(r))}}else{const S=Math.max(0,b.start),C=Math.min(d.count,b.start+b.count);for(let T=S,_=C;T<_;T+=3){const w=T,R=T+1,N=T+2;r=Bb(this,o,e,i,h,m,g,w,R,N),r&&(r.faceIndex=Math.floor(T/3),n.push(r))}}}}function zie(t,e,n,i,r,s,o,l){let d;if(e.side===Os?d=i.intersectTriangle(o,s,r,!0,l):d=i.intersectTriangle(r,s,o,e.side===$c,l),d===null)return null;kb.copy(l),kb.applyMatrix4(t.matrixWorld);const h=n.ray.origin.distanceTo(kb);return h<n.near||h>n.far?null:{distance:h,point:kb.clone(),object:t}}function Bb(t,e,n,i,r,s,o,l,d,h){t.getVertexPosition(l,Lb),t.getVertexPosition(d,zb),t.getVertexPosition(h,Ub);const m=zie(t,e,n,i,Lb,zb,Ub,EP);if(m){const g=new J;Js.getBarycoord(EP,Lb,zb,Ub,g),r&&(m.uv=Js.getInterpolatedAttribute(r,l,d,h,g,new Ge)),s&&(m.uv1=Js.getInterpolatedAttribute(s,l,d,h,g,new Ge)),o&&(m.normal=Js.getInterpolatedAttribute(o,l,d,h,g,new J),m.normal.dot(i.direction)>0&&m.normal.multiplyScalar(-1));const y={a:l,b:d,c:h,normal:new J,materialIndex:0};Js.getNormal(Lb,zb,Ub,y.normal),m.face=y,m.barycoord=g}return m}class mh extends an{constructor(e=1,n=1,i=1,r=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:i,widthSegments:r,heightSegments:s,depthSegments:o};const l=this;r=Math.floor(r),s=Math.floor(s),o=Math.floor(o);const d=[],h=[],m=[],g=[];let y=0,b=0;S("z","y","x",-1,-1,i,n,e,o,s,0),S("z","y","x",1,-1,i,n,-e,o,s,1),S("x","z","y",1,1,e,i,n,r,o,2),S("x","z","y",1,-1,e,i,-n,r,o,3),S("x","y","z",1,-1,e,n,i,r,s,4),S("x","y","z",-1,-1,e,n,-i,r,s,5),this.setIndex(d),this.setAttribute("position",new St(h,3)),this.setAttribute("normal",new St(m,3)),this.setAttribute("uv",new St(g,2));function S(C,T,_,w,R,N,D,I,V,B,L){const z=N/V,F=D/B,j=N/2,Z=D/2,se=I/2,ie=V+1,k=B+1;let q=0,$=0;const ne=new J;for(let G=0;G<k;G++){const te=G*F-Z;for(let ve=0;ve<ie;ve++){const Me=ve*z-j;ne[C]=Me*w,ne[T]=te*R,ne[_]=se,h.push(ne.x,ne.y,ne.z),ne[C]=0,ne[T]=0,ne[_]=I>0?1:-1,m.push(ne.x,ne.y,ne.z),g.push(ve/V),g.push(1-G/B),q+=1}}for(let G=0;G<B;G++)for(let te=0;te<V;te++){const ve=y+te+ie*G,Me=y+te+ie*(G+1),De=y+(te+1)+ie*(G+1),qe=y+(te+1)+ie*G;d.push(ve,Me,qe),d.push(Me,De,qe),$+=6}l.addGroup(b,$,L),b+=$,y+=q}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new mh(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Im(t){const e={};for(const n in t){e[n]={};for(const i in t[n]){const r=t[n][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][i]=null):e[n][i]=r.clone():Array.isArray(r)?e[n][i]=r.slice():e[n][i]=r}}return e}function Cs(t){const e={};for(let n=0;n<t.length;n++){const i=Im(t[n]);for(const r in i)e[r]=i[r]}return e}function Uie(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function CB(t){const e=t.getRenderTarget();return e===null?t.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:Sn.workingColorSpace}const wB={clone:Im,merge:Cs};var Vie=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,kie=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class oo extends rs{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=Vie,this.fragmentShader=kie,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Im(e.uniforms),this.uniformsGroups=Uie(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const r in this.uniforms){const o=this.uniforms[r].value;o&&o.isTexture?n.uniforms[r]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?n.uniforms[r]={type:"c",value:o.getHex()}:o&&o.isVector2?n.uniforms[r]={type:"v2",value:o.toArray()}:o&&o.isVector3?n.uniforms[r]={type:"v3",value:o.toArray()}:o&&o.isVector4?n.uniforms[r]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?n.uniforms[r]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?n.uniforms[r]={type:"m4",value:o.toArray()}:n.uniforms[r]={value:o}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(n.extensions=i),n}}class $1 extends wn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new qt,this.projectionMatrix=new qt,this.projectionMatrixInverse=new qt,this.coordinateSystem=Ca,this._reversedDepth=!1}get reversedDepth(){return this._reversedDepth}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const nd=new J,TP=new Ge,MP=new Ge;class Tr extends $1{constructor(e=50,n=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=Dm*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(rh*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Dm*2*Math.atan(Math.tan(rh*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,n,i){nd.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(nd.x,nd.y).multiplyScalar(-e/nd.z),nd.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(nd.x,nd.y).multiplyScalar(-e/nd.z)}getViewSize(e,n){return this.getViewBounds(e,TP,MP),n.subVectors(MP,TP)}setViewOffset(e,n,i,r,s,o){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(rh*.5*this.fov)/this.zoom,i=2*n,r=this.aspect*i,s=-.5*r;const o=this.view;if(this.view!==null&&this.view.enabled){const d=o.fullWidth,h=o.fullHeight;s+=o.offsetX*r/d,n-=o.offsetY*i/h,r*=o.width/d,i*=o.height/h}const l=this.filmOffset;l!==0&&(s+=e*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,n,n-i,e,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const zp=-90,Up=1;class AB extends wn{constructor(e,n,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new Tr(zp,Up,e,n);r.layers=this.layers,this.add(r);const s=new Tr(zp,Up,e,n);s.layers=this.layers,this.add(s);const o=new Tr(zp,Up,e,n);o.layers=this.layers,this.add(o);const l=new Tr(zp,Up,e,n);l.layers=this.layers,this.add(l);const d=new Tr(zp,Up,e,n);d.layers=this.layers,this.add(d);const h=new Tr(zp,Up,e,n);h.layers=this.layers,this.add(h)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[i,r,s,o,l,d]=n;for(const h of n)this.remove(h);if(e===Ca)i.up.set(0,1,0),i.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),l.up.set(0,1,0),l.lookAt(0,0,1),d.up.set(0,1,0),d.lookAt(0,0,-1);else if(e===Nm)i.up.set(0,-1,0),i.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),l.up.set(0,-1,0),l.lookAt(0,0,1),d.up.set(0,-1,0),d.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const h of n)this.add(h),h.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,o,l,d,h,m]=this.children,g=e.getRenderTarget(),y=e.getActiveCubeFace(),b=e.getActiveMipmapLevel(),S=e.xr.enabled;e.xr.enabled=!1;const C=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0,r),e.render(n,s),e.setRenderTarget(i,1,r),e.render(n,o),e.setRenderTarget(i,2,r),e.render(n,l),e.setRenderTarget(i,3,r),e.render(n,d),e.setRenderTarget(i,4,r),e.render(n,h),i.texture.generateMipmaps=C,e.setRenderTarget(i,5,r),e.render(n,m),e.setRenderTarget(g,y,b),e.xr.enabled=S,i.texture.needsPMREMUpdate=!0}}class x0 extends gi{constructor(e=[],n=Zc,i,r,s,o,l,d,h,m){super(e,n,i,r,s,o,l,d,h,m),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class RB extends ec{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];this.texture=new x0(r),this._setTextureOptions(n),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new mh(5,5,5),s=new oo({name:"CubemapFromEquirect",uniforms:Im(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:Os,blending:Gc});s.uniforms.tEquirect.value=n;const o=new Ki(r,s),l=n.minFilter;return n.minFilter===Fl&&(n.minFilter=cr),new AB(1,10,this).update(e,o),n.minFilter=l,o.geometry.dispose(),o.material.dispose(),this}clear(e,n=!0,i=!0,r=!0){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(n,i,r);e.setRenderTarget(s)}}class pm extends wn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const Bie={type:"move"};class BS{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new pm,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new pm,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new J,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new J),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new pm,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new J,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new J),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const i of e.hand.values())this._getHandJoint(n,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,i){let r=null,s=null,o=null;const l=this._targetRay,d=this._grip,h=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(h&&e.hand){o=!0;for(const C of e.hand.values()){const T=n.getJointPose(C,i),_=this._getHandJoint(h,C);T!==null&&(_.matrix.fromArray(T.transform.matrix),_.matrix.decompose(_.position,_.rotation,_.scale),_.matrixWorldNeedsUpdate=!0,_.jointRadius=T.radius),_.visible=T!==null}const m=h.joints["index-finger-tip"],g=h.joints["thumb-tip"],y=m.position.distanceTo(g.position),b=.02,S=.005;h.inputState.pinching&&y>b+S?(h.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!h.inputState.pinching&&y<=b-S&&(h.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else d!==null&&e.gripSpace&&(s=n.getPose(e.gripSpace,i),s!==null&&(d.matrix.fromArray(s.transform.matrix),d.matrix.decompose(d.position,d.rotation,d.scale),d.matrixWorldNeedsUpdate=!0,s.linearVelocity?(d.hasLinearVelocity=!0,d.linearVelocity.copy(s.linearVelocity)):d.hasLinearVelocity=!1,s.angularVelocity?(d.hasAngularVelocity=!0,d.angularVelocity.copy(s.angularVelocity)):d.hasAngularVelocity=!1));l!==null&&(r=n.getPose(e.targetRaySpace,i),r===null&&s!==null&&(r=s),r!==null&&(l.matrix.fromArray(r.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,r.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(r.linearVelocity)):l.hasLinearVelocity=!1,r.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(r.angularVelocity)):l.hasAngularVelocity=!1,this.dispatchEvent(Bie)))}return l!==null&&(l.visible=r!==null),d!==null&&(d.visible=s!==null),h!==null&&(h.visible=o!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const i=new pm;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[n.jointName]=i,e.add(i)}return e.joints[n.jointName]}}class Z1{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new mt(e),this.density=n}clone(){return new Z1(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class Q1{constructor(e,n=1,i=1e3){this.isFog=!0,this.name="",this.color=new mt(e),this.near=n,this.far=i}clone(){return new Q1(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class gR extends wn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Oa,this.environmentIntensity=1,this.environmentRotation=new Oa,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(n.object.environmentIntensity=this.environmentIntensity),n.object.environmentRotation=this.environmentRotation.toArray(),n}}class J1{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=Hy,this.updateRanges=[],this.version=0,this.uuid=Ra()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,i){e*=this.stride,i*=n.stride;for(let r=0,s=this.stride;r<s;r++)this.array[e+r]=n.array[i+r];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ra()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(n,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ra()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Ms=new J;class uh{constructor(e,n,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=i,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,i=this.data.count;n<i;n++)Ms.fromBufferAttribute(this,n),Ms.applyMatrix4(e),this.setXYZ(n,Ms.x,Ms.y,Ms.z);return this}applyNormalMatrix(e){for(let n=0,i=this.count;n<i;n++)Ms.fromBufferAttribute(this,n),Ms.applyNormalMatrix(e),this.setXYZ(n,Ms.x,Ms.y,Ms.z);return this}transformDirection(e){for(let n=0,i=this.count;n<i;n++)Ms.fromBufferAttribute(this,n),Ms.transformDirection(e),this.setXYZ(n,Ms.x,Ms.y,Ms.z);return this}getComponent(e,n){let i=this.array[e*this.data.stride+this.offset+n];return this.normalized&&(i=As(i,this.array)),i}setComponent(e,n,i){return this.normalized&&(i=sn(i,this.array)),this.data.array[e*this.data.stride+this.offset+n]=i,this}setX(e,n){return this.normalized&&(n=sn(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=sn(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=sn(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=sn(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=As(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=As(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=As(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=As(n,this.array)),n}setXY(e,n,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=sn(n,this.array),i=sn(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=i,this}setXYZ(e,n,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=sn(n,this.array),i=sn(i,this.array),r=sn(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,n,i,r,s){return e=e*this.data.stride+this.offset,this.normalized&&(n=sn(n,this.array),i=sn(i,this.array),r=sn(r,this.array),s=sn(s,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[r+s])}return new Zn(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new uh(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[r+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class vR extends rs{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new mt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Vp;const Ov=new J,kp=new J,Bp=new J,Fp=new Ge,Nv=new Ge,OB=new qt,Fb=new J,Dv=new J,Hb=new J,CP=new Ge,yM=new Ge,wP=new Ge;class NB extends wn{constructor(e=new vR){if(super(),this.isSprite=!0,this.type="Sprite",Vp===void 0){Vp=new an;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new J1(n,5);Vp.setIndex([0,1,2,0,2,3]),Vp.setAttribute("position",new uh(i,3,0,!1)),Vp.setAttribute("uv",new uh(i,2,3,!1))}this.geometry=Vp,this.material=e,this.center=new Ge(.5,.5),this.count=1}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),kp.setFromMatrixScale(this.matrixWorld),OB.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Bp.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&kp.multiplyScalar(-Bp.z);const i=this.material.rotation;let r,s;i!==0&&(s=Math.cos(i),r=Math.sin(i));const o=this.center;Gb(Fb.set(-.5,-.5,0),Bp,o,kp,r,s),Gb(Dv.set(.5,-.5,0),Bp,o,kp,r,s),Gb(Hb.set(.5,.5,0),Bp,o,kp,r,s),CP.set(0,0),yM.set(1,0),wP.set(1,1);let l=e.ray.intersectTriangle(Fb,Dv,Hb,!1,Ov);if(l===null&&(Gb(Dv.set(-.5,.5,0),Bp,o,kp,r,s),yM.set(0,1),l=e.ray.intersectTriangle(Fb,Hb,Dv,!1,Ov),l===null))return;const d=e.ray.origin.distanceTo(Ov);d<e.near||d>e.far||n.push({distance:d,point:Ov.clone(),uv:Js.getInterpolation(Ov,Fb,Dv,Hb,CP,yM,wP,new Ge),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function Gb(t,e,n,i,r,s){Fp.subVectors(t,n).addScalar(.5).multiply(i),r!==void 0?(Nv.x=s*Fp.x-r*Fp.y,Nv.y=r*Fp.x+s*Fp.y):Nv.copy(Fp),t.copy(e),t.x+=Nv.x,t.y+=Nv.y,t.applyMatrix4(OB)}const Wb=new J,AP=new J;class DB extends wn{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let i=0,r=n.length;i<r;i++){const s=n[i];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,i=0){n=Math.abs(n);const r=this.levels;let s;for(s=0;s<r.length&&!(n<r[s].distance);s++);return r.splice(s,0,{distance:n,hysteresis:i,object:e}),this.add(e),this}removeLevel(e){const n=this.levels;for(let i=0;i<n.length;i++)if(n[i].distance===e){const r=n.splice(i,1);return this.remove(r[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let i,r;for(i=1,r=n.length;i<r;i++){let s=n[i].distance;if(n[i].object.visible&&(s-=s*n[i].hysteresis),e<s)break}return n[i-1].object}return null}raycast(e,n){if(this.levels.length>0){Wb.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(Wb);this.getObjectForDistance(r).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){Wb.setFromMatrixPosition(e.matrixWorld),AP.setFromMatrixPosition(this.matrixWorld);const i=Wb.distanceTo(AP)/e.zoom;n[0].object.visible=!0;let r,s;for(r=1,s=n.length;r<s;r++){let o=n[r].distance;if(n[r].object.visible&&(o-=o*n[r].hysteresis),i>=o)n[r-1].object.visible=!1,n[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<s;r++)n[r].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const i=this.levels;for(let r=0,s=i.length;r<s;r++){const o=i[r];n.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return n}}const RP=new J,OP=new Cn,NP=new Cn,Fie=new J,DP=new qt,jb=new J,xM=new Br,PP=new qt,bM=new Km;class PB extends Ki{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=ow,this.bindMatrix=new qt,this.bindMatrixInverse=new qt,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new is),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let i=0;i<n.count;i++)this.getVertexPosition(i,jb),this.boundingBox.expandByPoint(jb)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Br),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let i=0;i<n.count;i++)this.getVertexPosition(i,jb),this.boundingSphere.expandByPoint(jb)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const i=this.material,r=this.matrixWorld;i!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),xM.copy(this.boundingSphere),xM.applyMatrix4(r),e.ray.intersectsSphere(xM)!==!1&&(PP.copy(r).invert(),bM.copy(e.ray).applyMatrix4(PP),!(this.boundingBox!==null&&bM.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,bM)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Cn,n=this.geometry.attributes.skinWeight;for(let i=0,r=n.count;i<r;i++){e.fromBufferAttribute(n,i);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),n.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===ow?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===lB?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const i=this.skeleton,r=this.geometry;OP.fromBufferAttribute(r.attributes.skinIndex,e),NP.fromBufferAttribute(r.attributes.skinWeight,e),RP.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let s=0;s<4;s++){const o=NP.getComponent(s);if(o!==0){const l=OP.getComponent(s);DP.multiplyMatrices(i.bones[l].matrixWorld,i.boneInverses[l]),n.addScaledVector(Fie.copy(RP).applyMatrix4(DP),o)}}return n.applyMatrix4(this.bindMatrixInverse)}}class yR extends wn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Yl extends gi{constructor(e=null,n=1,i=1,r,s,o,l,d,h=kr,m=kr,g,y){super(null,o,l,d,h,m,r,s,g,y),this.isDataTexture=!0,this.image={data:e,width:n,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const IP=new qt,Hie=new qt;class eE{constructor(e=[],n=[]){this.uuid=Ra(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new qt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const i=new qt;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,n=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const l=e[s]?e[s].matrixWorld:Hie;IP.multiplyMatrices(l,n[s]),IP.toArray(i,s*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new eE(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const i=new Yl(n,e,e,ns,na);return i.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=i,this}getBoneByName(e){for(let n=0,i=this.bones.length;n<i;n++){const r=this.bones[n];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let i=0,r=e.bones.length;i<r;i++){const s=e.bones[i];let o=n[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new yR),this.bones.push(o),this.boneInverses.push(new qt().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.7,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,i=this.boneInverses;for(let r=0,s=n.length;r<s;r++){const o=n[r];e.bones.push(o.uuid);const l=i[r];e.boneInverses.push(l.toArray())}return e}}class Lm extends Zn{constructor(e,n,i,r=1){super(e,n,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Hp=new qt,LP=new qt,Xb=[],zP=new is,Gie=new qt,Pv=new Ki,Iv=new Br;class IB extends Ki{constructor(e,n,i){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new Lm(new Float32Array(i*16),16),this.instanceColor=null,this.morphTexture=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<i;r++)this.setMatrixAt(r,Gie)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new is),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<n;i++)this.getMatrixAt(i,Hp),zP.copy(e.boundingBox).applyMatrix4(Hp),this.boundingBox.union(zP)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new Br),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<n;i++)this.getMatrixAt(i,Hp),Iv.copy(e.boundingSphere).applyMatrix4(Hp),this.boundingSphere.union(Iv)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,n){const i=n.morphTargetInfluences,r=this.morphTexture.source.data.data,s=i.length+1,o=e*s+1;for(let l=0;l<i.length;l++)i[l]=r[o+l]}raycast(e,n){const i=this.matrixWorld,r=this.count;if(Pv.geometry=this.geometry,Pv.material=this.material,Pv.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Iv.copy(this.boundingSphere),Iv.applyMatrix4(i),e.ray.intersectsSphere(Iv)!==!1))for(let s=0;s<r;s++){this.getMatrixAt(s,Hp),LP.multiplyMatrices(i,Hp),Pv.matrixWorld=LP,Pv.raycast(e,Xb);for(let o=0,l=Xb.length;o<l;o++){const d=Xb[o];d.instanceId=s,d.object=this,n.push(d)}Xb.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new Lm(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,n){const i=n.morphTargetInfluences,r=i.length+1;this.morphTexture===null&&(this.morphTexture=new Yl(new Float32Array(r*this.count),r,this.count,W1,na));const s=this.morphTexture.source.data.data;let o=0;for(let h=0;h<i.length;h++)o+=i[h];const l=this.geometry.morphTargetsRelative?1:1-o,d=r*e;s[d]=l,s.set(i,d+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const SM=new J,Wie=new J,jie=new nn;class ld{constructor(e=new J(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,i,r){return this.normal.set(e,n,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,i){const r=SM.subVectors(i,n).cross(Wie.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const i=e.delta(SM),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:n.copy(e.start).addScaledVector(i,s)}intersectsLine(e){const n=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return n<0&&i>0||i<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const i=n||jie.getNormalMatrix(e),r=this.coplanarPoint(SM).applyMatrix4(e),s=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const wf=new Br,Xie=new Ge(.5,.5),qb=new J;class $m{constructor(e=new ld,n=new ld,i=new ld,r=new ld,s=new ld,o=new ld){this.planes=[e,n,i,r,s,o]}set(e,n,i,r,s,o){const l=this.planes;return l[0].copy(e),l[1].copy(n),l[2].copy(i),l[3].copy(r),l[4].copy(s),l[5].copy(o),this}copy(e){const n=this.planes;for(let i=0;i<6;i++)n[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,n=Ca,i=!1){const r=this.planes,s=e.elements,o=s[0],l=s[1],d=s[2],h=s[3],m=s[4],g=s[5],y=s[6],b=s[7],S=s[8],C=s[9],T=s[10],_=s[11],w=s[12],R=s[13],N=s[14],D=s[15];if(r[0].setComponents(h-o,b-m,_-S,D-w).normalize(),r[1].setComponents(h+o,b+m,_+S,D+w).normalize(),r[2].setComponents(h+l,b+g,_+C,D+R).normalize(),r[3].setComponents(h-l,b-g,_-C,D-R).normalize(),i)r[4].setComponents(d,y,T,N).normalize(),r[5].setComponents(h-d,b-y,_-T,D-N).normalize();else if(r[4].setComponents(h-d,b-y,_-T,D-N).normalize(),n===Ca)r[5].setComponents(h+d,b+y,_+T,D+N).normalize();else if(n===Nm)r[5].setComponents(d,y,T,N).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),wf.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),wf.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(wf)}intersectsSprite(e){wf.center.set(0,0,0);const n=Xie.distanceTo(e.center);return wf.radius=.7071067811865476+n,wf.applyMatrix4(e.matrixWorld),this.intersectsSphere(wf)}intersectsSphere(e){const n=this.planes,i=e.center,r=-e.radius;for(let s=0;s<6;s++)if(n[s].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const n=this.planes;for(let i=0;i<6;i++){const r=n[i];if(qb.x=r.normal.x>0?e.max.x:e.min.x,qb.y=r.normal.y>0?e.max.y:e.min.y,qb.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(qb)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let i=0;i<6;i++)if(n[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const Il=new qt,Ll=new $m;class tE{constructor(){this.coordinateSystem=Ca}intersectsObject(e,n){if(!n.isArrayCamera||n.cameras.length===0)return!1;for(let i=0;i<n.cameras.length;i++){const r=n.cameras[i];if(Il.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),Ll.setFromProjectionMatrix(Il,r.coordinateSystem,r.reversedDepth),Ll.intersectsObject(e))return!0}return!1}intersectsSprite(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let i=0;i<n.cameras.length;i++){const r=n.cameras[i];if(Il.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),Ll.setFromProjectionMatrix(Il,r.coordinateSystem,r.reversedDepth),Ll.intersectsSprite(e))return!0}return!1}intersectsSphere(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let i=0;i<n.cameras.length;i++){const r=n.cameras[i];if(Il.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),Ll.setFromProjectionMatrix(Il,r.coordinateSystem,r.reversedDepth),Ll.intersectsSphere(e))return!0}return!1}intersectsBox(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let i=0;i<n.cameras.length;i++){const r=n.cameras[i];if(Il.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),Ll.setFromProjectionMatrix(Il,r.coordinateSystem,r.reversedDepth),Ll.intersectsBox(e))return!0}return!1}containsPoint(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let i=0;i<n.cameras.length;i++){const r=n.cameras[i];if(Il.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),Ll.setFromProjectionMatrix(Il,r.coordinateSystem,r.reversedDepth),Ll.containsPoint(e))return!0}return!1}clone(){return new tE}}function _M(t,e){return t-e}function qie(t,e){return t.z-e.z}function Yie(t,e){return e.z-t.z}class Kie{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,n,i,r){const s=this.pool,o=this.list;this.index>=s.length&&s.push({start:-1,count:-1,z:-1,index:-1});const l=s[this.index];o.push(l),this.index++,l.start=e,l.count=n,l.z=i,l.index=r}reset(){this.list.length=0,this.index=0}}const $s=new qt,$ie=new mt(1,1,1),UP=new $m,Zie=new tE,Yb=new is,Af=new Br,Lv=new J,VP=new J,Qie=new J,EM=new Kie,Qr=new Ki,Kb=[];function Jie(t,e,n=0){const i=e.itemSize;if(t.isInterleavedBufferAttribute||t.array.constructor!==e.array.constructor){const r=t.count;for(let s=0;s<r;s++)for(let o=0;o<i;o++)e.setComponent(s+n,o,t.getComponent(s,o))}else e.array.set(t.array,n*i);e.needsUpdate=!0}function Rf(t,e){if(t.constructor!==e.constructor){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++)e[i]=t[i]}else{const n=Math.min(t.length,e.length);e.set(new t.constructor(t.buffer,0,n))}}class LB extends Ki{constructor(e,n,i=n*2,r){super(new an,r),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=n,this._maxIndexCount=i,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4),i=new Yl(n,e,e,ns,na);this._matricesTexture=i}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const n=new Uint32Array(e*e),i=new Yl(n,e,e,y0,Qc);this._indirectTexture=i}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const n=new Float32Array(e*e*4).fill(1),i=new Yl(n,e,e,ns,na);i.colorSpace=Sn.workingColorSpace,this._colorsTexture=i}_initializeGeometry(e){const n=this.geometry,i=this._maxVertexCount,r=this._maxIndexCount;if(this._geometryInitialized===!1){for(const s in e.attributes){const o=e.getAttribute(s),{array:l,itemSize:d,normalized:h}=o,m=new l.constructor(i*d),g=new Zn(m,d,h);n.setAttribute(s,g)}if(e.getIndex()!==null){const s=i>65535?new Uint32Array(r):new Uint16Array(r);n.setIndex(new Zn(s,1))}this._geometryInitialized=!0}}_validateGeometry(e){const n=this.geometry;if(!!e.getIndex()!=!!n.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const i in n.attributes){if(!e.hasAttribute(i))throw new Error(`THREE.BatchedMesh: Added geometry missing "${i}". All geometries must have consistent attributes.`);const r=e.getAttribute(i),s=n.getAttribute(i);if(r.itemSize!==s.itemSize||r.normalized!==s.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const n=this._instanceInfo;if(e<0||e>=n.length||n[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const n=this._geometryInfo;if(e<0||e>=n.length||n[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new is);const e=this.boundingBox,n=this._instanceInfo;e.makeEmpty();for(let i=0,r=n.length;i<r;i++){if(n[i].active===!1)continue;const s=n[i].geometryIndex;this.getMatrixAt(i,$s),this.getBoundingBoxAt(s,Yb).applyMatrix4($s),e.union(Yb)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Br);const e=this.boundingSphere,n=this._instanceInfo;e.makeEmpty();for(let i=0,r=n.length;i<r;i++){if(n[i].active===!1)continue;const s=n[i].geometryIndex;this.getMatrixAt(i,$s),this.getBoundingSphereAt(s,Af).applyMatrix4($s),e.union(Af)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const i={visible:!0,active:!0,geometryIndex:e};let r=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(_M),r=this._availableInstanceIds.shift(),this._instanceInfo[r]=i):(r=this._instanceInfo.length,this._instanceInfo.push(i));const s=this._matricesTexture;$s.identity().toArray(s.image.data,r*16),s.needsUpdate=!0;const o=this._colorsTexture;return o&&($ie.toArray(o.image.data,r*4),o.needsUpdate=!0),this._visibilityChanged=!0,r}addGeometry(e,n=-1,i=-1){this._initializeGeometry(e),this._validateGeometry(e);const r={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},s=this._geometryInfo;r.vertexStart=this._nextVertexStart,r.reservedVertexCount=n===-1?e.getAttribute("position").count:n;const o=e.getIndex();if(o!==null&&(r.indexStart=this._nextIndexStart,r.reservedIndexCount=i===-1?o.count:i),r.indexStart!==-1&&r.indexStart+r.reservedIndexCount>this._maxIndexCount||r.vertexStart+r.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let d;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(_M),d=this._availableGeometryIds.shift(),s[d]=r):(d=this._geometryCount,this._geometryCount++,s.push(r)),this.setGeometryAt(d,e),this._nextIndexStart=r.indexStart+r.reservedIndexCount,this._nextVertexStart=r.vertexStart+r.reservedVertexCount,d}setGeometryAt(e,n){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(n);const i=this.geometry,r=i.getIndex()!==null,s=i.getIndex(),o=n.getIndex(),l=this._geometryInfo[e];if(r&&o.count>l.reservedIndexCount||n.attributes.position.count>l.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const d=l.vertexStart,h=l.reservedVertexCount;l.vertexCount=n.getAttribute("position").count;for(const m in i.attributes){const g=n.getAttribute(m),y=i.getAttribute(m);Jie(g,y,d);const b=g.itemSize;for(let S=g.count,C=h;S<C;S++){const T=d+S;for(let _=0;_<b;_++)y.setComponent(T,_,0)}y.needsUpdate=!0,y.addUpdateRange(d*b,h*b)}if(r){const m=l.indexStart,g=l.reservedIndexCount;l.indexCount=n.getIndex().count;for(let y=0;y<o.count;y++)s.setX(m+y,d+o.getX(y));for(let y=o.count,b=g;y<b;y++)s.setX(m+y,d);s.needsUpdate=!0,s.addUpdateRange(m,l.reservedIndexCount)}return l.start=r?l.indexStart:l.vertexStart,l.count=r?l.indexCount:l.vertexCount,l.boundingBox=null,n.boundingBox!==null&&(l.boundingBox=n.boundingBox.clone()),l.boundingSphere=null,n.boundingSphere!==null&&(l.boundingSphere=n.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const n=this._geometryInfo;if(e>=n.length||n[e].active===!1)return this;const i=this._instanceInfo;for(let r=0,s=i.length;r<s;r++)i[r].active&&i[r].geometryIndex===e&&this.deleteInstance(r);return n[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,n=0;const i=this._geometryInfo,r=i.map((o,l)=>l).sort((o,l)=>i[o].vertexStart-i[l].vertexStart),s=this.geometry;for(let o=0,l=i.length;o<l;o++){const d=r[o],h=i[d];if(h.active!==!1){if(s.index!==null){if(h.indexStart!==n){const{indexStart:m,vertexStart:g,reservedIndexCount:y}=h,b=s.index,S=b.array,C=e-g;for(let T=m;T<m+y;T++)S[T]=S[T]+C;b.array.copyWithin(n,m,m+y),b.addUpdateRange(n,y),h.indexStart=n}n+=h.reservedIndexCount}if(h.vertexStart!==e){const{vertexStart:m,reservedVertexCount:g}=h,y=s.attributes;for(const b in y){const S=y[b],{array:C,itemSize:T}=S;C.copyWithin(e*T,m*T,(m+g)*T),S.addUpdateRange(e*T,g*T)}h.vertexStart=e}e+=h.reservedVertexCount,h.start=s.index?h.indexStart:h.vertexStart,this._nextIndexStart=s.index?h.indexStart+h.reservedIndexCount:0,this._nextVertexStart=h.vertexStart+h.reservedVertexCount}}return this}getBoundingBoxAt(e,n){if(e>=this._geometryCount)return null;const i=this.geometry,r=this._geometryInfo[e];if(r.boundingBox===null){const s=new is,o=i.index,l=i.attributes.position;for(let d=r.start,h=r.start+r.count;d<h;d++){let m=d;o&&(m=o.getX(m)),s.expandByPoint(Lv.fromBufferAttribute(l,m))}r.boundingBox=s}return n.copy(r.boundingBox),n}getBoundingSphereAt(e,n){if(e>=this._geometryCount)return null;const i=this.geometry,r=this._geometryInfo[e];if(r.boundingSphere===null){const s=new Br;this.getBoundingBoxAt(e,Yb),Yb.getCenter(s.center);const o=i.index,l=i.attributes.position;let d=0;for(let h=r.start,m=r.start+r.count;h<m;h++){let g=h;o&&(g=o.getX(g)),Lv.fromBufferAttribute(l,g),d=Math.max(d,s.center.distanceToSquared(Lv))}s.radius=Math.sqrt(d),r.boundingSphere=s}return n.copy(r.boundingSphere),n}setMatrixAt(e,n){this.validateInstanceId(e);const i=this._matricesTexture,r=this._matricesTexture.image.data;return n.toArray(r,e*16),i.needsUpdate=!0,this}getMatrixAt(e,n){return this.validateInstanceId(e),n.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,n){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),n.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,n){return this.validateInstanceId(e),n.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,n){return this.validateInstanceId(e),this._instanceInfo[e].visible===n?this:(this._instanceInfo[e].visible=n,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,n){return this.validateInstanceId(e),this.validateGeometryId(n),this._instanceInfo[e].geometryIndex=n,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,n={}){this.validateGeometryId(e);const i=this._geometryInfo[e];return n.vertexStart=i.vertexStart,n.vertexCount=i.vertexCount,n.reservedVertexCount=i.reservedVertexCount,n.indexStart=i.indexStart,n.indexCount=i.indexCount,n.reservedIndexCount=i.reservedIndexCount,n.start=i.start,n.count=i.count,n}setInstanceCount(e){const n=this._availableInstanceIds,i=this._instanceInfo;for(n.sort(_M);n[n.length-1]===i.length-1;)i.pop(),n.pop();if(e<i.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const r=new Int32Array(e),s=new Int32Array(e);Rf(this._multiDrawCounts,r),Rf(this._multiDrawStarts,s),this._multiDrawCounts=r,this._multiDrawStarts=s,this._maxInstanceCount=e;const o=this._indirectTexture,l=this._matricesTexture,d=this._colorsTexture;o.dispose(),this._initIndirectTexture(),Rf(o.image.data,this._indirectTexture.image.data),l.dispose(),this._initMatricesTexture(),Rf(l.image.data,this._matricesTexture.image.data),d&&(d.dispose(),this._initColorsTexture(),Rf(d.image.data,this._colorsTexture.image.data))}setGeometrySize(e,n){const i=[...this._geometryInfo].filter(l=>l.active);if(Math.max(...i.map(l=>l.vertexStart+l.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${n}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...i.map(d=>d.indexStart+d.reservedIndexCount))>n)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${n}. Cannot shrink further.`);const s=this.geometry;s.dispose(),this._maxVertexCount=e,this._maxIndexCount=n,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new an,this._initializeGeometry(s));const o=this.geometry;s.index&&Rf(s.index.array,o.index.array);for(const l in s.attributes)Rf(s.attributes[l].array,o.attributes[l].array)}raycast(e,n){const i=this._instanceInfo,r=this._geometryInfo,s=this.matrixWorld,o=this.geometry;Qr.material=this.material,Qr.geometry.index=o.index,Qr.geometry.attributes=o.attributes,Qr.geometry.boundingBox===null&&(Qr.geometry.boundingBox=new is),Qr.geometry.boundingSphere===null&&(Qr.geometry.boundingSphere=new Br);for(let l=0,d=i.length;l<d;l++){if(!i[l].visible||!i[l].active)continue;const h=i[l].geometryIndex,m=r[h];Qr.geometry.setDrawRange(m.start,m.count),this.getMatrixAt(l,Qr.matrixWorld).premultiply(s),this.getBoundingBoxAt(h,Qr.geometry.boundingBox),this.getBoundingSphereAt(h,Qr.geometry.boundingSphere),Qr.raycast(e,Kb);for(let g=0,y=Kb.length;g<y;g++){const b=Kb[g];b.object=this,b.batchId=l,n.push(b)}Kb.length=0}Qr.material=null,Qr.geometry.index=null,Qr.geometry.attributes={},Qr.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(n=>({...n,boundingBox:n.boundingBox!==null?n.boundingBox.clone():null,boundingSphere:n.boundingSphere!==null?n.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(n=>({...n})),this._availableInstanceIds=e._availableInstanceIds.slice(),this._availableGeometryIds=e._availableGeometryIds.slice(),this._nextIndexStart=e._nextIndexStart,this._nextVertexStart=e._nextVertexStart,this._geometryCount=e._geometryCount,this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._indirectTexture=e._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,n,i,r,s){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const o=r.getIndex(),l=o===null?1:o.array.BYTES_PER_ELEMENT,d=this._instanceInfo,h=this._multiDrawStarts,m=this._multiDrawCounts,g=this._geometryInfo,y=this.perObjectFrustumCulled,b=this._indirectTexture,S=b.image.data,C=i.isArrayCamera?Zie:UP;y&&!i.isArrayCamera&&($s.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse).multiply(this.matrixWorld),UP.setFromProjectionMatrix($s,i.coordinateSystem,i.reversedDepth));let T=0;if(this.sortObjects){$s.copy(this.matrixWorld).invert(),Lv.setFromMatrixPosition(i.matrixWorld).applyMatrix4($s),VP.set(0,0,-1).transformDirection(i.matrixWorld).transformDirection($s);for(let R=0,N=d.length;R<N;R++)if(d[R].visible&&d[R].active){const D=d[R].geometryIndex;this.getMatrixAt(R,$s),this.getBoundingSphereAt(D,Af).applyMatrix4($s);let I=!1;if(y&&(I=!C.intersectsSphere(Af,i)),!I){const V=g[D],B=Qie.subVectors(Af.center,Lv).dot(VP);EM.push(V.start,V.count,B,R)}}const _=EM.list,w=this.customSort;w===null?_.sort(s.transparent?Yie:qie):w.call(this,_,i);for(let R=0,N=_.length;R<N;R++){const D=_[R];h[T]=D.start*l,m[T]=D.count,S[T]=D.index,T++}EM.reset()}else for(let _=0,w=d.length;_<w;_++)if(d[_].visible&&d[_].active){const R=d[_].geometryIndex;let N=!1;if(y&&(this.getMatrixAt(_,$s),this.getBoundingSphereAt(R,Af).applyMatrix4($s),N=!C.intersectsSphere(Af,i)),!N){const D=g[R];h[T]=D.start*l,m[T]=D.count,S[T]=_,T++}}b.needsUpdate=!0,this._multiDrawCount=T,this._visibilityChanged=!1}onBeforeShadow(e,n,i,r,s,o){this.onBeforeRender(e,null,r,s,o)}}class Ds extends rs{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new mt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const $_=new J,Z_=new J,kP=new qt,zv=new Km,$b=new Br,TM=new J,BP=new J;class yd extends wn{constructor(e=new an,n=new Ds){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,i=[0];for(let r=1,s=n.count;r<s;r++)$_.fromBufferAttribute(n,r-1),Z_.fromBufferAttribute(n,r),i[r]=i[r-1],i[r]+=$_.distanceTo(Z_);e.setAttribute("lineDistance",new St(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const i=this.geometry,r=this.matrixWorld,s=e.params.Line.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),$b.copy(i.boundingSphere),$b.applyMatrix4(r),$b.radius+=s,e.ray.intersectsSphere($b)===!1)return;kP.copy(r).invert(),zv.copy(e.ray).applyMatrix4(kP);const l=s/((this.scale.x+this.scale.y+this.scale.z)/3),d=l*l,h=this.isLineSegments?2:1,m=i.index,y=i.attributes.position;if(m!==null){const b=Math.max(0,o.start),S=Math.min(m.count,o.start+o.count);for(let C=b,T=S-1;C<T;C+=h){const _=m.getX(C),w=m.getX(C+1),R=Zb(this,e,zv,d,_,w,C);R&&n.push(R)}if(this.isLineLoop){const C=m.getX(S-1),T=m.getX(b),_=Zb(this,e,zv,d,C,T,S-1);_&&n.push(_)}}else{const b=Math.max(0,o.start),S=Math.min(y.count,o.start+o.count);for(let C=b,T=S-1;C<T;C+=h){const _=Zb(this,e,zv,d,C,C+1,C);_&&n.push(_)}if(this.isLineLoop){const C=Zb(this,e,zv,d,S-1,b,S-1);C&&n.push(C)}}}updateMorphTargets(){const n=this.geometry.morphAttributes,i=Object.keys(n);if(i.length>0){const r=n[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const l=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=s}}}}}function Zb(t,e,n,i,r,s,o){const l=t.geometry.attributes.position;if($_.fromBufferAttribute(l,r),Z_.fromBufferAttribute(l,s),n.distanceSqToSegment($_,Z_,TM,BP)>i)return;TM.applyMatrix4(t.matrixWorld);const h=e.ray.origin.distanceTo(TM);if(!(h<e.near||h>e.far))return{distance:h,point:BP.clone().applyMatrix4(t.matrixWorld),index:o,face:null,faceIndex:null,barycoord:null,object:t}}const FP=new J,HP=new J;class rc extends yd{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,i=[];for(let r=0,s=n.count;r<s;r+=2)FP.fromBufferAttribute(n,r),HP.fromBufferAttribute(n,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+FP.distanceTo(HP);e.setAttribute("lineDistance",new St(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class zB extends yd{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class xR extends rs{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new mt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const GP=new qt,uw=new Km,Qb=new Br,Jb=new J;class UB extends wn{constructor(e=new an,n=new xR){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const i=this.geometry,r=this.matrixWorld,s=e.params.Points.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Qb.copy(i.boundingSphere),Qb.applyMatrix4(r),Qb.radius+=s,e.ray.intersectsSphere(Qb)===!1)return;GP.copy(r).invert(),uw.copy(e.ray).applyMatrix4(GP);const l=s/((this.scale.x+this.scale.y+this.scale.z)/3),d=l*l,h=i.index,g=i.attributes.position;if(h!==null){const y=Math.max(0,o.start),b=Math.min(h.count,o.start+o.count);for(let S=y,C=b;S<C;S++){const T=h.getX(S);Jb.fromBufferAttribute(g,T),WP(Jb,T,d,r,e,n,this)}}else{const y=Math.max(0,o.start),b=Math.min(g.count,o.start+o.count);for(let S=y,C=b;S<C;S++)Jb.fromBufferAttribute(g,S),WP(Jb,S,d,r,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,i=Object.keys(n);if(i.length>0){const r=n[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const l=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=s}}}}}function WP(t,e,n,i,r,s,o){const l=uw.distanceSqToPoint(t);if(l<n){const d=new J;uw.closestPointToPoint(t,d),d.applyMatrix4(i);const h=r.ray.origin.distanceTo(d);if(h<r.near||h>r.far)return;s.push({distance:h,distanceToRay:Math.sqrt(l),point:d,index:e,face:null,faceIndex:null,barycoord:null,object:o})}}class VB extends gi{constructor(e,n,i,r,s=cr,o=cr,l,d,h){super(e,n,i,r,s,o,l,d,h),this.isVideoTexture=!0,this.generateMipmaps=!1,this._requestVideoFrameCallbackId=0;const m=this;function g(){m.needsUpdate=!0,m._requestVideoFrameCallbackId=e.requestVideoFrameCallback(g)}"requestVideoFrameCallback"in e&&(this._requestVideoFrameCallbackId=e.requestVideoFrameCallback(g))}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}dispose(){this._requestVideoFrameCallbackId!==0&&this.source.data.cancelVideoFrameCallback(this._requestVideoFrameCallbackId),super.dispose()}}class ere extends VB{constructor(e,n,i,r,s,o,l,d){super({},e,n,i,r,s,o,l,d),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class tre extends gi{constructor(e,n){super({width:e,height:n}),this.isFramebufferTexture=!0,this.magFilter=kr,this.minFilter=kr,this.generateMipmaps=!1,this.needsUpdate=!0}}class nE extends gi{constructor(e,n,i,r,s,o,l,d,h,m,g,y){super(null,o,l,d,h,m,r,s,g,y),this.isCompressedTexture=!0,this.image={width:n,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class nre extends nE{constructor(e,n,i,r,s,o){super(e,n,i,s,o),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=ro,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class ire extends nE{constructor(e,n,i){super(void 0,e[0].width,e[0].height,n,i,Zc),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class rre extends gi{constructor(e,n,i,r,s,o,l,d,h){super(e,n,i,r,s,o,l,d,h),this.isCanvasTexture=!0,this.needsUpdate=!0}}class bR extends gi{constructor(e,n,i=Qc,r,s,o,l=kr,d=kr,h,m=Rm,g=1){if(m!==Rm&&m!==Om)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const y={width:e,height:n,depth:g};super(y,r,s,o,l,d,m,i,h),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new fd(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}class SR extends gi{constructor(e=null){super(),this.sourceTexture=e,this.isExternalTexture=!0}copy(e){return super.copy(e),this.sourceTexture=e.sourceTexture,this}}class iE extends an{constructor(e=1,n=1,i=4,r=8,s=1){super(),this.type="CapsuleGeometry",this.parameters={radius:e,height:n,capSegments:i,radialSegments:r,heightSegments:s},n=Math.max(0,n),i=Math.max(1,Math.floor(i)),r=Math.max(3,Math.floor(r)),s=Math.max(1,Math.floor(s));const o=[],l=[],d=[],h=[],m=n/2,g=Math.PI/2*e,y=n,b=2*g+y,S=i*2+s,C=r+1,T=new J,_=new J;for(let w=0;w<=S;w++){let R=0,N=0,D=0,I=0;if(w<=i){const L=w/i,z=L*Math.PI/2;N=-m-e*Math.cos(z),D=e*Math.sin(z),I=-e*Math.cos(z),R=L*g}else if(w<=i+s){const L=(w-i)/s;N=-m+L*n,D=e,I=0,R=g+L*y}else{const L=(w-i-s)/i,z=L*Math.PI/2;N=m+e*Math.sin(z),D=e*Math.cos(z),I=e*Math.sin(z),R=g+y+L*g}const V=Math.max(0,Math.min(1,R/b));let B=0;w===0?B=.5/r:w===S&&(B=-.5/r);for(let L=0;L<=r;L++){const z=L/r,F=z*Math.PI*2,j=Math.sin(F),Z=Math.cos(F);_.x=-D*Z,_.y=N,_.z=D*j,l.push(_.x,_.y,_.z),T.set(-D*Z,I,D*j),T.normalize(),d.push(T.x,T.y,T.z),h.push(z+B,V)}if(w>0){const L=(w-1)*C;for(let z=0;z<r;z++){const F=L+z,j=L+z+1,Z=w*C+z,se=w*C+z+1;o.push(F,j,Z),o.push(j,se,Z)}}}this.setIndex(o),this.setAttribute("position",new St(l,3)),this.setAttribute("normal",new St(d,3)),this.setAttribute("uv",new St(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new iE(e.radius,e.height,e.capSegments,e.radialSegments,e.heightSegments)}}class rE extends an{constructor(e=1,n=32,i=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:i,thetaLength:r},n=Math.max(3,n);const s=[],o=[],l=[],d=[],h=new J,m=new Ge;o.push(0,0,0),l.push(0,0,1),d.push(.5,.5);for(let g=0,y=3;g<=n;g++,y+=3){const b=i+g/n*r;h.x=e*Math.cos(b),h.y=e*Math.sin(b),o.push(h.x,h.y,h.z),l.push(0,0,1),m.x=(o[y]/e+1)/2,m.y=(o[y+1]/e+1)/2,d.push(m.x,m.y)}for(let g=1;g<=n;g++)s.push(g,g+1,0);this.setIndex(s),this.setAttribute("position",new St(o,3)),this.setAttribute("normal",new St(l,3)),this.setAttribute("uv",new St(d,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new rE(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class b0 extends an{constructor(e=1,n=1,i=1,r=32,s=1,o=!1,l=0,d=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:i,radialSegments:r,heightSegments:s,openEnded:o,thetaStart:l,thetaLength:d};const h=this;r=Math.floor(r),s=Math.floor(s);const m=[],g=[],y=[],b=[];let S=0;const C=[],T=i/2;let _=0;w(),o===!1&&(e>0&&R(!0),n>0&&R(!1)),this.setIndex(m),this.setAttribute("position",new St(g,3)),this.setAttribute("normal",new St(y,3)),this.setAttribute("uv",new St(b,2));function w(){const N=new J,D=new J;let I=0;const V=(n-e)/i;for(let B=0;B<=s;B++){const L=[],z=B/s,F=z*(n-e)+e;for(let j=0;j<=r;j++){const Z=j/r,se=Z*d+l,ie=Math.sin(se),k=Math.cos(se);D.x=F*ie,D.y=-z*i+T,D.z=F*k,g.push(D.x,D.y,D.z),N.set(ie,V,k).normalize(),y.push(N.x,N.y,N.z),b.push(Z,1-z),L.push(S++)}C.push(L)}for(let B=0;B<r;B++)for(let L=0;L<s;L++){const z=C[L][B],F=C[L+1][B],j=C[L+1][B+1],Z=C[L][B+1];(e>0||L!==0)&&(m.push(z,F,Z),I+=3),(n>0||L!==s-1)&&(m.push(F,j,Z),I+=3)}h.addGroup(_,I,0),_+=I}function R(N){const D=S,I=new Ge,V=new J;let B=0;const L=N===!0?e:n,z=N===!0?1:-1;for(let j=1;j<=r;j++)g.push(0,T*z,0),y.push(0,z,0),b.push(.5,.5),S++;const F=S;for(let j=0;j<=r;j++){const se=j/r*d+l,ie=Math.cos(se),k=Math.sin(se);V.x=L*k,V.y=T*z,V.z=L*ie,g.push(V.x,V.y,V.z),y.push(0,z,0),I.x=ie*.5+.5,I.y=k*.5*z+.5,b.push(I.x,I.y),S++}for(let j=0;j<r;j++){const Z=D+j,se=F+j;N===!0?m.push(se,se+1,Z):m.push(se+1,se,Z),B+=3}h.addGroup(_,B,N===!0?1:2),_+=B}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new b0(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class S0 extends b0{constructor(e=1,n=1,i=32,r=1,s=!1,o=0,l=Math.PI*2){super(0,e,n,i,r,s,o,l),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:i,heightSegments:r,openEnded:s,thetaStart:o,thetaLength:l}}static fromJSON(e){return new S0(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Ed extends an{constructor(e=[],n=[],i=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:i,detail:r};const s=[],o=[];l(r),h(i),m(),this.setAttribute("position",new St(s,3)),this.setAttribute("normal",new St(s.slice(),3)),this.setAttribute("uv",new St(o,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function l(w){const R=new J,N=new J,D=new J;for(let I=0;I<n.length;I+=3)b(n[I+0],R),b(n[I+1],N),b(n[I+2],D),d(R,N,D,w)}function d(w,R,N,D){const I=D+1,V=[];for(let B=0;B<=I;B++){V[B]=[];const L=w.clone().lerp(N,B/I),z=R.clone().lerp(N,B/I),F=I-B;for(let j=0;j<=F;j++)j===0&&B===I?V[B][j]=L:V[B][j]=L.clone().lerp(z,j/F)}for(let B=0;B<I;B++)for(let L=0;L<2*(I-B)-1;L++){const z=Math.floor(L/2);L%2===0?(y(V[B][z+1]),y(V[B+1][z]),y(V[B][z])):(y(V[B][z+1]),y(V[B+1][z+1]),y(V[B+1][z]))}}function h(w){const R=new J;for(let N=0;N<s.length;N+=3)R.x=s[N+0],R.y=s[N+1],R.z=s[N+2],R.normalize().multiplyScalar(w),s[N+0]=R.x,s[N+1]=R.y,s[N+2]=R.z}function m(){const w=new J;for(let R=0;R<s.length;R+=3){w.x=s[R+0],w.y=s[R+1],w.z=s[R+2];const N=T(w)/2/Math.PI+.5,D=_(w)/Math.PI+.5;o.push(N,1-D)}S(),g()}function g(){for(let w=0;w<o.length;w+=6){const R=o[w+0],N=o[w+2],D=o[w+4],I=Math.max(R,N,D),V=Math.min(R,N,D);I>.9&&V<.1&&(R<.2&&(o[w+0]+=1),N<.2&&(o[w+2]+=1),D<.2&&(o[w+4]+=1))}}function y(w){s.push(w.x,w.y,w.z)}function b(w,R){const N=w*3;R.x=e[N+0],R.y=e[N+1],R.z=e[N+2]}function S(){const w=new J,R=new J,N=new J,D=new J,I=new Ge,V=new Ge,B=new Ge;for(let L=0,z=0;L<s.length;L+=9,z+=6){w.set(s[L+0],s[L+1],s[L+2]),R.set(s[L+3],s[L+4],s[L+5]),N.set(s[L+6],s[L+7],s[L+8]),I.set(o[z+0],o[z+1]),V.set(o[z+2],o[z+3]),B.set(o[z+4],o[z+5]),D.copy(w).add(R).add(N).divideScalar(3);const F=T(D);C(I,z+0,w,F),C(V,z+2,R,F),C(B,z+4,N,F)}}function C(w,R,N,D){D<0&&w.x===1&&(o[R]=w.x-1),N.x===0&&N.z===0&&(o[R]=D/2/Math.PI+.5)}function T(w){return Math.atan2(w.z,-w.x)}function _(w){return Math.atan2(-w.y,Math.sqrt(w.x*w.x+w.z*w.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ed(e.vertices,e.indices,e.radius,e.details)}}class sE extends Ed{constructor(e=1,n=0){const i=(1+Math.sqrt(5))/2,r=1/i,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new sE(e.radius,e.detail)}}const eS=new J,tS=new J,MM=new J,nS=new Js;class kB extends an{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const r=Math.pow(10,4),s=Math.cos(rh*n),o=e.getIndex(),l=e.getAttribute("position"),d=o?o.count:l.count,h=[0,0,0],m=["a","b","c"],g=new Array(3),y={},b=[];for(let S=0;S<d;S+=3){o?(h[0]=o.getX(S),h[1]=o.getX(S+1),h[2]=o.getX(S+2)):(h[0]=S,h[1]=S+1,h[2]=S+2);const{a:C,b:T,c:_}=nS;if(C.fromBufferAttribute(l,h[0]),T.fromBufferAttribute(l,h[1]),_.fromBufferAttribute(l,h[2]),nS.getNormal(MM),g[0]=`${Math.round(C.x*r)},${Math.round(C.y*r)},${Math.round(C.z*r)}`,g[1]=`${Math.round(T.x*r)},${Math.round(T.y*r)},${Math.round(T.z*r)}`,g[2]=`${Math.round(_.x*r)},${Math.round(_.y*r)},${Math.round(_.z*r)}`,!(g[0]===g[1]||g[1]===g[2]||g[2]===g[0]))for(let w=0;w<3;w++){const R=(w+1)%3,N=g[w],D=g[R],I=nS[m[w]],V=nS[m[R]],B=`${N}_${D}`,L=`${D}_${N}`;L in y&&y[L]?(MM.dot(y[L].normal)<=s&&(b.push(I.x,I.y,I.z),b.push(V.x,V.y,V.z)),y[L]=null):B in y||(y[B]={index0:h[w],index1:h[R],normal:MM.clone()})}}for(const S in y)if(y[S]){const{index0:C,index1:T}=y[S];eS.fromBufferAttribute(l,C),tS.fromBufferAttribute(l,T),b.push(eS.x,eS.y,eS.z),b.push(tS.x,tS.y,tS.z)}this.setAttribute("position",new St(b,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class Zo{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){console.warn("THREE.Curve: .getPoint() not implemented.")}getPointAt(e,n){const i=this.getUtoTmapping(e);return this.getPoint(i,n)}getPoints(e=5){const n=[];for(let i=0;i<=e;i++)n.push(this.getPoint(i/e));return n}getSpacedPoints(e=5){const n=[];for(let i=0;i<=e;i++)n.push(this.getPointAt(i/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let i,r=this.getPoint(0),s=0;n.push(0);for(let o=1;o<=e;o++)i=this.getPoint(o/e),s+=i.distanceTo(r),n.push(s),r=i;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n=null){const i=this.getLengths();let r=0;const s=i.length;let o;n?o=n:o=e*i[s-1];let l=0,d=s-1,h;for(;l<=d;)if(r=Math.floor(l+(d-l)/2),h=i[r]-o,h<0)l=r+1;else if(h>0)d=r-1;else{d=r;break}if(r=d,i[r]===o)return r/(s-1);const m=i[r],y=i[r+1]-m,b=(o-m)/y;return(r+b)/(s-1)}getTangent(e,n){let r=e-1e-4,s=e+1e-4;r<0&&(r=0),s>1&&(s=1);const o=this.getPoint(r),l=this.getPoint(s),d=n||(o.isVector2?new Ge:new J);return d.copy(l).sub(o).normalize(),d}getTangentAt(e,n){const i=this.getUtoTmapping(e);return this.getTangent(i,n)}computeFrenetFrames(e,n=!1){const i=new J,r=[],s=[],o=[],l=new J,d=new qt;for(let b=0;b<=e;b++){const S=b/e;r[b]=this.getTangentAt(S,new J)}s[0]=new J,o[0]=new J;let h=Number.MAX_VALUE;const m=Math.abs(r[0].x),g=Math.abs(r[0].y),y=Math.abs(r[0].z);m<=h&&(h=m,i.set(1,0,0)),g<=h&&(h=g,i.set(0,1,0)),y<=h&&i.set(0,0,1),l.crossVectors(r[0],i).normalize(),s[0].crossVectors(r[0],l),o[0].crossVectors(r[0],s[0]);for(let b=1;b<=e;b++){if(s[b]=s[b-1].clone(),o[b]=o[b-1].clone(),l.crossVectors(r[b-1],r[b]),l.length()>Number.EPSILON){l.normalize();const S=Math.acos(Wt(r[b-1].dot(r[b]),-1,1));s[b].applyMatrix4(d.makeRotationAxis(l,S))}o[b].crossVectors(r[b],s[b])}if(n===!0){let b=Math.acos(Wt(s[0].dot(s[e]),-1,1));b/=e,r[0].dot(l.crossVectors(s[0],s[e]))>0&&(b=-b);for(let S=1;S<=e;S++)s[S].applyMatrix4(d.makeRotationAxis(r[S],b*S)),o[S].crossVectors(r[S],s[S])}return{tangents:r,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.7,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class aE extends Zo{constructor(e=0,n=0,i=1,r=1,s=0,o=Math.PI*2,l=!1,d=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=i,this.yRadius=r,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=l,this.aRotation=d}getPoint(e,n=new Ge){const i=n,r=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=r;for(;s>r;)s-=r;s<Number.EPSILON&&(o?s=0:s=r),this.aClockwise===!0&&!o&&(s===r?s=-r:s=s-r);const l=this.aStartAngle+e*s;let d=this.aX+this.xRadius*Math.cos(l),h=this.aY+this.yRadius*Math.sin(l);if(this.aRotation!==0){const m=Math.cos(this.aRotation),g=Math.sin(this.aRotation),y=d-this.aX,b=h-this.aY;d=y*m-b*g+this.aX,h=y*g+b*m+this.aY}return i.set(d,h)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class BB extends aE{constructor(e,n,i,r,s,o){super(e,n,i,i,r,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function _R(){let t=0,e=0,n=0,i=0;function r(s,o,l,d){t=s,e=l,n=-3*s+3*o-2*l-d,i=2*s-2*o+l+d}return{initCatmullRom:function(s,o,l,d,h){r(o,l,h*(l-s),h*(d-o))},initNonuniformCatmullRom:function(s,o,l,d,h,m,g){let y=(o-s)/h-(l-s)/(h+m)+(l-o)/m,b=(l-o)/m-(d-o)/(m+g)+(d-l)/g;y*=m,b*=m,r(o,l,y,b)},calc:function(s){const o=s*s,l=o*s;return t+e*s+n*o+i*l}}}const iS=new J,CM=new _R,wM=new _R,AM=new _R;class FB extends Zo{constructor(e=[],n=!1,i="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=i,this.tension=r}getPoint(e,n=new J){const i=n,r=this.points,s=r.length,o=(s-(this.closed?0:1))*e;let l=Math.floor(o),d=o-l;this.closed?l+=l>0?0:(Math.floor(Math.abs(l)/s)+1)*s:d===0&&l===s-1&&(l=s-2,d=1);let h,m;this.closed||l>0?h=r[(l-1)%s]:(iS.subVectors(r[0],r[1]).add(r[0]),h=iS);const g=r[l%s],y=r[(l+1)%s];if(this.closed||l+2<s?m=r[(l+2)%s]:(iS.subVectors(r[s-1],r[s-2]).add(r[s-1]),m=iS),this.curveType==="centripetal"||this.curveType==="chordal"){const b=this.curveType==="chordal"?.5:.25;let S=Math.pow(h.distanceToSquared(g),b),C=Math.pow(g.distanceToSquared(y),b),T=Math.pow(y.distanceToSquared(m),b);C<1e-4&&(C=1),S<1e-4&&(S=C),T<1e-4&&(T=C),CM.initNonuniformCatmullRom(h.x,g.x,y.x,m.x,S,C,T),wM.initNonuniformCatmullRom(h.y,g.y,y.y,m.y,S,C,T),AM.initNonuniformCatmullRom(h.z,g.z,y.z,m.z,S,C,T)}else this.curveType==="catmullrom"&&(CM.initCatmullRom(h.x,g.x,y.x,m.x,this.tension),wM.initCatmullRom(h.y,g.y,y.y,m.y,this.tension),AM.initCatmullRom(h.z,g.z,y.z,m.z,this.tension));return i.set(CM.calc(d),wM.calc(d),AM.calc(d)),i}copy(e){super.copy(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,i=this.points.length;n<i;n++){const r=this.points[n];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(new J().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function jP(t,e,n,i,r){const s=(i-e)*.5,o=(r-n)*.5,l=t*t,d=t*l;return(2*n-2*i+s+o)*d+(-3*n+3*i-2*s-o)*l+s*t+n}function sre(t,e){const n=1-t;return n*n*e}function are(t,e){return 2*(1-t)*t*e}function ore(t,e){return t*t*e}function hy(t,e,n,i){return sre(t,e)+are(t,n)+ore(t,i)}function lre(t,e){const n=1-t;return n*n*n*e}function cre(t,e){const n=1-t;return 3*n*n*t*e}function ure(t,e){return 3*(1-t)*t*t*e}function dre(t,e){return t*t*t*e}function py(t,e,n,i,r){return lre(t,e)+cre(t,n)+ure(t,i)+dre(t,r)}class ER extends Zo{constructor(e=new Ge,n=new Ge,i=new Ge,r=new Ge){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=i,this.v3=r}getPoint(e,n=new Ge){const i=n,r=this.v0,s=this.v1,o=this.v2,l=this.v3;return i.set(py(e,r.x,s.x,o.x,l.x),py(e,r.y,s.y,o.y,l.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class HB extends Zo{constructor(e=new J,n=new J,i=new J,r=new J){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=i,this.v3=r}getPoint(e,n=new J){const i=n,r=this.v0,s=this.v1,o=this.v2,l=this.v3;return i.set(py(e,r.x,s.x,o.x,l.x),py(e,r.y,s.y,o.y,l.y),py(e,r.z,s.z,o.z,l.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class TR extends Zo{constructor(e=new Ge,n=new Ge){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new Ge){const i=n;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new Ge){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class GB extends Zo{constructor(e=new J,n=new J){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new J){const i=n;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new J){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class MR extends Zo{constructor(e=new Ge,n=new Ge,i=new Ge){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=i}getPoint(e,n=new Ge){const i=n,r=this.v0,s=this.v1,o=this.v2;return i.set(hy(e,r.x,s.x,o.x),hy(e,r.y,s.y,o.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class CR extends Zo{constructor(e=new J,n=new J,i=new J){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=i}getPoint(e,n=new J){const i=n,r=this.v0,s=this.v1,o=this.v2;return i.set(hy(e,r.x,s.x,o.x),hy(e,r.y,s.y,o.y),hy(e,r.z,s.z,o.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class wR extends Zo{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new Ge){const i=n,r=this.points,s=(r.length-1)*e,o=Math.floor(s),l=s-o,d=r[o===0?o:o-1],h=r[o],m=r[o>r.length-2?r.length-1:o+1],g=r[o>r.length-3?r.length-1:o+2];return i.set(jP(l,d.x,h.x,m.x,g.x),jP(l,d.y,h.y,m.y,g.y)),i}copy(e){super.copy(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,i=this.points.length;n<i;n++){const r=this.points[n];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(new Ge().fromArray(r))}return this}}var Q_=Object.freeze({__proto__:null,ArcCurve:BB,CatmullRomCurve3:FB,CubicBezierCurve:ER,CubicBezierCurve3:HB,EllipseCurve:aE,LineCurve:TR,LineCurve3:GB,QuadraticBezierCurve:MR,QuadraticBezierCurve3:CR,SplineCurve:wR});class WB extends Zo{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(n)){const i=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new Q_[i](n,e))}return this}getPoint(e,n){const i=e*this.getLength(),r=this.getCurveLengths();let s=0;for(;s<r.length;){if(r[s]>=i){const o=r[s]-i,l=this.curves[s],d=l.getLength(),h=d===0?0:1-o/d;return l.getPointAt(h,n)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let i=0,r=this.curves.length;i<r;i++)n+=this.curves[i].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let i=0;i<=e;i++)n.push(this.getPoint(i/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let i;for(let r=0,s=this.curves;r<s.length;r++){const o=s[r],l=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,d=o.getPoints(l);for(let h=0;h<d.length;h++){const m=d[h];i&&i.equals(m)||(n.push(m),i=m)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,i=e.curves.length;n<i;n++){const r=e.curves[n];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,i=this.curves.length;n<i;n++){const r=this.curves[n];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,i=e.curves.length;n<i;n++){const r=e.curves[n];this.curves.push(new Q_[r.type]().fromJSON(r))}return this}}class J_ extends WB{constructor(e){super(),this.type="Path",this.currentPoint=new Ge,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,i=e.length;n<i;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const i=new TR(this.currentPoint.clone(),new Ge(e,n));return this.curves.push(i),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,i,r){const s=new MR(this.currentPoint.clone(),new Ge(e,n),new Ge(i,r));return this.curves.push(s),this.currentPoint.set(i,r),this}bezierCurveTo(e,n,i,r,s,o){const l=new ER(this.currentPoint.clone(),new Ge(e,n),new Ge(i,r),new Ge(s,o));return this.curves.push(l),this.currentPoint.set(s,o),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),i=new wR(n);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,i,r,s,o){const l=this.currentPoint.x,d=this.currentPoint.y;return this.absarc(e+l,n+d,i,r,s,o),this}absarc(e,n,i,r,s,o){return this.absellipse(e,n,i,i,r,s,o),this}ellipse(e,n,i,r,s,o,l,d){const h=this.currentPoint.x,m=this.currentPoint.y;return this.absellipse(e+h,n+m,i,r,s,o,l,d),this}absellipse(e,n,i,r,s,o,l,d){const h=new aE(e,n,i,r,s,o,l,d);if(this.curves.length>0){const g=h.getPoint(0);g.equals(this.currentPoint)||this.lineTo(g.x,g.y)}this.curves.push(h);const m=h.getPoint(1);return this.currentPoint.copy(m),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class sh extends J_{constructor(e){super(e),this.uuid=Ra(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let i=0,r=this.holes.length;i<r;i++)n[i]=this.holes[i].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,i=e.holes.length;n<i;n++){const r=e.holes[n];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,i=this.holes.length;n<i;n++){const r=this.holes[n];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,i=e.holes.length;n<i;n++){const r=e.holes[n];this.holes.push(new J_().fromJSON(r))}return this}}function fre(t,e,n=2){const i=e&&e.length,r=i?e[0]*n:t.length;let s=jB(t,0,r,n,!0);const o=[];if(!s||s.next===s.prev)return o;let l,d,h;if(i&&(s=vre(t,e,s,n)),t.length>80*n){l=1/0,d=1/0;let m=-1/0,g=-1/0;for(let y=n;y<r;y+=n){const b=t[y],S=t[y+1];b<l&&(l=b),S<d&&(d=S),b>m&&(m=b),S>g&&(g=S)}h=Math.max(m-l,g-d),h=h!==0?32767/h:0}return jy(s,o,n,l,d,h,0),o}function jB(t,e,n,i,r){let s;if(r===Are(t,e,n,i)>0)for(let o=e;o<n;o+=i)s=XP(o/i|0,t[o],t[o+1],s);else for(let o=n-i;o>=e;o-=i)s=XP(o/i|0,t[o],t[o+1],s);return s&&zm(s,s.next)&&(qy(s),s=s.next),s}function dh(t,e){if(!t)return t;e||(e=t);let n=t,i;do if(i=!1,!n.steiner&&(zm(n,n.next)||_i(n.prev,n,n.next)===0)){if(qy(n),n=e=n.prev,n===n.next)break;i=!0}else n=n.next;while(i||n!==e);return e}function jy(t,e,n,i,r,s,o){if(!t)return;!o&&s&&_re(t,i,r,s);let l=t;for(;t.prev!==t.next;){const d=t.prev,h=t.next;if(s?pre(t,i,r,s):hre(t)){e.push(d.i,t.i,h.i),qy(t),t=h.next,l=h.next;continue}if(t=h,t===l){o?o===1?(t=mre(dh(t),e),jy(t,e,n,i,r,s,2)):o===2&&gre(t,e,n,i,r,s):jy(dh(t),e,n,i,r,s,1);break}}}function hre(t){const e=t.prev,n=t,i=t.next;if(_i(e,n,i)>=0)return!1;const r=e.x,s=n.x,o=i.x,l=e.y,d=n.y,h=i.y,m=Math.min(r,s,o),g=Math.min(l,d,h),y=Math.max(r,s,o),b=Math.max(l,d,h);let S=i.next;for(;S!==e;){if(S.x>=m&&S.x<=y&&S.y>=g&&S.y<=b&&qv(r,l,s,d,o,h,S.x,S.y)&&_i(S.prev,S,S.next)>=0)return!1;S=S.next}return!0}function pre(t,e,n,i){const r=t.prev,s=t,o=t.next;if(_i(r,s,o)>=0)return!1;const l=r.x,d=s.x,h=o.x,m=r.y,g=s.y,y=o.y,b=Math.min(l,d,h),S=Math.min(m,g,y),C=Math.max(l,d,h),T=Math.max(m,g,y),_=dw(b,S,e,n,i),w=dw(C,T,e,n,i);let R=t.prevZ,N=t.nextZ;for(;R&&R.z>=_&&N&&N.z<=w;){if(R.x>=b&&R.x<=C&&R.y>=S&&R.y<=T&&R!==r&&R!==o&&qv(l,m,d,g,h,y,R.x,R.y)&&_i(R.prev,R,R.next)>=0||(R=R.prevZ,N.x>=b&&N.x<=C&&N.y>=S&&N.y<=T&&N!==r&&N!==o&&qv(l,m,d,g,h,y,N.x,N.y)&&_i(N.prev,N,N.next)>=0))return!1;N=N.nextZ}for(;R&&R.z>=_;){if(R.x>=b&&R.x<=C&&R.y>=S&&R.y<=T&&R!==r&&R!==o&&qv(l,m,d,g,h,y,R.x,R.y)&&_i(R.prev,R,R.next)>=0)return!1;R=R.prevZ}for(;N&&N.z<=w;){if(N.x>=b&&N.x<=C&&N.y>=S&&N.y<=T&&N!==r&&N!==o&&qv(l,m,d,g,h,y,N.x,N.y)&&_i(N.prev,N,N.next)>=0)return!1;N=N.nextZ}return!0}function mre(t,e){let n=t;do{const i=n.prev,r=n.next.next;!zm(i,r)&&qB(i,n,n.next,r)&&Xy(i,r)&&Xy(r,i)&&(e.push(i.i,n.i,r.i),qy(n),qy(n.next),n=t=r),n=n.next}while(n!==t);return dh(n)}function gre(t,e,n,i,r,s){let o=t;do{let l=o.next.next;for(;l!==o.prev;){if(o.i!==l.i&&Mre(o,l)){let d=YB(o,l);o=dh(o,o.next),d=dh(d,d.next),jy(o,e,n,i,r,s,0),jy(d,e,n,i,r,s,0);return}l=l.next}o=o.next}while(o!==t)}function vre(t,e,n,i){const r=[];for(let s=0,o=e.length;s<o;s++){const l=e[s]*i,d=s<o-1?e[s+1]*i:t.length,h=jB(t,l,d,i,!1);h===h.next&&(h.steiner=!0),r.push(Tre(h))}r.sort(yre);for(let s=0;s<r.length;s++)n=xre(r[s],n);return n}function yre(t,e){let n=t.x-e.x;if(n===0&&(n=t.y-e.y,n===0)){const i=(t.next.y-t.y)/(t.next.x-t.x),r=(e.next.y-e.y)/(e.next.x-e.x);n=i-r}return n}function xre(t,e){const n=bre(t,e);if(!n)return e;const i=YB(n,t);return dh(i,i.next),dh(n,n.next)}function bre(t,e){let n=e;const i=t.x,r=t.y;let s=-1/0,o;if(zm(t,n))return n;do{if(zm(t,n.next))return n.next;if(r<=n.y&&r>=n.next.y&&n.next.y!==n.y){const g=n.x+(r-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(g<=i&&g>s&&(s=g,o=n.x<n.next.x?n:n.next,g===i))return o}n=n.next}while(n!==e);if(!o)return null;const l=o,d=o.x,h=o.y;let m=1/0;n=o;do{if(i>=n.x&&n.x>=d&&i!==n.x&&XB(r<h?i:s,r,d,h,r<h?s:i,r,n.x,n.y)){const g=Math.abs(r-n.y)/(i-n.x);Xy(n,t)&&(g<m||g===m&&(n.x>o.x||n.x===o.x&&Sre(o,n)))&&(o=n,m=g)}n=n.next}while(n!==l);return o}function Sre(t,e){return _i(t.prev,t,e.prev)<0&&_i(e.next,t,t.next)<0}function _re(t,e,n,i){let r=t;do r.z===0&&(r.z=dw(r.x,r.y,e,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==t);r.prevZ.nextZ=null,r.prevZ=null,Ere(r)}function Ere(t){let e,n=1;do{let i=t,r;t=null;let s=null;for(e=0;i;){e++;let o=i,l=0;for(let h=0;h<n&&(l++,o=o.nextZ,!!o);h++);let d=n;for(;l>0||d>0&&o;)l!==0&&(d===0||!o||i.z<=o.z)?(r=i,i=i.nextZ,l--):(r=o,o=o.nextZ,d--),s?s.nextZ=r:t=r,r.prevZ=s,s=r;i=o}s.nextZ=null,n*=2}while(e>1);return t}function dw(t,e,n,i,r){return t=(t-n)*r|0,e=(e-i)*r|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function Tre(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function XB(t,e,n,i,r,s,o,l){return(r-o)*(e-l)>=(t-o)*(s-l)&&(t-o)*(i-l)>=(n-o)*(e-l)&&(n-o)*(s-l)>=(r-o)*(i-l)}function qv(t,e,n,i,r,s,o,l){return!(t===o&&e===l)&&XB(t,e,n,i,r,s,o,l)}function Mre(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!Cre(t,e)&&(Xy(t,e)&&Xy(e,t)&&wre(t,e)&&(_i(t.prev,t,e.prev)||_i(t,e.prev,e))||zm(t,e)&&_i(t.prev,t,t.next)>0&&_i(e.prev,e,e.next)>0)}function _i(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function zm(t,e){return t.x===e.x&&t.y===e.y}function qB(t,e,n,i){const r=sS(_i(t,e,n)),s=sS(_i(t,e,i)),o=sS(_i(n,i,t)),l=sS(_i(n,i,e));return!!(r!==s&&o!==l||r===0&&rS(t,n,e)||s===0&&rS(t,i,e)||o===0&&rS(n,t,i)||l===0&&rS(n,e,i))}function rS(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function sS(t){return t>0?1:t<0?-1:0}function Cre(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&qB(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function Xy(t,e){return _i(t.prev,t,t.next)<0?_i(t,e,t.next)>=0&&_i(t,t.prev,e)>=0:_i(t,e,t.prev)<0||_i(t,t.next,e)<0}function wre(t,e){let n=t,i=!1;const r=(t.x+e.x)/2,s=(t.y+e.y)/2;do n.y>s!=n.next.y>s&&n.next.y!==n.y&&r<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next;while(n!==t);return i}function YB(t,e){const n=fw(t.i,t.x,t.y),i=fw(e.i,e.x,e.y),r=t.next,s=e.prev;return t.next=e,e.prev=t,n.next=r,r.prev=n,i.next=n,n.prev=i,s.next=i,i.prev=s,i}function XP(t,e,n,i){const r=fw(t,e,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function qy(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function fw(t,e,n){return{i:t,x:e,y:n,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function Are(t,e,n,i){let r=0;for(let s=e,o=n-i;s<n;s+=i)r+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return r}class Rre{static triangulate(e,n,i=2){return fre(e,n,i)}}class Ho{static area(e){const n=e.length;let i=0;for(let r=n-1,s=0;s<n;r=s++)i+=e[r].x*e[s].y-e[s].x*e[r].y;return i*.5}static isClockWise(e){return Ho.area(e)<0}static triangulateShape(e,n){const i=[],r=[],s=[];qP(e),YP(i,e);let o=e.length;n.forEach(qP);for(let d=0;d<n.length;d++)r.push(o),o+=n[d].length,YP(i,n[d]);const l=Rre.triangulate(i,r);for(let d=0;d<l.length;d+=3)s.push(l.slice(d,d+3));return s}}function qP(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function YP(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class oE extends an{constructor(e=new sh([new Ge(.5,.5),new Ge(-.5,.5),new Ge(-.5,-.5),new Ge(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const i=this,r=[],s=[];for(let l=0,d=e.length;l<d;l++){const h=e[l];o(h)}this.setAttribute("position",new St(r,3)),this.setAttribute("uv",new St(s,2)),this.computeVertexNormals();function o(l){const d=[],h=n.curveSegments!==void 0?n.curveSegments:12,m=n.steps!==void 0?n.steps:1,g=n.depth!==void 0?n.depth:1;let y=n.bevelEnabled!==void 0?n.bevelEnabled:!0,b=n.bevelThickness!==void 0?n.bevelThickness:.2,S=n.bevelSize!==void 0?n.bevelSize:b-.1,C=n.bevelOffset!==void 0?n.bevelOffset:0,T=n.bevelSegments!==void 0?n.bevelSegments:3;const _=n.extrudePath,w=n.UVGenerator!==void 0?n.UVGenerator:Ore;let R,N=!1,D,I,V,B;_&&(R=_.getSpacedPoints(m),N=!0,y=!1,D=_.computeFrenetFrames(m,!1),I=new J,V=new J,B=new J),y||(T=0,b=0,S=0,C=0);const L=l.extractPoints(h);let z=L.shape;const F=L.holes;if(!Ho.isClockWise(z)){z=z.reverse();for(let Ve=0,Ue=F.length;Ve<Ue;Ve++){const Ie=F[Ve];Ho.isClockWise(Ie)&&(F[Ve]=Ie.reverse())}}function Z(Ve){const Ie=10000000000000001e-36;let Ne=Ve[0];for(let it=1;it<=Ve.length;it++){const je=it%Ve.length,Ke=Ve[je],Tt=Ke.x-Ne.x,Pt=Ke.y-Ne.y,Q=Tt*Tt+Pt*Pt,W=Math.max(Math.abs(Ke.x),Math.abs(Ke.y),Math.abs(Ne.x),Math.abs(Ne.y)),ye=Ie*W*W;if(Q<=ye){Ve.splice(je,1),it--;continue}Ne=Ke}}Z(z),F.forEach(Z);const se=F.length,ie=z;for(let Ve=0;Ve<se;Ve++){const Ue=F[Ve];z=z.concat(Ue)}function k(Ve,Ue,Ie){return Ue||console.error("THREE.ExtrudeGeometry: vec does not exist"),Ve.clone().addScaledVector(Ue,Ie)}const q=z.length;function $(Ve,Ue,Ie){let Ne,it,je;const Ke=Ve.x-Ue.x,Tt=Ve.y-Ue.y,Pt=Ie.x-Ve.x,Q=Ie.y-Ve.y,W=Ke*Ke+Tt*Tt,ye=Ke*Q-Tt*Pt;if(Math.abs(ye)>Number.EPSILON){const Re=Math.sqrt(W),ke=Math.sqrt(Pt*Pt+Q*Q),Oe=Ue.x-Tt/Re,lt=Ue.y+Ke/Re,tt=Ie.x-Q/ke,gt=Ie.y+Pt/ke,vt=((tt-Oe)*Q-(gt-lt)*Pt)/(Ke*Q-Tt*Pt);Ne=Oe+Ke*vt-Ve.x,it=lt+Tt*vt-Ve.y;const We=Ne*Ne+it*it;if(We<=2)return new Ge(Ne,it);je=Math.sqrt(We/2)}else{let Re=!1;Ke>Number.EPSILON?Pt>Number.EPSILON&&(Re=!0):Ke<-Number.EPSILON?Pt<-Number.EPSILON&&(Re=!0):Math.sign(Tt)===Math.sign(Q)&&(Re=!0),Re?(Ne=-Tt,it=Ke,je=Math.sqrt(W)):(Ne=Ke,it=Tt,je=Math.sqrt(W/2))}return new Ge(Ne/je,it/je)}const ne=[];for(let Ve=0,Ue=ie.length,Ie=Ue-1,Ne=Ve+1;Ve<Ue;Ve++,Ie++,Ne++)Ie===Ue&&(Ie=0),Ne===Ue&&(Ne=0),ne[Ve]=$(ie[Ve],ie[Ie],ie[Ne]);const G=[];let te,ve=ne.concat();for(let Ve=0,Ue=se;Ve<Ue;Ve++){const Ie=F[Ve];te=[];for(let Ne=0,it=Ie.length,je=it-1,Ke=Ne+1;Ne<it;Ne++,je++,Ke++)je===it&&(je=0),Ke===it&&(Ke=0),te[Ne]=$(Ie[Ne],Ie[je],Ie[Ke]);G.push(te),ve=ve.concat(te)}let Me;if(T===0)Me=Ho.triangulateShape(ie,F);else{const Ve=[],Ue=[];for(let Ie=0;Ie<T;Ie++){const Ne=Ie/T,it=b*Math.cos(Ne*Math.PI/2),je=S*Math.sin(Ne*Math.PI/2)+C;for(let Ke=0,Tt=ie.length;Ke<Tt;Ke++){const Pt=k(ie[Ke],ne[Ke],je);_e(Pt.x,Pt.y,-it),Ne===0&&Ve.push(Pt)}for(let Ke=0,Tt=se;Ke<Tt;Ke++){const Pt=F[Ke];te=G[Ke];const Q=[];for(let W=0,ye=Pt.length;W<ye;W++){const Re=k(Pt[W],te[W],je);_e(Re.x,Re.y,-it),Ne===0&&Q.push(Re)}Ne===0&&Ue.push(Q)}}Me=Ho.triangulateShape(Ve,Ue)}const De=Me.length,qe=S+C;for(let Ve=0;Ve<q;Ve++){const Ue=y?k(z[Ve],ve[Ve],qe):z[Ve];N?(V.copy(D.normals[0]).multiplyScalar(Ue.x),I.copy(D.binormals[0]).multiplyScalar(Ue.y),B.copy(R[0]).add(V).add(I),_e(B.x,B.y,B.z)):_e(Ue.x,Ue.y,0)}for(let Ve=1;Ve<=m;Ve++)for(let Ue=0;Ue<q;Ue++){const Ie=y?k(z[Ue],ve[Ue],qe):z[Ue];N?(V.copy(D.normals[Ve]).multiplyScalar(Ie.x),I.copy(D.binormals[Ve]).multiplyScalar(Ie.y),B.copy(R[Ve]).add(V).add(I),_e(B.x,B.y,B.z)):_e(Ie.x,Ie.y,g/m*Ve)}for(let Ve=T-1;Ve>=0;Ve--){const Ue=Ve/T,Ie=b*Math.cos(Ue*Math.PI/2),Ne=S*Math.sin(Ue*Math.PI/2)+C;for(let it=0,je=ie.length;it<je;it++){const Ke=k(ie[it],ne[it],Ne);_e(Ke.x,Ke.y,g+Ie)}for(let it=0,je=F.length;it<je;it++){const Ke=F[it];te=G[it];for(let Tt=0,Pt=Ke.length;Tt<Pt;Tt++){const Q=k(Ke[Tt],te[Tt],Ne);N?_e(Q.x,Q.y+R[m-1].y,R[m-1].x+Ie):_e(Q.x,Q.y,g+Ie)}}}me(),Pe();function me(){const Ve=r.length/3;if(y){let Ue=0,Ie=q*Ue;for(let Ne=0;Ne<De;Ne++){const it=Me[Ne];Xe(it[2]+Ie,it[1]+Ie,it[0]+Ie)}Ue=m+T*2,Ie=q*Ue;for(let Ne=0;Ne<De;Ne++){const it=Me[Ne];Xe(it[0]+Ie,it[1]+Ie,it[2]+Ie)}}else{for(let Ue=0;Ue<De;Ue++){const Ie=Me[Ue];Xe(Ie[2],Ie[1],Ie[0])}for(let Ue=0;Ue<De;Ue++){const Ie=Me[Ue];Xe(Ie[0]+q*m,Ie[1]+q*m,Ie[2]+q*m)}}i.addGroup(Ve,r.length/3-Ve,0)}function Pe(){const Ve=r.length/3;let Ue=0;de(ie,Ue),Ue+=ie.length;for(let Ie=0,Ne=F.length;Ie<Ne;Ie++){const it=F[Ie];de(it,Ue),Ue+=it.length}i.addGroup(Ve,r.length/3-Ve,1)}function de(Ve,Ue){let Ie=Ve.length;for(;--Ie>=0;){const Ne=Ie;let it=Ie-1;it<0&&(it=Ve.length-1);for(let je=0,Ke=m+T*2;je<Ke;je++){const Tt=q*je,Pt=q*(je+1),Q=Ue+Ne+Tt,W=Ue+it+Tt,ye=Ue+it+Pt,Re=Ue+Ne+Pt;dt(Q,W,ye,Re)}}}function _e(Ve,Ue,Ie){d.push(Ve),d.push(Ue),d.push(Ie)}function Xe(Ve,Ue,Ie){Rt(Ve),Rt(Ue),Rt(Ie);const Ne=r.length/3,it=w.generateTopUV(i,r,Ne-3,Ne-2,Ne-1);ee(it[0]),ee(it[1]),ee(it[2])}function dt(Ve,Ue,Ie,Ne){Rt(Ve),Rt(Ue),Rt(Ne),Rt(Ue),Rt(Ie),Rt(Ne);const it=r.length/3,je=w.generateSideWallUV(i,r,it-6,it-3,it-2,it-1);ee(je[0]),ee(je[1]),ee(je[3]),ee(je[1]),ee(je[2]),ee(je[3])}function Rt(Ve){r.push(d[Ve*3+0]),r.push(d[Ve*3+1]),r.push(d[Ve*3+2])}function ee(Ve){s.push(Ve.x),s.push(Ve.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,i=this.parameters.options;return Nre(n,i,e)}static fromJSON(e,n){const i=[];for(let s=0,o=e.shapes.length;s<o;s++){const l=n[e.shapes[s]];i.push(l)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new Q_[r.type]().fromJSON(r)),new oE(i,e.options)}}const Ore={generateTopUV:function(t,e,n,i,r){const s=e[n*3],o=e[n*3+1],l=e[i*3],d=e[i*3+1],h=e[r*3],m=e[r*3+1];return[new Ge(s,o),new Ge(l,d),new Ge(h,m)]},generateSideWallUV:function(t,e,n,i,r,s){const o=e[n*3],l=e[n*3+1],d=e[n*3+2],h=e[i*3],m=e[i*3+1],g=e[i*3+2],y=e[r*3],b=e[r*3+1],S=e[r*3+2],C=e[s*3],T=e[s*3+1],_=e[s*3+2];return Math.abs(l-m)<Math.abs(o-h)?[new Ge(o,1-d),new Ge(h,1-g),new Ge(y,1-S),new Ge(C,1-_)]:[new Ge(l,1-d),new Ge(m,1-g),new Ge(b,1-S),new Ge(T,1-_)]}};function Nre(t,e,n){if(n.shapes=[],Array.isArray(t))for(let i=0,r=t.length;i<r;i++){const s=t[i];n.shapes.push(s.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class lE extends Ed{constructor(e=1,n=0){const i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,s,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new lE(e.radius,e.detail)}}class cE extends an{constructor(e=[new Ge(0,-.5),new Ge(.5,0),new Ge(0,.5)],n=12,i=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:i,phiLength:r},n=Math.floor(n),r=Wt(r,0,Math.PI*2);const s=[],o=[],l=[],d=[],h=[],m=1/n,g=new J,y=new Ge,b=new J,S=new J,C=new J;let T=0,_=0;for(let w=0;w<=e.length-1;w++)switch(w){case 0:T=e[w+1].x-e[w].x,_=e[w+1].y-e[w].y,b.x=_*1,b.y=-T,b.z=_*0,C.copy(b),b.normalize(),d.push(b.x,b.y,b.z);break;case e.length-1:d.push(C.x,C.y,C.z);break;default:T=e[w+1].x-e[w].x,_=e[w+1].y-e[w].y,b.x=_*1,b.y=-T,b.z=_*0,S.copy(b),b.x+=C.x,b.y+=C.y,b.z+=C.z,b.normalize(),d.push(b.x,b.y,b.z),C.copy(S)}for(let w=0;w<=n;w++){const R=i+w*m*r,N=Math.sin(R),D=Math.cos(R);for(let I=0;I<=e.length-1;I++){g.x=e[I].x*N,g.y=e[I].y,g.z=e[I].x*D,o.push(g.x,g.y,g.z),y.x=w/n,y.y=I/(e.length-1),l.push(y.x,y.y);const V=d[3*I+0]*N,B=d[3*I+1],L=d[3*I+0]*D;h.push(V,B,L)}}for(let w=0;w<n;w++)for(let R=0;R<e.length-1;R++){const N=R+w*e.length,D=N,I=N+e.length,V=N+e.length+1,B=N+1;s.push(D,I,B),s.push(V,B,I)}this.setIndex(s),this.setAttribute("position",new St(o,3)),this.setAttribute("uv",new St(l,2)),this.setAttribute("normal",new St(h,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new cE(e.points,e.segments,e.phiStart,e.phiLength)}}class _0 extends Ed{constructor(e=1,n=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,r,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new _0(e.radius,e.detail)}}class Zm extends an{constructor(e=1,n=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:i,heightSegments:r};const s=e/2,o=n/2,l=Math.floor(i),d=Math.floor(r),h=l+1,m=d+1,g=e/l,y=n/d,b=[],S=[],C=[],T=[];for(let _=0;_<m;_++){const w=_*y-o;for(let R=0;R<h;R++){const N=R*g-s;S.push(N,-w,0),C.push(0,0,1),T.push(R/l),T.push(1-_/d)}}for(let _=0;_<d;_++)for(let w=0;w<l;w++){const R=w+h*_,N=w+h*(_+1),D=w+1+h*(_+1),I=w+1+h*_;b.push(R,N,I),b.push(N,D,I)}this.setIndex(b),this.setAttribute("position",new St(S,3)),this.setAttribute("normal",new St(C,3)),this.setAttribute("uv",new St(T,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Zm(e.width,e.height,e.widthSegments,e.heightSegments)}}class uE extends an{constructor(e=.5,n=1,i=32,r=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:i,phiSegments:r,thetaStart:s,thetaLength:o},i=Math.max(3,i),r=Math.max(1,r);const l=[],d=[],h=[],m=[];let g=e;const y=(n-e)/r,b=new J,S=new Ge;for(let C=0;C<=r;C++){for(let T=0;T<=i;T++){const _=s+T/i*o;b.x=g*Math.cos(_),b.y=g*Math.sin(_),d.push(b.x,b.y,b.z),h.push(0,0,1),S.x=(b.x/n+1)/2,S.y=(b.y/n+1)/2,m.push(S.x,S.y)}g+=y}for(let C=0;C<r;C++){const T=C*(i+1);for(let _=0;_<i;_++){const w=_+T,R=w,N=w+i+1,D=w+i+2,I=w+1;l.push(R,N,I),l.push(N,D,I)}}this.setIndex(l),this.setAttribute("position",new St(d,3)),this.setAttribute("normal",new St(h,3)),this.setAttribute("uv",new St(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new uE(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class dE extends an{constructor(e=new sh([new Ge(0,.5),new Ge(-.5,-.5),new Ge(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const i=[],r=[],s=[],o=[];let l=0,d=0;if(Array.isArray(e)===!1)h(e);else for(let m=0;m<e.length;m++)h(e[m]),this.addGroup(l,d,m),l+=d,d=0;this.setIndex(i),this.setAttribute("position",new St(r,3)),this.setAttribute("normal",new St(s,3)),this.setAttribute("uv",new St(o,2));function h(m){const g=r.length/3,y=m.extractPoints(n);let b=y.shape;const S=y.holes;Ho.isClockWise(b)===!1&&(b=b.reverse());for(let T=0,_=S.length;T<_;T++){const w=S[T];Ho.isClockWise(w)===!0&&(S[T]=w.reverse())}const C=Ho.triangulateShape(b,S);for(let T=0,_=S.length;T<_;T++){const w=S[T];b=b.concat(w)}for(let T=0,_=b.length;T<_;T++){const w=b[T];r.push(w.x,w.y,0),s.push(0,0,1),o.push(w.x,w.y)}for(let T=0,_=C.length;T<_;T++){const w=C[T],R=w[0]+g,N=w[1]+g,D=w[2]+g;i.push(R,N,D),d+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return Dre(n,e)}static fromJSON(e,n){const i=[];for(let r=0,s=e.shapes.length;r<s;r++){const o=n[e.shapes[r]];i.push(o)}return new dE(i,e.curveSegments)}}function Dre(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,i=t.length;n<i;n++){const r=t[n];e.shapes.push(r.uuid)}else e.shapes.push(t.uuid);return e}class E0 extends an{constructor(e=1,n=32,i=16,r=0,s=Math.PI*2,o=0,l=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:i,phiStart:r,phiLength:s,thetaStart:o,thetaLength:l},n=Math.max(3,Math.floor(n)),i=Math.max(2,Math.floor(i));const d=Math.min(o+l,Math.PI);let h=0;const m=[],g=new J,y=new J,b=[],S=[],C=[],T=[];for(let _=0;_<=i;_++){const w=[],R=_/i;let N=0;_===0&&o===0?N=.5/n:_===i&&d===Math.PI&&(N=-.5/n);for(let D=0;D<=n;D++){const I=D/n;g.x=-e*Math.cos(r+I*s)*Math.sin(o+R*l),g.y=e*Math.cos(o+R*l),g.z=e*Math.sin(r+I*s)*Math.sin(o+R*l),S.push(g.x,g.y,g.z),y.copy(g).normalize(),C.push(y.x,y.y,y.z),T.push(I+N,1-R),w.push(h++)}m.push(w)}for(let _=0;_<i;_++)for(let w=0;w<n;w++){const R=m[_][w+1],N=m[_][w],D=m[_+1][w],I=m[_+1][w+1];(_!==0||o>0)&&b.push(R,N,I),(_!==i-1||d<Math.PI)&&b.push(N,D,I)}this.setIndex(b),this.setAttribute("position",new St(S,3)),this.setAttribute("normal",new St(C,3)),this.setAttribute("uv",new St(T,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new E0(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class fE extends Ed{constructor(e=1,n=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,r,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new fE(e.radius,e.detail)}}class hE extends an{constructor(e=1,n=.4,i=12,r=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:i,tubularSegments:r,arc:s},i=Math.floor(i),r=Math.floor(r);const o=[],l=[],d=[],h=[],m=new J,g=new J,y=new J;for(let b=0;b<=i;b++)for(let S=0;S<=r;S++){const C=S/r*s,T=b/i*Math.PI*2;g.x=(e+n*Math.cos(T))*Math.cos(C),g.y=(e+n*Math.cos(T))*Math.sin(C),g.z=n*Math.sin(T),l.push(g.x,g.y,g.z),m.x=e*Math.cos(C),m.y=e*Math.sin(C),y.subVectors(g,m).normalize(),d.push(y.x,y.y,y.z),h.push(S/r),h.push(b/i)}for(let b=1;b<=i;b++)for(let S=1;S<=r;S++){const C=(r+1)*b+S-1,T=(r+1)*(b-1)+S-1,_=(r+1)*(b-1)+S,w=(r+1)*b+S;o.push(C,T,w),o.push(T,_,w)}this.setIndex(o),this.setAttribute("position",new St(l,3)),this.setAttribute("normal",new St(d,3)),this.setAttribute("uv",new St(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new hE(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class pE extends an{constructor(e=1,n=.4,i=64,r=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:i,radialSegments:r,p:s,q:o},i=Math.floor(i),r=Math.floor(r);const l=[],d=[],h=[],m=[],g=new J,y=new J,b=new J,S=new J,C=new J,T=new J,_=new J;for(let R=0;R<=i;++R){const N=R/i*s*Math.PI*2;w(N,s,o,e,b),w(N+.01,s,o,e,S),T.subVectors(S,b),_.addVectors(S,b),C.crossVectors(T,_),_.crossVectors(C,T),C.normalize(),_.normalize();for(let D=0;D<=r;++D){const I=D/r*Math.PI*2,V=-n*Math.cos(I),B=n*Math.sin(I);g.x=b.x+(V*_.x+B*C.x),g.y=b.y+(V*_.y+B*C.y),g.z=b.z+(V*_.z+B*C.z),d.push(g.x,g.y,g.z),y.subVectors(g,b).normalize(),h.push(y.x,y.y,y.z),m.push(R/i),m.push(D/r)}}for(let R=1;R<=i;R++)for(let N=1;N<=r;N++){const D=(r+1)*(R-1)+(N-1),I=(r+1)*R+(N-1),V=(r+1)*R+N,B=(r+1)*(R-1)+N;l.push(D,I,B),l.push(I,V,B)}this.setIndex(l),this.setAttribute("position",new St(d,3)),this.setAttribute("normal",new St(h,3)),this.setAttribute("uv",new St(m,2));function w(R,N,D,I,V){const B=Math.cos(R),L=Math.sin(R),z=D/N*R,F=Math.cos(z);V.x=I*(2+F)*.5*B,V.y=I*(2+F)*L*.5,V.z=I*Math.sin(z)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new pE(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class mE extends an{constructor(e=new CR(new J(-1,-1,0),new J(-1,1,0),new J(1,1,0)),n=64,i=1,r=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:i,radialSegments:r,closed:s};const o=e.computeFrenetFrames(n,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const l=new J,d=new J,h=new Ge;let m=new J;const g=[],y=[],b=[],S=[];C(),this.setIndex(S),this.setAttribute("position",new St(g,3)),this.setAttribute("normal",new St(y,3)),this.setAttribute("uv",new St(b,2));function C(){for(let R=0;R<n;R++)T(R);T(s===!1?n:0),w(),_()}function T(R){m=e.getPointAt(R/n,m);const N=o.normals[R],D=o.binormals[R];for(let I=0;I<=r;I++){const V=I/r*Math.PI*2,B=Math.sin(V),L=-Math.cos(V);d.x=L*N.x+B*D.x,d.y=L*N.y+B*D.y,d.z=L*N.z+B*D.z,d.normalize(),y.push(d.x,d.y,d.z),l.x=m.x+i*d.x,l.y=m.y+i*d.y,l.z=m.z+i*d.z,g.push(l.x,l.y,l.z)}}function _(){for(let R=1;R<=n;R++)for(let N=1;N<=r;N++){const D=(r+1)*(R-1)+(N-1),I=(r+1)*R+(N-1),V=(r+1)*R+N,B=(r+1)*(R-1)+N;S.push(D,I,B),S.push(I,V,B)}}function w(){for(let R=0;R<=n;R++)for(let N=0;N<=r;N++)h.x=R/n,h.y=N/r,b.push(h.x,h.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new mE(new Q_[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class KB extends an{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],i=new Set,r=new J,s=new J;if(e.index!==null){const o=e.attributes.position,l=e.index;let d=e.groups;d.length===0&&(d=[{start:0,count:l.count,materialIndex:0}]);for(let h=0,m=d.length;h<m;++h){const g=d[h],y=g.start,b=g.count;for(let S=y,C=y+b;S<C;S+=3)for(let T=0;T<3;T++){const _=l.getX(S+T),w=l.getX(S+(T+1)%3);r.fromBufferAttribute(o,_),s.fromBufferAttribute(o,w),KP(r,s,i)===!0&&(n.push(r.x,r.y,r.z),n.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let l=0,d=o.count/3;l<d;l++)for(let h=0;h<3;h++){const m=3*l+h,g=3*l+(h+1)%3;r.fromBufferAttribute(o,m),s.fromBufferAttribute(o,g),KP(r,s,i)===!0&&(n.push(r.x,r.y,r.z),n.push(s.x,s.y,s.z))}}this.setAttribute("position",new St(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function KP(t,e,n){const i=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(i)===!0||n.has(r)===!0?!1:(n.add(i),n.add(r),!0)}var $P=Object.freeze({__proto__:null,BoxGeometry:mh,CapsuleGeometry:iE,CircleGeometry:rE,ConeGeometry:S0,CylinderGeometry:b0,DodecahedronGeometry:sE,EdgesGeometry:kB,ExtrudeGeometry:oE,IcosahedronGeometry:lE,LatheGeometry:cE,OctahedronGeometry:_0,PlaneGeometry:Zm,PolyhedronGeometry:Ed,RingGeometry:uE,ShapeGeometry:dE,SphereGeometry:E0,TetrahedronGeometry:fE,TorusGeometry:hE,TorusKnotGeometry:pE,TubeGeometry:mE,WireframeGeometry:KB});class $B extends rs{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new mt(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class ZB extends oo{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class AR extends rs{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new mt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new mt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Sd,this.normalScale=new Ge(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Oa,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class QB extends AR{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Ge(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Wt(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new mt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new mt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new mt(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class JB extends rs{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new mt(16777215),this.specular=new mt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new mt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Sd,this.normalScale=new Ge(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Oa,this.combine=v0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class e4 extends rs{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new mt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new mt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Sd,this.normalScale=new Ge(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class t4 extends rs{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Sd,this.normalScale=new Ge(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class n4 extends rs{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new mt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new mt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Sd,this.normalScale=new Ge(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Oa,this.combine=v0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class RR extends rs{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=fB,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class OR extends rs{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class i4 extends rs{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new mt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Sd,this.normalScale=new Ge(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class r4 extends Ds{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function $f(t,e){return!t||t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function s4(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function a4(t){function e(r,s){return t[r]-t[s]}const n=t.length,i=new Array(n);for(let r=0;r!==n;++r)i[r]=r;return i.sort(e),i}function hw(t,e,n){const i=t.length,r=new t.constructor(i);for(let s=0,o=0;o!==i;++s){const l=n[s]*e;for(let d=0;d!==e;++d)r[o++]=t[l+d]}return r}function NR(t,e,n,i){let r=1,s=t[0];for(;s!==void 0&&s[i]===void 0;)s=t[r++];if(s===void 0)return;let o=s[i];if(o!==void 0)if(Array.isArray(o))do o=s[i],o!==void 0&&(e.push(s.time),n.push(...o)),s=t[r++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[i],o!==void 0&&(e.push(s.time),o.toArray(n,n.length)),s=t[r++];while(s!==void 0);else do o=s[i],o!==void 0&&(e.push(s.time),n.push(o)),s=t[r++];while(s!==void 0)}function Pre(t,e,n,i,r=30){const s=t.clone();s.name=e;const o=[];for(let d=0;d<s.tracks.length;++d){const h=s.tracks[d],m=h.getValueSize(),g=[],y=[];for(let b=0;b<h.times.length;++b){const S=h.times[b]*r;if(!(S<n||S>=i)){g.push(h.times[b]);for(let C=0;C<m;++C)y.push(h.values[b*m+C])}}g.length!==0&&(h.times=$f(g,h.times.constructor),h.values=$f(y,h.values.constructor),o.push(h))}s.tracks=o;let l=1/0;for(let d=0;d<s.tracks.length;++d)l>s.tracks[d].times[0]&&(l=s.tracks[d].times[0]);for(let d=0;d<s.tracks.length;++d)s.tracks[d].shift(-1*l);return s.resetDuration(),s}function Ire(t,e=0,n=t,i=30){i<=0&&(i=30);const r=n.tracks.length,s=e/i;for(let o=0;o<r;++o){const l=n.tracks[o],d=l.ValueTypeName;if(d==="bool"||d==="string")continue;const h=t.tracks.find(function(_){return _.name===l.name&&_.ValueTypeName===d});if(h===void 0)continue;let m=0;const g=l.getValueSize();l.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(m=g/3);let y=0;const b=h.getValueSize();h.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(y=b/3);const S=l.times.length-1;let C;if(s<=l.times[0]){const _=m,w=g-m;C=l.values.slice(_,w)}else if(s>=l.times[S]){const _=S*g+m,w=_+g-m;C=l.values.slice(_,w)}else{const _=l.createInterpolant(),w=m,R=g-m;_.evaluate(s),C=_.resultBuffer.slice(w,R)}d==="quaternion"&&new ra().fromArray(C).normalize().conjugate().toArray(C);const T=h.times.length;for(let _=0;_<T;++_){const w=_*b+y;if(d==="quaternion")ra.multiplyQuaternionsFlat(h.values,w,C,0,h.values,w);else{const R=b-y*2;for(let N=0;N<R;++N)h.values[w+N]-=C[N]}}}return t.blendMode=uR,t}class Lre{static convertArray(e,n){return $f(e,n)}static isTypedArray(e){return s4(e)}static getKeyframeOrder(e){return a4(e)}static sortedArray(e,n,i){return hw(e,n,i)}static flattenJSON(e,n,i,r){NR(e,n,i,r)}static subclip(e,n,i,r,s=30){return Pre(e,n,i,r,s)}static makeClipAdditive(e,n=0,i=e,r=30){return Ire(e,n,i,r)}}class T0{constructor(e,n,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new n.constructor(i),this.sampleValues=n,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let i=this._cachedIndex,r=n[i],s=n[i-1];e:{t:{let o;n:{i:if(!(e<r)){for(let l=i+2;;){if(r===void 0){if(e<s)break i;return i=n.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===l)break;if(s=r,r=n[++i],e<r)break t}o=n.length;break n}if(!(e>=s)){const l=n[1];e<l&&(i=2,s=l);for(let d=i-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===d)break;if(r=s,s=n[--i-1],e>=s)break t}o=i,i=0;break n}break e}for(;i<o;){const l=i+o>>>1;e<n[l]?o=l:i=l+1}if(r=n[i],s=n[i-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return i=n.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,s,r)}return this.interpolate_(i,s,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r;for(let o=0;o!==r;++o)n[o]=i[s+o];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class o4 extends T0{constructor(e,n,i,r){super(e,n,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Yf,endingEnd:Yf}}intervalChanged_(e,n,i){const r=this.parameterPositions;let s=e-2,o=e+1,l=r[s],d=r[o];if(l===void 0)switch(this.getSettings_().endingStart){case Kf:s=e,l=2*n-i;break;case By:s=r.length-2,l=n+r[s]-r[s+1];break;default:s=e,l=i}if(d===void 0)switch(this.getSettings_().endingEnd){case Kf:o=e,d=2*i-n;break;case By:o=1,d=i+r[1]-r[0];break;default:o=e-1,d=n}const h=(i-n)*.5,m=this.valueSize;this._weightPrev=h/(n-l),this._weightNext=h/(d-i),this._offsetPrev=s*m,this._offsetNext=o*m}interpolate_(e,n,i,r){const s=this.resultBuffer,o=this.sampleValues,l=this.valueSize,d=e*l,h=d-l,m=this._offsetPrev,g=this._offsetNext,y=this._weightPrev,b=this._weightNext,S=(i-n)/(r-n),C=S*S,T=C*S,_=-y*T+2*y*C-y*S,w=(1+y)*T+(-1.5-2*y)*C+(-.5+y)*S+1,R=(-1-b)*T+(1.5+b)*C+.5*S,N=b*T-b*C;for(let D=0;D!==l;++D)s[D]=_*o[m+D]+w*o[h+D]+R*o[d+D]+N*o[g+D];return s}}class DR extends T0{constructor(e,n,i,r){super(e,n,i,r)}interpolate_(e,n,i,r){const s=this.resultBuffer,o=this.sampleValues,l=this.valueSize,d=e*l,h=d-l,m=(i-n)/(r-n),g=1-m;for(let y=0;y!==l;++y)s[y]=o[h+y]*g+o[d+y]*m;return s}}class l4 extends T0{constructor(e,n,i,r){super(e,n,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class lo{constructor(e,n,i,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=$f(n,this.TimeBufferType),this.values=$f(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let i;if(n.toJSON!==this.toJSON)i=n.toJSON(e);else{i={name:e.name,times:$f(e.times,Array),values:$f(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new l4(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new DR(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new o4(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case ky:n=this.InterpolantFactoryMethodDiscrete;break;case K_:n=this.InterpolantFactoryMethodLinear;break;case kS:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return ky;case this.InterpolantFactoryMethodLinear:return K_;case this.InterpolantFactoryMethodSmooth:return kS}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let i=0,r=n.length;i!==r;++i)n[i]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let i=0,r=n.length;i!==r;++i)n[i]*=e}return this}trim(e,n){const i=this.times,r=i.length;let s=0,o=r-1;for(;s!==r&&i[s]<e;)++s;for(;o!==-1&&i[o]>n;)--o;if(++o,s!==0||o!==r){s>=o&&(o=Math.max(o,1),s=o-1);const l=this.getValueSize();this.times=i.slice(s,o),this.values=this.values.slice(s*l,o*l)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,s=i.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let l=0;l!==s;l++){const d=i[l];if(typeof d=="number"&&isNaN(d)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,l,d),e=!1;break}if(o!==null&&o>d){console.error("THREE.KeyframeTrack: Out of order keys.",this,l,d,o),e=!1;break}o=d}if(r!==void 0&&s4(r))for(let l=0,d=r.length;l!==d;++l){const h=r[l];if(isNaN(h)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,l,h),e=!1;break}}return e}optimize(){const e=this.times.slice(),n=this.values.slice(),i=this.getValueSize(),r=this.getInterpolation()===kS,s=e.length-1;let o=1;for(let l=1;l<s;++l){let d=!1;const h=e[l],m=e[l+1];if(h!==m&&(l!==1||h!==e[0]))if(r)d=!0;else{const g=l*i,y=g-i,b=g+i;for(let S=0;S!==i;++S){const C=n[g+S];if(C!==n[y+S]||C!==n[b+S]){d=!0;break}}}if(d){if(l!==o){e[o]=e[l];const g=l*i,y=o*i;for(let b=0;b!==i;++b)n[y+b]=n[g+b]}++o}}if(s>0){e[o]=e[s];for(let l=s*i,d=o*i,h=0;h!==i;++h)n[d+h]=n[l+h];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=n.slice(0,o*i)):(this.times=e,this.values=n),this}clone(){const e=this.times.slice(),n=this.values.slice(),i=this.constructor,r=new i(this.name,e,n);return r.createInterpolant=this.createInterpolant,r}}lo.prototype.ValueTypeName="";lo.prototype.TimeBufferType=Float32Array;lo.prototype.ValueBufferType=Float32Array;lo.prototype.DefaultInterpolation=K_;class gh extends lo{constructor(e,n,i){super(e,n,i)}}gh.prototype.ValueTypeName="bool";gh.prototype.ValueBufferType=Array;gh.prototype.DefaultInterpolation=ky;gh.prototype.InterpolantFactoryMethodLinear=void 0;gh.prototype.InterpolantFactoryMethodSmooth=void 0;class PR extends lo{constructor(e,n,i,r){super(e,n,i,r)}}PR.prototype.ValueTypeName="color";class Yy extends lo{constructor(e,n,i,r){super(e,n,i,r)}}Yy.prototype.ValueTypeName="number";class c4 extends T0{constructor(e,n,i,r){super(e,n,i,r)}interpolate_(e,n,i,r){const s=this.resultBuffer,o=this.sampleValues,l=this.valueSize,d=(i-n)/(r-n);let h=e*l;for(let m=h+l;h!==m;h+=4)ra.slerpFlat(s,0,o,h-l,o,h,d);return s}}class M0 extends lo{constructor(e,n,i,r){super(e,n,i,r)}InterpolantFactoryMethodLinear(e){return new c4(this.times,this.values,this.getValueSize(),e)}}M0.prototype.ValueTypeName="quaternion";M0.prototype.InterpolantFactoryMethodSmooth=void 0;class vh extends lo{constructor(e,n,i){super(e,n,i)}}vh.prototype.ValueTypeName="string";vh.prototype.ValueBufferType=Array;vh.prototype.DefaultInterpolation=ky;vh.prototype.InterpolantFactoryMethodLinear=void 0;vh.prototype.InterpolantFactoryMethodSmooth=void 0;class Ky extends lo{constructor(e,n,i,r){super(e,n,i,r)}}Ky.prototype.ValueTypeName="vector";class $y{constructor(e="",n=-1,i=[],r=q1){this.name=e,this.tracks=i,this.duration=n,this.blendMode=r,this.uuid=Ra(),this.userData={},this.duration<0&&this.resetDuration()}static parse(e){const n=[],i=e.tracks,r=1/(e.fps||1);for(let o=0,l=i.length;o!==l;++o)n.push(Ure(i[o]).scale(r));const s=new this(e.name,e.duration,n,e.blendMode);return s.uuid=e.uuid,s.userData=JSON.parse(e.userData||"{}"),s}static toJSON(e){const n=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode,userData:JSON.stringify(e.userData)};for(let s=0,o=i.length;s!==o;++s)n.push(lo.toJSON(i[s]));return r}static CreateFromMorphTargetSequence(e,n,i,r){const s=n.length,o=[];for(let l=0;l<s;l++){let d=[],h=[];d.push((l+s-1)%s,l,(l+1)%s),h.push(0,1,0);const m=a4(d);d=hw(d,1,m),h=hw(h,1,m),!r&&d[0]===0&&(d.push(s),h.push(h[0])),o.push(new Yy(".morphTargetInfluences["+n[l].name+"]",d,h).scale(1/i))}return new this(e,-1,o)}static findByName(e,n){let i=e;if(!Array.isArray(e)){const r=e;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===n)return i[r];return null}static CreateClipsFromMorphTargetSequences(e,n,i){const r={},s=/^([\w-]*?)([\d]+)$/;for(let l=0,d=e.length;l<d;l++){const h=e[l],m=h.name.match(s);if(m&&m.length>1){const g=m[1];let y=r[g];y||(r[g]=y=[]),y.push(h)}}const o=[];for(const l in r)o.push(this.CreateFromMorphTargetSequence(l,r[l],n,i));return o}static parseAnimation(e,n){if(console.warn("THREE.AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(g,y,b,S,C){if(b.length!==0){const T=[],_=[];NR(b,T,_,S),T.length!==0&&C.push(new g(y,T,_))}},r=[],s=e.name||"default",o=e.fps||30,l=e.blendMode;let d=e.length||-1;const h=e.hierarchy||[];for(let g=0;g<h.length;g++){const y=h[g].keys;if(!(!y||y.length===0))if(y[0].morphTargets){const b={};let S;for(S=0;S<y.length;S++)if(y[S].morphTargets)for(let C=0;C<y[S].morphTargets.length;C++)b[y[S].morphTargets[C]]=-1;for(const C in b){const T=[],_=[];for(let w=0;w!==y[S].morphTargets.length;++w){const R=y[S];T.push(R.time),_.push(R.morphTarget===C?1:0)}r.push(new Yy(".morphTargetInfluence["+C+"]",T,_))}d=b.length*o}else{const b=".bones["+n[g].name+"]";i(Ky,b+".position",y,"pos",r),i(M0,b+".quaternion",y,"rot",r),i(Ky,b+".scale",y,"scl",r)}}return r.length===0?null:new this(s,d,r,l)}resetDuration(){const e=this.tracks;let n=0;for(let i=0,r=e.length;i!==r;++i){const s=this.tracks[i];n=Math.max(n,s.times[s.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let i=0;i<this.tracks.length;i++)e.push(this.tracks[i].clone());const n=new this.constructor(this.name,this.duration,e,this.blendMode);return n.userData=JSON.parse(JSON.stringify(this.userData)),n}toJSON(){return this.constructor.toJSON(this)}}function zre(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Yy;case"vector":case"vector2":case"vector3":case"vector4":return Ky;case"color":return PR;case"quaternion":return M0;case"bool":case"boolean":return gh;case"string":return vh}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function Ure(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=zre(t.type);if(t.times===void 0){const n=[],i=[];NR(t.keys,n,i,"value"),t.times=n,t.values=i}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const Hl={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class IR{constructor(e,n,i){const r=this;let s=!1,o=0,l=0,d;const h=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=i,this.abortController=new AbortController,this.itemStart=function(m){l++,s===!1&&r.onStart!==void 0&&r.onStart(m,o,l),s=!0},this.itemEnd=function(m){o++,r.onProgress!==void 0&&r.onProgress(m,o,l),o===l&&(s=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(m){r.onError!==void 0&&r.onError(m)},this.resolveURL=function(m){return d?d(m):m},this.setURLModifier=function(m){return d=m,this},this.addHandler=function(m,g){return h.push(m,g),this},this.removeHandler=function(m){const g=h.indexOf(m);return g!==-1&&h.splice(g,2),this},this.getHandler=function(m){for(let g=0,y=h.length;g<y;g+=2){const b=h[g],S=h[g+1];if(b.global&&(b.lastIndex=0),b.test(m))return S}return null},this.abort=function(){return this.abortController.abort(),this.abortController=new AbortController,this}}}const mm=new IR;class oa{constructor(e){this.manager=e!==void 0?e:mm,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const i=this;return new Promise(function(r,s){i.load(e,r,n,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}abort(){return this}}oa.DEFAULT_MATERIAL_NAME="__DEFAULT";const zc={};class Vre extends Error{constructor(e,n){super(e),this.response=n}}class Jc extends oa{constructor(e){super(e),this.mimeType="",this.responseType="",this._abortController=new AbortController}load(e,n,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=Hl.get(`file:${e}`);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(s),this.manager.itemEnd(e)},0),s;if(zc[e]!==void 0){zc[e].push({onLoad:n,onProgress:i,onError:r});return}zc[e]=[],zc[e].push({onLoad:n,onProgress:i,onError:r});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin",signal:typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal}),l=this.mimeType,d=this.responseType;fetch(o).then(h=>{if(h.status===200||h.status===0){if(h.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||h.body===void 0||h.body.getReader===void 0)return h;const m=zc[e],g=h.body.getReader(),y=h.headers.get("X-File-Size")||h.headers.get("Content-Length"),b=y?parseInt(y):0,S=b!==0;let C=0;const T=new ReadableStream({start(_){w();function w(){g.read().then(({done:R,value:N})=>{if(R)_.close();else{C+=N.byteLength;const D=new ProgressEvent("progress",{lengthComputable:S,loaded:C,total:b});for(let I=0,V=m.length;I<V;I++){const B=m[I];B.onProgress&&B.onProgress(D)}_.enqueue(N),w()}},R=>{_.error(R)})}}});return new Response(T)}else throw new Vre(`fetch for "${h.url}" responded with ${h.status}: ${h.statusText}`,h)}).then(h=>{switch(d){case"arraybuffer":return h.arrayBuffer();case"blob":return h.blob();case"document":return h.text().then(m=>new DOMParser().parseFromString(m,l));case"json":return h.json();default:if(l==="")return h.text();{const g=/charset="?([^;"\s]*)"?/i.exec(l),y=g&&g[1]?g[1].toLowerCase():void 0,b=new TextDecoder(y);return h.arrayBuffer().then(S=>b.decode(S))}}}).then(h=>{Hl.add(`file:${e}`,h);const m=zc[e];delete zc[e];for(let g=0,y=m.length;g<y;g++){const b=m[g];b.onLoad&&b.onLoad(h)}}).catch(h=>{const m=zc[e];if(m===void 0)throw this.manager.itemError(e),h;delete zc[e];for(let g=0,y=m.length;g<y;g++){const b=m[g];b.onError&&b.onError(h)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}class kre extends oa{constructor(e){super(e)}load(e,n,i,r){const s=this,o=new Jc(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{n(s.parse(JSON.parse(l)))}catch(d){r?r(d):console.error(d),s.manager.itemError(e)}},i,r)}parse(e){const n=[];for(let i=0;i<e.length;i++){const r=$y.parse(e[i]);n.push(r)}return n}}class Bre extends oa{constructor(e){super(e)}load(e,n,i,r){const s=this,o=[],l=new nE,d=new Jc(this.manager);d.setPath(this.path),d.setResponseType("arraybuffer"),d.setRequestHeader(this.requestHeader),d.setWithCredentials(s.withCredentials);let h=0;function m(g){d.load(e[g],function(y){const b=s.parse(y,!0);o[g]={width:b.width,height:b.height,format:b.format,mipmaps:b.mipmaps},h+=1,h===6&&(b.mipmapCount===1&&(l.minFilter=cr),l.image=o,l.format=b.format,l.needsUpdate=!0,n&&n(l))},i,r)}if(Array.isArray(e))for(let g=0,y=e.length;g<y;++g)m(g);else d.load(e,function(g){const y=s.parse(g,!0);if(y.isCubemap){const b=y.mipmaps.length/y.mipmapCount;for(let S=0;S<b;S++){o[S]={mipmaps:[]};for(let C=0;C<y.mipmapCount;C++)o[S].mipmaps.push(y.mipmaps[S*y.mipmapCount+C]),o[S].format=y.format,o[S].width=y.width,o[S].height=y.height}l.image=o}else l.image.width=y.width,l.image.height=y.height,l.mipmaps=y.mipmaps;y.mipmapCount===1&&(l.minFilter=cr),l.format=y.format,l.needsUpdate=!0,n&&n(l)},i,r);return l}}const Gp=new WeakMap;class Zy extends oa{constructor(e){super(e)}load(e,n,i,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Hl.get(`image:${e}`);if(o!==void 0){if(o.complete===!0)s.manager.itemStart(e),setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0);else{let g=Gp.get(o);g===void 0&&(g=[],Gp.set(o,g)),g.push({onLoad:n,onError:r})}return o}const l=Gy("img");function d(){m(),n&&n(this);const g=Gp.get(this)||[];for(let y=0;y<g.length;y++){const b=g[y];b.onLoad&&b.onLoad(this)}Gp.delete(this),s.manager.itemEnd(e)}function h(g){m(),r&&r(g),Hl.remove(`image:${e}`);const y=Gp.get(this)||[];for(let b=0;b<y.length;b++){const S=y[b];S.onError&&S.onError(g)}Gp.delete(this),s.manager.itemError(e),s.manager.itemEnd(e)}function m(){l.removeEventListener("load",d,!1),l.removeEventListener("error",h,!1)}return l.addEventListener("load",d,!1),l.addEventListener("error",h,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(l.crossOrigin=this.crossOrigin),Hl.add(`image:${e}`,l),s.manager.itemStart(e),l.src=e,l}}class Fre extends oa{constructor(e){super(e)}load(e,n,i,r){const s=new x0;s.colorSpace=es;const o=new Zy(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let l=0;function d(h){o.load(e[h],function(m){s.images[h]=m,l++,l===6&&(s.needsUpdate=!0,n&&n(s))},void 0,r)}for(let h=0;h<e.length;++h)d(h);return s}}class Hre extends oa{constructor(e){super(e)}load(e,n,i,r){const s=this,o=new Yl,l=new Jc(this.manager);return l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setPath(this.path),l.setWithCredentials(s.withCredentials),l.load(e,function(d){let h;try{h=s.parse(d)}catch(m){if(r!==void 0)r(m);else{console.error(m);return}}h.image!==void 0?o.image=h.image:h.data!==void 0&&(o.image.width=h.width,o.image.height=h.height,o.image.data=h.data),o.wrapS=h.wrapS!==void 0?h.wrapS:ro,o.wrapT=h.wrapT!==void 0?h.wrapT:ro,o.magFilter=h.magFilter!==void 0?h.magFilter:cr,o.minFilter=h.minFilter!==void 0?h.minFilter:cr,o.anisotropy=h.anisotropy!==void 0?h.anisotropy:1,h.colorSpace!==void 0&&(o.colorSpace=h.colorSpace),h.flipY!==void 0&&(o.flipY=h.flipY),h.format!==void 0&&(o.format=h.format),h.type!==void 0&&(o.type=h.type),h.mipmaps!==void 0&&(o.mipmaps=h.mipmaps,o.minFilter=Fl),h.mipmapCount===1&&(o.minFilter=cr),h.generateMipmaps!==void 0&&(o.generateMipmaps=h.generateMipmaps),o.needsUpdate=!0,n&&n(o,h)},i,r),o}}class gE extends oa{constructor(e){super(e)}load(e,n,i,r){const s=new gi,o=new Zy(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(l){s.image=l,s.needsUpdate=!0,n!==void 0&&n(s)},i,r),s}}class Td extends wn{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new mt(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(n.object.target=this.target.uuid),n}}class u4 extends Td{constructor(e,n,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(wn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new mt(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const RM=new qt,ZP=new J,QP=new J;class LR{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Ge(512,512),this.mapType=ao,this.map=null,this.mapPass=null,this.matrix=new qt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new $m,this._frameExtents=new Ge(1,1),this._viewportCount=1,this._viewports=[new Cn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,i=this.matrix;ZP.setFromMatrixPosition(e.matrixWorld),n.position.copy(ZP),QP.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(QP),n.updateMatrixWorld(),RM.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(RM,n.coordinateSystem,n.reversedDepth),n.reversedDepth?i.set(.5,0,0,.5,0,.5,0,.5,0,0,1,0,0,0,0,1):i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(RM)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class Gre extends LR{constructor(){super(new Tr(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1,this.aspect=1}updateMatrices(e){const n=this.camera,i=Dm*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height*this.aspect,s=e.distance||n.far;(i!==n.fov||r!==n.aspect||s!==n.far)&&(n.fov=i,n.aspect=r,n.far=s,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class d4 extends Td{constructor(e,n,i=0,r=Math.PI/3,s=0,o=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(wn.DEFAULT_UP),this.updateMatrix(),this.target=new wn,this.distance=i,this.angle=r,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new Gre}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const JP=new qt,Uv=new J,OM=new J;class Wre extends LR{constructor(){super(new Tr(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Ge(4,2),this._viewportCount=6,this._viewports=[new Cn(2,1,1,1),new Cn(0,1,1,1),new Cn(3,1,1,1),new Cn(1,1,1,1),new Cn(3,0,1,1),new Cn(1,0,1,1)],this._cubeDirections=[new J(1,0,0),new J(-1,0,0),new J(0,0,1),new J(0,0,-1),new J(0,1,0),new J(0,-1,0)],this._cubeUps=[new J(0,1,0),new J(0,1,0),new J(0,1,0),new J(0,1,0),new J(0,0,1),new J(0,0,-1)]}updateMatrices(e,n=0){const i=this.camera,r=this.matrix,s=e.distance||i.far;s!==i.far&&(i.far=s,i.updateProjectionMatrix()),Uv.setFromMatrixPosition(e.matrixWorld),i.position.copy(Uv),OM.copy(i.position),OM.add(this._cubeDirections[n]),i.up.copy(this._cubeUps[n]),i.lookAt(OM),i.updateMatrixWorld(),r.makeTranslation(-Uv.x,-Uv.y,-Uv.z),JP.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(JP,i.coordinateSystem,i.reversedDepth)}}class f4 extends Td{constructor(e,n,i=0,r=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new Wre}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class C0 extends $1{constructor(e=-1,n=1,i=1,r=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=i,this.bottom=r,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,i,r,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=i-e,o=i+e,l=r+n,d=r-n;if(this.view!==null&&this.view.enabled){const h=(this.right-this.left)/this.view.fullWidth/this.zoom,m=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=h*this.view.offsetX,o=s+h*this.view.width,l-=m*this.view.offsetY,d=l-m*this.view.height}this.projectionMatrix.makeOrthographic(s,o,l,d,this.near,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}class jre extends LR{constructor(){super(new C0(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class h4 extends Td{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(wn.DEFAULT_UP),this.updateMatrix(),this.target=new wn,this.shadow=new jre}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class p4 extends Td{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class m4 extends Td{constructor(e,n,i=10,r=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class g4{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new J)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.282095),n.addScaledVector(o[1],.488603*r),n.addScaledVector(o[2],.488603*s),n.addScaledVector(o[3],.488603*i),n.addScaledVector(o[4],1.092548*(i*r)),n.addScaledVector(o[5],1.092548*(r*s)),n.addScaledVector(o[6],.315392*(3*s*s-1)),n.addScaledVector(o[7],1.092548*(i*s)),n.addScaledVector(o[8],.546274*(i*i-r*r)),n}getIrradianceAt(e,n){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.886227),n.addScaledVector(o[1],2*.511664*r),n.addScaledVector(o[2],2*.511664*s),n.addScaledVector(o[3],2*.511664*i),n.addScaledVector(o[4],2*.429043*i*r),n.addScaledVector(o[5],2*.429043*r*s),n.addScaledVector(o[6],.743125*s*s-.247708),n.addScaledVector(o[7],2*.429043*i*s),n.addScaledVector(o[8],.429043*(i*i-r*r)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(e,n+r*3);return this}toArray(e=[],n=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(e,n+r*3);return e}static getBasisAt(e,n){const i=e.x,r=e.y,s=e.z;n[0]=.282095,n[1]=.488603*r,n[2]=.488603*s,n[3]=.488603*i,n[4]=1.092548*i*r,n[5]=1.092548*r*s,n[6]=.315392*(3*s*s-1),n[7]=1.092548*i*s,n[8]=.546274*(i*i-r*r)}}class v4 extends Td{constructor(e=new g4,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class vE extends oa{constructor(e){super(e),this.textures={}}load(e,n,i,r){const s=this,o=new Jc(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(l){try{n(s.parse(JSON.parse(l)))}catch(d){r?r(d):console.error(d),s.manager.itemError(e)}},i,r)}parse(e){const n=this.textures;function i(s){return n[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),n[s]}const r=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new mt().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(r.dispersion=e.dispersion),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(r.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(r.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(r.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(r.depthFunc=e.depthFunc),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(r.blendSrc=e.blendSrc),e.blendDst!==void 0&&(r.blendDst=e.blendDst),e.blendEquation!==void 0&&(r.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(r.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(r.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(r.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&r.blendColor!==void 0&&r.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(r.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==void 0&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(r.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(r.uniforms[s]={},o.type){case"t":r.uniforms[s].value=i(o.value);break;case"c":r.uniforms[s].value=new mt().setHex(o.value);break;case"v2":r.uniforms[s].value=new Ge().fromArray(o.value);break;case"v3":r.uniforms[s].value=new J().fromArray(o.value);break;case"v4":r.uniforms[s].value=new Cn().fromArray(o.value);break;case"m3":r.uniforms[s].value=new nn().fromArray(o.value);break;case"m4":r.uniforms[s].value=new qt().fromArray(o.value);break;default:r.uniforms[s].value=o.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)r.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(r.lights=e.lights),e.clipping!==void 0&&(r.clipping=e.clipping),e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=i(e.map)),e.matcap!==void 0&&(r.matcap=i(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),r.normalScale=new Ge().fromArray(s)}return e.displacementMap!==void 0&&(r.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=i(e.envMap)),e.envMapRotation!==void 0&&r.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new Ge().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=i(e.thicknessMap)),e.anisotropyMap!==void 0&&(r.anisotropyMap=i(e.anisotropyMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=i(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return vE.createMaterialFromType(e)}static createMaterialFromType(e){const n={ShadowMaterial:$B,SpriteMaterial:vR,RawShaderMaterial:ZB,ShaderMaterial:oo,PointsMaterial:xR,MeshPhysicalMaterial:QB,MeshStandardMaterial:AR,MeshPhongMaterial:JB,MeshToonMaterial:e4,MeshNormalMaterial:t4,MeshLambertMaterial:n4,MeshDepthMaterial:RR,MeshDistanceMaterial:OR,MeshBasicMaterial:_d,MeshMatcapMaterial:i4,LineDashedMaterial:r4,LineBasicMaterial:Ds,Material:rs};return new n[e]}}class pw{static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class y4 extends an{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class x4 extends oa{constructor(e){super(e)}load(e,n,i,r){const s=this,o=new Jc(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(l){try{n(s.parse(JSON.parse(l)))}catch(d){r?r(d):console.error(d),s.manager.itemError(e)}},i,r)}parse(e){const n={},i={};function r(b,S){if(n[S]!==void 0)return n[S];const T=b.interleavedBuffers[S],_=s(b,T.buffer),w=hm(T.type,_),R=new J1(w,T.stride);return R.uuid=T.uuid,n[S]=R,R}function s(b,S){if(i[S]!==void 0)return i[S];const T=b.arrayBuffers[S],_=new Uint32Array(T).buffer;return i[S]=_,_}const o=e.isInstancedBufferGeometry?new y4:new an,l=e.data.index;if(l!==void 0){const b=hm(l.type,l.array);o.setIndex(new Zn(b,1))}const d=e.data.attributes;for(const b in d){const S=d[b];let C;if(S.isInterleavedBufferAttribute){const T=r(e.data,S.data);C=new uh(T,S.itemSize,S.offset,S.normalized)}else{const T=hm(S.type,S.array),_=S.isInstancedBufferAttribute?Lm:Zn;C=new _(T,S.itemSize,S.normalized)}S.name!==void 0&&(C.name=S.name),S.usage!==void 0&&C.setUsage(S.usage),o.setAttribute(b,C)}const h=e.data.morphAttributes;if(h)for(const b in h){const S=h[b],C=[];for(let T=0,_=S.length;T<_;T++){const w=S[T];let R;if(w.isInterleavedBufferAttribute){const N=r(e.data,w.data);R=new uh(N,w.itemSize,w.offset,w.normalized)}else{const N=hm(w.type,w.array);R=new Zn(N,w.itemSize,w.normalized)}w.name!==void 0&&(R.name=w.name),C.push(R)}o.morphAttributes[b]=C}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const g=e.data.groups||e.data.drawcalls||e.data.offsets;if(g!==void 0)for(let b=0,S=g.length;b!==S;++b){const C=g[b];o.addGroup(C.start,C.count,C.materialIndex)}const y=e.data.boundingSphere;return y!==void 0&&(o.boundingSphere=new Br().fromJSON(y)),e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class Xre extends oa{constructor(e){super(e)}load(e,n,i,r){const s=this,o=this.path===""?pw.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const l=new Jc(this.manager);l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(d){let h=null;try{h=JSON.parse(d)}catch(g){r!==void 0&&r(g),console.error("THREE:ObjectLoader: Can't parse "+e+".",g.message);return}const m=h.metadata;if(m===void 0||m.type===void 0||m.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(h,n)},i,r)}async loadAsync(e,n){const i=this,r=this.path===""?pw.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const s=new Jc(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,n),l=JSON.parse(o),d=l.metadata;if(d===void 0||d.type===void 0||d.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(l)}parse(e,n){const i=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,r),o=this.parseImages(e.images,function(){n!==void 0&&n(h)}),l=this.parseTextures(e.textures,o),d=this.parseMaterials(e.materials,l),h=this.parseObject(e.object,s,d,l,i),m=this.parseSkeletons(e.skeletons,h);if(this.bindSkeletons(h,m),this.bindLightTargets(h),n!==void 0){let g=!1;for(const y in o)if(o[y].data instanceof HTMLImageElement){g=!0;break}g===!1&&n(h)}return h}async parseAsync(e){const n=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,i),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),l=this.parseMaterials(e.materials,o),d=this.parseObject(e.object,r,l,o,n),h=this.parseSkeletons(e.skeletons,d);return this.bindSkeletons(d,h),this.bindLightTargets(d),d}parseShapes(e){const n={};if(e!==void 0)for(let i=0,r=e.length;i<r;i++){const s=new sh().fromJSON(e[i]);n[s.uuid]=s}return n}parseSkeletons(e,n){const i={},r={};if(n.traverse(function(s){s.isBone&&(r[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const l=new eE().fromJSON(e[s],r);i[l.uuid]=l}return i}parseGeometries(e,n){const i={};if(e!==void 0){const r=new x4;for(let s=0,o=e.length;s<o;s++){let l;const d=e[s];switch(d.type){case"BufferGeometry":case"InstancedBufferGeometry":l=r.parse(d);break;default:d.type in $P?l=$P[d.type].fromJSON(d,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${d.type}"`)}l.uuid=d.uuid,d.name!==void 0&&(l.name=d.name),d.userData!==void 0&&(l.userData=d.userData),i[d.uuid]=l}}return i}parseMaterials(e,n){const i={},r={};if(e!==void 0){const s=new vE;s.setTextures(n);for(let o=0,l=e.length;o<l;o++){const d=e[o];i[d.uuid]===void 0&&(i[d.uuid]=s.parse(d)),r[d.uuid]=i[d.uuid]}}return r}parseAnimations(e){const n={};if(e!==void 0)for(let i=0;i<e.length;i++){const r=e[i],s=$y.parse(r);n[s.uuid]=s}return n}parseImages(e,n){const i=this,r={};let s;function o(d){return i.manager.itemStart(d),s.load(d,function(){i.manager.itemEnd(d)},void 0,function(){i.manager.itemError(d),i.manager.itemEnd(d)})}function l(d){if(typeof d=="string"){const h=d,m=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(h)?h:i.resourcePath+h;return o(m)}else return d.data?{data:hm(d.type,d.data),width:d.width,height:d.height}:null}if(e!==void 0&&e.length>0){const d=new IR(n);s=new Zy(d),s.setCrossOrigin(this.crossOrigin);for(let h=0,m=e.length;h<m;h++){const g=e[h],y=g.url;if(Array.isArray(y)){const b=[];for(let S=0,C=y.length;S<C;S++){const T=y[S],_=l(T);_!==null&&(_ instanceof HTMLImageElement?b.push(_):b.push(new Yl(_.data,_.width,_.height)))}r[g.uuid]=new fd(b)}else{const b=l(g.url);r[g.uuid]=new fd(b)}}}return r}async parseImagesAsync(e){const n=this,i={};let r;async function s(o){if(typeof o=="string"){const l=o,d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(l)?l:n.resourcePath+l;return await r.loadAsync(d)}else return o.data?{data:hm(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){r=new Zy(this.manager),r.setCrossOrigin(this.crossOrigin);for(let o=0,l=e.length;o<l;o++){const d=e[o],h=d.url;if(Array.isArray(h)){const m=[];for(let g=0,y=h.length;g<y;g++){const b=h[g],S=await s(b);S!==null&&(S instanceof HTMLImageElement?m.push(S):m.push(new Yl(S.data,S.width,S.height)))}i[d.uuid]=new fd(m)}else{const m=await s(d.url);i[d.uuid]=new fd(m)}}}return i}parseTextures(e,n){function i(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const r={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const l=e[s];l.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',l.uuid),n[l.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",l.image);const d=n[l.image],h=d.data;let m;Array.isArray(h)?(m=new x0,h.length===6&&(m.needsUpdate=!0)):(h&&h.data?m=new Yl:m=new gi,h&&(m.needsUpdate=!0)),m.source=d,m.uuid=l.uuid,l.name!==void 0&&(m.name=l.name),l.mapping!==void 0&&(m.mapping=i(l.mapping,qre)),l.channel!==void 0&&(m.channel=l.channel),l.offset!==void 0&&m.offset.fromArray(l.offset),l.repeat!==void 0&&m.repeat.fromArray(l.repeat),l.center!==void 0&&m.center.fromArray(l.center),l.rotation!==void 0&&(m.rotation=l.rotation),l.wrap!==void 0&&(m.wrapS=i(l.wrap[0],e3),m.wrapT=i(l.wrap[1],e3)),l.format!==void 0&&(m.format=l.format),l.internalFormat!==void 0&&(m.internalFormat=l.internalFormat),l.type!==void 0&&(m.type=l.type),l.colorSpace!==void 0&&(m.colorSpace=l.colorSpace),l.minFilter!==void 0&&(m.minFilter=i(l.minFilter,t3)),l.magFilter!==void 0&&(m.magFilter=i(l.magFilter,t3)),l.anisotropy!==void 0&&(m.anisotropy=l.anisotropy),l.flipY!==void 0&&(m.flipY=l.flipY),l.generateMipmaps!==void 0&&(m.generateMipmaps=l.generateMipmaps),l.premultiplyAlpha!==void 0&&(m.premultiplyAlpha=l.premultiplyAlpha),l.unpackAlignment!==void 0&&(m.unpackAlignment=l.unpackAlignment),l.compareFunction!==void 0&&(m.compareFunction=l.compareFunction),l.userData!==void 0&&(m.userData=l.userData),r[l.uuid]=m}return r}parseObject(e,n,i,r,s){let o;function l(y){return n[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",y),n[y]}function d(y){if(y!==void 0){if(Array.isArray(y)){const b=[];for(let S=0,C=y.length;S<C;S++){const T=y[S];i[T]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",T),b.push(i[T])}return b}return i[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",y),i[y]}}function h(y){return r[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",y),r[y]}let m,g;switch(e.type){case"Scene":o=new gR,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new mt(e.background):o.background=h(e.background)),e.environment!==void 0&&(o.environment=h(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new Q1(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new Z1(e.fog.color,e.fog.density)),e.fog.name!==""&&(o.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&o.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(o.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&o.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":o=new Tr(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new C0(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new p4(e.color,e.intensity);break;case"DirectionalLight":o=new h4(e.color,e.intensity),o.target=e.target||"";break;case"PointLight":o=new f4(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new m4(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new d4(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),o.target=e.target||"";break;case"HemisphereLight":o=new u4(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new v4().fromJSON(e);break;case"SkinnedMesh":m=l(e.geometry),g=d(e.material),o=new PB(m,g),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":m=l(e.geometry),g=d(e.material),o=new Ki(m,g);break;case"InstancedMesh":m=l(e.geometry),g=d(e.material);const y=e.count,b=e.instanceMatrix,S=e.instanceColor;o=new IB(m,g,y),o.instanceMatrix=new Lm(new Float32Array(b.array),16),S!==void 0&&(o.instanceColor=new Lm(new Float32Array(S.array),S.itemSize));break;case"BatchedMesh":m=l(e.geometry),g=d(e.material),o=new LB(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,g),o.geometry=m,o.perObjectFrustumCulled=e.perObjectFrustumCulled,o.sortObjects=e.sortObjects,o._drawRanges=e.drawRanges,o._reservedRanges=e.reservedRanges,o._geometryInfo=e.geometryInfo.map(C=>{let T=null,_=null;return C.boundingBox!==void 0&&(T=new is().fromJSON(C.boundingBox)),C.boundingSphere!==void 0&&(_=new Br().fromJSON(C.boundingSphere)),{...C,boundingBox:T,boundingSphere:_}}),o._instanceInfo=e.instanceInfo,o._availableInstanceIds=e._availableInstanceIds,o._availableGeometryIds=e._availableGeometryIds,o._nextIndexStart=e.nextIndexStart,o._nextVertexStart=e.nextVertexStart,o._geometryCount=e.geometryCount,o._maxInstanceCount=e.maxInstanceCount,o._maxVertexCount=e.maxVertexCount,o._maxIndexCount=e.maxIndexCount,o._geometryInitialized=e.geometryInitialized,o._matricesTexture=h(e.matricesTexture.uuid),o._indirectTexture=h(e.indirectTexture.uuid),e.colorsTexture!==void 0&&(o._colorsTexture=h(e.colorsTexture.uuid)),e.boundingSphere!==void 0&&(o.boundingSphere=new Br().fromJSON(e.boundingSphere)),e.boundingBox!==void 0&&(o.boundingBox=new is().fromJSON(e.boundingBox));break;case"LOD":o=new DB;break;case"Line":o=new yd(l(e.geometry),d(e.material));break;case"LineLoop":o=new zB(l(e.geometry),d(e.material));break;case"LineSegments":o=new rc(l(e.geometry),d(e.material));break;case"PointCloud":case"Points":o=new UB(l(e.geometry),d(e.material));break;case"Sprite":o=new NB(d(e.material));break;case"Group":o=new pm;break;case"Bone":o=new yR;break;default:o=new wn}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(o.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const y=e.children;for(let b=0;b<y.length;b++)o.add(this.parseObject(y[b],n,i,r,s))}if(e.animations!==void 0){const y=e.animations;for(let b=0;b<y.length;b++){const S=y[b];o.animations.push(s[S])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const y=e.levels;for(let b=0;b<y.length;b++){const S=y[b],C=o.getObjectByProperty("uuid",S.object);C!==void 0&&o.addLevel(C,S.distance,S.hysteresis)}}return o}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const r=n[i.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(r,i.bindMatrix)}})}bindLightTargets(e){e.traverse(function(n){if(n.isDirectionalLight||n.isSpotLight){const i=n.target,r=e.getObjectByProperty("uuid",i);r!==void 0?n.target=r:n.target=new wn}})}}const qre={UVMapping:B1,CubeReflectionMapping:Zc,CubeRefractionMapping:gd,EquirectangularReflectionMapping:Ly,EquirectangularRefractionMapping:zy,CubeUVReflectionMapping:qm},e3={RepeatWrapping:Uy,ClampToEdgeWrapping:ro,MirroredRepeatWrapping:Vy},t3={NearestFilter:kr,NearestMipmapNearestFilter:nR,NearestMipmapLinearFilter:fm,LinearFilter:cr,LinearMipmapNearestFilter:oy,LinearMipmapLinearFilter:Fl},NM=new WeakMap;class Yre extends oa{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"},this._abortController=new AbortController}setOptions(e){return this.options=e,this}load(e,n,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Hl.get(`image-bitmap:${e}`);if(o!==void 0){if(s.manager.itemStart(e),o.then){o.then(h=>{if(NM.has(o)===!0)r&&r(NM.get(o)),s.manager.itemError(e),s.manager.itemEnd(e);else return n&&n(h),s.manager.itemEnd(e),h});return}return setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0),o}const l={};l.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",l.headers=this.requestHeader,l.signal=typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal;const d=fetch(e,l).then(function(h){return h.blob()}).then(function(h){return createImageBitmap(h,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(h){return Hl.add(`image-bitmap:${e}`,h),n&&n(h),s.manager.itemEnd(e),h}).catch(function(h){r&&r(h),NM.set(d,h),Hl.remove(`image-bitmap:${e}`),s.manager.itemError(e),s.manager.itemEnd(e)});Hl.add(`image-bitmap:${e}`,d),s.manager.itemStart(e)}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}let aS;class zR{static getContext(){return aS===void 0&&(aS=new(window.AudioContext||window.webkitAudioContext)),aS}static setContext(e){aS=e}}class Kre extends oa{constructor(e){super(e)}load(e,n,i,r){const s=this,o=new Jc(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(d){try{const h=d.slice(0);zR.getContext().decodeAudioData(h,function(g){n(g)}).catch(l)}catch(h){l(h)}},i,r);function l(d){r?r(d):console.error(d),s.manager.itemError(e)}}}const n3=new qt,i3=new qt,Of=new qt;class $re{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Tr,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Tr,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,Of.copy(e.projectionMatrix);const r=n.eyeSep/2,s=r*n.near/n.focus,o=n.near*Math.tan(rh*n.fov*.5)/n.zoom;let l,d;i3.elements[12]=-r,n3.elements[12]=r,l=-o*n.aspect+s,d=o*n.aspect+s,Of.elements[0]=2*n.near/(d-l),Of.elements[8]=(d+l)/(d-l),this.cameraL.projectionMatrix.copy(Of),l=-o*n.aspect-s,d=o*n.aspect-s,Of.elements[0]=2*n.near/(d-l),Of.elements[8]=(d+l)/(d-l),this.cameraR.projectionMatrix.copy(Of)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(i3),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(n3)}}class b4 extends Tr{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class UR{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=performance.now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=performance.now();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}const Nf=new J,DM=new ra,Zre=new J,Df=new J,Pf=new J;class Qre extends wn{constructor(){super(),this.type="AudioListener",this.context=zR.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new UR}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Nf,DM,Zre),Df.set(0,0,-1).applyQuaternion(DM),Pf.set(0,1,0).applyQuaternion(DM),n.positionX){const i=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(Nf.x,i),n.positionY.linearRampToValueAtTime(Nf.y,i),n.positionZ.linearRampToValueAtTime(Nf.z,i),n.forwardX.linearRampToValueAtTime(Df.x,i),n.forwardY.linearRampToValueAtTime(Df.y,i),n.forwardZ.linearRampToValueAtTime(Df.z,i),n.upX.linearRampToValueAtTime(Pf.x,i),n.upY.linearRampToValueAtTime(Pf.y,i),n.upZ.linearRampToValueAtTime(Pf.z,i)}else n.setPosition(Nf.x,Nf.y,Nf.z),n.setOrientation(Df.x,Df.y,Df.z,Pf.x,Pf.y,Pf.z)}}class S4 extends wn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,n){return super.copy(e,n),e.sourceType!=="buffer"?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const If=new J,r3=new ra,Jre=new J,Lf=new J;class ese extends S4{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(If,r3,Jre),Lf.set(0,0,1).applyQuaternion(r3);const n=this.panner;if(n.positionX){const i=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(If.x,i),n.positionY.linearRampToValueAtTime(If.y,i),n.positionZ.linearRampToValueAtTime(If.z,i),n.orientationX.linearRampToValueAtTime(Lf.x,i),n.orientationY.linearRampToValueAtTime(Lf.y,i),n.orientationZ.linearRampToValueAtTime(Lf.z,i)}else n.setPosition(If.x,If.y,If.z),n.setOrientation(Lf.x,Lf.y,Lf.z)}}class tse{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let i=0;i<n.length;i++)e+=n[i];return e/n.length}}class _4{constructor(e,n,i){this.binding=e,this.valueSize=i;let r,s,o;switch(n){case"quaternion":r=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":r=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:r=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const i=this.buffer,r=this.valueSize,s=e*r+r;let o=this.cumulativeWeight;if(o===0){for(let l=0;l!==r;++l)i[s+l]=i[l];o=n}else{o+=n;const l=n/o;this._mixBufferRegion(i,s,0,l,r)}this.cumulativeWeight=o}accumulateAdditive(e){const n=this.buffer,i=this.valueSize,r=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,r,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,i=this.buffer,r=e*n+n,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,l=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const d=n*this._origIndex;this._mixBufferRegion(i,r,d,1-s,n)}o>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*n,1,n);for(let d=n,h=n+n;d!==h;++d)if(i[d]!==i[d+n]){l.setValue(i,r);break}}saveOriginalState(){const e=this.binding,n=this.buffer,i=this.valueSize,r=i*this._origIndex;e.getValue(n,r);for(let s=i,o=r;s!==o;++s)n[s]=n[r+s%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let i=e;i<n;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[n+i]=this.buffer[e+i]}_select(e,n,i,r,s){if(r>=.5)for(let o=0;o!==s;++o)e[n+o]=e[i+o]}_slerp(e,n,i,r){ra.slerpFlat(e,n,e,n,e,i,r)}_slerpAdditive(e,n,i,r,s){const o=this._workIndex*s;ra.multiplyQuaternionsFlat(e,o,e,n,e,i),ra.slerpFlat(e,n,e,n,e,o,r)}_lerp(e,n,i,r,s){const o=1-r;for(let l=0;l!==s;++l){const d=n+l;e[d]=e[d]*o+e[i+l]*r}}_lerpAdditive(e,n,i,r,s){for(let o=0;o!==s;++o){const l=n+o;e[l]=e[l]+e[i+o]*r}}}const VR="\\[\\]\\.:\\/",nse=new RegExp("["+VR+"]","g"),kR="[^"+VR+"]",ise="[^"+VR.replace("\\.","")+"]",rse=/((?:WC+[\/:])*)/.source.replace("WC",kR),sse=/(WCOD+)?/.source.replace("WCOD",ise),ase=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",kR),ose=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",kR),lse=new RegExp("^"+rse+sse+ase+ose+"$"),cse=["material","materials","bones","map"];class use{constructor(e,n,i){const r=i||Mn.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,r)}getValue(e,n){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(e,n)}setValue(e,n){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=i.length;r!==s;++r)i[r].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,i=e.length;n!==i;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,i=e.length;n!==i;++n)e[n].unbind()}}class Mn{constructor(e,n,i){this.path=n,this.parsedPath=i||Mn.parseTrackName(n),this.node=Mn.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,i){return e&&e.isAnimationObjectGroup?new Mn.Composite(e,n,i):new Mn(e,n,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(nse,"")}static parseTrackName(e){const n=lse.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const s=i.nodeName.substring(r+1);cse.indexOf(s)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=s)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(n);if(i!==void 0)return i}if(e.children){const i=function(s){for(let o=0;o<s.length;o++){const l=s[o];if(l.name===n||l.uuid===n)return l;const d=i(l.children);if(d)return d}return null},r=i(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)e[n++]=i[r]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,i=n.objectName,r=n.propertyName;let s=n.propertyIndex;if(e||(e=Mn.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(i){let h=n.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let m=0;m<e.length;m++)if(e[m].name===h){h=m;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(h!==void 0){if(e[h]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[h]}}const o=e[r];if(o===void 0){const h=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+h+"."+r+" but it wasn't found.",e);return}let l=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?l=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(l=this.Versioning.MatrixWorldNeedsUpdate);let d=this.BindingType.Direct;if(s!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}d=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(d=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(d=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=r;this.getValue=this.GetterByBindingType[d],this.setValue=this.SetterByBindingTypeAndVersioning[d][l]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Mn.Composite=use;Mn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Mn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Mn.prototype.GetterByBindingType=[Mn.prototype._getValue_direct,Mn.prototype._getValue_array,Mn.prototype._getValue_arrayElement,Mn.prototype._getValue_toArray];Mn.prototype.SetterByBindingTypeAndVersioning=[[Mn.prototype._setValue_direct,Mn.prototype._setValue_direct_setNeedsUpdate,Mn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Mn.prototype._setValue_array,Mn.prototype._setValue_array_setNeedsUpdate,Mn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Mn.prototype._setValue_arrayElement,Mn.prototype._setValue_arrayElement_setNeedsUpdate,Mn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Mn.prototype._setValue_fromArray,Mn.prototype._setValue_fromArray_setNeedsUpdate,Mn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class dse{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Ra(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,r=arguments.length;i!==r;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,i=this._paths,r=this._parsedPaths,s=this._bindings,o=s.length;let l,d=e.length,h=this.nCachedObjects_;for(let m=0,g=arguments.length;m!==g;++m){const y=arguments[m],b=y.uuid;let S=n[b];if(S===void 0){S=d++,n[b]=S,e.push(y);for(let C=0,T=o;C!==T;++C)s[C].push(new Mn(y,i[C],r[C]))}else if(S<h){l=e[S];const C=--h,T=e[C];n[T.uuid]=S,e[S]=T,n[b]=C,e[C]=y;for(let _=0,w=o;_!==w;++_){const R=s[_],N=R[C];let D=R[S];R[S]=N,D===void 0&&(D=new Mn(y,i[_],r[_])),R[C]=D}}else e[S]!==l&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=h}remove(){const e=this._objects,n=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_;for(let o=0,l=arguments.length;o!==l;++o){const d=arguments[o],h=d.uuid,m=n[h];if(m!==void 0&&m>=s){const g=s++,y=e[g];n[y.uuid]=m,e[m]=y,n[h]=g,e[g]=d;for(let b=0,S=r;b!==S;++b){const C=i[b],T=C[g],_=C[m];C[m]=T,C[g]=_}}}this.nCachedObjects_=s}uncache(){const e=this._objects,n=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_,o=e.length;for(let l=0,d=arguments.length;l!==d;++l){const h=arguments[l],m=h.uuid,g=n[m];if(g!==void 0)if(delete n[m],g<s){const y=--s,b=e[y],S=--o,C=e[S];n[b.uuid]=g,e[g]=b,n[C.uuid]=y,e[y]=C,e.pop();for(let T=0,_=r;T!==_;++T){const w=i[T],R=w[y],N=w[S];w[g]=R,w[y]=N,w.pop()}}else{const y=--o,b=e[y];y>0&&(n[b.uuid]=g),e[g]=b,e.pop();for(let S=0,C=r;S!==C;++S){const T=i[S];T[g]=T[y],T.pop()}}}this.nCachedObjects_=s}subscribe_(e,n){const i=this._bindingsIndicesByPath;let r=i[e];const s=this._bindings;if(r!==void 0)return s[r];const o=this._paths,l=this._parsedPaths,d=this._objects,h=d.length,m=this.nCachedObjects_,g=new Array(h);r=s.length,i[e]=r,o.push(e),l.push(n),s.push(g);for(let y=m,b=d.length;y!==b;++y){const S=d[y];g[y]=new Mn(S,e,n)}return g}unsubscribe_(e){const n=this._bindingsIndicesByPath,i=n[e];if(i!==void 0){const r=this._paths,s=this._parsedPaths,o=this._bindings,l=o.length-1,d=o[l],h=e[l];n[h]=i,o[i]=d,o.pop(),s[i]=s[l],s.pop(),r[i]=r[l],r.pop()}}}class E4{constructor(e,n,i=null,r=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=i,this.blendMode=r;const s=n.tracks,o=s.length,l=new Array(o),d={endingStart:Yf,endingEnd:Yf};for(let h=0;h!==o;++h){const m=s[h].createInterpolant(null);l[h]=m,m.settings=d}this._interpolantSettings=d,this._interpolants=l,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=uB,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,i=!1){if(e.fadeOut(n),this.fadeIn(n),i===!0){const r=this._clip.duration,s=e._clip.duration,o=s/r,l=r/s;e.warp(1,o,n),this.warp(l,1,n)}return this}crossFadeTo(e,n,i=!1){return e.crossFadeFrom(this,n,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,i){const r=this._mixer,s=r.time,o=this.timeScale;let l=this._timeScaleInterpolant;l===null&&(l=r._lendControlInterpolant(),this._timeScaleInterpolant=l);const d=l.parameterPositions,h=l.sampleValues;return d[0]=s,d[1]=s+i,h[0]=e/o,h[1]=n/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,i,r){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const d=(e-s)*i;d<0||i===0?n=0:(this._startTime=null,n=i*d)}n*=this._updateTimeScale(e);const o=this._updateTime(n),l=this._updateWeight(e);if(l>0){const d=this._interpolants,h=this._propertyBindings;switch(this.blendMode){case uR:for(let m=0,g=d.length;m!==g;++m)d[m].evaluate(o),h[m].accumulateAdditive(l);break;case q1:default:for(let m=0,g=d.length;m!==g;++m)d[m].evaluate(o),h[m].accumulate(r,l)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(e)[0];n*=r,e>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const r=i.evaluate(e)[0];n*=r,e>i.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,i=this.loop;let r=this.time+e,s=this._loopCount;const o=i===dB;if(e===0)return s===-1?r:o&&(s&1)===1?n-r:r;if(i===cB){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=n)r=n;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),r>=n||r<0){const l=Math.floor(r/n);r-=n*l,s+=Math.abs(l);const d=this.repetitions-s;if(d<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?n:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(d===1){const h=e<0;this._setEndings(h,!h,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:l})}}else this.time=r;if(o&&(s&1)===1)return n-r}return r}_setEndings(e,n,i){const r=this._interpolantSettings;i?(r.endingStart=Kf,r.endingEnd=Kf):(e?r.endingStart=this.zeroSlopeAtStart?Kf:Yf:r.endingStart=By,n?r.endingEnd=this.zeroSlopeAtEnd?Kf:Yf:r.endingEnd=By)}_scheduleFading(e,n,i){const r=this._mixer,s=r.time;let o=this._weightInterpolant;o===null&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);const l=o.parameterPositions,d=o.sampleValues;return l[0]=s,d[0]=n,l[1]=s+e,d[1]=i,this}}const fse=new Float32Array(1);class hse extends ic{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const i=e._localRoot||this._root,r=e._clip.tracks,s=r.length,o=e._propertyBindings,l=e._interpolants,d=i.uuid,h=this._bindingsByRootAndName;let m=h[d];m===void 0&&(m={},h[d]=m);for(let g=0;g!==s;++g){const y=r[g],b=y.name;let S=m[b];if(S!==void 0)++S.referenceCount,o[g]=S;else{if(S=o[g],S!==void 0){S._cacheIndex===null&&(++S.referenceCount,this._addInactiveBinding(S,d,b));continue}const C=n&&n._propertyBindings[g].binding.parsedPath;S=new _4(Mn.create(i,b,C),y.ValueTypeName,y.getValueSize()),++S.referenceCount,this._addInactiveBinding(S,d,b),o[g]=S}l[g].resultBuffer=S.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,r=e._clip.uuid,s=this._actionsByClip[r];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,r,i)}const n=e._propertyBindings;for(let i=0,r=n.length;i!==r;++i){const s=n[i];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let i=0,r=n.length;i!==r;++i){const s=n[i];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,i){const r=this._actions,s=this._actionsByClip;let o=s[n];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[n]=o;else{const l=o.knownActions;e._byClipCacheIndex=l.length,l.push(e)}e._cacheIndex=r.length,r.push(e),o.actionByRoot[i]=e}_removeInactiveAction(e){const n=this._actions,i=n[n.length-1],r=e._cacheIndex;i._cacheIndex=r,n[r]=i,n.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,l=o[s],d=l.knownActions,h=d[d.length-1],m=e._byClipCacheIndex;h._byClipCacheIndex=m,d[m]=h,d.pop(),e._byClipCacheIndex=null;const g=l.actionByRoot,y=(e._localRoot||this._root).uuid;delete g[y],d.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let i=0,r=n.length;i!==r;++i){const s=n[i];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const n=this._actions,i=e._cacheIndex,r=this._nActiveActions++,s=n[r];e._cacheIndex=r,n[r]=e,s._cacheIndex=i,n[i]=s}_takeBackAction(e){const n=this._actions,i=e._cacheIndex,r=--this._nActiveActions,s=n[r];e._cacheIndex=r,n[r]=e,s._cacheIndex=i,n[i]=s}_addInactiveBinding(e,n,i){const r=this._bindingsByRootAndName,s=this._bindings;let o=r[n];o===void 0&&(o={},r[n]=o),o[i]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const n=this._bindings,i=e.binding,r=i.rootNode.uuid,s=i.path,o=this._bindingsByRootAndName,l=o[r],d=n[n.length-1],h=e._cacheIndex;d._cacheIndex=h,n[h]=d,n.pop(),delete l[s],Object.keys(l).length===0&&delete o[r]}_lendBinding(e){const n=this._bindings,i=e._cacheIndex,r=this._nActiveBindings++,s=n[r];e._cacheIndex=r,n[r]=e,s._cacheIndex=i,n[i]=s}_takeBackBinding(e){const n=this._bindings,i=e._cacheIndex,r=--this._nActiveBindings,s=n[r];e._cacheIndex=r,n[r]=e,s._cacheIndex=i,n[i]=s}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let i=e[n];return i===void 0&&(i=new DR(new Float32Array(2),new Float32Array(2),1,fse),i.__cacheIndex=n,e[n]=i),i}_takeBackControlInterpolant(e){const n=this._controlInterpolants,i=e.__cacheIndex,r=--this._nActiveControlInterpolants,s=n[r];e.__cacheIndex=r,n[r]=e,s.__cacheIndex=i,n[i]=s}clipAction(e,n,i){const r=n||this._root,s=r.uuid;let o=typeof e=="string"?$y.findByName(r,e):e;const l=o!==null?o.uuid:e,d=this._actionsByClip[l];let h=null;if(i===void 0&&(o!==null?i=o.blendMode:i=q1),d!==void 0){const g=d.actionByRoot[s];if(g!==void 0&&g.blendMode===i)return g;h=d.knownActions[0],o===null&&(o=h._clip)}if(o===null)return null;const m=new E4(this,o,n,i);return this._bindAction(m,h),this._addInactiveAction(m,l,s),m}existingAction(e,n){const i=n||this._root,r=i.uuid,s=typeof e=="string"?$y.findByName(i,e):e,o=s?s.uuid:e,l=this._actionsByClip[o];return l!==void 0&&l.actionByRoot[r]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let i=n-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const n=this._actions,i=this._nActiveActions,r=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let h=0;h!==i;++h)n[h]._update(r,e,s,o);const l=this._bindings,d=this._nActiveBindings;for(let h=0;h!==d;++h)l[h].apply(o);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,i=e.uuid,r=this._actionsByClip,s=r[i];if(s!==void 0){const o=s.knownActions;for(let l=0,d=o.length;l!==d;++l){const h=o[l];this._deactivateAction(h);const m=h._cacheIndex,g=n[n.length-1];h._cacheIndex=null,h._byClipCacheIndex=null,g._cacheIndex=m,n[m]=g,n.pop(),this._removeInactiveBindingsForAction(h)}delete r[i]}}uncacheRoot(e){const n=e.uuid,i=this._actionsByClip;for(const o in i){const l=i[o].actionByRoot,d=l[n];d!==void 0&&(this._deactivateAction(d),this._removeInactiveAction(d))}const r=this._bindingsByRootAndName,s=r[n];if(s!==void 0)for(const o in s){const l=s[o];l.restoreOriginalState(),this._removeInactiveBinding(l)}}uncacheAction(e,n){const i=this.existingAction(e,n);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class pse extends hR{constructor(e=1,n=1,i=1,r={}){super(e,n,r),this.isRenderTarget3D=!0,this.depth=i,this.texture=new K1(null,e,n,i),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class BR{constructor(e){this.value=e}clone(){return new BR(this.value.clone===void 0?this.value:this.value.clone())}}let mse=0;class gse extends ic{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:mse++}),this.name="",this.usage=Hy,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let i=0,r=n.length;i<r;i++){const s=Array.isArray(n[i])?n[i]:[n[i]];for(let o=0;o<s.length;o++)this.uniforms.push(s[o].clone())}return this}clone(){return new this.constructor().copy(this)}}class vse extends J1{constructor(e,n,i=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class yse{constructor(e,n,i,r,s,o=!1){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=i,this.elementSize=r,this.count=s,this.normalized=o,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const s3=new qt;class T4{constructor(e,n,i=0,r=1/0){this.ray=new Km(e,n),this.near=i,this.far=r,this.camera=null,this.layers=new Pm,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}setFromXRController(e){return s3.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(s3),this}intersectObject(e,n=!0,i=[]){return mw(e,this,i,n),i.sort(a3),i}intersectObjects(e,n=!0,i=[]){for(let r=0,s=e.length;r<s;r++)mw(e[r],this,i,n);return i.sort(a3),i}}function a3(t,e){return t.distance-e.distance}function mw(t,e,n,i){let r=!0;if(t.layers.test(e.layers)&&t.raycast(e,n)===!1&&(r=!1),r===!0&&i===!0){const s=t.children;for(let o=0,l=s.length;o<l;o++)mw(s[o],e,n,!0)}}class xse{constructor(){this._previousTime=0,this._currentTime=0,this._startTime=performance.now(),this._delta=0,this._elapsed=0,this._timescale=1,this._document=null,this._pageVisibilityHandler=null}connect(e){this._document=e,e.hidden!==void 0&&(this._pageVisibilityHandler=bse.bind(this),e.addEventListener("visibilitychange",this._pageVisibilityHandler,!1))}disconnect(){this._pageVisibilityHandler!==null&&(this._document.removeEventListener("visibilitychange",this._pageVisibilityHandler),this._pageVisibilityHandler=null),this._document=null}getDelta(){return this._delta/1e3}getElapsed(){return this._elapsed/1e3}getTimescale(){return this._timescale}setTimescale(e){return this._timescale=e,this}reset(){return this._currentTime=performance.now()-this._startTime,this}dispose(){this.disconnect()}update(e){return this._pageVisibilityHandler!==null&&this._document.hidden===!0?this._delta=0:(this._previousTime=this._currentTime,this._currentTime=(e!==void 0?e:performance.now())-this._startTime,this._delta=(this._currentTime-this._previousTime)*this._timescale,this._elapsed+=this._delta),this}}function bse(){this._document.hidden===!1&&this.reset()}class M4{constructor(e=1,n=0,i=0){this.radius=e,this.phi=n,this.theta=i}set(e,n,i){return this.radius=e,this.phi=n,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Wt(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,i){return this.radius=Math.sqrt(e*e+n*n+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(Wt(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class Sse{constructor(e=1,n=0,i=0){this.radius=e,this.theta=n,this.y=i}set(e,n,i){return this.radius=e,this.theta=n,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=n,this}clone(){return new this.constructor().copy(this)}}class FR{constructor(e,n,i,r){FR.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,n,i,r)}identity(){return this.set(1,0,0,1),this}fromArray(e,n=0){for(let i=0;i<4;i++)this.elements[i]=e[i+n];return this}set(e,n,i,r){const s=this.elements;return s[0]=e,s[2]=n,s[1]=i,s[3]=r,this}}const o3=new Ge;class _se{constructor(e=new Ge(1/0,1/0),n=new Ge(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const i=o3.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,o3).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const l3=new J,oS=new J,Wp=new J,jp=new J,PM=new J,Ese=new J,Tse=new J;class Mse{constructor(e=new J,n=new J){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){l3.subVectors(e,this.start),oS.subVectors(this.end,this.start);const i=oS.dot(oS);let s=oS.dot(l3)/i;return n&&(s=Wt(s,0,1)),s}closestPointToPoint(e,n,i){const r=this.closestPointToPointParameter(e,n);return this.delta(i).multiplyScalar(r).add(this.start)}distanceSqToLine3(e,n=Ese,i=Tse){const r=10000000000000001e-32;let s,o;const l=this.start,d=e.start,h=this.end,m=e.end;Wp.subVectors(h,l),jp.subVectors(m,d),PM.subVectors(l,d);const g=Wp.dot(Wp),y=jp.dot(jp),b=jp.dot(PM);if(g<=r&&y<=r)return n.copy(l),i.copy(d),n.sub(i),n.dot(n);if(g<=r)s=0,o=b/y,o=Wt(o,0,1);else{const S=Wp.dot(PM);if(y<=r)o=0,s=Wt(-S/g,0,1);else{const C=Wp.dot(jp),T=g*y-C*C;T!==0?s=Wt((C*b-S*y)/T,0,1):s=0,o=(C*s+b)/y,o<0?(o=0,s=Wt(-S/g,0,1)):o>1&&(o=1,s=Wt((C-S)/g,0,1))}}return n.copy(l).add(Wp.multiplyScalar(s)),i.copy(d).add(jp.multiplyScalar(o)),n.sub(i),n.dot(n)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const c3=new J;class Cse extends wn{constructor(e,n){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const i=new an,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,l=1,d=32;o<d;o++,l++){const h=o/d*Math.PI*2,m=l/d*Math.PI*2;r.push(Math.cos(h),Math.sin(h),1,Math.cos(m),Math.sin(m),1)}i.setAttribute("position",new St(r,3));const s=new Ds({fog:!1,toneMapped:!1});this.cone=new rc(i,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),c3.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(c3),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const id=new J,lS=new qt,IM=new qt;class wse extends rc{constructor(e){const n=C4(e),i=new an,r=[],s=[];for(let h=0;h<n.length;h++){const m=n[h];m.parent&&m.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),s.push(0,0,0),s.push(0,0,0))}i.setAttribute("position",new St(r,3)),i.setAttribute("color",new St(s,3));const o=new Ds({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,o),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1;const l=new mt(255),d=new mt(65280);this.setColors(l,d)}updateMatrixWorld(e){const n=this.bones,i=this.geometry,r=i.getAttribute("position");IM.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<n.length;s++){const l=n[s];l.parent&&l.parent.isBone&&(lS.multiplyMatrices(IM,l.matrixWorld),id.setFromMatrixPosition(lS),r.setXYZ(o,id.x,id.y,id.z),lS.multiplyMatrices(IM,l.parent.matrixWorld),id.setFromMatrixPosition(lS),r.setXYZ(o+1,id.x,id.y,id.z),o+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}setColors(e,n){const r=this.geometry.getAttribute("color");for(let s=0;s<r.count;s+=2)r.setXYZ(s,e.r,e.g,e.b),r.setXYZ(s+1,n.r,n.g,n.b);return r.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}function C4(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push(...C4(t.children[n]));return e}class Ase extends Ki{constructor(e,n,i){const r=new E0(n,4,2),s=new _d({wireframe:!0,fog:!1,toneMapped:!1});super(r,s),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const Rse=new J,u3=new mt,d3=new mt;class Ose extends wn{constructor(e,n,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const r=new _0(n);r.rotateY(Math.PI*.5),this.material=new _d({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=r.getAttribute("position"),o=new Float32Array(s.count*3);r.setAttribute("color",new Zn(o,3)),this.add(new Ki(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");u3.copy(this.light.color),d3.copy(this.light.groundColor);for(let i=0,r=n.count;i<r;i++){const s=i<r/2?u3:d3;n.setXYZ(i,s.r,s.g,s.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(Rse.setFromMatrixPosition(this.light.matrixWorld).negate())}}class Nse extends rc{constructor(e=10,n=10,i=4473924,r=8947848){i=new mt(i),r=new mt(r);const s=n/2,o=e/n,l=e/2,d=[],h=[];for(let y=0,b=0,S=-l;y<=n;y++,S+=o){d.push(-l,0,S,l,0,S),d.push(S,0,-l,S,0,l);const C=y===s?i:r;C.toArray(h,b),b+=3,C.toArray(h,b),b+=3,C.toArray(h,b),b+=3,C.toArray(h,b),b+=3}const m=new an;m.setAttribute("position",new St(d,3)),m.setAttribute("color",new St(h,3));const g=new Ds({vertexColors:!0,toneMapped:!1});super(m,g),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class Dse extends rc{constructor(e=10,n=16,i=8,r=64,s=4473924,o=8947848){s=new mt(s),o=new mt(o);const l=[],d=[];if(n>1)for(let g=0;g<n;g++){const y=g/n*(Math.PI*2),b=Math.sin(y)*e,S=Math.cos(y)*e;l.push(0,0,0),l.push(b,0,S);const C=g&1?s:o;d.push(C.r,C.g,C.b),d.push(C.r,C.g,C.b)}for(let g=0;g<i;g++){const y=g&1?s:o,b=e-e/i*g;for(let S=0;S<r;S++){let C=S/r*(Math.PI*2),T=Math.sin(C)*b,_=Math.cos(C)*b;l.push(T,0,_),d.push(y.r,y.g,y.b),C=(S+1)/r*(Math.PI*2),T=Math.sin(C)*b,_=Math.cos(C)*b,l.push(T,0,_),d.push(y.r,y.g,y.b)}}const h=new an;h.setAttribute("position",new St(l,3)),h.setAttribute("color",new St(d,3));const m=new Ds({vertexColors:!0,toneMapped:!1});super(h,m),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const f3=new J,cS=new J,h3=new J;class Pse extends wn{constructor(e,n,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",n===void 0&&(n=1);let r=new an;r.setAttribute("position",new St([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const s=new Ds({fog:!1,toneMapped:!1});this.lightPlane=new yd(r,s),this.add(this.lightPlane),r=new an,r.setAttribute("position",new St([0,0,0,0,0,1],3)),this.targetLine=new yd(r,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),f3.setFromMatrixPosition(this.light.matrixWorld),cS.setFromMatrixPosition(this.light.target.matrixWorld),h3.subVectors(cS,f3),this.lightPlane.lookAt(cS),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(cS),this.targetLine.scale.z=h3.length()}}const uS=new J,Oi=new $1;class Ise extends rc{constructor(e){const n=new an,i=new Ds({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],s=[],o={};l("n1","n2"),l("n2","n4"),l("n4","n3"),l("n3","n1"),l("f1","f2"),l("f2","f4"),l("f4","f3"),l("f3","f1"),l("n1","f1"),l("n2","f2"),l("n3","f3"),l("n4","f4"),l("p","n1"),l("p","n2"),l("p","n3"),l("p","n4"),l("u1","u2"),l("u2","u3"),l("u3","u1"),l("c","t"),l("p","c"),l("cn1","cn2"),l("cn3","cn4"),l("cf1","cf2"),l("cf3","cf4");function l(S,C){d(S),d(C)}function d(S){r.push(0,0,0),s.push(0,0,0),o[S]===void 0&&(o[S]=[]),o[S].push(r.length/3-1)}n.setAttribute("position",new St(r,3)),n.setAttribute("color",new St(s,3)),super(n,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const h=new mt(16755200),m=new mt(16711680),g=new mt(43775),y=new mt(16777215),b=new mt(3355443);this.setColors(h,m,g,y,b)}setColors(e,n,i,r,s){const l=this.geometry.getAttribute("color");return l.setXYZ(0,e.r,e.g,e.b),l.setXYZ(1,e.r,e.g,e.b),l.setXYZ(2,e.r,e.g,e.b),l.setXYZ(3,e.r,e.g,e.b),l.setXYZ(4,e.r,e.g,e.b),l.setXYZ(5,e.r,e.g,e.b),l.setXYZ(6,e.r,e.g,e.b),l.setXYZ(7,e.r,e.g,e.b),l.setXYZ(8,e.r,e.g,e.b),l.setXYZ(9,e.r,e.g,e.b),l.setXYZ(10,e.r,e.g,e.b),l.setXYZ(11,e.r,e.g,e.b),l.setXYZ(12,e.r,e.g,e.b),l.setXYZ(13,e.r,e.g,e.b),l.setXYZ(14,e.r,e.g,e.b),l.setXYZ(15,e.r,e.g,e.b),l.setXYZ(16,e.r,e.g,e.b),l.setXYZ(17,e.r,e.g,e.b),l.setXYZ(18,e.r,e.g,e.b),l.setXYZ(19,e.r,e.g,e.b),l.setXYZ(20,e.r,e.g,e.b),l.setXYZ(21,e.r,e.g,e.b),l.setXYZ(22,e.r,e.g,e.b),l.setXYZ(23,e.r,e.g,e.b),l.setXYZ(24,n.r,n.g,n.b),l.setXYZ(25,n.r,n.g,n.b),l.setXYZ(26,n.r,n.g,n.b),l.setXYZ(27,n.r,n.g,n.b),l.setXYZ(28,n.r,n.g,n.b),l.setXYZ(29,n.r,n.g,n.b),l.setXYZ(30,n.r,n.g,n.b),l.setXYZ(31,n.r,n.g,n.b),l.setXYZ(32,i.r,i.g,i.b),l.setXYZ(33,i.r,i.g,i.b),l.setXYZ(34,i.r,i.g,i.b),l.setXYZ(35,i.r,i.g,i.b),l.setXYZ(36,i.r,i.g,i.b),l.setXYZ(37,i.r,i.g,i.b),l.setXYZ(38,r.r,r.g,r.b),l.setXYZ(39,r.r,r.g,r.b),l.setXYZ(40,s.r,s.g,s.b),l.setXYZ(41,s.r,s.g,s.b),l.setXYZ(42,s.r,s.g,s.b),l.setXYZ(43,s.r,s.g,s.b),l.setXYZ(44,s.r,s.g,s.b),l.setXYZ(45,s.r,s.g,s.b),l.setXYZ(46,s.r,s.g,s.b),l.setXYZ(47,s.r,s.g,s.b),l.setXYZ(48,s.r,s.g,s.b),l.setXYZ(49,s.r,s.g,s.b),l.needsUpdate=!0,this}update(){const e=this.geometry,n=this.pointMap,i=1,r=1;let s,o;if(Oi.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),this.camera.reversedDepth===!0)s=1,o=0;else if(this.camera.coordinateSystem===Ca)s=-1,o=1;else if(this.camera.coordinateSystem===Nm)s=0,o=1;else throw new Error("THREE.CameraHelper.update(): Invalid coordinate system: "+this.camera.coordinateSystem);ki("c",n,e,Oi,0,0,s),ki("t",n,e,Oi,0,0,o),ki("n1",n,e,Oi,-i,-r,s),ki("n2",n,e,Oi,i,-r,s),ki("n3",n,e,Oi,-i,r,s),ki("n4",n,e,Oi,i,r,s),ki("f1",n,e,Oi,-i,-r,o),ki("f2",n,e,Oi,i,-r,o),ki("f3",n,e,Oi,-i,r,o),ki("f4",n,e,Oi,i,r,o),ki("u1",n,e,Oi,i*.7,r*1.1,s),ki("u2",n,e,Oi,-i*.7,r*1.1,s),ki("u3",n,e,Oi,0,r*2,s),ki("cf1",n,e,Oi,-i,0,o),ki("cf2",n,e,Oi,i,0,o),ki("cf3",n,e,Oi,0,-r,o),ki("cf4",n,e,Oi,0,r,o),ki("cn1",n,e,Oi,-i,0,s),ki("cn2",n,e,Oi,i,0,s),ki("cn3",n,e,Oi,0,-r,s),ki("cn4",n,e,Oi,0,r,s),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function ki(t,e,n,i,r,s,o){uS.set(r,s,o).unproject(i);const l=e[t];if(l!==void 0){const d=n.getAttribute("position");for(let h=0,m=l.length;h<m;h++)d.setXYZ(l[h],uS.x,uS.y,uS.z)}}const dS=new is;class Lse extends rc{constructor(e,n=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),s=new an;s.setIndex(new Zn(i,1)),s.setAttribute("position",new Zn(r,3)),super(s,new Ds({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&dS.setFromObject(this.object),dS.isEmpty())return;const e=dS.min,n=dS.max,i=this.geometry.attributes.position,r=i.array;r[0]=n.x,r[1]=n.y,r[2]=n.z,r[3]=e.x,r[4]=n.y,r[5]=n.z,r[6]=e.x,r[7]=e.y,r[8]=n.z,r[9]=n.x,r[10]=e.y,r[11]=n.z,r[12]=n.x,r[13]=n.y,r[14]=e.z,r[15]=e.x,r[16]=n.y,r[17]=e.z,r[18]=e.x,r[19]=e.y,r[20]=e.z,r[21]=n.x,r[22]=e.y,r[23]=e.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class zse extends rc{constructor(e,n=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new an;s.setIndex(new Zn(i,1)),s.setAttribute("position",new St(r,3)),super(s,new Ds({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class Use extends yd{constructor(e,n=1,i=16776960){const r=i,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new an;o.setAttribute("position",new St(s,3)),o.computeBoundingSphere(),super(o,new Ds({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const l=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],d=new an;d.setAttribute("position",new St(l,3)),d.computeBoundingSphere(),this.add(new Ki(d,new _d({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const p3=new J;let fS,LM;class Vse extends wn{constructor(e=new J(0,0,1),n=new J(0,0,0),i=1,r=16776960,s=i*.2,o=s*.2){super(),this.type="ArrowHelper",fS===void 0&&(fS=new an,fS.setAttribute("position",new St([0,0,0,0,1,0],3)),LM=new S0(.5,1,5,1),LM.translate(0,-.5,0)),this.position.copy(n),this.line=new yd(fS,new Ds({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Ki(LM,new _d({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{p3.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(p3,n)}}setLength(e,n=e*.2,i=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(i,n,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class kse extends rc{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new an;r.setAttribute("position",new St(n,3)),r.setAttribute("color",new St(i,3));const s=new Ds({vertexColors:!0,toneMapped:!1});super(r,s),this.type="AxesHelper"}setColors(e,n,i){const r=new mt,s=this.geometry.attributes.color.array;return r.set(e),r.toArray(s,0),r.toArray(s,3),r.set(n),r.toArray(s,6),r.toArray(s,9),r.set(i),r.toArray(s,12),r.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Bse{constructor(){this.type="ShapePath",this.color=new mt,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new J_,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,i,r){return this.currentPath.quadraticCurveTo(e,n,i,r),this}bezierCurveTo(e,n,i,r,s,o){return this.currentPath.bezierCurveTo(e,n,i,r,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(_){const w=[];for(let R=0,N=_.length;R<N;R++){const D=_[R],I=new sh;I.curves=D.curves,w.push(I)}return w}function i(_,w){const R=w.length;let N=!1;for(let D=R-1,I=0;I<R;D=I++){let V=w[D],B=w[I],L=B.x-V.x,z=B.y-V.y;if(Math.abs(z)>Number.EPSILON){if(z<0&&(V=w[I],L=-L,B=w[D],z=-z),_.y<V.y||_.y>B.y)continue;if(_.y===V.y){if(_.x===V.x)return!0}else{const F=z*(_.x-V.x)-L*(_.y-V.y);if(F===0)return!0;if(F<0)continue;N=!N}}else{if(_.y!==V.y)continue;if(B.x<=_.x&&_.x<=V.x||V.x<=_.x&&_.x<=B.x)return!0}}return N}const r=Ho.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,l,d;const h=[];if(s.length===1)return l=s[0],d=new sh,d.curves=l.curves,h.push(d),h;let m=!r(s[0].getPoints());m=e?!m:m;const g=[],y=[];let b=[],S=0,C;y[S]=void 0,b[S]=[];for(let _=0,w=s.length;_<w;_++)l=s[_],C=l.getPoints(),o=r(C),o=e?!o:o,o?(!m&&y[S]&&S++,y[S]={s:new sh,p:C},y[S].s.curves=l.curves,m&&S++,b[S]=[]):b[S].push({h:l,p:C[0]});if(!y[0])return n(s);if(y.length>1){let _=!1,w=0;for(let R=0,N=y.length;R<N;R++)g[R]=[];for(let R=0,N=y.length;R<N;R++){const D=b[R];for(let I=0;I<D.length;I++){const V=D[I];let B=!0;for(let L=0;L<y.length;L++)i(V.p,y[L].p)&&(R!==L&&w++,B?(B=!1,g[L].push(V)):_=!0);B&&g[R].push(V)}}w>0&&_===!1&&(b=g)}let T;for(let _=0,w=y.length;_<w;_++){d=y[_].s,h.push(d),T=b[_];for(let R=0,N=T.length;R<N;R++)d.holes.push(T[R].h)}return h}}class Fse extends ic{constructor(e,n=null){super(),this.object=e,this.domElement=n,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){console.warn("THREE.Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function Hse(t,e){const n=t.image&&t.image.width?t.image.width/t.image.height:1;return n>e?(t.repeat.x=1,t.repeat.y=n/e,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2):(t.repeat.x=e/n,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0),t}function Gse(t,e){const n=t.image&&t.image.width?t.image.width/t.image.height:1;return n>e?(t.repeat.x=e/n,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0):(t.repeat.x=1,t.repeat.y=n/e,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2),t}function Wse(t){return t.repeat.x=1,t.repeat.y=1,t.offset.x=0,t.offset.y=0,t}function gw(t,e,n,i){const r=jse(i);switch(n){case oR:return t*e;case W1:return t*e/r.components*r.byteLength;case y0:return t*e/r.components*r.byteLength;case cR:return t*e*2/r.components*r.byteLength;case j1:return t*e*2/r.components*r.byteLength;case lR:return t*e*3/r.components*r.byteLength;case ns:return t*e*4/r.components*r.byteLength;case X1:return t*e*4/r.components*r.byteLength;case ly:case cy:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case uy:case dy:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case __:case T_:return Math.max(t,16)*Math.max(e,8)/4;case S_:case E_:return Math.max(t,8)*Math.max(e,8)/2;case M_:case C_:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case w_:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case A_:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case R_:return Math.floor((t+4)/5)*Math.floor((e+3)/4)*16;case O_:return Math.floor((t+4)/5)*Math.floor((e+4)/5)*16;case N_:return Math.floor((t+5)/6)*Math.floor((e+4)/5)*16;case D_:return Math.floor((t+5)/6)*Math.floor((e+5)/6)*16;case P_:return Math.floor((t+7)/8)*Math.floor((e+4)/5)*16;case I_:return Math.floor((t+7)/8)*Math.floor((e+5)/6)*16;case L_:return Math.floor((t+7)/8)*Math.floor((e+7)/8)*16;case z_:return Math.floor((t+9)/10)*Math.floor((e+4)/5)*16;case U_:return Math.floor((t+9)/10)*Math.floor((e+5)/6)*16;case V_:return Math.floor((t+9)/10)*Math.floor((e+7)/8)*16;case k_:return Math.floor((t+9)/10)*Math.floor((e+9)/10)*16;case B_:return Math.floor((t+11)/12)*Math.floor((e+9)/10)*16;case F_:return Math.floor((t+11)/12)*Math.floor((e+11)/12)*16;case H_:case G_:case W_:return Math.ceil(t/4)*Math.ceil(e/4)*16;case j_:case X_:return Math.ceil(t/4)*Math.ceil(e/4)*8;case q_:case Y_:return Math.ceil(t/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${n} format.`)}function jse(t){switch(t){case ao:case iR:return{byteLength:1,components:1};case wm:case rR:case Ym:return{byteLength:2,components:1};case H1:case G1:return{byteLength:2,components:4};case Qc:case F1:case na:return{byteLength:4,components:1};case sR:case aR:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${t}.`)}class Xse{static contain(e,n){return Hse(e,n)}static cover(e,n){return Gse(e,n)}static fill(e){return Wse(e)}static getByteLength(e,n,i,r){return gw(e,n,i,r)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:g0}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=g0);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function w4(){let t=null,e=!1,n=null,i=null;function r(s,o){n(s,o),i=t.requestAnimationFrame(r)}return{start:function(){e!==!0&&n!==null&&(i=t.requestAnimationFrame(r),e=!0)},stop:function(){t.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(s){n=s},setContext:function(s){t=s}}}function qse(t){const e=new WeakMap;function n(l,d){const h=l.array,m=l.usage,g=h.byteLength,y=t.createBuffer();t.bindBuffer(d,y),t.bufferData(d,h,m),l.onUploadCallback();let b;if(h instanceof Float32Array)b=t.FLOAT;else if(typeof Float16Array<"u"&&h instanceof Float16Array)b=t.HALF_FLOAT;else if(h instanceof Uint16Array)l.isFloat16BufferAttribute?b=t.HALF_FLOAT:b=t.UNSIGNED_SHORT;else if(h instanceof Int16Array)b=t.SHORT;else if(h instanceof Uint32Array)b=t.UNSIGNED_INT;else if(h instanceof Int32Array)b=t.INT;else if(h instanceof Int8Array)b=t.BYTE;else if(h instanceof Uint8Array)b=t.UNSIGNED_BYTE;else if(h instanceof Uint8ClampedArray)b=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+h);return{buffer:y,type:b,bytesPerElement:h.BYTES_PER_ELEMENT,version:l.version,size:g}}function i(l,d,h){const m=d.array,g=d.updateRanges;if(t.bindBuffer(h,l),g.length===0)t.bufferSubData(h,0,m);else{g.sort((b,S)=>b.start-S.start);let y=0;for(let b=1;b<g.length;b++){const S=g[y],C=g[b];C.start<=S.start+S.count+1?S.count=Math.max(S.count,C.start+C.count-S.start):(++y,g[y]=C)}g.length=y+1;for(let b=0,S=g.length;b<S;b++){const C=g[b];t.bufferSubData(h,C.start*m.BYTES_PER_ELEMENT,m,C.start,C.count)}d.clearUpdateRanges()}d.onUploadCallback()}function r(l){return l.isInterleavedBufferAttribute&&(l=l.data),e.get(l)}function s(l){l.isInterleavedBufferAttribute&&(l=l.data);const d=e.get(l);d&&(t.deleteBuffer(d.buffer),e.delete(l))}function o(l,d){if(l.isInterleavedBufferAttribute&&(l=l.data),l.isGLBufferAttribute){const m=e.get(l);(!m||m.version<l.version)&&e.set(l,{buffer:l.buffer,type:l.type,bytesPerElement:l.elementSize,version:l.version});return}const h=e.get(l);if(h===void 0)e.set(l,n(l,d));else if(h.version<l.version){if(h.size!==l.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");i(h.buffer,l,d),h.version=l.version}}return{get:r,remove:s,update:o}}var Yse=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,Kse=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,$se=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,Zse=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Qse=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,Jse=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,eae=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,tae=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,nae=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,iae=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,rae=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,sae=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,aae=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,oae=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,lae=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,cae=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,uae=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,dae=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,fae=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,hae=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,pae=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,mae=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,gae=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,vae=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,yae=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,xae=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,bae=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,Sae=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,_ae=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,Eae=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,Tae="gl_FragColor = linearToOutputTexel( gl_FragColor );",Mae=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,Cae=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,wae=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,Aae=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,Rae=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,Oae=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,Nae=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,Dae=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,Pae=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,Iae=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,Lae=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,zae=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,Uae=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,Vae=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,kae=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,Bae=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,Fae=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,Hae=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,Gae=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,Wae=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,jae=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,Xae=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,qae=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,Yae=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,Kae=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,$ae=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,Zae=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Qae=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Jae=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,eoe=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,toe=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,noe=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,ioe=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,roe=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,soe=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,aoe=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,ooe=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,loe=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,coe=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,uoe=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,doe=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,foe=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,hoe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,poe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,moe=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,goe=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,voe=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,yoe=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,xoe=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,boe=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,Soe=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,_oe=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,Eoe=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,Toe=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,Moe=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,Coe=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,woe=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,Aoe=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,Roe=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		float depth = unpackRGBAToDepth( texture2D( depths, uv ) );
		#ifdef USE_REVERSED_DEPTH_BUFFER
			return step( depth, compare );
		#else
			return step( compare, depth );
		#endif
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow( sampler2D shadow, vec2 uv, float compare ) {
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		#ifdef USE_REVERSED_DEPTH_BUFFER
			float hard_shadow = step( distribution.x, compare );
		#else
			float hard_shadow = step( compare, distribution.x );
		#endif
		if ( hard_shadow != 1.0 ) {
			float distance = compare - distribution.x;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,Ooe=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,Noe=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,Doe=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,Poe=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,Ioe=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,Loe=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,zoe=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Uoe=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Voe=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,koe=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Boe=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,Foe=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,Hoe=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,Goe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Woe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,joe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,Xoe=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const qoe=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,Yoe=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Koe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,$oe=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Zoe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Qoe=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Joe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,ele=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	#ifdef USE_REVERSED_DEPTH_BUFFER
		float fragCoordZ = vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ];
	#else
		float fragCoordZ = 0.5 * vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ] + 0.5;
	#endif
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,tle=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,nle=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,ile=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,rle=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,sle=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,ale=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,ole=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,lle=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,cle=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,ule=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,dle=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,fle=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,hle=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,ple=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,mle=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,gle=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vle=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,yle=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,xle=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,ble=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Sle=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,_le=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Ele=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Tle=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Mle=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Cle=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,ln={alphahash_fragment:Yse,alphahash_pars_fragment:Kse,alphamap_fragment:$se,alphamap_pars_fragment:Zse,alphatest_fragment:Qse,alphatest_pars_fragment:Jse,aomap_fragment:eae,aomap_pars_fragment:tae,batching_pars_vertex:nae,batching_vertex:iae,begin_vertex:rae,beginnormal_vertex:sae,bsdfs:aae,iridescence_fragment:oae,bumpmap_pars_fragment:lae,clipping_planes_fragment:cae,clipping_planes_pars_fragment:uae,clipping_planes_pars_vertex:dae,clipping_planes_vertex:fae,color_fragment:hae,color_pars_fragment:pae,color_pars_vertex:mae,color_vertex:gae,common:vae,cube_uv_reflection_fragment:yae,defaultnormal_vertex:xae,displacementmap_pars_vertex:bae,displacementmap_vertex:Sae,emissivemap_fragment:_ae,emissivemap_pars_fragment:Eae,colorspace_fragment:Tae,colorspace_pars_fragment:Mae,envmap_fragment:Cae,envmap_common_pars_fragment:wae,envmap_pars_fragment:Aae,envmap_pars_vertex:Rae,envmap_physical_pars_fragment:Bae,envmap_vertex:Oae,fog_vertex:Nae,fog_pars_vertex:Dae,fog_fragment:Pae,fog_pars_fragment:Iae,gradientmap_pars_fragment:Lae,lightmap_pars_fragment:zae,lights_lambert_fragment:Uae,lights_lambert_pars_fragment:Vae,lights_pars_begin:kae,lights_toon_fragment:Fae,lights_toon_pars_fragment:Hae,lights_phong_fragment:Gae,lights_phong_pars_fragment:Wae,lights_physical_fragment:jae,lights_physical_pars_fragment:Xae,lights_fragment_begin:qae,lights_fragment_maps:Yae,lights_fragment_end:Kae,logdepthbuf_fragment:$ae,logdepthbuf_pars_fragment:Zae,logdepthbuf_pars_vertex:Qae,logdepthbuf_vertex:Jae,map_fragment:eoe,map_pars_fragment:toe,map_particle_fragment:noe,map_particle_pars_fragment:ioe,metalnessmap_fragment:roe,metalnessmap_pars_fragment:soe,morphinstance_vertex:aoe,morphcolor_vertex:ooe,morphnormal_vertex:loe,morphtarget_pars_vertex:coe,morphtarget_vertex:uoe,normal_fragment_begin:doe,normal_fragment_maps:foe,normal_pars_fragment:hoe,normal_pars_vertex:poe,normal_vertex:moe,normalmap_pars_fragment:goe,clearcoat_normal_fragment_begin:voe,clearcoat_normal_fragment_maps:yoe,clearcoat_pars_fragment:xoe,iridescence_pars_fragment:boe,opaque_fragment:Soe,packing:_oe,premultiplied_alpha_fragment:Eoe,project_vertex:Toe,dithering_fragment:Moe,dithering_pars_fragment:Coe,roughnessmap_fragment:woe,roughnessmap_pars_fragment:Aoe,shadowmap_pars_fragment:Roe,shadowmap_pars_vertex:Ooe,shadowmap_vertex:Noe,shadowmask_pars_fragment:Doe,skinbase_vertex:Poe,skinning_pars_vertex:Ioe,skinning_vertex:Loe,skinnormal_vertex:zoe,specularmap_fragment:Uoe,specularmap_pars_fragment:Voe,tonemapping_fragment:koe,tonemapping_pars_fragment:Boe,transmission_fragment:Foe,transmission_pars_fragment:Hoe,uv_pars_fragment:Goe,uv_pars_vertex:Woe,uv_vertex:joe,worldpos_vertex:Xoe,background_vert:qoe,background_frag:Yoe,backgroundCube_vert:Koe,backgroundCube_frag:$oe,cube_vert:Zoe,cube_frag:Qoe,depth_vert:Joe,depth_frag:ele,distanceRGBA_vert:tle,distanceRGBA_frag:nle,equirect_vert:ile,equirect_frag:rle,linedashed_vert:sle,linedashed_frag:ale,meshbasic_vert:ole,meshbasic_frag:lle,meshlambert_vert:cle,meshlambert_frag:ule,meshmatcap_vert:dle,meshmatcap_frag:fle,meshnormal_vert:hle,meshnormal_frag:ple,meshphong_vert:mle,meshphong_frag:gle,meshphysical_vert:vle,meshphysical_frag:yle,meshtoon_vert:xle,meshtoon_frag:ble,points_vert:Sle,points_frag:_le,shadow_vert:Ele,shadow_frag:Tle,sprite_vert:Mle,sprite_frag:Cle},ut={common:{diffuse:{value:new mt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new nn},alphaMap:{value:null},alphaMapTransform:{value:new nn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new nn}},envmap:{envMap:{value:null},envMapRotation:{value:new nn},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new nn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new nn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new nn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new nn},normalScale:{value:new Ge(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new nn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new nn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new nn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new nn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new mt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new mt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new nn},alphaTest:{value:0},uvTransform:{value:new nn}},sprite:{diffuse:{value:new mt(16777215)},opacity:{value:1},center:{value:new Ge(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new nn},alphaMap:{value:null},alphaMapTransform:{value:new nn},alphaTest:{value:0}}},Bo={basic:{uniforms:Cs([ut.common,ut.specularmap,ut.envmap,ut.aomap,ut.lightmap,ut.fog]),vertexShader:ln.meshbasic_vert,fragmentShader:ln.meshbasic_frag},lambert:{uniforms:Cs([ut.common,ut.specularmap,ut.envmap,ut.aomap,ut.lightmap,ut.emissivemap,ut.bumpmap,ut.normalmap,ut.displacementmap,ut.fog,ut.lights,{emissive:{value:new mt(0)}}]),vertexShader:ln.meshlambert_vert,fragmentShader:ln.meshlambert_frag},phong:{uniforms:Cs([ut.common,ut.specularmap,ut.envmap,ut.aomap,ut.lightmap,ut.emissivemap,ut.bumpmap,ut.normalmap,ut.displacementmap,ut.fog,ut.lights,{emissive:{value:new mt(0)},specular:{value:new mt(1118481)},shininess:{value:30}}]),vertexShader:ln.meshphong_vert,fragmentShader:ln.meshphong_frag},standard:{uniforms:Cs([ut.common,ut.envmap,ut.aomap,ut.lightmap,ut.emissivemap,ut.bumpmap,ut.normalmap,ut.displacementmap,ut.roughnessmap,ut.metalnessmap,ut.fog,ut.lights,{emissive:{value:new mt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ln.meshphysical_vert,fragmentShader:ln.meshphysical_frag},toon:{uniforms:Cs([ut.common,ut.aomap,ut.lightmap,ut.emissivemap,ut.bumpmap,ut.normalmap,ut.displacementmap,ut.gradientmap,ut.fog,ut.lights,{emissive:{value:new mt(0)}}]),vertexShader:ln.meshtoon_vert,fragmentShader:ln.meshtoon_frag},matcap:{uniforms:Cs([ut.common,ut.bumpmap,ut.normalmap,ut.displacementmap,ut.fog,{matcap:{value:null}}]),vertexShader:ln.meshmatcap_vert,fragmentShader:ln.meshmatcap_frag},points:{uniforms:Cs([ut.points,ut.fog]),vertexShader:ln.points_vert,fragmentShader:ln.points_frag},dashed:{uniforms:Cs([ut.common,ut.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ln.linedashed_vert,fragmentShader:ln.linedashed_frag},depth:{uniforms:Cs([ut.common,ut.displacementmap]),vertexShader:ln.depth_vert,fragmentShader:ln.depth_frag},normal:{uniforms:Cs([ut.common,ut.bumpmap,ut.normalmap,ut.displacementmap,{opacity:{value:1}}]),vertexShader:ln.meshnormal_vert,fragmentShader:ln.meshnormal_frag},sprite:{uniforms:Cs([ut.sprite,ut.fog]),vertexShader:ln.sprite_vert,fragmentShader:ln.sprite_frag},background:{uniforms:{uvTransform:{value:new nn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:ln.background_vert,fragmentShader:ln.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new nn}},vertexShader:ln.backgroundCube_vert,fragmentShader:ln.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:ln.cube_vert,fragmentShader:ln.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ln.equirect_vert,fragmentShader:ln.equirect_frag},distanceRGBA:{uniforms:Cs([ut.common,ut.displacementmap,{referencePosition:{value:new J},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ln.distanceRGBA_vert,fragmentShader:ln.distanceRGBA_frag},shadow:{uniforms:Cs([ut.lights,ut.fog,{color:{value:new mt(0)},opacity:{value:1}}]),vertexShader:ln.shadow_vert,fragmentShader:ln.shadow_frag}};Bo.physical={uniforms:Cs([Bo.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new nn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new nn},clearcoatNormalScale:{value:new Ge(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new nn},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new nn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new nn},sheen:{value:0},sheenColor:{value:new mt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new nn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new nn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new nn},transmissionSamplerSize:{value:new Ge},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new nn},attenuationDistance:{value:0},attenuationColor:{value:new mt(0)},specularColor:{value:new mt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new nn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new nn},anisotropyVector:{value:new Ge},anisotropyMap:{value:null},anisotropyMapTransform:{value:new nn}}]),vertexShader:ln.meshphysical_vert,fragmentShader:ln.meshphysical_frag};const hS={r:0,b:0,g:0},zf=new Oa,wle=new qt;function Ale(t,e,n,i,r,s,o){const l=new mt(0);let d=s===!0?0:1,h,m,g=null,y=0,b=null;function S(R){let N=R.isScene===!0?R.background:null;return N&&N.isTexture&&(N=(R.backgroundBlurriness>0?n:e).get(N)),N}function C(R){let N=!1;const D=S(R);D===null?_(l,d):D&&D.isColor&&(_(D,1),N=!0);const I=t.xr.getEnvironmentBlendMode();I==="additive"?i.buffers.color.setClear(0,0,0,1,o):I==="alpha-blend"&&i.buffers.color.setClear(0,0,0,0,o),(t.autoClear||N)&&(i.buffers.depth.setTest(!0),i.buffers.depth.setMask(!0),i.buffers.color.setMask(!0),t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil))}function T(R,N){const D=S(N);D&&(D.isCubeTexture||D.mapping===qm)?(m===void 0&&(m=new Ki(new mh(1,1,1),new oo({name:"BackgroundCubeMaterial",uniforms:Im(Bo.backgroundCube.uniforms),vertexShader:Bo.backgroundCube.vertexShader,fragmentShader:Bo.backgroundCube.fragmentShader,side:Os,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),m.geometry.deleteAttribute("normal"),m.geometry.deleteAttribute("uv"),m.onBeforeRender=function(I,V,B){this.matrixWorld.copyPosition(B.matrixWorld)},Object.defineProperty(m.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(m)),zf.copy(N.backgroundRotation),zf.x*=-1,zf.y*=-1,zf.z*=-1,D.isCubeTexture&&D.isRenderTargetTexture===!1&&(zf.y*=-1,zf.z*=-1),m.material.uniforms.envMap.value=D,m.material.uniforms.flipEnvMap.value=D.isCubeTexture&&D.isRenderTargetTexture===!1?-1:1,m.material.uniforms.backgroundBlurriness.value=N.backgroundBlurriness,m.material.uniforms.backgroundIntensity.value=N.backgroundIntensity,m.material.uniforms.backgroundRotation.value.setFromMatrix4(wle.makeRotationFromEuler(zf)),m.material.toneMapped=Sn.getTransfer(D.colorSpace)!==Gn,(g!==D||y!==D.version||b!==t.toneMapping)&&(m.material.needsUpdate=!0,g=D,y=D.version,b=t.toneMapping),m.layers.enableAll(),R.unshift(m,m.geometry,m.material,0,0,null)):D&&D.isTexture&&(h===void 0&&(h=new Ki(new Zm(2,2),new oo({name:"BackgroundMaterial",uniforms:Im(Bo.background.uniforms),vertexShader:Bo.background.vertexShader,fragmentShader:Bo.background.fragmentShader,side:$c,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),h.geometry.deleteAttribute("normal"),Object.defineProperty(h.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(h)),h.material.uniforms.t2D.value=D,h.material.uniforms.backgroundIntensity.value=N.backgroundIntensity,h.material.toneMapped=Sn.getTransfer(D.colorSpace)!==Gn,D.matrixAutoUpdate===!0&&D.updateMatrix(),h.material.uniforms.uvTransform.value.copy(D.matrix),(g!==D||y!==D.version||b!==t.toneMapping)&&(h.material.needsUpdate=!0,g=D,y=D.version,b=t.toneMapping),h.layers.enableAll(),R.unshift(h,h.geometry,h.material,0,0,null))}function _(R,N){R.getRGB(hS,CB(t)),i.buffers.color.setClear(hS.r,hS.g,hS.b,N,o)}function w(){m!==void 0&&(m.geometry.dispose(),m.material.dispose(),m=void 0),h!==void 0&&(h.geometry.dispose(),h.material.dispose(),h=void 0)}return{getClearColor:function(){return l},setClearColor:function(R,N=1){l.set(R),d=N,_(l,d)},getClearAlpha:function(){return d},setClearAlpha:function(R){d=R,_(l,d)},render:C,addToRenderList:T,dispose:w}}function Rle(t,e){const n=t.getParameter(t.MAX_VERTEX_ATTRIBS),i={},r=y(null);let s=r,o=!1;function l(z,F,j,Z,se){let ie=!1;const k=g(Z,j,F);s!==k&&(s=k,h(s.object)),ie=b(z,Z,j,se),ie&&S(z,Z,j,se),se!==null&&e.update(se,t.ELEMENT_ARRAY_BUFFER),(ie||o)&&(o=!1,N(z,F,j,Z),se!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.get(se).buffer))}function d(){return t.createVertexArray()}function h(z){return t.bindVertexArray(z)}function m(z){return t.deleteVertexArray(z)}function g(z,F,j){const Z=j.wireframe===!0;let se=i[z.id];se===void 0&&(se={},i[z.id]=se);let ie=se[F.id];ie===void 0&&(ie={},se[F.id]=ie);let k=ie[Z];return k===void 0&&(k=y(d()),ie[Z]=k),k}function y(z){const F=[],j=[],Z=[];for(let se=0;se<n;se++)F[se]=0,j[se]=0,Z[se]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:F,enabledAttributes:j,attributeDivisors:Z,object:z,attributes:{},index:null}}function b(z,F,j,Z){const se=s.attributes,ie=F.attributes;let k=0;const q=j.getAttributes();for(const $ in q)if(q[$].location>=0){const G=se[$];let te=ie[$];if(te===void 0&&($==="instanceMatrix"&&z.instanceMatrix&&(te=z.instanceMatrix),$==="instanceColor"&&z.instanceColor&&(te=z.instanceColor)),G===void 0||G.attribute!==te||te&&G.data!==te.data)return!0;k++}return s.attributesNum!==k||s.index!==Z}function S(z,F,j,Z){const se={},ie=F.attributes;let k=0;const q=j.getAttributes();for(const $ in q)if(q[$].location>=0){let G=ie[$];G===void 0&&($==="instanceMatrix"&&z.instanceMatrix&&(G=z.instanceMatrix),$==="instanceColor"&&z.instanceColor&&(G=z.instanceColor));const te={};te.attribute=G,G&&G.data&&(te.data=G.data),se[$]=te,k++}s.attributes=se,s.attributesNum=k,s.index=Z}function C(){const z=s.newAttributes;for(let F=0,j=z.length;F<j;F++)z[F]=0}function T(z){_(z,0)}function _(z,F){const j=s.newAttributes,Z=s.enabledAttributes,se=s.attributeDivisors;j[z]=1,Z[z]===0&&(t.enableVertexAttribArray(z),Z[z]=1),se[z]!==F&&(t.vertexAttribDivisor(z,F),se[z]=F)}function w(){const z=s.newAttributes,F=s.enabledAttributes;for(let j=0,Z=F.length;j<Z;j++)F[j]!==z[j]&&(t.disableVertexAttribArray(j),F[j]=0)}function R(z,F,j,Z,se,ie,k){k===!0?t.vertexAttribIPointer(z,F,j,se,ie):t.vertexAttribPointer(z,F,j,Z,se,ie)}function N(z,F,j,Z){C();const se=Z.attributes,ie=j.getAttributes(),k=F.defaultAttributeValues;for(const q in ie){const $=ie[q];if($.location>=0){let ne=se[q];if(ne===void 0&&(q==="instanceMatrix"&&z.instanceMatrix&&(ne=z.instanceMatrix),q==="instanceColor"&&z.instanceColor&&(ne=z.instanceColor)),ne!==void 0){const G=ne.normalized,te=ne.itemSize,ve=e.get(ne);if(ve===void 0)continue;const Me=ve.buffer,De=ve.type,qe=ve.bytesPerElement,me=De===t.INT||De===t.UNSIGNED_INT||ne.gpuType===F1;if(ne.isInterleavedBufferAttribute){const Pe=ne.data,de=Pe.stride,_e=ne.offset;if(Pe.isInstancedInterleavedBuffer){for(let Xe=0;Xe<$.locationSize;Xe++)_($.location+Xe,Pe.meshPerAttribute);z.isInstancedMesh!==!0&&Z._maxInstanceCount===void 0&&(Z._maxInstanceCount=Pe.meshPerAttribute*Pe.count)}else for(let Xe=0;Xe<$.locationSize;Xe++)T($.location+Xe);t.bindBuffer(t.ARRAY_BUFFER,Me);for(let Xe=0;Xe<$.locationSize;Xe++)R($.location+Xe,te/$.locationSize,De,G,de*qe,(_e+te/$.locationSize*Xe)*qe,me)}else{if(ne.isInstancedBufferAttribute){for(let Pe=0;Pe<$.locationSize;Pe++)_($.location+Pe,ne.meshPerAttribute);z.isInstancedMesh!==!0&&Z._maxInstanceCount===void 0&&(Z._maxInstanceCount=ne.meshPerAttribute*ne.count)}else for(let Pe=0;Pe<$.locationSize;Pe++)T($.location+Pe);t.bindBuffer(t.ARRAY_BUFFER,Me);for(let Pe=0;Pe<$.locationSize;Pe++)R($.location+Pe,te/$.locationSize,De,G,te*qe,te/$.locationSize*Pe*qe,me)}}else if(k!==void 0){const G=k[q];if(G!==void 0)switch(G.length){case 2:t.vertexAttrib2fv($.location,G);break;case 3:t.vertexAttrib3fv($.location,G);break;case 4:t.vertexAttrib4fv($.location,G);break;default:t.vertexAttrib1fv($.location,G)}}}}w()}function D(){B();for(const z in i){const F=i[z];for(const j in F){const Z=F[j];for(const se in Z)m(Z[se].object),delete Z[se];delete F[j]}delete i[z]}}function I(z){if(i[z.id]===void 0)return;const F=i[z.id];for(const j in F){const Z=F[j];for(const se in Z)m(Z[se].object),delete Z[se];delete F[j]}delete i[z.id]}function V(z){for(const F in i){const j=i[F];if(j[z.id]===void 0)continue;const Z=j[z.id];for(const se in Z)m(Z[se].object),delete Z[se];delete j[z.id]}}function B(){L(),o=!0,s!==r&&(s=r,h(s.object))}function L(){r.geometry=null,r.program=null,r.wireframe=!1}return{setup:l,reset:B,resetDefaultState:L,dispose:D,releaseStatesOfGeometry:I,releaseStatesOfProgram:V,initAttributes:C,enableAttribute:T,disableUnusedAttributes:w}}function Ole(t,e,n){let i;function r(h){i=h}function s(h,m){t.drawArrays(i,h,m),n.update(m,i,1)}function o(h,m,g){g!==0&&(t.drawArraysInstanced(i,h,m,g),n.update(m,i,g))}function l(h,m,g){if(g===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(i,h,0,m,0,g);let b=0;for(let S=0;S<g;S++)b+=m[S];n.update(b,i,1)}function d(h,m,g,y){if(g===0)return;const b=e.get("WEBGL_multi_draw");if(b===null)for(let S=0;S<h.length;S++)o(h[S],m[S],y[S]);else{b.multiDrawArraysInstancedWEBGL(i,h,0,m,0,y,0,g);let S=0;for(let C=0;C<g;C++)S+=m[C]*y[C];n.update(S,i,1)}}this.setMode=r,this.render=s,this.renderInstances=o,this.renderMultiDraw=l,this.renderMultiDrawInstances=d}function Nle(t,e,n,i){let r;function s(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const V=e.get("EXT_texture_filter_anisotropic");r=t.getParameter(V.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function o(V){return!(V!==ns&&i.convert(V)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_FORMAT))}function l(V){const B=V===Ym&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(V!==ao&&i.convert(V)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_TYPE)&&V!==na&&!B)}function d(V){if(V==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";V="mediump"}return V==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let h=n.precision!==void 0?n.precision:"highp";const m=d(h);m!==h&&(console.warn("THREE.WebGLRenderer:",h,"not supported, using",m,"instead."),h=m);const g=n.logarithmicDepthBuffer===!0,y=n.reversedDepthBuffer===!0&&e.has("EXT_clip_control"),b=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),S=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),C=t.getParameter(t.MAX_TEXTURE_SIZE),T=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),_=t.getParameter(t.MAX_VERTEX_ATTRIBS),w=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),R=t.getParameter(t.MAX_VARYING_VECTORS),N=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),D=S>0,I=t.getParameter(t.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:s,getMaxPrecision:d,textureFormatReadable:o,textureTypeReadable:l,precision:h,logarithmicDepthBuffer:g,reversedDepthBuffer:y,maxTextures:b,maxVertexTextures:S,maxTextureSize:C,maxCubemapSize:T,maxAttributes:_,maxVertexUniforms:w,maxVaryings:R,maxFragmentUniforms:N,vertexTextures:D,maxSamples:I}}function Dle(t){const e=this;let n=null,i=0,r=!1,s=!1;const o=new ld,l=new nn,d={value:null,needsUpdate:!1};this.uniform=d,this.numPlanes=0,this.numIntersection=0,this.init=function(g,y){const b=g.length!==0||y||i!==0||r;return r=y,i=g.length,b},this.beginShadows=function(){s=!0,m(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(g,y){n=m(g,y,0)},this.setState=function(g,y,b){const S=g.clippingPlanes,C=g.clipIntersection,T=g.clipShadows,_=t.get(g);if(!r||S===null||S.length===0||s&&!T)s?m(null):h();else{const w=s?0:i,R=w*4;let N=_.clippingState||null;d.value=N,N=m(S,y,R,b);for(let D=0;D!==R;++D)N[D]=n[D];_.clippingState=N,this.numIntersection=C?this.numPlanes:0,this.numPlanes+=w}};function h(){d.value!==n&&(d.value=n,d.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function m(g,y,b,S){const C=g!==null?g.length:0;let T=null;if(C!==0){if(T=d.value,S!==!0||T===null){const _=b+C*4,w=y.matrixWorldInverse;l.getNormalMatrix(w),(T===null||T.length<_)&&(T=new Float32Array(_));for(let R=0,N=b;R!==C;++R,N+=4)o.copy(g[R]).applyMatrix4(w,l),o.normal.toArray(T,N),T[N+3]=o.constant}d.value=T,d.needsUpdate=!0}return e.numPlanes=C,e.numIntersection=0,T}}function Ple(t){let e=new WeakMap;function n(o,l){return l===Ly?o.mapping=Zc:l===zy&&(o.mapping=gd),o}function i(o){if(o&&o.isTexture){const l=o.mapping;if(l===Ly||l===zy)if(e.has(o)){const d=e.get(o).texture;return n(d,o.mapping)}else{const d=o.image;if(d&&d.height>0){const h=new RB(d.height);return h.fromEquirectangularTexture(t,o),e.set(o,h),o.addEventListener("dispose",r),n(h.texture,o.mapping)}else return null}}return o}function r(o){const l=o.target;l.removeEventListener("dispose",r);const d=e.get(l);d!==void 0&&(e.delete(l),d.dispose())}function s(){e=new WeakMap}return{get:i,dispose:s}}const gm=4,m3=[.125,.215,.35,.446,.526,.582],Ff=20,zM=new C0,g3=new mt;let UM=null,VM=0,kM=0,BM=!1;const Bf=(1+Math.sqrt(5))/2,Xp=1/Bf,v3=[new J(-Bf,Xp,0),new J(Bf,Xp,0),new J(-Xp,0,Bf),new J(Xp,0,Bf),new J(0,Bf,-Xp),new J(0,Bf,Xp),new J(-1,1,-1),new J(1,1,-1),new J(-1,1,1),new J(1,1,1)],Ile=new J;class vw{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,i=.1,r=100,s={}){const{size:o=256,position:l=Ile}=s;UM=this._renderer.getRenderTarget(),VM=this._renderer.getActiveCubeFace(),kM=this._renderer.getActiveMipmapLevel(),BM=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(o);const d=this._allocateTargets();return d.depthBuffer=!0,this._sceneToCubeUV(e,i,r,d,l),n>0&&this._blur(d,0,0,n),this._applyPMREM(d),this._cleanup(d),d}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=b3(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=x3(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(UM,VM,kM),this._renderer.xr.enabled=BM,e.scissorTest=!1,pS(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===Zc||e.mapping===gd?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),UM=this._renderer.getRenderTarget(),VM=this._renderer.getActiveCubeFace(),kM=this._renderer.getActiveMipmapLevel(),BM=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const i=n||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,i={magFilter:cr,minFilter:cr,generateMipmaps:!1,type:Ym,format:ns,colorSpace:vd,depthBuffer:!1},r=y3(e,n,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=y3(e,n,i);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=Lle(s)),this._blurMaterial=zle(s,e,n)}return r}_compileMaterial(e){const n=new Ki(this._lodPlanes[0],e);this._renderer.compile(n,zM)}_sceneToCubeUV(e,n,i,r,s){const d=new Tr(90,1,n,i),h=[1,-1,1,1,1,1],m=[1,1,1,-1,-1,-1],g=this._renderer,y=g.autoClear,b=g.toneMapping;g.getClearColor(g3),g.toneMapping=ql,g.autoClear=!1,g.state.buffers.depth.getReversed()&&(g.setRenderTarget(r),g.clearDepth(),g.setRenderTarget(null));const C=new _d({name:"PMREM.Background",side:Os,depthWrite:!1,depthTest:!1}),T=new Ki(new mh,C);let _=!1;const w=e.background;w?w.isColor&&(C.color.copy(w),e.background=null,_=!0):(C.color.copy(g3),_=!0);for(let R=0;R<6;R++){const N=R%3;N===0?(d.up.set(0,h[R],0),d.position.set(s.x,s.y,s.z),d.lookAt(s.x+m[R],s.y,s.z)):N===1?(d.up.set(0,0,h[R]),d.position.set(s.x,s.y,s.z),d.lookAt(s.x,s.y+m[R],s.z)):(d.up.set(0,h[R],0),d.position.set(s.x,s.y,s.z),d.lookAt(s.x,s.y,s.z+m[R]));const D=this._cubeSize;pS(r,N*D,R>2?D:0,D,D),g.setRenderTarget(r),_&&g.render(T,d),g.render(e,d)}T.geometry.dispose(),T.material.dispose(),g.toneMapping=b,g.autoClear=y,e.background=w}_textureToCubeUV(e,n){const i=this._renderer,r=e.mapping===Zc||e.mapping===gd;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=b3()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=x3());const s=r?this._cubemapMaterial:this._equirectMaterial,o=new Ki(this._lodPlanes[0],s),l=s.uniforms;l.envMap.value=e;const d=this._cubeSize;pS(n,0,0,3*d,2*d),i.setRenderTarget(n),i.render(o,zM)}_applyPMREM(e){const n=this._renderer,i=n.autoClear;n.autoClear=!1;const r=this._lodPlanes.length;for(let s=1;s<r;s++){const o=Math.sqrt(this._sigmas[s]*this._sigmas[s]-this._sigmas[s-1]*this._sigmas[s-1]),l=v3[(r-s-1)%v3.length];this._blur(e,s-1,s,o,l)}n.autoClear=i}_blur(e,n,i,r,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,n,i,r,"latitudinal",s),this._halfBlur(o,e,i,i,r,"longitudinal",s)}_halfBlur(e,n,i,r,s,o,l){const d=this._renderer,h=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const m=3,g=new Ki(this._lodPlanes[r],h),y=h.uniforms,b=this._sizeLods[i]-1,S=isFinite(s)?Math.PI/(2*b):2*Math.PI/(2*Ff-1),C=s/S,T=isFinite(s)?1+Math.floor(m*C):Ff;T>Ff&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${T} samples when the maximum is set to ${Ff}`);const _=[];let w=0;for(let V=0;V<Ff;++V){const B=V/C,L=Math.exp(-B*B/2);_.push(L),V===0?w+=L:V<T&&(w+=2*L)}for(let V=0;V<_.length;V++)_[V]=_[V]/w;y.envMap.value=e.texture,y.samples.value=T,y.weights.value=_,y.latitudinal.value=o==="latitudinal",l&&(y.poleAxis.value=l);const{_lodMax:R}=this;y.dTheta.value=S,y.mipInt.value=R-i;const N=this._sizeLods[r],D=3*N*(r>R-gm?r-R+gm:0),I=4*(this._cubeSize-N);pS(n,D,I,3*N,2*N),d.setRenderTarget(n),d.render(g,zM)}}function Lle(t){const e=[],n=[],i=[];let r=t;const s=t-gm+1+m3.length;for(let o=0;o<s;o++){const l=Math.pow(2,r);n.push(l);let d=1/l;o>t-gm?d=m3[o-t+gm-1]:o===0&&(d=0),i.push(d);const h=1/(l-2),m=-h,g=1+h,y=[m,m,g,m,g,g,m,m,g,g,m,g],b=6,S=6,C=3,T=2,_=1,w=new Float32Array(C*S*b),R=new Float32Array(T*S*b),N=new Float32Array(_*S*b);for(let I=0;I<b;I++){const V=I%3*2/3-1,B=I>2?0:-1,L=[V,B,0,V+2/3,B,0,V+2/3,B+1,0,V,B,0,V+2/3,B+1,0,V,B+1,0];w.set(L,C*S*I),R.set(y,T*S*I);const z=[I,I,I,I,I,I];N.set(z,_*S*I)}const D=new an;D.setAttribute("position",new Zn(w,C)),D.setAttribute("uv",new Zn(R,T)),D.setAttribute("faceIndex",new Zn(N,_)),e.push(D),r>gm&&r--}return{lodPlanes:e,sizeLods:n,sigmas:i}}function y3(t,e,n){const i=new ec(t,e,n);return i.texture.mapping=qm,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function pS(t,e,n,i,r){t.viewport.set(e,n,i,r),t.scissor.set(e,n,i,r)}function zle(t,e,n){const i=new Float32Array(Ff),r=new J(0,1,0);return new oo({name:"SphericalGaussianBlur",defines:{n:Ff,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:HR(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Gc,depthTest:!1,depthWrite:!1})}function x3(){return new oo({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:HR(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Gc,depthTest:!1,depthWrite:!1})}function b3(){return new oo({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:HR(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Gc,depthTest:!1,depthWrite:!1})}function HR(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function Ule(t){let e=new WeakMap,n=null;function i(l){if(l&&l.isTexture){const d=l.mapping,h=d===Ly||d===zy,m=d===Zc||d===gd;if(h||m){let g=e.get(l);const y=g!==void 0?g.texture.pmremVersion:0;if(l.isRenderTargetTexture&&l.pmremVersion!==y)return n===null&&(n=new vw(t)),g=h?n.fromEquirectangular(l,g):n.fromCubemap(l,g),g.texture.pmremVersion=l.pmremVersion,e.set(l,g),g.texture;if(g!==void 0)return g.texture;{const b=l.image;return h&&b&&b.height>0||m&&b&&r(b)?(n===null&&(n=new vw(t)),g=h?n.fromEquirectangular(l):n.fromCubemap(l),g.texture.pmremVersion=l.pmremVersion,e.set(l,g),l.addEventListener("dispose",s),g.texture):null}}}return l}function r(l){let d=0;const h=6;for(let m=0;m<h;m++)l[m]!==void 0&&d++;return d===h}function s(l){const d=l.target;d.removeEventListener("dispose",s);const h=e.get(d);h!==void 0&&(e.delete(d),h.dispose())}function o(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:i,dispose:o}}function Vle(t){const e={};function n(i){if(e[i]!==void 0)return e[i];let r;switch(i){case"WEBGL_depth_texture":r=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=t.getExtension(i)}return e[i]=r,r}return{has:function(i){return n(i)!==null},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(i){const r=n(i);return r===null&&Wy("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function kle(t,e,n,i){const r={},s=new WeakMap;function o(g){const y=g.target;y.index!==null&&e.remove(y.index);for(const S in y.attributes)e.remove(y.attributes[S]);y.removeEventListener("dispose",o),delete r[y.id];const b=s.get(y);b&&(e.remove(b),s.delete(y)),i.releaseStatesOfGeometry(y),y.isInstancedBufferGeometry===!0&&delete y._maxInstanceCount,n.memory.geometries--}function l(g,y){return r[y.id]===!0||(y.addEventListener("dispose",o),r[y.id]=!0,n.memory.geometries++),y}function d(g){const y=g.attributes;for(const b in y)e.update(y[b],t.ARRAY_BUFFER)}function h(g){const y=[],b=g.index,S=g.attributes.position;let C=0;if(b!==null){const w=b.array;C=b.version;for(let R=0,N=w.length;R<N;R+=3){const D=w[R+0],I=w[R+1],V=w[R+2];y.push(D,I,I,V,V,D)}}else if(S!==void 0){const w=S.array;C=S.version;for(let R=0,N=w.length/3-1;R<N;R+=3){const D=R+0,I=R+1,V=R+2;y.push(D,I,I,V,V,D)}}else return;const T=new(_B(y)?mR:pR)(y,1);T.version=C;const _=s.get(g);_&&e.remove(_),s.set(g,T)}function m(g){const y=s.get(g);if(y){const b=g.index;b!==null&&y.version<b.version&&h(g)}else h(g);return s.get(g)}return{get:l,update:d,getWireframeAttribute:m}}function Ble(t,e,n){let i;function r(y){i=y}let s,o;function l(y){s=y.type,o=y.bytesPerElement}function d(y,b){t.drawElements(i,b,s,y*o),n.update(b,i,1)}function h(y,b,S){S!==0&&(t.drawElementsInstanced(i,b,s,y*o,S),n.update(b,i,S))}function m(y,b,S){if(S===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(i,b,0,s,y,0,S);let T=0;for(let _=0;_<S;_++)T+=b[_];n.update(T,i,1)}function g(y,b,S,C){if(S===0)return;const T=e.get("WEBGL_multi_draw");if(T===null)for(let _=0;_<y.length;_++)h(y[_]/o,b[_],C[_]);else{T.multiDrawElementsInstancedWEBGL(i,b,0,s,y,0,C,0,S);let _=0;for(let w=0;w<S;w++)_+=b[w]*C[w];n.update(_,i,1)}}this.setMode=r,this.setIndex=l,this.render=d,this.renderInstances=h,this.renderMultiDraw=m,this.renderMultiDrawInstances=g}function Fle(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function i(s,o,l){switch(n.calls++,o){case t.TRIANGLES:n.triangles+=l*(s/3);break;case t.LINES:n.lines+=l*(s/2);break;case t.LINE_STRIP:n.lines+=l*(s-1);break;case t.LINE_LOOP:n.lines+=l*s;break;case t.POINTS:n.points+=l*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function r(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:r,update:i}}function Hle(t,e,n){const i=new WeakMap,r=new Cn;function s(o,l,d){const h=o.morphTargetInfluences,m=l.morphAttributes.position||l.morphAttributes.normal||l.morphAttributes.color,g=m!==void 0?m.length:0;let y=i.get(l);if(y===void 0||y.count!==g){let z=function(){B.dispose(),i.delete(l),l.removeEventListener("dispose",z)};var b=z;y!==void 0&&y.texture.dispose();const S=l.morphAttributes.position!==void 0,C=l.morphAttributes.normal!==void 0,T=l.morphAttributes.color!==void 0,_=l.morphAttributes.position||[],w=l.morphAttributes.normal||[],R=l.morphAttributes.color||[];let N=0;S===!0&&(N=1),C===!0&&(N=2),T===!0&&(N=3);let D=l.attributes.position.count*N,I=1;D>e.maxTextureSize&&(I=Math.ceil(D/e.maxTextureSize),D=e.maxTextureSize);const V=new Float32Array(D*I*4*g),B=new Y1(V,D,I,g);B.type=na,B.needsUpdate=!0;const L=N*4;for(let F=0;F<g;F++){const j=_[F],Z=w[F],se=R[F],ie=D*I*4*F;for(let k=0;k<j.count;k++){const q=k*L;S===!0&&(r.fromBufferAttribute(j,k),V[ie+q+0]=r.x,V[ie+q+1]=r.y,V[ie+q+2]=r.z,V[ie+q+3]=0),C===!0&&(r.fromBufferAttribute(Z,k),V[ie+q+4]=r.x,V[ie+q+5]=r.y,V[ie+q+6]=r.z,V[ie+q+7]=0),T===!0&&(r.fromBufferAttribute(se,k),V[ie+q+8]=r.x,V[ie+q+9]=r.y,V[ie+q+10]=r.z,V[ie+q+11]=se.itemSize===4?r.w:1)}}y={count:g,texture:B,size:new Ge(D,I)},i.set(l,y),l.addEventListener("dispose",z)}if(o.isInstancedMesh===!0&&o.morphTexture!==null)d.getUniforms().setValue(t,"morphTexture",o.morphTexture,n);else{let S=0;for(let T=0;T<h.length;T++)S+=h[T];const C=l.morphTargetsRelative?1:1-S;d.getUniforms().setValue(t,"morphTargetBaseInfluence",C),d.getUniforms().setValue(t,"morphTargetInfluences",h)}d.getUniforms().setValue(t,"morphTargetsTexture",y.texture,n),d.getUniforms().setValue(t,"morphTargetsTextureSize",y.size)}return{update:s}}function Gle(t,e,n,i){let r=new WeakMap;function s(d){const h=i.render.frame,m=d.geometry,g=e.get(d,m);if(r.get(g)!==h&&(e.update(g),r.set(g,h)),d.isInstancedMesh&&(d.hasEventListener("dispose",l)===!1&&d.addEventListener("dispose",l),r.get(d)!==h&&(n.update(d.instanceMatrix,t.ARRAY_BUFFER),d.instanceColor!==null&&n.update(d.instanceColor,t.ARRAY_BUFFER),r.set(d,h))),d.isSkinnedMesh){const y=d.skeleton;r.get(y)!==h&&(y.update(),r.set(y,h))}return g}function o(){r=new WeakMap}function l(d){const h=d.target;h.removeEventListener("dispose",l),n.remove(h.instanceMatrix),h.instanceColor!==null&&n.remove(h.instanceColor)}return{update:s,dispose:o}}const A4=new gi,S3=new bR(1,1),R4=new Y1,O4=new K1,N4=new x0,_3=[],E3=[],T3=new Float32Array(16),M3=new Float32Array(9),C3=new Float32Array(4);function Qm(t,e,n){const i=t[0];if(i<=0||i>0)return t;const r=e*n;let s=_3[r];if(s===void 0&&(s=new Float32Array(r),_3[r]=s),e!==0){i.toArray(s,0);for(let o=1,l=0;o!==e;++o)l+=n,t[o].toArray(s,l)}return s}function dr(t,e){if(t.length!==e.length)return!1;for(let n=0,i=t.length;n<i;n++)if(t[n]!==e[n])return!1;return!0}function fr(t,e){for(let n=0,i=e.length;n<i;n++)t[n]=e[n]}function yE(t,e){let n=E3[e];n===void 0&&(n=new Int32Array(e),E3[e]=n);for(let i=0;i!==e;++i)n[i]=t.allocateTextureUnit();return n}function Wle(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function jle(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(dr(n,e))return;t.uniform2fv(this.addr,e),fr(n,e)}}function Xle(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(dr(n,e))return;t.uniform3fv(this.addr,e),fr(n,e)}}function qle(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(dr(n,e))return;t.uniform4fv(this.addr,e),fr(n,e)}}function Yle(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(dr(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),fr(n,e)}else{if(dr(n,i))return;C3.set(i),t.uniformMatrix2fv(this.addr,!1,C3),fr(n,i)}}function Kle(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(dr(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),fr(n,e)}else{if(dr(n,i))return;M3.set(i),t.uniformMatrix3fv(this.addr,!1,M3),fr(n,i)}}function $le(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(dr(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),fr(n,e)}else{if(dr(n,i))return;T3.set(i),t.uniformMatrix4fv(this.addr,!1,T3),fr(n,i)}}function Zle(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function Qle(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(dr(n,e))return;t.uniform2iv(this.addr,e),fr(n,e)}}function Jle(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(dr(n,e))return;t.uniform3iv(this.addr,e),fr(n,e)}}function ece(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(dr(n,e))return;t.uniform4iv(this.addr,e),fr(n,e)}}function tce(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function nce(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(dr(n,e))return;t.uniform2uiv(this.addr,e),fr(n,e)}}function ice(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(dr(n,e))return;t.uniform3uiv(this.addr,e),fr(n,e)}}function rce(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(dr(n,e))return;t.uniform4uiv(this.addr,e),fr(n,e)}}function sce(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r);let s;this.type===t.SAMPLER_2D_SHADOW?(S3.compareFunction=dR,s=S3):s=A4,n.setTexture2D(e||s,r)}function ace(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture3D(e||O4,r)}function oce(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTextureCube(e||N4,r)}function lce(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture2DArray(e||R4,r)}function cce(t){switch(t){case 5126:return Wle;case 35664:return jle;case 35665:return Xle;case 35666:return qle;case 35674:return Yle;case 35675:return Kle;case 35676:return $le;case 5124:case 35670:return Zle;case 35667:case 35671:return Qle;case 35668:case 35672:return Jle;case 35669:case 35673:return ece;case 5125:return tce;case 36294:return nce;case 36295:return ice;case 36296:return rce;case 35678:case 36198:case 36298:case 36306:case 35682:return sce;case 35679:case 36299:case 36307:return ace;case 35680:case 36300:case 36308:case 36293:return oce;case 36289:case 36303:case 36311:case 36292:return lce}}function uce(t,e){t.uniform1fv(this.addr,e)}function dce(t,e){const n=Qm(e,this.size,2);t.uniform2fv(this.addr,n)}function fce(t,e){const n=Qm(e,this.size,3);t.uniform3fv(this.addr,n)}function hce(t,e){const n=Qm(e,this.size,4);t.uniform4fv(this.addr,n)}function pce(t,e){const n=Qm(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function mce(t,e){const n=Qm(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function gce(t,e){const n=Qm(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function vce(t,e){t.uniform1iv(this.addr,e)}function yce(t,e){t.uniform2iv(this.addr,e)}function xce(t,e){t.uniform3iv(this.addr,e)}function bce(t,e){t.uniform4iv(this.addr,e)}function Sce(t,e){t.uniform1uiv(this.addr,e)}function _ce(t,e){t.uniform2uiv(this.addr,e)}function Ece(t,e){t.uniform3uiv(this.addr,e)}function Tce(t,e){t.uniform4uiv(this.addr,e)}function Mce(t,e,n){const i=this.cache,r=e.length,s=yE(n,r);dr(i,s)||(t.uniform1iv(this.addr,s),fr(i,s));for(let o=0;o!==r;++o)n.setTexture2D(e[o]||A4,s[o])}function Cce(t,e,n){const i=this.cache,r=e.length,s=yE(n,r);dr(i,s)||(t.uniform1iv(this.addr,s),fr(i,s));for(let o=0;o!==r;++o)n.setTexture3D(e[o]||O4,s[o])}function wce(t,e,n){const i=this.cache,r=e.length,s=yE(n,r);dr(i,s)||(t.uniform1iv(this.addr,s),fr(i,s));for(let o=0;o!==r;++o)n.setTextureCube(e[o]||N4,s[o])}function Ace(t,e,n){const i=this.cache,r=e.length,s=yE(n,r);dr(i,s)||(t.uniform1iv(this.addr,s),fr(i,s));for(let o=0;o!==r;++o)n.setTexture2DArray(e[o]||R4,s[o])}function Rce(t){switch(t){case 5126:return uce;case 35664:return dce;case 35665:return fce;case 35666:return hce;case 35674:return pce;case 35675:return mce;case 35676:return gce;case 5124:case 35670:return vce;case 35667:case 35671:return yce;case 35668:case 35672:return xce;case 35669:case 35673:return bce;case 5125:return Sce;case 36294:return _ce;case 36295:return Ece;case 36296:return Tce;case 35678:case 36198:case 36298:case 36306:case 35682:return Mce;case 35679:case 36299:case 36307:return Cce;case 35680:case 36300:case 36308:case 36293:return wce;case 36289:case 36303:case 36311:case 36292:return Ace}}class Oce{constructor(e,n,i){this.id=e,this.addr=i,this.cache=[],this.type=n.type,this.setValue=cce(n.type)}}class Nce{constructor(e,n,i){this.id=e,this.addr=i,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=Rce(n.type)}}class Dce{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,i){const r=this.seq;for(let s=0,o=r.length;s!==o;++s){const l=r[s];l.setValue(e,n[l.id],i)}}}const FM=/(\w+)(\])?(\[|\.)?/g;function w3(t,e){t.seq.push(e),t.map[e.id]=e}function Pce(t,e,n){const i=t.name,r=i.length;for(FM.lastIndex=0;;){const s=FM.exec(i),o=FM.lastIndex;let l=s[1];const d=s[2]==="]",h=s[3];if(d&&(l=l|0),h===void 0||h==="["&&o+2===r){w3(n,h===void 0?new Oce(l,t,e):new Nce(l,t,e));break}else{let g=n.map[l];g===void 0&&(g=new Dce(l),w3(n,g)),n=g}}}class FS{constructor(e,n){this.seq=[],this.map={};const i=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let r=0;r<i;++r){const s=e.getActiveUniform(n,r),o=e.getUniformLocation(n,s.name);Pce(s,o,this)}}setValue(e,n,i,r){const s=this.map[n];s!==void 0&&s.setValue(e,i,r)}setOptional(e,n,i){const r=n[i];r!==void 0&&this.setValue(e,i,r)}static upload(e,n,i,r){for(let s=0,o=n.length;s!==o;++s){const l=n[s],d=i[l.id];d.needsUpdate!==!1&&l.setValue(e,d.value,r)}}static seqWithValue(e,n){const i=[];for(let r=0,s=e.length;r!==s;++r){const o=e[r];o.id in n&&i.push(o)}return i}}function A3(t,e,n){const i=t.createShader(e);return t.shaderSource(i,n),t.compileShader(i),i}const Ice=37297;let Lce=0;function zce(t,e){const n=t.split(`
`),i=[],r=Math.max(e-6,0),s=Math.min(e+6,n.length);for(let o=r;o<s;o++){const l=o+1;i.push(`${l===e?">":" "} ${l}: ${n[o]}`)}return i.join(`
`)}const R3=new nn;function Uce(t){Sn._getMatrix(R3,Sn.workingColorSpace,t);const e=`mat3( ${R3.elements.map(n=>n.toFixed(4))} )`;switch(Sn.getTransfer(t)){case Fy:return[e,"LinearTransferOETF"];case Gn:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",t),[e,"LinearTransferOETF"]}}function O3(t,e,n){const i=t.getShaderParameter(e,t.COMPILE_STATUS),s=(t.getShaderInfoLog(e)||"").trim();if(i&&s==="")return"";const o=/ERROR: 0:(\d+)/.exec(s);if(o){const l=parseInt(o[1]);return n.toUpperCase()+`

`+s+`

`+zce(t.getShaderSource(e),l)}else return s}function Vce(t,e){const n=Uce(e);return[`vec4 ${t}( vec4 value ) {`,`	return ${n[1]}( vec4( value.rgb * ${n[0]}, value.a ) );`,"}"].join(`
`)}function kce(t,e){let n;switch(e){case nB:n="Linear";break;case iB:n="Reinhard";break;case rB:n="Cineon";break;case tR:n="ACESFilmic";break;case aB:n="AgX";break;case oB:n="Neutral";break;case sB:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}const mS=new J;function Bce(){Sn.getLuminanceCoefficients(mS);const t=mS.x.toFixed(4),e=mS.y.toFixed(4),n=mS.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${t}, ${e}, ${n} );`,"	return dot( weights, rgb );","}"].join(`
`)}function Fce(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Yv).join(`
`)}function Hce(t){const e=[];for(const n in t){const i=t[n];i!==!1&&e.push("#define "+n+" "+i)}return e.join(`
`)}function Gce(t,e){const n={},i=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const s=t.getActiveAttrib(e,r),o=s.name;let l=1;s.type===t.FLOAT_MAT2&&(l=2),s.type===t.FLOAT_MAT3&&(l=3),s.type===t.FLOAT_MAT4&&(l=4),n[o]={type:s.type,location:t.getAttribLocation(e,o),locationSize:l}}return n}function Yv(t){return t!==""}function N3(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function D3(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const Wce=/^[ \t]*#include +<([\w\d./]+)>/gm;function yw(t){return t.replace(Wce,Xce)}const jce=new Map;function Xce(t,e){let n=ln[e];if(n===void 0){const i=jce.get(e);if(i!==void 0)n=ln[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i);else throw new Error("Can not resolve #include <"+e+">")}return yw(n)}const qce=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function P3(t){return t.replace(qce,Yce)}function Yce(t,e,n,i){let r="";for(let s=parseInt(e);s<parseInt(n);s++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function I3(t){let e=`precision ${t.precision} float;
	precision ${t.precision} int;
	precision ${t.precision} sampler2D;
	precision ${t.precision} samplerCube;
	precision ${t.precision} sampler3D;
	precision ${t.precision} sampler2DArray;
	precision ${t.precision} sampler2DShadow;
	precision ${t.precision} samplerCubeShadow;
	precision ${t.precision} sampler2DArrayShadow;
	precision ${t.precision} isampler2D;
	precision ${t.precision} isampler3D;
	precision ${t.precision} isamplerCube;
	precision ${t.precision} isampler2DArray;
	precision ${t.precision} usampler2D;
	precision ${t.precision} usampler3D;
	precision ${t.precision} usamplerCube;
	precision ${t.precision} usampler2DArray;
	`;return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function Kce(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===k1?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===ay?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===ko&&(e="SHADOWMAP_TYPE_VSM"),e}function $ce(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case Zc:case gd:e="ENVMAP_TYPE_CUBE";break;case qm:e="ENVMAP_TYPE_CUBE_UV";break}return e}function Zce(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case gd:e="ENVMAP_MODE_REFRACTION";break}return e}function Qce(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case v0:e="ENVMAP_BLENDING_MULTIPLY";break;case eB:e="ENVMAP_BLENDING_MIX";break;case tB:e="ENVMAP_BLENDING_ADD";break}return e}function Jce(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),112)),texelHeight:i,maxMip:n}}function eue(t,e,n,i){const r=t.getContext(),s=n.defines;let o=n.vertexShader,l=n.fragmentShader;const d=Kce(n),h=$ce(n),m=Zce(n),g=Qce(n),y=Jce(n),b=Fce(n),S=Hce(s),C=r.createProgram();let T,_,w=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(T=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,S].filter(Yv).join(`
`),T.length>0&&(T+=`
`),_=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,S].filter(Yv).join(`
`),_.length>0&&(_+=`
`)):(T=[I3(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,S,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.batchingColor?"#define USE_BATCHING_COLOR":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+m:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+d:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",n.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Yv).join(`
`),_=[I3(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,S,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+h:"",n.envMap?"#define "+m:"",n.envMap?"#define "+g:"",y?"#define CUBEUV_TEXEL_WIDTH "+y.texelWidth:"",y?"#define CUBEUV_TEXEL_HEIGHT "+y.texelHeight:"",y?"#define CUBEUV_MAX_MIP "+y.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor||n.batchingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+d:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",n.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",n.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==ql?"#define TONE_MAPPING":"",n.toneMapping!==ql?ln.tonemapping_pars_fragment:"",n.toneMapping!==ql?kce("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",ln.colorspace_pars_fragment,Vce("linearToOutputTexel",n.outputColorSpace),Bce(),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(Yv).join(`
`)),o=yw(o),o=N3(o,n),o=D3(o,n),l=yw(l),l=N3(l,n),l=D3(l,n),o=P3(o),l=P3(l),n.isRawShaderMaterial!==!0&&(w=`#version 300 es
`,T=[b,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+T,_=["#define varying in",n.glslVersion===cw?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===cw?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+_);const R=w+T+o,N=w+_+l,D=A3(r,r.VERTEX_SHADER,R),I=A3(r,r.FRAGMENT_SHADER,N);r.attachShader(C,D),r.attachShader(C,I),n.index0AttributeName!==void 0?r.bindAttribLocation(C,0,n.index0AttributeName):n.morphTargets===!0&&r.bindAttribLocation(C,0,"position"),r.linkProgram(C);function V(F){if(t.debug.checkShaderErrors){const j=r.getProgramInfoLog(C)||"",Z=r.getShaderInfoLog(D)||"",se=r.getShaderInfoLog(I)||"",ie=j.trim(),k=Z.trim(),q=se.trim();let $=!0,ne=!0;if(r.getProgramParameter(C,r.LINK_STATUS)===!1)if($=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(r,C,D,I);else{const G=O3(r,D,"vertex"),te=O3(r,I,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(C,r.VALIDATE_STATUS)+`

Material Name: `+F.name+`
Material Type: `+F.type+`

Program Info Log: `+ie+`
`+G+`
`+te)}else ie!==""?console.warn("THREE.WebGLProgram: Program Info Log:",ie):(k===""||q==="")&&(ne=!1);ne&&(F.diagnostics={runnable:$,programLog:ie,vertexShader:{log:k,prefix:T},fragmentShader:{log:q,prefix:_}})}r.deleteShader(D),r.deleteShader(I),B=new FS(r,C),L=Gce(r,C)}let B;this.getUniforms=function(){return B===void 0&&V(this),B};let L;this.getAttributes=function(){return L===void 0&&V(this),L};let z=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return z===!1&&(z=r.getProgramParameter(C,Ice)),z},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(C),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=Lce++,this.cacheKey=e,this.usedTimes=1,this.program=C,this.vertexShader=D,this.fragmentShader=I,this}let tue=0;class nue{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,i=e.fragmentShader,r=this._getShaderStage(n),s=this._getShaderStage(i),o=this._getShaderCacheForMaterial(e);return o.has(r)===!1&&(o.add(r),r.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const i of n)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let i=n.get(e);return i===void 0&&(i=new Set,n.set(e,i)),i}_getShaderStage(e){const n=this.shaderCache;let i=n.get(e);return i===void 0&&(i=new iue(e),n.set(e,i)),i}}class iue{constructor(e){this.id=tue++,this.code=e,this.usedTimes=0}}function rue(t,e,n,i,r,s,o){const l=new Pm,d=new nue,h=new Set,m=[],g=r.logarithmicDepthBuffer,y=r.vertexTextures;let b=r.precision;const S={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function C(L){return h.add(L),L===0?"uv":`uv${L}`}function T(L,z,F,j,Z){const se=j.fog,ie=Z.geometry,k=L.isMeshStandardMaterial?j.environment:null,q=(L.isMeshStandardMaterial?n:e).get(L.envMap||k),$=q&&q.mapping===qm?q.image.height:null,ne=S[L.type];L.precision!==null&&(b=r.getMaxPrecision(L.precision),b!==L.precision&&console.warn("THREE.WebGLProgram.getParameters:",L.precision,"not supported, using",b,"instead."));const G=ie.morphAttributes.position||ie.morphAttributes.normal||ie.morphAttributes.color,te=G!==void 0?G.length:0;let ve=0;ie.morphAttributes.position!==void 0&&(ve=1),ie.morphAttributes.normal!==void 0&&(ve=2),ie.morphAttributes.color!==void 0&&(ve=3);let Me,De,qe,me;if(ne){const fn=Bo[ne];Me=fn.vertexShader,De=fn.fragmentShader}else Me=L.vertexShader,De=L.fragmentShader,d.update(L),qe=d.getVertexShaderID(L),me=d.getFragmentShaderID(L);const Pe=t.getRenderTarget(),de=t.state.buffers.depth.getReversed(),_e=Z.isInstancedMesh===!0,Xe=Z.isBatchedMesh===!0,dt=!!L.map,Rt=!!L.matcap,ee=!!q,Ve=!!L.aoMap,Ue=!!L.lightMap,Ie=!!L.bumpMap,Ne=!!L.normalMap,it=!!L.displacementMap,je=!!L.emissiveMap,Ke=!!L.metalnessMap,Tt=!!L.roughnessMap,Pt=L.anisotropy>0,Q=L.clearcoat>0,W=L.dispersion>0,ye=L.iridescence>0,Re=L.sheen>0,ke=L.transmission>0,Oe=Pt&&!!L.anisotropyMap,lt=Q&&!!L.clearcoatMap,tt=Q&&!!L.clearcoatNormalMap,gt=Q&&!!L.clearcoatRoughnessMap,vt=ye&&!!L.iridescenceMap,We=ye&&!!L.iridescenceThicknessMap,st=Re&&!!L.sheenColorMap,Et=Re&&!!L.sheenRoughnessMap,yt=!!L.specularMap,at=!!L.specularColorMap,Ft=!!L.specularIntensityMap,ce=ke&&!!L.transmissionMap,Qe=ke&&!!L.thicknessMap,nt=!!L.gradientMap,ht=!!L.alphaMap,Ye=L.alphaTest>0,Fe=!!L.alphaHash,xt=!!L.extensions;let It=ql;L.toneMapped&&(Pe===null||Pe.isXRRenderTarget===!0)&&(It=t.toneMapping);const gn={shaderID:ne,shaderType:L.type,shaderName:L.name,vertexShader:Me,fragmentShader:De,defines:L.defines,customVertexShaderID:qe,customFragmentShaderID:me,isRawShaderMaterial:L.isRawShaderMaterial===!0,glslVersion:L.glslVersion,precision:b,batching:Xe,batchingColor:Xe&&Z._colorsTexture!==null,instancing:_e,instancingColor:_e&&Z.instanceColor!==null,instancingMorph:_e&&Z.morphTexture!==null,supportsVertexTextures:y,outputColorSpace:Pe===null?t.outputColorSpace:Pe.isXRRenderTarget===!0?Pe.texture.colorSpace:vd,alphaToCoverage:!!L.alphaToCoverage,map:dt,matcap:Rt,envMap:ee,envMapMode:ee&&q.mapping,envMapCubeUVHeight:$,aoMap:Ve,lightMap:Ue,bumpMap:Ie,normalMap:Ne,displacementMap:y&&it,emissiveMap:je,normalMapObjectSpace:Ne&&L.normalMapType===pB,normalMapTangentSpace:Ne&&L.normalMapType===Sd,metalnessMap:Ke,roughnessMap:Tt,anisotropy:Pt,anisotropyMap:Oe,clearcoat:Q,clearcoatMap:lt,clearcoatNormalMap:tt,clearcoatRoughnessMap:gt,dispersion:W,iridescence:ye,iridescenceMap:vt,iridescenceThicknessMap:We,sheen:Re,sheenColorMap:st,sheenRoughnessMap:Et,specularMap:yt,specularColorMap:at,specularIntensityMap:Ft,transmission:ke,transmissionMap:ce,thicknessMap:Qe,gradientMap:nt,opaque:L.transparent===!1&&L.blending===ih&&L.alphaToCoverage===!1,alphaMap:ht,alphaTest:Ye,alphaHash:Fe,combine:L.combine,mapUv:dt&&C(L.map.channel),aoMapUv:Ve&&C(L.aoMap.channel),lightMapUv:Ue&&C(L.lightMap.channel),bumpMapUv:Ie&&C(L.bumpMap.channel),normalMapUv:Ne&&C(L.normalMap.channel),displacementMapUv:it&&C(L.displacementMap.channel),emissiveMapUv:je&&C(L.emissiveMap.channel),metalnessMapUv:Ke&&C(L.metalnessMap.channel),roughnessMapUv:Tt&&C(L.roughnessMap.channel),anisotropyMapUv:Oe&&C(L.anisotropyMap.channel),clearcoatMapUv:lt&&C(L.clearcoatMap.channel),clearcoatNormalMapUv:tt&&C(L.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:gt&&C(L.clearcoatRoughnessMap.channel),iridescenceMapUv:vt&&C(L.iridescenceMap.channel),iridescenceThicknessMapUv:We&&C(L.iridescenceThicknessMap.channel),sheenColorMapUv:st&&C(L.sheenColorMap.channel),sheenRoughnessMapUv:Et&&C(L.sheenRoughnessMap.channel),specularMapUv:yt&&C(L.specularMap.channel),specularColorMapUv:at&&C(L.specularColorMap.channel),specularIntensityMapUv:Ft&&C(L.specularIntensityMap.channel),transmissionMapUv:ce&&C(L.transmissionMap.channel),thicknessMapUv:Qe&&C(L.thicknessMap.channel),alphaMapUv:ht&&C(L.alphaMap.channel),vertexTangents:!!ie.attributes.tangent&&(Ne||Pt),vertexColors:L.vertexColors,vertexAlphas:L.vertexColors===!0&&!!ie.attributes.color&&ie.attributes.color.itemSize===4,pointsUvs:Z.isPoints===!0&&!!ie.attributes.uv&&(dt||ht),fog:!!se,useFog:L.fog===!0,fogExp2:!!se&&se.isFogExp2,flatShading:L.flatShading===!0&&L.wireframe===!1,sizeAttenuation:L.sizeAttenuation===!0,logarithmicDepthBuffer:g,reversedDepthBuffer:de,skinning:Z.isSkinnedMesh===!0,morphTargets:ie.morphAttributes.position!==void 0,morphNormals:ie.morphAttributes.normal!==void 0,morphColors:ie.morphAttributes.color!==void 0,morphTargetsCount:te,morphTextureStride:ve,numDirLights:z.directional.length,numPointLights:z.point.length,numSpotLights:z.spot.length,numSpotLightMaps:z.spotLightMap.length,numRectAreaLights:z.rectArea.length,numHemiLights:z.hemi.length,numDirLightShadows:z.directionalShadowMap.length,numPointLightShadows:z.pointShadowMap.length,numSpotLightShadows:z.spotShadowMap.length,numSpotLightShadowsWithMaps:z.numSpotLightShadowsWithMaps,numLightProbes:z.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:L.dithering,shadowMapEnabled:t.shadowMap.enabled&&F.length>0,shadowMapType:t.shadowMap.type,toneMapping:It,decodeVideoTexture:dt&&L.map.isVideoTexture===!0&&Sn.getTransfer(L.map.colorSpace)===Gn,decodeVideoTextureEmissive:je&&L.emissiveMap.isVideoTexture===!0&&Sn.getTransfer(L.emissiveMap.colorSpace)===Gn,premultipliedAlpha:L.premultipliedAlpha,doubleSided:L.side===Vl,flipSided:L.side===Os,useDepthPacking:L.depthPacking>=0,depthPacking:L.depthPacking||0,index0AttributeName:L.index0AttributeName,extensionClipCullDistance:xt&&L.extensions.clipCullDistance===!0&&i.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(xt&&L.extensions.multiDraw===!0||Xe)&&i.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:L.customProgramCacheKey()};return gn.vertexUv1s=h.has(1),gn.vertexUv2s=h.has(2),gn.vertexUv3s=h.has(3),h.clear(),gn}function _(L){const z=[];if(L.shaderID?z.push(L.shaderID):(z.push(L.customVertexShaderID),z.push(L.customFragmentShaderID)),L.defines!==void 0)for(const F in L.defines)z.push(F),z.push(L.defines[F]);return L.isRawShaderMaterial===!1&&(w(z,L),R(z,L),z.push(t.outputColorSpace)),z.push(L.customProgramCacheKey),z.join()}function w(L,z){L.push(z.precision),L.push(z.outputColorSpace),L.push(z.envMapMode),L.push(z.envMapCubeUVHeight),L.push(z.mapUv),L.push(z.alphaMapUv),L.push(z.lightMapUv),L.push(z.aoMapUv),L.push(z.bumpMapUv),L.push(z.normalMapUv),L.push(z.displacementMapUv),L.push(z.emissiveMapUv),L.push(z.metalnessMapUv),L.push(z.roughnessMapUv),L.push(z.anisotropyMapUv),L.push(z.clearcoatMapUv),L.push(z.clearcoatNormalMapUv),L.push(z.clearcoatRoughnessMapUv),L.push(z.iridescenceMapUv),L.push(z.iridescenceThicknessMapUv),L.push(z.sheenColorMapUv),L.push(z.sheenRoughnessMapUv),L.push(z.specularMapUv),L.push(z.specularColorMapUv),L.push(z.specularIntensityMapUv),L.push(z.transmissionMapUv),L.push(z.thicknessMapUv),L.push(z.combine),L.push(z.fogExp2),L.push(z.sizeAttenuation),L.push(z.morphTargetsCount),L.push(z.morphAttributeCount),L.push(z.numDirLights),L.push(z.numPointLights),L.push(z.numSpotLights),L.push(z.numSpotLightMaps),L.push(z.numHemiLights),L.push(z.numRectAreaLights),L.push(z.numDirLightShadows),L.push(z.numPointLightShadows),L.push(z.numSpotLightShadows),L.push(z.numSpotLightShadowsWithMaps),L.push(z.numLightProbes),L.push(z.shadowMapType),L.push(z.toneMapping),L.push(z.numClippingPlanes),L.push(z.numClipIntersection),L.push(z.depthPacking)}function R(L,z){l.disableAll(),z.supportsVertexTextures&&l.enable(0),z.instancing&&l.enable(1),z.instancingColor&&l.enable(2),z.instancingMorph&&l.enable(3),z.matcap&&l.enable(4),z.envMap&&l.enable(5),z.normalMapObjectSpace&&l.enable(6),z.normalMapTangentSpace&&l.enable(7),z.clearcoat&&l.enable(8),z.iridescence&&l.enable(9),z.alphaTest&&l.enable(10),z.vertexColors&&l.enable(11),z.vertexAlphas&&l.enable(12),z.vertexUv1s&&l.enable(13),z.vertexUv2s&&l.enable(14),z.vertexUv3s&&l.enable(15),z.vertexTangents&&l.enable(16),z.anisotropy&&l.enable(17),z.alphaHash&&l.enable(18),z.batching&&l.enable(19),z.dispersion&&l.enable(20),z.batchingColor&&l.enable(21),z.gradientMap&&l.enable(22),L.push(l.mask),l.disableAll(),z.fog&&l.enable(0),z.useFog&&l.enable(1),z.flatShading&&l.enable(2),z.logarithmicDepthBuffer&&l.enable(3),z.reversedDepthBuffer&&l.enable(4),z.skinning&&l.enable(5),z.morphTargets&&l.enable(6),z.morphNormals&&l.enable(7),z.morphColors&&l.enable(8),z.premultipliedAlpha&&l.enable(9),z.shadowMapEnabled&&l.enable(10),z.doubleSided&&l.enable(11),z.flipSided&&l.enable(12),z.useDepthPacking&&l.enable(13),z.dithering&&l.enable(14),z.transmission&&l.enable(15),z.sheen&&l.enable(16),z.opaque&&l.enable(17),z.pointsUvs&&l.enable(18),z.decodeVideoTexture&&l.enable(19),z.decodeVideoTextureEmissive&&l.enable(20),z.alphaToCoverage&&l.enable(21),L.push(l.mask)}function N(L){const z=S[L.type];let F;if(z){const j=Bo[z];F=wB.clone(j.uniforms)}else F=L.uniforms;return F}function D(L,z){let F;for(let j=0,Z=m.length;j<Z;j++){const se=m[j];if(se.cacheKey===z){F=se,++F.usedTimes;break}}return F===void 0&&(F=new eue(t,z,L,s),m.push(F)),F}function I(L){if(--L.usedTimes===0){const z=m.indexOf(L);m[z]=m[m.length-1],m.pop(),L.destroy()}}function V(L){d.remove(L)}function B(){d.dispose()}return{getParameters:T,getProgramCacheKey:_,getUniforms:N,acquireProgram:D,releaseProgram:I,releaseShaderCache:V,programs:m,dispose:B}}function sue(){let t=new WeakMap;function e(o){return t.has(o)}function n(o){let l=t.get(o);return l===void 0&&(l={},t.set(o,l)),l}function i(o){t.delete(o)}function r(o,l,d){t.get(o)[l]=d}function s(){t=new WeakMap}return{has:e,get:n,remove:i,update:r,dispose:s}}function aue(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function L3(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function z3(){const t=[];let e=0;const n=[],i=[],r=[];function s(){e=0,n.length=0,i.length=0,r.length=0}function o(g,y,b,S,C,T){let _=t[e];return _===void 0?(_={id:g.id,object:g,geometry:y,material:b,groupOrder:S,renderOrder:g.renderOrder,z:C,group:T},t[e]=_):(_.id=g.id,_.object=g,_.geometry=y,_.material=b,_.groupOrder=S,_.renderOrder=g.renderOrder,_.z=C,_.group=T),e++,_}function l(g,y,b,S,C,T){const _=o(g,y,b,S,C,T);b.transmission>0?i.push(_):b.transparent===!0?r.push(_):n.push(_)}function d(g,y,b,S,C,T){const _=o(g,y,b,S,C,T);b.transmission>0?i.unshift(_):b.transparent===!0?r.unshift(_):n.unshift(_)}function h(g,y){n.length>1&&n.sort(g||aue),i.length>1&&i.sort(y||L3),r.length>1&&r.sort(y||L3)}function m(){for(let g=e,y=t.length;g<y;g++){const b=t[g];if(b.id===null)break;b.id=null,b.object=null,b.geometry=null,b.material=null,b.group=null}}return{opaque:n,transmissive:i,transparent:r,init:s,push:l,unshift:d,finish:m,sort:h}}function oue(){let t=new WeakMap;function e(i,r){const s=t.get(i);let o;return s===void 0?(o=new z3,t.set(i,[o])):r>=s.length?(o=new z3,s.push(o)):o=s[r],o}function n(){t=new WeakMap}return{get:e,dispose:n}}function lue(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new J,color:new mt};break;case"SpotLight":n={position:new J,direction:new J,color:new mt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new J,color:new mt,distance:0,decay:0};break;case"HemisphereLight":n={direction:new J,skyColor:new mt,groundColor:new mt};break;case"RectAreaLight":n={color:new mt,position:new J,halfWidth:new J,halfHeight:new J};break}return t[e.id]=n,n}}}function cue(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ge};break;case"SpotLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ge};break;case"PointLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ge,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let uue=0;function due(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function fue(t){const e=new lue,n=cue(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let h=0;h<9;h++)i.probe.push(new J);const r=new J,s=new qt,o=new qt;function l(h){let m=0,g=0,y=0;for(let L=0;L<9;L++)i.probe[L].set(0,0,0);let b=0,S=0,C=0,T=0,_=0,w=0,R=0,N=0,D=0,I=0,V=0;h.sort(due);for(let L=0,z=h.length;L<z;L++){const F=h[L],j=F.color,Z=F.intensity,se=F.distance,ie=F.shadow&&F.shadow.map?F.shadow.map.texture:null;if(F.isAmbientLight)m+=j.r*Z,g+=j.g*Z,y+=j.b*Z;else if(F.isLightProbe){for(let k=0;k<9;k++)i.probe[k].addScaledVector(F.sh.coefficients[k],Z);V++}else if(F.isDirectionalLight){const k=e.get(F);if(k.color.copy(F.color).multiplyScalar(F.intensity),F.castShadow){const q=F.shadow,$=n.get(F);$.shadowIntensity=q.intensity,$.shadowBias=q.bias,$.shadowNormalBias=q.normalBias,$.shadowRadius=q.radius,$.shadowMapSize=q.mapSize,i.directionalShadow[b]=$,i.directionalShadowMap[b]=ie,i.directionalShadowMatrix[b]=F.shadow.matrix,w++}i.directional[b]=k,b++}else if(F.isSpotLight){const k=e.get(F);k.position.setFromMatrixPosition(F.matrixWorld),k.color.copy(j).multiplyScalar(Z),k.distance=se,k.coneCos=Math.cos(F.angle),k.penumbraCos=Math.cos(F.angle*(1-F.penumbra)),k.decay=F.decay,i.spot[C]=k;const q=F.shadow;if(F.map&&(i.spotLightMap[D]=F.map,D++,q.updateMatrices(F),F.castShadow&&I++),i.spotLightMatrix[C]=q.matrix,F.castShadow){const $=n.get(F);$.shadowIntensity=q.intensity,$.shadowBias=q.bias,$.shadowNormalBias=q.normalBias,$.shadowRadius=q.radius,$.shadowMapSize=q.mapSize,i.spotShadow[C]=$,i.spotShadowMap[C]=ie,N++}C++}else if(F.isRectAreaLight){const k=e.get(F);k.color.copy(j).multiplyScalar(Z),k.halfWidth.set(F.width*.5,0,0),k.halfHeight.set(0,F.height*.5,0),i.rectArea[T]=k,T++}else if(F.isPointLight){const k=e.get(F);if(k.color.copy(F.color).multiplyScalar(F.intensity),k.distance=F.distance,k.decay=F.decay,F.castShadow){const q=F.shadow,$=n.get(F);$.shadowIntensity=q.intensity,$.shadowBias=q.bias,$.shadowNormalBias=q.normalBias,$.shadowRadius=q.radius,$.shadowMapSize=q.mapSize,$.shadowCameraNear=q.camera.near,$.shadowCameraFar=q.camera.far,i.pointShadow[S]=$,i.pointShadowMap[S]=ie,i.pointShadowMatrix[S]=F.shadow.matrix,R++}i.point[S]=k,S++}else if(F.isHemisphereLight){const k=e.get(F);k.skyColor.copy(F.color).multiplyScalar(Z),k.groundColor.copy(F.groundColor).multiplyScalar(Z),i.hemi[_]=k,_++}}T>0&&(t.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=ut.LTC_FLOAT_1,i.rectAreaLTC2=ut.LTC_FLOAT_2):(i.rectAreaLTC1=ut.LTC_HALF_1,i.rectAreaLTC2=ut.LTC_HALF_2)),i.ambient[0]=m,i.ambient[1]=g,i.ambient[2]=y;const B=i.hash;(B.directionalLength!==b||B.pointLength!==S||B.spotLength!==C||B.rectAreaLength!==T||B.hemiLength!==_||B.numDirectionalShadows!==w||B.numPointShadows!==R||B.numSpotShadows!==N||B.numSpotMaps!==D||B.numLightProbes!==V)&&(i.directional.length=b,i.spot.length=C,i.rectArea.length=T,i.point.length=S,i.hemi.length=_,i.directionalShadow.length=w,i.directionalShadowMap.length=w,i.pointShadow.length=R,i.pointShadowMap.length=R,i.spotShadow.length=N,i.spotShadowMap.length=N,i.directionalShadowMatrix.length=w,i.pointShadowMatrix.length=R,i.spotLightMatrix.length=N+D-I,i.spotLightMap.length=D,i.numSpotLightShadowsWithMaps=I,i.numLightProbes=V,B.directionalLength=b,B.pointLength=S,B.spotLength=C,B.rectAreaLength=T,B.hemiLength=_,B.numDirectionalShadows=w,B.numPointShadows=R,B.numSpotShadows=N,B.numSpotMaps=D,B.numLightProbes=V,i.version=uue++)}function d(h,m){let g=0,y=0,b=0,S=0,C=0;const T=m.matrixWorldInverse;for(let _=0,w=h.length;_<w;_++){const R=h[_];if(R.isDirectionalLight){const N=i.directional[g];N.direction.setFromMatrixPosition(R.matrixWorld),r.setFromMatrixPosition(R.target.matrixWorld),N.direction.sub(r),N.direction.transformDirection(T),g++}else if(R.isSpotLight){const N=i.spot[b];N.position.setFromMatrixPosition(R.matrixWorld),N.position.applyMatrix4(T),N.direction.setFromMatrixPosition(R.matrixWorld),r.setFromMatrixPosition(R.target.matrixWorld),N.direction.sub(r),N.direction.transformDirection(T),b++}else if(R.isRectAreaLight){const N=i.rectArea[S];N.position.setFromMatrixPosition(R.matrixWorld),N.position.applyMatrix4(T),o.identity(),s.copy(R.matrixWorld),s.premultiply(T),o.extractRotation(s),N.halfWidth.set(R.width*.5,0,0),N.halfHeight.set(0,R.height*.5,0),N.halfWidth.applyMatrix4(o),N.halfHeight.applyMatrix4(o),S++}else if(R.isPointLight){const N=i.point[y];N.position.setFromMatrixPosition(R.matrixWorld),N.position.applyMatrix4(T),y++}else if(R.isHemisphereLight){const N=i.hemi[C];N.direction.setFromMatrixPosition(R.matrixWorld),N.direction.transformDirection(T),C++}}}return{setup:l,setupView:d,state:i}}function U3(t){const e=new fue(t),n=[],i=[];function r(m){h.camera=m,n.length=0,i.length=0}function s(m){n.push(m)}function o(m){i.push(m)}function l(){e.setup(n)}function d(m){e.setupView(n,m)}const h={lightsArray:n,shadowsArray:i,camera:null,lights:e,transmissionRenderTarget:{}};return{init:r,state:h,setupLights:l,setupLightsView:d,pushLight:s,pushShadow:o}}function hue(t){let e=new WeakMap;function n(r,s=0){const o=e.get(r);let l;return o===void 0?(l=new U3(t),e.set(r,[l])):s>=o.length?(l=new U3(t),o.push(l)):l=o[s],l}function i(){e=new WeakMap}return{get:n,dispose:i}}const pue=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,mue=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function gue(t,e,n){let i=new $m;const r=new Ge,s=new Ge,o=new Cn,l=new RR({depthPacking:hB}),d=new OR,h={},m=n.maxTextureSize,g={[$c]:Os,[Os]:$c,[Vl]:Vl},y=new oo({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Ge},radius:{value:4}},vertexShader:pue,fragmentShader:mue}),b=y.clone();b.defines.HORIZONTAL_PASS=1;const S=new an;S.setAttribute("position",new Zn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const C=new Ki(S,y),T=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=k1;let _=this.type;this.render=function(I,V,B){if(T.enabled===!1||T.autoUpdate===!1&&T.needsUpdate===!1||I.length===0)return;const L=t.getRenderTarget(),z=t.getActiveCubeFace(),F=t.getActiveMipmapLevel(),j=t.state;j.setBlending(Gc),j.buffers.depth.getReversed()===!0?j.buffers.color.setClear(0,0,0,0):j.buffers.color.setClear(1,1,1,1),j.buffers.depth.setTest(!0),j.setScissorTest(!1);const Z=_!==ko&&this.type===ko,se=_===ko&&this.type!==ko;for(let ie=0,k=I.length;ie<k;ie++){const q=I[ie],$=q.shadow;if($===void 0){console.warn("THREE.WebGLShadowMap:",q,"has no shadow.");continue}if($.autoUpdate===!1&&$.needsUpdate===!1)continue;r.copy($.mapSize);const ne=$.getFrameExtents();if(r.multiply(ne),s.copy($.mapSize),(r.x>m||r.y>m)&&(r.x>m&&(s.x=Math.floor(m/ne.x),r.x=s.x*ne.x,$.mapSize.x=s.x),r.y>m&&(s.y=Math.floor(m/ne.y),r.y=s.y*ne.y,$.mapSize.y=s.y)),$.map===null||Z===!0||se===!0){const te=this.type!==ko?{minFilter:kr,magFilter:kr}:{};$.map!==null&&$.map.dispose(),$.map=new ec(r.x,r.y,te),$.map.texture.name=q.name+".shadowMap",$.camera.updateProjectionMatrix()}t.setRenderTarget($.map),t.clear();const G=$.getViewportCount();for(let te=0;te<G;te++){const ve=$.getViewport(te);o.set(s.x*ve.x,s.y*ve.y,s.x*ve.z,s.y*ve.w),j.viewport(o),$.updateMatrices(q,te),i=$.getFrustum(),N(V,B,$.camera,q,this.type)}$.isPointLightShadow!==!0&&this.type===ko&&w($,B),$.needsUpdate=!1}_=this.type,T.needsUpdate=!1,t.setRenderTarget(L,z,F)};function w(I,V){const B=e.update(C);y.defines.VSM_SAMPLES!==I.blurSamples&&(y.defines.VSM_SAMPLES=I.blurSamples,b.defines.VSM_SAMPLES=I.blurSamples,y.needsUpdate=!0,b.needsUpdate=!0),I.mapPass===null&&(I.mapPass=new ec(r.x,r.y)),y.uniforms.shadow_pass.value=I.map.texture,y.uniforms.resolution.value=I.mapSize,y.uniforms.radius.value=I.radius,t.setRenderTarget(I.mapPass),t.clear(),t.renderBufferDirect(V,null,B,y,C,null),b.uniforms.shadow_pass.value=I.mapPass.texture,b.uniforms.resolution.value=I.mapSize,b.uniforms.radius.value=I.radius,t.setRenderTarget(I.map),t.clear(),t.renderBufferDirect(V,null,B,b,C,null)}function R(I,V,B,L){let z=null;const F=B.isPointLight===!0?I.customDistanceMaterial:I.customDepthMaterial;if(F!==void 0)z=F;else if(z=B.isPointLight===!0?d:l,t.localClippingEnabled&&V.clipShadows===!0&&Array.isArray(V.clippingPlanes)&&V.clippingPlanes.length!==0||V.displacementMap&&V.displacementScale!==0||V.alphaMap&&V.alphaTest>0||V.map&&V.alphaTest>0||V.alphaToCoverage===!0){const j=z.uuid,Z=V.uuid;let se=h[j];se===void 0&&(se={},h[j]=se);let ie=se[Z];ie===void 0&&(ie=z.clone(),se[Z]=ie,V.addEventListener("dispose",D)),z=ie}if(z.visible=V.visible,z.wireframe=V.wireframe,L===ko?z.side=V.shadowSide!==null?V.shadowSide:V.side:z.side=V.shadowSide!==null?V.shadowSide:g[V.side],z.alphaMap=V.alphaMap,z.alphaTest=V.alphaToCoverage===!0?.5:V.alphaTest,z.map=V.map,z.clipShadows=V.clipShadows,z.clippingPlanes=V.clippingPlanes,z.clipIntersection=V.clipIntersection,z.displacementMap=V.displacementMap,z.displacementScale=V.displacementScale,z.displacementBias=V.displacementBias,z.wireframeLinewidth=V.wireframeLinewidth,z.linewidth=V.linewidth,B.isPointLight===!0&&z.isMeshDistanceMaterial===!0){const j=t.properties.get(z);j.light=B}return z}function N(I,V,B,L,z){if(I.visible===!1)return;if(I.layers.test(V.layers)&&(I.isMesh||I.isLine||I.isPoints)&&(I.castShadow||I.receiveShadow&&z===ko)&&(!I.frustumCulled||i.intersectsObject(I))){I.modelViewMatrix.multiplyMatrices(B.matrixWorldInverse,I.matrixWorld);const Z=e.update(I),se=I.material;if(Array.isArray(se)){const ie=Z.groups;for(let k=0,q=ie.length;k<q;k++){const $=ie[k],ne=se[$.materialIndex];if(ne&&ne.visible){const G=R(I,ne,L,z);I.onBeforeShadow(t,I,V,B,Z,G,$),t.renderBufferDirect(B,null,Z,G,I,$),I.onAfterShadow(t,I,V,B,Z,G,$)}}}else if(se.visible){const ie=R(I,se,L,z);I.onBeforeShadow(t,I,V,B,Z,ie,null),t.renderBufferDirect(B,null,Z,ie,I,null),I.onAfterShadow(t,I,V,B,Z,ie,null)}}const j=I.children;for(let Z=0,se=j.length;Z<se;Z++)N(j[Z],V,B,L,z)}function D(I){I.target.removeEventListener("dispose",D);for(const B in h){const L=h[B],z=I.target.uuid;z in L&&(L[z].dispose(),delete L[z])}}}const vue={[p_]:m_,[g_]:x_,[v_]:b_,[ch]:y_,[m_]:p_,[x_]:g_,[b_]:v_,[y_]:ch};function yue(t,e){function n(){let ce=!1;const Qe=new Cn;let nt=null;const ht=new Cn(0,0,0,0);return{setMask:function(Ye){nt!==Ye&&!ce&&(t.colorMask(Ye,Ye,Ye,Ye),nt=Ye)},setLocked:function(Ye){ce=Ye},setClear:function(Ye,Fe,xt,It,gn){gn===!0&&(Ye*=It,Fe*=It,xt*=It),Qe.set(Ye,Fe,xt,It),ht.equals(Qe)===!1&&(t.clearColor(Ye,Fe,xt,It),ht.copy(Qe))},reset:function(){ce=!1,nt=null,ht.set(-1,0,0,0)}}}function i(){let ce=!1,Qe=!1,nt=null,ht=null,Ye=null;return{setReversed:function(Fe){if(Qe!==Fe){const xt=e.get("EXT_clip_control");Fe?xt.clipControlEXT(xt.LOWER_LEFT_EXT,xt.ZERO_TO_ONE_EXT):xt.clipControlEXT(xt.LOWER_LEFT_EXT,xt.NEGATIVE_ONE_TO_ONE_EXT),Qe=Fe;const It=Ye;Ye=null,this.setClear(It)}},getReversed:function(){return Qe},setTest:function(Fe){Fe?Pe(t.DEPTH_TEST):de(t.DEPTH_TEST)},setMask:function(Fe){nt!==Fe&&!ce&&(t.depthMask(Fe),nt=Fe)},setFunc:function(Fe){if(Qe&&(Fe=vue[Fe]),ht!==Fe){switch(Fe){case p_:t.depthFunc(t.NEVER);break;case m_:t.depthFunc(t.ALWAYS);break;case g_:t.depthFunc(t.LESS);break;case ch:t.depthFunc(t.LEQUAL);break;case v_:t.depthFunc(t.EQUAL);break;case y_:t.depthFunc(t.GEQUAL);break;case x_:t.depthFunc(t.GREATER);break;case b_:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}ht=Fe}},setLocked:function(Fe){ce=Fe},setClear:function(Fe){Ye!==Fe&&(Qe&&(Fe=1-Fe),t.clearDepth(Fe),Ye=Fe)},reset:function(){ce=!1,nt=null,ht=null,Ye=null,Qe=!1}}}function r(){let ce=!1,Qe=null,nt=null,ht=null,Ye=null,Fe=null,xt=null,It=null,gn=null;return{setTest:function(fn){ce||(fn?Pe(t.STENCIL_TEST):de(t.STENCIL_TEST))},setMask:function(fn){Qe!==fn&&!ce&&(t.stencilMask(fn),Qe=fn)},setFunc:function(fn,Ps,Ti){(nt!==fn||ht!==Ps||Ye!==Ti)&&(t.stencilFunc(fn,Ps,Ti),nt=fn,ht=Ps,Ye=Ti)},setOp:function(fn,Ps,Ti){(Fe!==fn||xt!==Ps||It!==Ti)&&(t.stencilOp(fn,Ps,Ti),Fe=fn,xt=Ps,It=Ti)},setLocked:function(fn){ce=fn},setClear:function(fn){gn!==fn&&(t.clearStencil(fn),gn=fn)},reset:function(){ce=!1,Qe=null,nt=null,ht=null,Ye=null,Fe=null,xt=null,It=null,gn=null}}}const s=new n,o=new i,l=new r,d=new WeakMap,h=new WeakMap;let m={},g={},y=new WeakMap,b=[],S=null,C=!1,T=null,_=null,w=null,R=null,N=null,D=null,I=null,V=new mt(0,0,0),B=0,L=!1,z=null,F=null,j=null,Z=null,se=null;const ie=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let k=!1,q=0;const $=t.getParameter(t.VERSION);$.indexOf("WebGL")!==-1?(q=parseFloat(/^WebGL (\d)/.exec($)[1]),k=q>=1):$.indexOf("OpenGL ES")!==-1&&(q=parseFloat(/^OpenGL ES (\d)/.exec($)[1]),k=q>=2);let ne=null,G={};const te=t.getParameter(t.SCISSOR_BOX),ve=t.getParameter(t.VIEWPORT),Me=new Cn().fromArray(te),De=new Cn().fromArray(ve);function qe(ce,Qe,nt,ht){const Ye=new Uint8Array(4),Fe=t.createTexture();t.bindTexture(ce,Fe),t.texParameteri(ce,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(ce,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let xt=0;xt<nt;xt++)ce===t.TEXTURE_3D||ce===t.TEXTURE_2D_ARRAY?t.texImage3D(Qe,0,t.RGBA,1,1,ht,0,t.RGBA,t.UNSIGNED_BYTE,Ye):t.texImage2D(Qe+xt,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,Ye);return Fe}const me={};me[t.TEXTURE_2D]=qe(t.TEXTURE_2D,t.TEXTURE_2D,1),me[t.TEXTURE_CUBE_MAP]=qe(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),me[t.TEXTURE_2D_ARRAY]=qe(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),me[t.TEXTURE_3D]=qe(t.TEXTURE_3D,t.TEXTURE_3D,1,1),s.setClear(0,0,0,1),o.setClear(1),l.setClear(0),Pe(t.DEPTH_TEST),o.setFunc(ch),Ie(!1),Ne(rw),Pe(t.CULL_FACE),Ve(Gc);function Pe(ce){m[ce]!==!0&&(t.enable(ce),m[ce]=!0)}function de(ce){m[ce]!==!1&&(t.disable(ce),m[ce]=!1)}function _e(ce,Qe){return g[ce]!==Qe?(t.bindFramebuffer(ce,Qe),g[ce]=Qe,ce===t.DRAW_FRAMEBUFFER&&(g[t.FRAMEBUFFER]=Qe),ce===t.FRAMEBUFFER&&(g[t.DRAW_FRAMEBUFFER]=Qe),!0):!1}function Xe(ce,Qe){let nt=b,ht=!1;if(ce){nt=y.get(Qe),nt===void 0&&(nt=[],y.set(Qe,nt));const Ye=ce.textures;if(nt.length!==Ye.length||nt[0]!==t.COLOR_ATTACHMENT0){for(let Fe=0,xt=Ye.length;Fe<xt;Fe++)nt[Fe]=t.COLOR_ATTACHMENT0+Fe;nt.length=Ye.length,ht=!0}}else nt[0]!==t.BACK&&(nt[0]=t.BACK,ht=!0);ht&&t.drawBuffers(nt)}function dt(ce){return S!==ce?(t.useProgram(ce),S=ce,!0):!1}const Rt={[cd]:t.FUNC_ADD,[Uk]:t.FUNC_SUBTRACT,[Vk]:t.FUNC_REVERSE_SUBTRACT};Rt[kk]=t.MIN,Rt[Bk]=t.MAX;const ee={[Fk]:t.ZERO,[Hk]:t.ONE,[Gk]:t.SRC_COLOR,[f_]:t.SRC_ALPHA,[Kk]:t.SRC_ALPHA_SATURATE,[qk]:t.DST_COLOR,[jk]:t.DST_ALPHA,[Wk]:t.ONE_MINUS_SRC_COLOR,[h_]:t.ONE_MINUS_SRC_ALPHA,[Yk]:t.ONE_MINUS_DST_COLOR,[Xk]:t.ONE_MINUS_DST_ALPHA,[$k]:t.CONSTANT_COLOR,[Zk]:t.ONE_MINUS_CONSTANT_COLOR,[Qk]:t.CONSTANT_ALPHA,[Jk]:t.ONE_MINUS_CONSTANT_ALPHA};function Ve(ce,Qe,nt,ht,Ye,Fe,xt,It,gn,fn){if(ce===Gc){C===!0&&(de(t.BLEND),C=!1);return}if(C===!1&&(Pe(t.BLEND),C=!0),ce!==zk){if(ce!==T||fn!==L){if((_!==cd||N!==cd)&&(t.blendEquation(t.FUNC_ADD),_=cd,N=cd),fn)switch(ce){case ih:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case d_:t.blendFunc(t.ONE,t.ONE);break;case sw:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case aw:t.blendFuncSeparate(t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ZERO,t.ONE);break;default:console.error("THREE.WebGLState: Invalid blending: ",ce);break}else switch(ce){case ih:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case d_:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE,t.ONE,t.ONE);break;case sw:console.error("THREE.WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case aw:console.error("THREE.WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:console.error("THREE.WebGLState: Invalid blending: ",ce);break}w=null,R=null,D=null,I=null,V.set(0,0,0),B=0,T=ce,L=fn}return}Ye=Ye||Qe,Fe=Fe||nt,xt=xt||ht,(Qe!==_||Ye!==N)&&(t.blendEquationSeparate(Rt[Qe],Rt[Ye]),_=Qe,N=Ye),(nt!==w||ht!==R||Fe!==D||xt!==I)&&(t.blendFuncSeparate(ee[nt],ee[ht],ee[Fe],ee[xt]),w=nt,R=ht,D=Fe,I=xt),(It.equals(V)===!1||gn!==B)&&(t.blendColor(It.r,It.g,It.b,gn),V.copy(It),B=gn),T=ce,L=!1}function Ue(ce,Qe){ce.side===Vl?de(t.CULL_FACE):Pe(t.CULL_FACE);let nt=ce.side===Os;Qe&&(nt=!nt),Ie(nt),ce.blending===ih&&ce.transparent===!1?Ve(Gc):Ve(ce.blending,ce.blendEquation,ce.blendSrc,ce.blendDst,ce.blendEquationAlpha,ce.blendSrcAlpha,ce.blendDstAlpha,ce.blendColor,ce.blendAlpha,ce.premultipliedAlpha),o.setFunc(ce.depthFunc),o.setTest(ce.depthTest),o.setMask(ce.depthWrite),s.setMask(ce.colorWrite);const ht=ce.stencilWrite;l.setTest(ht),ht&&(l.setMask(ce.stencilWriteMask),l.setFunc(ce.stencilFunc,ce.stencilRef,ce.stencilFuncMask),l.setOp(ce.stencilFail,ce.stencilZFail,ce.stencilZPass)),je(ce.polygonOffset,ce.polygonOffsetFactor,ce.polygonOffsetUnits),ce.alphaToCoverage===!0?Pe(t.SAMPLE_ALPHA_TO_COVERAGE):de(t.SAMPLE_ALPHA_TO_COVERAGE)}function Ie(ce){z!==ce&&(ce?t.frontFace(t.CW):t.frontFace(t.CCW),z=ce)}function Ne(ce){ce!==Pk?(Pe(t.CULL_FACE),ce!==F&&(ce===rw?t.cullFace(t.BACK):ce===Ik?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):de(t.CULL_FACE),F=ce}function it(ce){ce!==j&&(k&&t.lineWidth(ce),j=ce)}function je(ce,Qe,nt){ce?(Pe(t.POLYGON_OFFSET_FILL),(Z!==Qe||se!==nt)&&(t.polygonOffset(Qe,nt),Z=Qe,se=nt)):de(t.POLYGON_OFFSET_FILL)}function Ke(ce){ce?Pe(t.SCISSOR_TEST):de(t.SCISSOR_TEST)}function Tt(ce){ce===void 0&&(ce=t.TEXTURE0+ie-1),ne!==ce&&(t.activeTexture(ce),ne=ce)}function Pt(ce,Qe,nt){nt===void 0&&(ne===null?nt=t.TEXTURE0+ie-1:nt=ne);let ht=G[nt];ht===void 0&&(ht={type:void 0,texture:void 0},G[nt]=ht),(ht.type!==ce||ht.texture!==Qe)&&(ne!==nt&&(t.activeTexture(nt),ne=nt),t.bindTexture(ce,Qe||me[ce]),ht.type=ce,ht.texture=Qe)}function Q(){const ce=G[ne];ce!==void 0&&ce.type!==void 0&&(t.bindTexture(ce.type,null),ce.type=void 0,ce.texture=void 0)}function W(){try{t.compressedTexImage2D(...arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function ye(){try{t.compressedTexImage3D(...arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function Re(){try{t.texSubImage2D(...arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function ke(){try{t.texSubImage3D(...arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function Oe(){try{t.compressedTexSubImage2D(...arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function lt(){try{t.compressedTexSubImage3D(...arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function tt(){try{t.texStorage2D(...arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function gt(){try{t.texStorage3D(...arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function vt(){try{t.texImage2D(...arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function We(){try{t.texImage3D(...arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function st(ce){Me.equals(ce)===!1&&(t.scissor(ce.x,ce.y,ce.z,ce.w),Me.copy(ce))}function Et(ce){De.equals(ce)===!1&&(t.viewport(ce.x,ce.y,ce.z,ce.w),De.copy(ce))}function yt(ce,Qe){let nt=h.get(Qe);nt===void 0&&(nt=new WeakMap,h.set(Qe,nt));let ht=nt.get(ce);ht===void 0&&(ht=t.getUniformBlockIndex(Qe,ce.name),nt.set(ce,ht))}function at(ce,Qe){const ht=h.get(Qe).get(ce);d.get(Qe)!==ht&&(t.uniformBlockBinding(Qe,ht,ce.__bindingPointIndex),d.set(Qe,ht))}function Ft(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),o.setReversed(!1),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),m={},ne=null,G={},g={},y=new WeakMap,b=[],S=null,C=!1,T=null,_=null,w=null,R=null,N=null,D=null,I=null,V=new mt(0,0,0),B=0,L=!1,z=null,F=null,j=null,Z=null,se=null,Me.set(0,0,t.canvas.width,t.canvas.height),De.set(0,0,t.canvas.width,t.canvas.height),s.reset(),o.reset(),l.reset()}return{buffers:{color:s,depth:o,stencil:l},enable:Pe,disable:de,bindFramebuffer:_e,drawBuffers:Xe,useProgram:dt,setBlending:Ve,setMaterial:Ue,setFlipSided:Ie,setCullFace:Ne,setLineWidth:it,setPolygonOffset:je,setScissorTest:Ke,activeTexture:Tt,bindTexture:Pt,unbindTexture:Q,compressedTexImage2D:W,compressedTexImage3D:ye,texImage2D:vt,texImage3D:We,updateUBOMapping:yt,uniformBlockBinding:at,texStorage2D:tt,texStorage3D:gt,texSubImage2D:Re,texSubImage3D:ke,compressedTexSubImage2D:Oe,compressedTexSubImage3D:lt,scissor:st,viewport:Et,reset:Ft}}function xue(t,e,n,i,r,s,o){const l=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,d=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),h=new Ge,m=new WeakMap;let g;const y=new WeakMap;let b=!1;try{b=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function S(Q,W){return b?new OffscreenCanvas(Q,W):Gy("canvas")}function C(Q,W,ye){let Re=1;const ke=Pt(Q);if((ke.width>ye||ke.height>ye)&&(Re=ye/Math.max(ke.width,ke.height)),Re<1)if(typeof HTMLImageElement<"u"&&Q instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&Q instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&Q instanceof ImageBitmap||typeof VideoFrame<"u"&&Q instanceof VideoFrame){const Oe=Math.floor(Re*ke.width),lt=Math.floor(Re*ke.height);g===void 0&&(g=S(Oe,lt));const tt=W?S(Oe,lt):g;return tt.width=Oe,tt.height=lt,tt.getContext("2d").drawImage(Q,0,0,Oe,lt),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+ke.width+"x"+ke.height+") to ("+Oe+"x"+lt+")."),tt}else return"data"in Q&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+ke.width+"x"+ke.height+")."),Q;return Q}function T(Q){return Q.generateMipmaps}function _(Q){t.generateMipmap(Q)}function w(Q){return Q.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:Q.isWebGL3DRenderTarget?t.TEXTURE_3D:Q.isWebGLArrayRenderTarget||Q.isCompressedArrayTexture?t.TEXTURE_2D_ARRAY:t.TEXTURE_2D}function R(Q,W,ye,Re,ke=!1){if(Q!==null){if(t[Q]!==void 0)return t[Q];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+Q+"'")}let Oe=W;if(W===t.RED&&(ye===t.FLOAT&&(Oe=t.R32F),ye===t.HALF_FLOAT&&(Oe=t.R16F),ye===t.UNSIGNED_BYTE&&(Oe=t.R8)),W===t.RED_INTEGER&&(ye===t.UNSIGNED_BYTE&&(Oe=t.R8UI),ye===t.UNSIGNED_SHORT&&(Oe=t.R16UI),ye===t.UNSIGNED_INT&&(Oe=t.R32UI),ye===t.BYTE&&(Oe=t.R8I),ye===t.SHORT&&(Oe=t.R16I),ye===t.INT&&(Oe=t.R32I)),W===t.RG&&(ye===t.FLOAT&&(Oe=t.RG32F),ye===t.HALF_FLOAT&&(Oe=t.RG16F),ye===t.UNSIGNED_BYTE&&(Oe=t.RG8)),W===t.RG_INTEGER&&(ye===t.UNSIGNED_BYTE&&(Oe=t.RG8UI),ye===t.UNSIGNED_SHORT&&(Oe=t.RG16UI),ye===t.UNSIGNED_INT&&(Oe=t.RG32UI),ye===t.BYTE&&(Oe=t.RG8I),ye===t.SHORT&&(Oe=t.RG16I),ye===t.INT&&(Oe=t.RG32I)),W===t.RGB_INTEGER&&(ye===t.UNSIGNED_BYTE&&(Oe=t.RGB8UI),ye===t.UNSIGNED_SHORT&&(Oe=t.RGB16UI),ye===t.UNSIGNED_INT&&(Oe=t.RGB32UI),ye===t.BYTE&&(Oe=t.RGB8I),ye===t.SHORT&&(Oe=t.RGB16I),ye===t.INT&&(Oe=t.RGB32I)),W===t.RGBA_INTEGER&&(ye===t.UNSIGNED_BYTE&&(Oe=t.RGBA8UI),ye===t.UNSIGNED_SHORT&&(Oe=t.RGBA16UI),ye===t.UNSIGNED_INT&&(Oe=t.RGBA32UI),ye===t.BYTE&&(Oe=t.RGBA8I),ye===t.SHORT&&(Oe=t.RGBA16I),ye===t.INT&&(Oe=t.RGBA32I)),W===t.RGB&&(ye===t.UNSIGNED_INT_5_9_9_9_REV&&(Oe=t.RGB9_E5),ye===t.UNSIGNED_INT_10F_11F_11F_REV&&(Oe=t.R11F_G11F_B10F)),W===t.RGBA){const lt=ke?Fy:Sn.getTransfer(Re);ye===t.FLOAT&&(Oe=t.RGBA32F),ye===t.HALF_FLOAT&&(Oe=t.RGBA16F),ye===t.UNSIGNED_BYTE&&(Oe=lt===Gn?t.SRGB8_ALPHA8:t.RGBA8),ye===t.UNSIGNED_SHORT_4_4_4_4&&(Oe=t.RGBA4),ye===t.UNSIGNED_SHORT_5_5_5_1&&(Oe=t.RGB5_A1)}return(Oe===t.R16F||Oe===t.R32F||Oe===t.RG16F||Oe===t.RG32F||Oe===t.RGBA16F||Oe===t.RGBA32F)&&e.get("EXT_color_buffer_float"),Oe}function N(Q,W){let ye;return Q?W===null||W===Qc||W===Am?ye=t.DEPTH24_STENCIL8:W===na?ye=t.DEPTH32F_STENCIL8:W===wm&&(ye=t.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):W===null||W===Qc||W===Am?ye=t.DEPTH_COMPONENT24:W===na?ye=t.DEPTH_COMPONENT32F:W===wm&&(ye=t.DEPTH_COMPONENT16),ye}function D(Q,W){return T(Q)===!0||Q.isFramebufferTexture&&Q.minFilter!==kr&&Q.minFilter!==cr?Math.log2(Math.max(W.width,W.height))+1:Q.mipmaps!==void 0&&Q.mipmaps.length>0?Q.mipmaps.length:Q.isCompressedTexture&&Array.isArray(Q.image)?W.mipmaps.length:1}function I(Q){const W=Q.target;W.removeEventListener("dispose",I),B(W),W.isVideoTexture&&m.delete(W)}function V(Q){const W=Q.target;W.removeEventListener("dispose",V),z(W)}function B(Q){const W=i.get(Q);if(W.__webglInit===void 0)return;const ye=Q.source,Re=y.get(ye);if(Re){const ke=Re[W.__cacheKey];ke.usedTimes--,ke.usedTimes===0&&L(Q),Object.keys(Re).length===0&&y.delete(ye)}i.remove(Q)}function L(Q){const W=i.get(Q);t.deleteTexture(W.__webglTexture);const ye=Q.source,Re=y.get(ye);delete Re[W.__cacheKey],o.memory.textures--}function z(Q){const W=i.get(Q);if(Q.depthTexture&&(Q.depthTexture.dispose(),i.remove(Q.depthTexture)),Q.isWebGLCubeRenderTarget)for(let Re=0;Re<6;Re++){if(Array.isArray(W.__webglFramebuffer[Re]))for(let ke=0;ke<W.__webglFramebuffer[Re].length;ke++)t.deleteFramebuffer(W.__webglFramebuffer[Re][ke]);else t.deleteFramebuffer(W.__webglFramebuffer[Re]);W.__webglDepthbuffer&&t.deleteRenderbuffer(W.__webglDepthbuffer[Re])}else{if(Array.isArray(W.__webglFramebuffer))for(let Re=0;Re<W.__webglFramebuffer.length;Re++)t.deleteFramebuffer(W.__webglFramebuffer[Re]);else t.deleteFramebuffer(W.__webglFramebuffer);if(W.__webglDepthbuffer&&t.deleteRenderbuffer(W.__webglDepthbuffer),W.__webglMultisampledFramebuffer&&t.deleteFramebuffer(W.__webglMultisampledFramebuffer),W.__webglColorRenderbuffer)for(let Re=0;Re<W.__webglColorRenderbuffer.length;Re++)W.__webglColorRenderbuffer[Re]&&t.deleteRenderbuffer(W.__webglColorRenderbuffer[Re]);W.__webglDepthRenderbuffer&&t.deleteRenderbuffer(W.__webglDepthRenderbuffer)}const ye=Q.textures;for(let Re=0,ke=ye.length;Re<ke;Re++){const Oe=i.get(ye[Re]);Oe.__webglTexture&&(t.deleteTexture(Oe.__webglTexture),o.memory.textures--),i.remove(ye[Re])}i.remove(Q)}let F=0;function j(){F=0}function Z(){const Q=F;return Q>=r.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+Q+" texture units while this GPU supports only "+r.maxTextures),F+=1,Q}function se(Q){const W=[];return W.push(Q.wrapS),W.push(Q.wrapT),W.push(Q.wrapR||0),W.push(Q.magFilter),W.push(Q.minFilter),W.push(Q.anisotropy),W.push(Q.internalFormat),W.push(Q.format),W.push(Q.type),W.push(Q.generateMipmaps),W.push(Q.premultiplyAlpha),W.push(Q.flipY),W.push(Q.unpackAlignment),W.push(Q.colorSpace),W.join()}function ie(Q,W){const ye=i.get(Q);if(Q.isVideoTexture&&Ke(Q),Q.isRenderTargetTexture===!1&&Q.isExternalTexture!==!0&&Q.version>0&&ye.__version!==Q.version){const Re=Q.image;if(Re===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Re.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{me(ye,Q,W);return}}else Q.isExternalTexture&&(ye.__webglTexture=Q.sourceTexture?Q.sourceTexture:null);n.bindTexture(t.TEXTURE_2D,ye.__webglTexture,t.TEXTURE0+W)}function k(Q,W){const ye=i.get(Q);if(Q.isRenderTargetTexture===!1&&Q.version>0&&ye.__version!==Q.version){me(ye,Q,W);return}n.bindTexture(t.TEXTURE_2D_ARRAY,ye.__webglTexture,t.TEXTURE0+W)}function q(Q,W){const ye=i.get(Q);if(Q.isRenderTargetTexture===!1&&Q.version>0&&ye.__version!==Q.version){me(ye,Q,W);return}n.bindTexture(t.TEXTURE_3D,ye.__webglTexture,t.TEXTURE0+W)}function $(Q,W){const ye=i.get(Q);if(Q.version>0&&ye.__version!==Q.version){Pe(ye,Q,W);return}n.bindTexture(t.TEXTURE_CUBE_MAP,ye.__webglTexture,t.TEXTURE0+W)}const ne={[Uy]:t.REPEAT,[ro]:t.CLAMP_TO_EDGE,[Vy]:t.MIRRORED_REPEAT},G={[kr]:t.NEAREST,[nR]:t.NEAREST_MIPMAP_NEAREST,[fm]:t.NEAREST_MIPMAP_LINEAR,[cr]:t.LINEAR,[oy]:t.LINEAR_MIPMAP_NEAREST,[Fl]:t.LINEAR_MIPMAP_LINEAR},te={[mB]:t.NEVER,[SB]:t.ALWAYS,[gB]:t.LESS,[dR]:t.LEQUAL,[vB]:t.EQUAL,[bB]:t.GEQUAL,[yB]:t.GREATER,[xB]:t.NOTEQUAL};function ve(Q,W){if(W.type===na&&e.has("OES_texture_float_linear")===!1&&(W.magFilter===cr||W.magFilter===oy||W.magFilter===fm||W.magFilter===Fl||W.minFilter===cr||W.minFilter===oy||W.minFilter===fm||W.minFilter===Fl)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),t.texParameteri(Q,t.TEXTURE_WRAP_S,ne[W.wrapS]),t.texParameteri(Q,t.TEXTURE_WRAP_T,ne[W.wrapT]),(Q===t.TEXTURE_3D||Q===t.TEXTURE_2D_ARRAY)&&t.texParameteri(Q,t.TEXTURE_WRAP_R,ne[W.wrapR]),t.texParameteri(Q,t.TEXTURE_MAG_FILTER,G[W.magFilter]),t.texParameteri(Q,t.TEXTURE_MIN_FILTER,G[W.minFilter]),W.compareFunction&&(t.texParameteri(Q,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(Q,t.TEXTURE_COMPARE_FUNC,te[W.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(W.magFilter===kr||W.minFilter!==fm&&W.minFilter!==Fl||W.type===na&&e.has("OES_texture_float_linear")===!1)return;if(W.anisotropy>1||i.get(W).__currentAnisotropy){const ye=e.get("EXT_texture_filter_anisotropic");t.texParameterf(Q,ye.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(W.anisotropy,r.getMaxAnisotropy())),i.get(W).__currentAnisotropy=W.anisotropy}}}function Me(Q,W){let ye=!1;Q.__webglInit===void 0&&(Q.__webglInit=!0,W.addEventListener("dispose",I));const Re=W.source;let ke=y.get(Re);ke===void 0&&(ke={},y.set(Re,ke));const Oe=se(W);if(Oe!==Q.__cacheKey){ke[Oe]===void 0&&(ke[Oe]={texture:t.createTexture(),usedTimes:0},o.memory.textures++,ye=!0),ke[Oe].usedTimes++;const lt=ke[Q.__cacheKey];lt!==void 0&&(ke[Q.__cacheKey].usedTimes--,lt.usedTimes===0&&L(W)),Q.__cacheKey=Oe,Q.__webglTexture=ke[Oe].texture}return ye}function De(Q,W,ye){return Math.floor(Math.floor(Q/ye)/W)}function qe(Q,W,ye,Re){const Oe=Q.updateRanges;if(Oe.length===0)n.texSubImage2D(t.TEXTURE_2D,0,0,0,W.width,W.height,ye,Re,W.data);else{Oe.sort((We,st)=>We.start-st.start);let lt=0;for(let We=1;We<Oe.length;We++){const st=Oe[lt],Et=Oe[We],yt=st.start+st.count,at=De(Et.start,W.width,4),Ft=De(st.start,W.width,4);Et.start<=yt+1&&at===Ft&&De(Et.start+Et.count-1,W.width,4)===at?st.count=Math.max(st.count,Et.start+Et.count-st.start):(++lt,Oe[lt]=Et)}Oe.length=lt+1;const tt=t.getParameter(t.UNPACK_ROW_LENGTH),gt=t.getParameter(t.UNPACK_SKIP_PIXELS),vt=t.getParameter(t.UNPACK_SKIP_ROWS);t.pixelStorei(t.UNPACK_ROW_LENGTH,W.width);for(let We=0,st=Oe.length;We<st;We++){const Et=Oe[We],yt=Math.floor(Et.start/4),at=Math.ceil(Et.count/4),Ft=yt%W.width,ce=Math.floor(yt/W.width),Qe=at,nt=1;t.pixelStorei(t.UNPACK_SKIP_PIXELS,Ft),t.pixelStorei(t.UNPACK_SKIP_ROWS,ce),n.texSubImage2D(t.TEXTURE_2D,0,Ft,ce,Qe,nt,ye,Re,W.data)}Q.clearUpdateRanges(),t.pixelStorei(t.UNPACK_ROW_LENGTH,tt),t.pixelStorei(t.UNPACK_SKIP_PIXELS,gt),t.pixelStorei(t.UNPACK_SKIP_ROWS,vt)}}function me(Q,W,ye){let Re=t.TEXTURE_2D;(W.isDataArrayTexture||W.isCompressedArrayTexture)&&(Re=t.TEXTURE_2D_ARRAY),W.isData3DTexture&&(Re=t.TEXTURE_3D);const ke=Me(Q,W),Oe=W.source;n.bindTexture(Re,Q.__webglTexture,t.TEXTURE0+ye);const lt=i.get(Oe);if(Oe.version!==lt.__version||ke===!0){n.activeTexture(t.TEXTURE0+ye);const tt=Sn.getPrimaries(Sn.workingColorSpace),gt=W.colorSpace===Fc?null:Sn.getPrimaries(W.colorSpace),vt=W.colorSpace===Fc||tt===gt?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,W.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,W.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,W.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,vt);let We=C(W.image,!1,r.maxTextureSize);We=Tt(W,We);const st=s.convert(W.format,W.colorSpace),Et=s.convert(W.type);let yt=R(W.internalFormat,st,Et,W.colorSpace,W.isVideoTexture);ve(Re,W);let at;const Ft=W.mipmaps,ce=W.isVideoTexture!==!0,Qe=lt.__version===void 0||ke===!0,nt=Oe.dataReady,ht=D(W,We);if(W.isDepthTexture)yt=N(W.format===Om,W.type),Qe&&(ce?n.texStorage2D(t.TEXTURE_2D,1,yt,We.width,We.height):n.texImage2D(t.TEXTURE_2D,0,yt,We.width,We.height,0,st,Et,null));else if(W.isDataTexture)if(Ft.length>0){ce&&Qe&&n.texStorage2D(t.TEXTURE_2D,ht,yt,Ft[0].width,Ft[0].height);for(let Ye=0,Fe=Ft.length;Ye<Fe;Ye++)at=Ft[Ye],ce?nt&&n.texSubImage2D(t.TEXTURE_2D,Ye,0,0,at.width,at.height,st,Et,at.data):n.texImage2D(t.TEXTURE_2D,Ye,yt,at.width,at.height,0,st,Et,at.data);W.generateMipmaps=!1}else ce?(Qe&&n.texStorage2D(t.TEXTURE_2D,ht,yt,We.width,We.height),nt&&qe(W,We,st,Et)):n.texImage2D(t.TEXTURE_2D,0,yt,We.width,We.height,0,st,Et,We.data);else if(W.isCompressedTexture)if(W.isCompressedArrayTexture){ce&&Qe&&n.texStorage3D(t.TEXTURE_2D_ARRAY,ht,yt,Ft[0].width,Ft[0].height,We.depth);for(let Ye=0,Fe=Ft.length;Ye<Fe;Ye++)if(at=Ft[Ye],W.format!==ns)if(st!==null)if(ce){if(nt)if(W.layerUpdates.size>0){const xt=gw(at.width,at.height,W.format,W.type);for(const It of W.layerUpdates){const gn=at.data.subarray(It*xt/at.data.BYTES_PER_ELEMENT,(It+1)*xt/at.data.BYTES_PER_ELEMENT);n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,Ye,0,0,It,at.width,at.height,1,st,gn)}W.clearLayerUpdates()}else n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,Ye,0,0,0,at.width,at.height,We.depth,st,at.data)}else n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,Ye,yt,at.width,at.height,We.depth,0,at.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else ce?nt&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,Ye,0,0,0,at.width,at.height,We.depth,st,Et,at.data):n.texImage3D(t.TEXTURE_2D_ARRAY,Ye,yt,at.width,at.height,We.depth,0,st,Et,at.data)}else{ce&&Qe&&n.texStorage2D(t.TEXTURE_2D,ht,yt,Ft[0].width,Ft[0].height);for(let Ye=0,Fe=Ft.length;Ye<Fe;Ye++)at=Ft[Ye],W.format!==ns?st!==null?ce?nt&&n.compressedTexSubImage2D(t.TEXTURE_2D,Ye,0,0,at.width,at.height,st,at.data):n.compressedTexImage2D(t.TEXTURE_2D,Ye,yt,at.width,at.height,0,at.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ce?nt&&n.texSubImage2D(t.TEXTURE_2D,Ye,0,0,at.width,at.height,st,Et,at.data):n.texImage2D(t.TEXTURE_2D,Ye,yt,at.width,at.height,0,st,Et,at.data)}else if(W.isDataArrayTexture)if(ce){if(Qe&&n.texStorage3D(t.TEXTURE_2D_ARRAY,ht,yt,We.width,We.height,We.depth),nt)if(W.layerUpdates.size>0){const Ye=gw(We.width,We.height,W.format,W.type);for(const Fe of W.layerUpdates){const xt=We.data.subarray(Fe*Ye/We.data.BYTES_PER_ELEMENT,(Fe+1)*Ye/We.data.BYTES_PER_ELEMENT);n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,Fe,We.width,We.height,1,st,Et,xt)}W.clearLayerUpdates()}else n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,We.width,We.height,We.depth,st,Et,We.data)}else n.texImage3D(t.TEXTURE_2D_ARRAY,0,yt,We.width,We.height,We.depth,0,st,Et,We.data);else if(W.isData3DTexture)ce?(Qe&&n.texStorage3D(t.TEXTURE_3D,ht,yt,We.width,We.height,We.depth),nt&&n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,We.width,We.height,We.depth,st,Et,We.data)):n.texImage3D(t.TEXTURE_3D,0,yt,We.width,We.height,We.depth,0,st,Et,We.data);else if(W.isFramebufferTexture){if(Qe)if(ce)n.texStorage2D(t.TEXTURE_2D,ht,yt,We.width,We.height);else{let Ye=We.width,Fe=We.height;for(let xt=0;xt<ht;xt++)n.texImage2D(t.TEXTURE_2D,xt,yt,Ye,Fe,0,st,Et,null),Ye>>=1,Fe>>=1}}else if(Ft.length>0){if(ce&&Qe){const Ye=Pt(Ft[0]);n.texStorage2D(t.TEXTURE_2D,ht,yt,Ye.width,Ye.height)}for(let Ye=0,Fe=Ft.length;Ye<Fe;Ye++)at=Ft[Ye],ce?nt&&n.texSubImage2D(t.TEXTURE_2D,Ye,0,0,st,Et,at):n.texImage2D(t.TEXTURE_2D,Ye,yt,st,Et,at);W.generateMipmaps=!1}else if(ce){if(Qe){const Ye=Pt(We);n.texStorage2D(t.TEXTURE_2D,ht,yt,Ye.width,Ye.height)}nt&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,st,Et,We)}else n.texImage2D(t.TEXTURE_2D,0,yt,st,Et,We);T(W)&&_(Re),lt.__version=Oe.version,W.onUpdate&&W.onUpdate(W)}Q.__version=W.version}function Pe(Q,W,ye){if(W.image.length!==6)return;const Re=Me(Q,W),ke=W.source;n.bindTexture(t.TEXTURE_CUBE_MAP,Q.__webglTexture,t.TEXTURE0+ye);const Oe=i.get(ke);if(ke.version!==Oe.__version||Re===!0){n.activeTexture(t.TEXTURE0+ye);const lt=Sn.getPrimaries(Sn.workingColorSpace),tt=W.colorSpace===Fc?null:Sn.getPrimaries(W.colorSpace),gt=W.colorSpace===Fc||lt===tt?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,W.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,W.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,W.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,gt);const vt=W.isCompressedTexture||W.image[0].isCompressedTexture,We=W.image[0]&&W.image[0].isDataTexture,st=[];for(let Fe=0;Fe<6;Fe++)!vt&&!We?st[Fe]=C(W.image[Fe],!0,r.maxCubemapSize):st[Fe]=We?W.image[Fe].image:W.image[Fe],st[Fe]=Tt(W,st[Fe]);const Et=st[0],yt=s.convert(W.format,W.colorSpace),at=s.convert(W.type),Ft=R(W.internalFormat,yt,at,W.colorSpace),ce=W.isVideoTexture!==!0,Qe=Oe.__version===void 0||Re===!0,nt=ke.dataReady;let ht=D(W,Et);ve(t.TEXTURE_CUBE_MAP,W);let Ye;if(vt){ce&&Qe&&n.texStorage2D(t.TEXTURE_CUBE_MAP,ht,Ft,Et.width,Et.height);for(let Fe=0;Fe<6;Fe++){Ye=st[Fe].mipmaps;for(let xt=0;xt<Ye.length;xt++){const It=Ye[xt];W.format!==ns?yt!==null?ce?nt&&n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Fe,xt,0,0,It.width,It.height,yt,It.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Fe,xt,Ft,It.width,It.height,0,It.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):ce?nt&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Fe,xt,0,0,It.width,It.height,yt,at,It.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Fe,xt,Ft,It.width,It.height,0,yt,at,It.data)}}}else{if(Ye=W.mipmaps,ce&&Qe){Ye.length>0&&ht++;const Fe=Pt(st[0]);n.texStorage2D(t.TEXTURE_CUBE_MAP,ht,Ft,Fe.width,Fe.height)}for(let Fe=0;Fe<6;Fe++)if(We){ce?nt&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Fe,0,0,0,st[Fe].width,st[Fe].height,yt,at,st[Fe].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Fe,0,Ft,st[Fe].width,st[Fe].height,0,yt,at,st[Fe].data);for(let xt=0;xt<Ye.length;xt++){const gn=Ye[xt].image[Fe].image;ce?nt&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Fe,xt+1,0,0,gn.width,gn.height,yt,at,gn.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Fe,xt+1,Ft,gn.width,gn.height,0,yt,at,gn.data)}}else{ce?nt&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Fe,0,0,0,yt,at,st[Fe]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Fe,0,Ft,yt,at,st[Fe]);for(let xt=0;xt<Ye.length;xt++){const It=Ye[xt];ce?nt&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Fe,xt+1,0,0,yt,at,It.image[Fe]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Fe,xt+1,Ft,yt,at,It.image[Fe])}}}T(W)&&_(t.TEXTURE_CUBE_MAP),Oe.__version=ke.version,W.onUpdate&&W.onUpdate(W)}Q.__version=W.version}function de(Q,W,ye,Re,ke,Oe){const lt=s.convert(ye.format,ye.colorSpace),tt=s.convert(ye.type),gt=R(ye.internalFormat,lt,tt,ye.colorSpace),vt=i.get(W),We=i.get(ye);if(We.__renderTarget=W,!vt.__hasExternalTextures){const st=Math.max(1,W.width>>Oe),Et=Math.max(1,W.height>>Oe);ke===t.TEXTURE_3D||ke===t.TEXTURE_2D_ARRAY?n.texImage3D(ke,Oe,gt,st,Et,W.depth,0,lt,tt,null):n.texImage2D(ke,Oe,gt,st,Et,0,lt,tt,null)}n.bindFramebuffer(t.FRAMEBUFFER,Q),je(W)?l.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,Re,ke,We.__webglTexture,0,it(W)):(ke===t.TEXTURE_2D||ke>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&ke<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,Re,ke,We.__webglTexture,Oe),n.bindFramebuffer(t.FRAMEBUFFER,null)}function _e(Q,W,ye){if(t.bindRenderbuffer(t.RENDERBUFFER,Q),W.depthBuffer){const Re=W.depthTexture,ke=Re&&Re.isDepthTexture?Re.type:null,Oe=N(W.stencilBuffer,ke),lt=W.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,tt=it(W);je(W)?l.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,tt,Oe,W.width,W.height):ye?t.renderbufferStorageMultisample(t.RENDERBUFFER,tt,Oe,W.width,W.height):t.renderbufferStorage(t.RENDERBUFFER,Oe,W.width,W.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,lt,t.RENDERBUFFER,Q)}else{const Re=W.textures;for(let ke=0;ke<Re.length;ke++){const Oe=Re[ke],lt=s.convert(Oe.format,Oe.colorSpace),tt=s.convert(Oe.type),gt=R(Oe.internalFormat,lt,tt,Oe.colorSpace),vt=it(W);ye&&je(W)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,vt,gt,W.width,W.height):je(W)?l.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,vt,gt,W.width,W.height):t.renderbufferStorage(t.RENDERBUFFER,gt,W.width,W.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function Xe(Q,W){if(W&&W.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,Q),!(W.depthTexture&&W.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const Re=i.get(W.depthTexture);Re.__renderTarget=W,(!Re.__webglTexture||W.depthTexture.image.width!==W.width||W.depthTexture.image.height!==W.height)&&(W.depthTexture.image.width=W.width,W.depthTexture.image.height=W.height,W.depthTexture.needsUpdate=!0),ie(W.depthTexture,0);const ke=Re.__webglTexture,Oe=it(W);if(W.depthTexture.format===Rm)je(W)?l.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,ke,0,Oe):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,ke,0);else if(W.depthTexture.format===Om)je(W)?l.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,ke,0,Oe):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,ke,0);else throw new Error("Unknown depthTexture format")}function dt(Q){const W=i.get(Q),ye=Q.isWebGLCubeRenderTarget===!0;if(W.__boundDepthTexture!==Q.depthTexture){const Re=Q.depthTexture;if(W.__depthDisposeCallback&&W.__depthDisposeCallback(),Re){const ke=()=>{delete W.__boundDepthTexture,delete W.__depthDisposeCallback,Re.removeEventListener("dispose",ke)};Re.addEventListener("dispose",ke),W.__depthDisposeCallback=ke}W.__boundDepthTexture=Re}if(Q.depthTexture&&!W.__autoAllocateDepthBuffer){if(ye)throw new Error("target.depthTexture not supported in Cube render targets");const Re=Q.texture.mipmaps;Re&&Re.length>0?Xe(W.__webglFramebuffer[0],Q):Xe(W.__webglFramebuffer,Q)}else if(ye){W.__webglDepthbuffer=[];for(let Re=0;Re<6;Re++)if(n.bindFramebuffer(t.FRAMEBUFFER,W.__webglFramebuffer[Re]),W.__webglDepthbuffer[Re]===void 0)W.__webglDepthbuffer[Re]=t.createRenderbuffer(),_e(W.__webglDepthbuffer[Re],Q,!1);else{const ke=Q.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Oe=W.__webglDepthbuffer[Re];t.bindRenderbuffer(t.RENDERBUFFER,Oe),t.framebufferRenderbuffer(t.FRAMEBUFFER,ke,t.RENDERBUFFER,Oe)}}else{const Re=Q.texture.mipmaps;if(Re&&Re.length>0?n.bindFramebuffer(t.FRAMEBUFFER,W.__webglFramebuffer[0]):n.bindFramebuffer(t.FRAMEBUFFER,W.__webglFramebuffer),W.__webglDepthbuffer===void 0)W.__webglDepthbuffer=t.createRenderbuffer(),_e(W.__webglDepthbuffer,Q,!1);else{const ke=Q.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Oe=W.__webglDepthbuffer;t.bindRenderbuffer(t.RENDERBUFFER,Oe),t.framebufferRenderbuffer(t.FRAMEBUFFER,ke,t.RENDERBUFFER,Oe)}}n.bindFramebuffer(t.FRAMEBUFFER,null)}function Rt(Q,W,ye){const Re=i.get(Q);W!==void 0&&de(Re.__webglFramebuffer,Q,Q.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),ye!==void 0&&dt(Q)}function ee(Q){const W=Q.texture,ye=i.get(Q),Re=i.get(W);Q.addEventListener("dispose",V);const ke=Q.textures,Oe=Q.isWebGLCubeRenderTarget===!0,lt=ke.length>1;if(lt||(Re.__webglTexture===void 0&&(Re.__webglTexture=t.createTexture()),Re.__version=W.version,o.memory.textures++),Oe){ye.__webglFramebuffer=[];for(let tt=0;tt<6;tt++)if(W.mipmaps&&W.mipmaps.length>0){ye.__webglFramebuffer[tt]=[];for(let gt=0;gt<W.mipmaps.length;gt++)ye.__webglFramebuffer[tt][gt]=t.createFramebuffer()}else ye.__webglFramebuffer[tt]=t.createFramebuffer()}else{if(W.mipmaps&&W.mipmaps.length>0){ye.__webglFramebuffer=[];for(let tt=0;tt<W.mipmaps.length;tt++)ye.__webglFramebuffer[tt]=t.createFramebuffer()}else ye.__webglFramebuffer=t.createFramebuffer();if(lt)for(let tt=0,gt=ke.length;tt<gt;tt++){const vt=i.get(ke[tt]);vt.__webglTexture===void 0&&(vt.__webglTexture=t.createTexture(),o.memory.textures++)}if(Q.samples>0&&je(Q)===!1){ye.__webglMultisampledFramebuffer=t.createFramebuffer(),ye.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,ye.__webglMultisampledFramebuffer);for(let tt=0;tt<ke.length;tt++){const gt=ke[tt];ye.__webglColorRenderbuffer[tt]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,ye.__webglColorRenderbuffer[tt]);const vt=s.convert(gt.format,gt.colorSpace),We=s.convert(gt.type),st=R(gt.internalFormat,vt,We,gt.colorSpace,Q.isXRRenderTarget===!0),Et=it(Q);t.renderbufferStorageMultisample(t.RENDERBUFFER,Et,st,Q.width,Q.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+tt,t.RENDERBUFFER,ye.__webglColorRenderbuffer[tt])}t.bindRenderbuffer(t.RENDERBUFFER,null),Q.depthBuffer&&(ye.__webglDepthRenderbuffer=t.createRenderbuffer(),_e(ye.__webglDepthRenderbuffer,Q,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(Oe){n.bindTexture(t.TEXTURE_CUBE_MAP,Re.__webglTexture),ve(t.TEXTURE_CUBE_MAP,W);for(let tt=0;tt<6;tt++)if(W.mipmaps&&W.mipmaps.length>0)for(let gt=0;gt<W.mipmaps.length;gt++)de(ye.__webglFramebuffer[tt][gt],Q,W,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+tt,gt);else de(ye.__webglFramebuffer[tt],Q,W,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+tt,0);T(W)&&_(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(lt){for(let tt=0,gt=ke.length;tt<gt;tt++){const vt=ke[tt],We=i.get(vt);let st=t.TEXTURE_2D;(Q.isWebGL3DRenderTarget||Q.isWebGLArrayRenderTarget)&&(st=Q.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(st,We.__webglTexture),ve(st,vt),de(ye.__webglFramebuffer,Q,vt,t.COLOR_ATTACHMENT0+tt,st,0),T(vt)&&_(st)}n.unbindTexture()}else{let tt=t.TEXTURE_2D;if((Q.isWebGL3DRenderTarget||Q.isWebGLArrayRenderTarget)&&(tt=Q.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(tt,Re.__webglTexture),ve(tt,W),W.mipmaps&&W.mipmaps.length>0)for(let gt=0;gt<W.mipmaps.length;gt++)de(ye.__webglFramebuffer[gt],Q,W,t.COLOR_ATTACHMENT0,tt,gt);else de(ye.__webglFramebuffer,Q,W,t.COLOR_ATTACHMENT0,tt,0);T(W)&&_(tt),n.unbindTexture()}Q.depthBuffer&&dt(Q)}function Ve(Q){const W=Q.textures;for(let ye=0,Re=W.length;ye<Re;ye++){const ke=W[ye];if(T(ke)){const Oe=w(Q),lt=i.get(ke).__webglTexture;n.bindTexture(Oe,lt),_(Oe),n.unbindTexture()}}}const Ue=[],Ie=[];function Ne(Q){if(Q.samples>0){if(je(Q)===!1){const W=Q.textures,ye=Q.width,Re=Q.height;let ke=t.COLOR_BUFFER_BIT;const Oe=Q.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,lt=i.get(Q),tt=W.length>1;if(tt)for(let vt=0;vt<W.length;vt++)n.bindFramebuffer(t.FRAMEBUFFER,lt.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+vt,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,lt.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+vt,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,lt.__webglMultisampledFramebuffer);const gt=Q.texture.mipmaps;gt&&gt.length>0?n.bindFramebuffer(t.DRAW_FRAMEBUFFER,lt.__webglFramebuffer[0]):n.bindFramebuffer(t.DRAW_FRAMEBUFFER,lt.__webglFramebuffer);for(let vt=0;vt<W.length;vt++){if(Q.resolveDepthBuffer&&(Q.depthBuffer&&(ke|=t.DEPTH_BUFFER_BIT),Q.stencilBuffer&&Q.resolveStencilBuffer&&(ke|=t.STENCIL_BUFFER_BIT)),tt){t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,lt.__webglColorRenderbuffer[vt]);const We=i.get(W[vt]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,We,0)}t.blitFramebuffer(0,0,ye,Re,0,0,ye,Re,ke,t.NEAREST),d===!0&&(Ue.length=0,Ie.length=0,Ue.push(t.COLOR_ATTACHMENT0+vt),Q.depthBuffer&&Q.resolveDepthBuffer===!1&&(Ue.push(Oe),Ie.push(Oe),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,Ie)),t.invalidateFramebuffer(t.READ_FRAMEBUFFER,Ue))}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),tt)for(let vt=0;vt<W.length;vt++){n.bindFramebuffer(t.FRAMEBUFFER,lt.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+vt,t.RENDERBUFFER,lt.__webglColorRenderbuffer[vt]);const We=i.get(W[vt]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,lt.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+vt,t.TEXTURE_2D,We,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,lt.__webglMultisampledFramebuffer)}else if(Q.depthBuffer&&Q.resolveDepthBuffer===!1&&d){const W=Q.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[W])}}}function it(Q){return Math.min(r.maxSamples,Q.samples)}function je(Q){const W=i.get(Q);return Q.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&W.__useRenderToTexture!==!1}function Ke(Q){const W=o.render.frame;m.get(Q)!==W&&(m.set(Q,W),Q.update())}function Tt(Q,W){const ye=Q.colorSpace,Re=Q.format,ke=Q.type;return Q.isCompressedTexture===!0||Q.isVideoTexture===!0||ye!==vd&&ye!==Fc&&(Sn.getTransfer(ye)===Gn?(Re!==ns||ke!==ao)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",ye)),W}function Pt(Q){return typeof HTMLImageElement<"u"&&Q instanceof HTMLImageElement?(h.width=Q.naturalWidth||Q.width,h.height=Q.naturalHeight||Q.height):typeof VideoFrame<"u"&&Q instanceof VideoFrame?(h.width=Q.displayWidth,h.height=Q.displayHeight):(h.width=Q.width,h.height=Q.height),h}this.allocateTextureUnit=Z,this.resetTextureUnits=j,this.setTexture2D=ie,this.setTexture2DArray=k,this.setTexture3D=q,this.setTextureCube=$,this.rebindTextures=Rt,this.setupRenderTarget=ee,this.updateRenderTargetMipmap=Ve,this.updateMultisampleRenderTarget=Ne,this.setupDepthRenderbuffer=dt,this.setupFrameBufferTexture=de,this.useMultisampledRTT=je}function D4(t,e){function n(i,r=Fc){let s;const o=Sn.getTransfer(r);if(i===ao)return t.UNSIGNED_BYTE;if(i===H1)return t.UNSIGNED_SHORT_4_4_4_4;if(i===G1)return t.UNSIGNED_SHORT_5_5_5_1;if(i===sR)return t.UNSIGNED_INT_5_9_9_9_REV;if(i===aR)return t.UNSIGNED_INT_10F_11F_11F_REV;if(i===iR)return t.BYTE;if(i===rR)return t.SHORT;if(i===wm)return t.UNSIGNED_SHORT;if(i===F1)return t.INT;if(i===Qc)return t.UNSIGNED_INT;if(i===na)return t.FLOAT;if(i===Ym)return t.HALF_FLOAT;if(i===oR)return t.ALPHA;if(i===lR)return t.RGB;if(i===ns)return t.RGBA;if(i===Rm)return t.DEPTH_COMPONENT;if(i===Om)return t.DEPTH_STENCIL;if(i===W1)return t.RED;if(i===y0)return t.RED_INTEGER;if(i===cR)return t.RG;if(i===j1)return t.RG_INTEGER;if(i===X1)return t.RGBA_INTEGER;if(i===ly||i===cy||i===uy||i===dy)if(o===Gn)if(s=e.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(i===ly)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(i===cy)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(i===uy)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(i===dy)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=e.get("WEBGL_compressed_texture_s3tc"),s!==null){if(i===ly)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(i===cy)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(i===uy)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(i===dy)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(i===S_||i===__||i===E_||i===T_)if(s=e.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(i===S_)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(i===__)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(i===E_)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(i===T_)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(i===M_||i===C_||i===w_)if(s=e.get("WEBGL_compressed_texture_etc"),s!==null){if(i===M_||i===C_)return o===Gn?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(i===w_)return o===Gn?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(i===A_||i===R_||i===O_||i===N_||i===D_||i===P_||i===I_||i===L_||i===z_||i===U_||i===V_||i===k_||i===B_||i===F_)if(s=e.get("WEBGL_compressed_texture_astc"),s!==null){if(i===A_)return o===Gn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(i===R_)return o===Gn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(i===O_)return o===Gn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(i===N_)return o===Gn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(i===D_)return o===Gn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(i===P_)return o===Gn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(i===I_)return o===Gn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(i===L_)return o===Gn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(i===z_)return o===Gn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(i===U_)return o===Gn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(i===V_)return o===Gn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(i===k_)return o===Gn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(i===B_)return o===Gn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(i===F_)return o===Gn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(i===H_||i===G_||i===W_)if(s=e.get("EXT_texture_compression_bptc"),s!==null){if(i===H_)return o===Gn?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(i===G_)return s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(i===W_)return s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(i===j_||i===X_||i===q_||i===Y_)if(s=e.get("EXT_texture_compression_rgtc"),s!==null){if(i===j_)return s.COMPRESSED_RED_RGTC1_EXT;if(i===X_)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(i===q_)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(i===Y_)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return i===Am?t.UNSIGNED_INT_24_8:t[i]!==void 0?t[i]:null}return{convert:n}}const bue=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,Sue=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class _ue{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,n){if(this.texture===null){const i=new SR(e.texture);(e.depthNear!==n.depthNear||e.depthFar!==n.depthFar)&&(this.depthNear=e.depthNear,this.depthFar=e.depthFar),this.texture=i}}getMesh(e){if(this.texture!==null&&this.mesh===null){const n=e.cameras[0].viewport,i=new oo({vertexShader:bue,fragmentShader:Sue,uniforms:{depthColor:{value:this.texture},depthWidth:{value:n.z},depthHeight:{value:n.w}}});this.mesh=new Ki(new Zm(20,20),i)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class Eue extends ic{constructor(e,n){super();const i=this;let r=null,s=1,o=null,l="local-floor",d=1,h=null,m=null,g=null,y=null,b=null,S=null;const C=typeof XRWebGLBinding<"u",T=new _ue,_={},w=n.getContextAttributes();let R=null,N=null;const D=[],I=[],V=new Ge;let B=null;const L=new Tr;L.viewport=new Cn;const z=new Tr;z.viewport=new Cn;const F=[L,z],j=new b4;let Z=null,se=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(me){let Pe=D[me];return Pe===void 0&&(Pe=new BS,D[me]=Pe),Pe.getTargetRaySpace()},this.getControllerGrip=function(me){let Pe=D[me];return Pe===void 0&&(Pe=new BS,D[me]=Pe),Pe.getGripSpace()},this.getHand=function(me){let Pe=D[me];return Pe===void 0&&(Pe=new BS,D[me]=Pe),Pe.getHandSpace()};function ie(me){const Pe=I.indexOf(me.inputSource);if(Pe===-1)return;const de=D[Pe];de!==void 0&&(de.update(me.inputSource,me.frame,h||o),de.dispatchEvent({type:me.type,data:me.inputSource}))}function k(){r.removeEventListener("select",ie),r.removeEventListener("selectstart",ie),r.removeEventListener("selectend",ie),r.removeEventListener("squeeze",ie),r.removeEventListener("squeezestart",ie),r.removeEventListener("squeezeend",ie),r.removeEventListener("end",k),r.removeEventListener("inputsourceschange",q);for(let me=0;me<D.length;me++){const Pe=I[me];Pe!==null&&(I[me]=null,D[me].disconnect(Pe))}Z=null,se=null,T.reset();for(const me in _)delete _[me];e.setRenderTarget(R),b=null,y=null,g=null,r=null,N=null,qe.stop(),i.isPresenting=!1,e.setPixelRatio(B),e.setSize(V.width,V.height,!1),i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(me){s=me,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(me){l=me,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return h||o},this.setReferenceSpace=function(me){h=me},this.getBaseLayer=function(){return y!==null?y:b},this.getBinding=function(){return g===null&&C&&(g=new XRWebGLBinding(r,n)),g},this.getFrame=function(){return S},this.getSession=function(){return r},this.setSession=async function(me){if(r=me,r!==null){if(R=e.getRenderTarget(),r.addEventListener("select",ie),r.addEventListener("selectstart",ie),r.addEventListener("selectend",ie),r.addEventListener("squeeze",ie),r.addEventListener("squeezestart",ie),r.addEventListener("squeezeend",ie),r.addEventListener("end",k),r.addEventListener("inputsourceschange",q),w.xrCompatible!==!0&&await n.makeXRCompatible(),B=e.getPixelRatio(),e.getSize(V),C&&"createProjectionLayer"in XRWebGLBinding.prototype){let de=null,_e=null,Xe=null;w.depth&&(Xe=w.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,de=w.stencil?Om:Rm,_e=w.stencil?Am:Qc);const dt={colorFormat:n.RGBA8,depthFormat:Xe,scaleFactor:s};g=this.getBinding(),y=g.createProjectionLayer(dt),r.updateRenderState({layers:[y]}),e.setPixelRatio(1),e.setSize(y.textureWidth,y.textureHeight,!1),N=new ec(y.textureWidth,y.textureHeight,{format:ns,type:ao,depthTexture:new bR(y.textureWidth,y.textureHeight,_e,void 0,void 0,void 0,void 0,void 0,void 0,de),stencilBuffer:w.stencil,colorSpace:e.outputColorSpace,samples:w.antialias?4:0,resolveDepthBuffer:y.ignoreDepthValues===!1,resolveStencilBuffer:y.ignoreDepthValues===!1})}else{const de={antialias:w.antialias,alpha:!0,depth:w.depth,stencil:w.stencil,framebufferScaleFactor:s};b=new XRWebGLLayer(r,n,de),r.updateRenderState({baseLayer:b}),e.setPixelRatio(1),e.setSize(b.framebufferWidth,b.framebufferHeight,!1),N=new ec(b.framebufferWidth,b.framebufferHeight,{format:ns,type:ao,colorSpace:e.outputColorSpace,stencilBuffer:w.stencil,resolveDepthBuffer:b.ignoreDepthValues===!1,resolveStencilBuffer:b.ignoreDepthValues===!1})}N.isXRRenderTarget=!0,this.setFoveation(d),h=null,o=await r.requestReferenceSpace(l),qe.setContext(r),qe.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode},this.getDepthTexture=function(){return T.getDepthTexture()};function q(me){for(let Pe=0;Pe<me.removed.length;Pe++){const de=me.removed[Pe],_e=I.indexOf(de);_e>=0&&(I[_e]=null,D[_e].disconnect(de))}for(let Pe=0;Pe<me.added.length;Pe++){const de=me.added[Pe];let _e=I.indexOf(de);if(_e===-1){for(let dt=0;dt<D.length;dt++)if(dt>=I.length){I.push(de),_e=dt;break}else if(I[dt]===null){I[dt]=de,_e=dt;break}if(_e===-1)break}const Xe=D[_e];Xe&&Xe.connect(de)}}const $=new J,ne=new J;function G(me,Pe,de){$.setFromMatrixPosition(Pe.matrixWorld),ne.setFromMatrixPosition(de.matrixWorld);const _e=$.distanceTo(ne),Xe=Pe.projectionMatrix.elements,dt=de.projectionMatrix.elements,Rt=Xe[14]/(Xe[10]-1),ee=Xe[14]/(Xe[10]+1),Ve=(Xe[9]+1)/Xe[5],Ue=(Xe[9]-1)/Xe[5],Ie=(Xe[8]-1)/Xe[0],Ne=(dt[8]+1)/dt[0],it=Rt*Ie,je=Rt*Ne,Ke=_e/(-Ie+Ne),Tt=Ke*-Ie;if(Pe.matrixWorld.decompose(me.position,me.quaternion,me.scale),me.translateX(Tt),me.translateZ(Ke),me.matrixWorld.compose(me.position,me.quaternion,me.scale),me.matrixWorldInverse.copy(me.matrixWorld).invert(),Xe[10]===-1)me.projectionMatrix.copy(Pe.projectionMatrix),me.projectionMatrixInverse.copy(Pe.projectionMatrixInverse);else{const Pt=Rt+Ke,Q=ee+Ke,W=it-Tt,ye=je+(_e-Tt),Re=Ve*ee/Q*Pt,ke=Ue*ee/Q*Pt;me.projectionMatrix.makePerspective(W,ye,Re,ke,Pt,Q),me.projectionMatrixInverse.copy(me.projectionMatrix).invert()}}function te(me,Pe){Pe===null?me.matrixWorld.copy(me.matrix):me.matrixWorld.multiplyMatrices(Pe.matrixWorld,me.matrix),me.matrixWorldInverse.copy(me.matrixWorld).invert()}this.updateCamera=function(me){if(r===null)return;let Pe=me.near,de=me.far;T.texture!==null&&(T.depthNear>0&&(Pe=T.depthNear),T.depthFar>0&&(de=T.depthFar)),j.near=z.near=L.near=Pe,j.far=z.far=L.far=de,(Z!==j.near||se!==j.far)&&(r.updateRenderState({depthNear:j.near,depthFar:j.far}),Z=j.near,se=j.far),j.layers.mask=me.layers.mask|6,L.layers.mask=j.layers.mask&3,z.layers.mask=j.layers.mask&5;const _e=me.parent,Xe=j.cameras;te(j,_e);for(let dt=0;dt<Xe.length;dt++)te(Xe[dt],_e);Xe.length===2?G(j,L,z):j.projectionMatrix.copy(L.projectionMatrix),ve(me,j,_e)};function ve(me,Pe,de){de===null?me.matrix.copy(Pe.matrixWorld):(me.matrix.copy(de.matrixWorld),me.matrix.invert(),me.matrix.multiply(Pe.matrixWorld)),me.matrix.decompose(me.position,me.quaternion,me.scale),me.updateMatrixWorld(!0),me.projectionMatrix.copy(Pe.projectionMatrix),me.projectionMatrixInverse.copy(Pe.projectionMatrixInverse),me.isPerspectiveCamera&&(me.fov=Dm*2*Math.atan(1/me.projectionMatrix.elements[5]),me.zoom=1)}this.getCamera=function(){return j},this.getFoveation=function(){if(!(y===null&&b===null))return d},this.setFoveation=function(me){d=me,y!==null&&(y.fixedFoveation=me),b!==null&&b.fixedFoveation!==void 0&&(b.fixedFoveation=me)},this.hasDepthSensing=function(){return T.texture!==null},this.getDepthSensingMesh=function(){return T.getMesh(j)},this.getCameraTexture=function(me){return _[me]};let Me=null;function De(me,Pe){if(m=Pe.getViewerPose(h||o),S=Pe,m!==null){const de=m.views;b!==null&&(e.setRenderTargetFramebuffer(N,b.framebuffer),e.setRenderTarget(N));let _e=!1;de.length!==j.cameras.length&&(j.cameras.length=0,_e=!0);for(let ee=0;ee<de.length;ee++){const Ve=de[ee];let Ue=null;if(b!==null)Ue=b.getViewport(Ve);else{const Ne=g.getViewSubImage(y,Ve);Ue=Ne.viewport,ee===0&&(e.setRenderTargetTextures(N,Ne.colorTexture,Ne.depthStencilTexture),e.setRenderTarget(N))}let Ie=F[ee];Ie===void 0&&(Ie=new Tr,Ie.layers.enable(ee),Ie.viewport=new Cn,F[ee]=Ie),Ie.matrix.fromArray(Ve.transform.matrix),Ie.matrix.decompose(Ie.position,Ie.quaternion,Ie.scale),Ie.projectionMatrix.fromArray(Ve.projectionMatrix),Ie.projectionMatrixInverse.copy(Ie.projectionMatrix).invert(),Ie.viewport.set(Ue.x,Ue.y,Ue.width,Ue.height),ee===0&&(j.matrix.copy(Ie.matrix),j.matrix.decompose(j.position,j.quaternion,j.scale)),_e===!0&&j.cameras.push(Ie)}const Xe=r.enabledFeatures;if(Xe&&Xe.includes("depth-sensing")&&r.depthUsage=="gpu-optimized"&&C){g=i.getBinding();const ee=g.getDepthInformation(de[0]);ee&&ee.isValid&&ee.texture&&T.init(ee,r.renderState)}if(Xe&&Xe.includes("camera-access")&&C){e.state.unbindTexture(),g=i.getBinding();for(let ee=0;ee<de.length;ee++){const Ve=de[ee].camera;if(Ve){let Ue=_[Ve];Ue||(Ue=new SR,_[Ve]=Ue);const Ie=g.getCameraImage(Ve);Ue.sourceTexture=Ie}}}}for(let de=0;de<D.length;de++){const _e=I[de],Xe=D[de];_e!==null&&Xe!==void 0&&Xe.update(_e,Pe,h||o)}Me&&Me(me,Pe),Pe.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:Pe}),S=null}const qe=new w4;qe.setAnimationLoop(De),this.setAnimationLoop=function(me){Me=me},this.dispose=function(){}}}const Uf=new Oa,Tue=new qt;function Mue(t,e){function n(T,_){T.matrixAutoUpdate===!0&&T.updateMatrix(),_.value.copy(T.matrix)}function i(T,_){_.color.getRGB(T.fogColor.value,CB(t)),_.isFog?(T.fogNear.value=_.near,T.fogFar.value=_.far):_.isFogExp2&&(T.fogDensity.value=_.density)}function r(T,_,w,R,N){_.isMeshBasicMaterial||_.isMeshLambertMaterial?s(T,_):_.isMeshToonMaterial?(s(T,_),g(T,_)):_.isMeshPhongMaterial?(s(T,_),m(T,_)):_.isMeshStandardMaterial?(s(T,_),y(T,_),_.isMeshPhysicalMaterial&&b(T,_,N)):_.isMeshMatcapMaterial?(s(T,_),S(T,_)):_.isMeshDepthMaterial?s(T,_):_.isMeshDistanceMaterial?(s(T,_),C(T,_)):_.isMeshNormalMaterial?s(T,_):_.isLineBasicMaterial?(o(T,_),_.isLineDashedMaterial&&l(T,_)):_.isPointsMaterial?d(T,_,w,R):_.isSpriteMaterial?h(T,_):_.isShadowMaterial?(T.color.value.copy(_.color),T.opacity.value=_.opacity):_.isShaderMaterial&&(_.uniformsNeedUpdate=!1)}function s(T,_){T.opacity.value=_.opacity,_.color&&T.diffuse.value.copy(_.color),_.emissive&&T.emissive.value.copy(_.emissive).multiplyScalar(_.emissiveIntensity),_.map&&(T.map.value=_.map,n(_.map,T.mapTransform)),_.alphaMap&&(T.alphaMap.value=_.alphaMap,n(_.alphaMap,T.alphaMapTransform)),_.bumpMap&&(T.bumpMap.value=_.bumpMap,n(_.bumpMap,T.bumpMapTransform),T.bumpScale.value=_.bumpScale,_.side===Os&&(T.bumpScale.value*=-1)),_.normalMap&&(T.normalMap.value=_.normalMap,n(_.normalMap,T.normalMapTransform),T.normalScale.value.copy(_.normalScale),_.side===Os&&T.normalScale.value.negate()),_.displacementMap&&(T.displacementMap.value=_.displacementMap,n(_.displacementMap,T.displacementMapTransform),T.displacementScale.value=_.displacementScale,T.displacementBias.value=_.displacementBias),_.emissiveMap&&(T.emissiveMap.value=_.emissiveMap,n(_.emissiveMap,T.emissiveMapTransform)),_.specularMap&&(T.specularMap.value=_.specularMap,n(_.specularMap,T.specularMapTransform)),_.alphaTest>0&&(T.alphaTest.value=_.alphaTest);const w=e.get(_),R=w.envMap,N=w.envMapRotation;R&&(T.envMap.value=R,Uf.copy(N),Uf.x*=-1,Uf.y*=-1,Uf.z*=-1,R.isCubeTexture&&R.isRenderTargetTexture===!1&&(Uf.y*=-1,Uf.z*=-1),T.envMapRotation.value.setFromMatrix4(Tue.makeRotationFromEuler(Uf)),T.flipEnvMap.value=R.isCubeTexture&&R.isRenderTargetTexture===!1?-1:1,T.reflectivity.value=_.reflectivity,T.ior.value=_.ior,T.refractionRatio.value=_.refractionRatio),_.lightMap&&(T.lightMap.value=_.lightMap,T.lightMapIntensity.value=_.lightMapIntensity,n(_.lightMap,T.lightMapTransform)),_.aoMap&&(T.aoMap.value=_.aoMap,T.aoMapIntensity.value=_.aoMapIntensity,n(_.aoMap,T.aoMapTransform))}function o(T,_){T.diffuse.value.copy(_.color),T.opacity.value=_.opacity,_.map&&(T.map.value=_.map,n(_.map,T.mapTransform))}function l(T,_){T.dashSize.value=_.dashSize,T.totalSize.value=_.dashSize+_.gapSize,T.scale.value=_.scale}function d(T,_,w,R){T.diffuse.value.copy(_.color),T.opacity.value=_.opacity,T.size.value=_.size*w,T.scale.value=R*.5,_.map&&(T.map.value=_.map,n(_.map,T.uvTransform)),_.alphaMap&&(T.alphaMap.value=_.alphaMap,n(_.alphaMap,T.alphaMapTransform)),_.alphaTest>0&&(T.alphaTest.value=_.alphaTest)}function h(T,_){T.diffuse.value.copy(_.color),T.opacity.value=_.opacity,T.rotation.value=_.rotation,_.map&&(T.map.value=_.map,n(_.map,T.mapTransform)),_.alphaMap&&(T.alphaMap.value=_.alphaMap,n(_.alphaMap,T.alphaMapTransform)),_.alphaTest>0&&(T.alphaTest.value=_.alphaTest)}function m(T,_){T.specular.value.copy(_.specular),T.shininess.value=Math.max(_.shininess,1e-4)}function g(T,_){_.gradientMap&&(T.gradientMap.value=_.gradientMap)}function y(T,_){T.metalness.value=_.metalness,_.metalnessMap&&(T.metalnessMap.value=_.metalnessMap,n(_.metalnessMap,T.metalnessMapTransform)),T.roughness.value=_.roughness,_.roughnessMap&&(T.roughnessMap.value=_.roughnessMap,n(_.roughnessMap,T.roughnessMapTransform)),_.envMap&&(T.envMapIntensity.value=_.envMapIntensity)}function b(T,_,w){T.ior.value=_.ior,_.sheen>0&&(T.sheenColor.value.copy(_.sheenColor).multiplyScalar(_.sheen),T.sheenRoughness.value=_.sheenRoughness,_.sheenColorMap&&(T.sheenColorMap.value=_.sheenColorMap,n(_.sheenColorMap,T.sheenColorMapTransform)),_.sheenRoughnessMap&&(T.sheenRoughnessMap.value=_.sheenRoughnessMap,n(_.sheenRoughnessMap,T.sheenRoughnessMapTransform))),_.clearcoat>0&&(T.clearcoat.value=_.clearcoat,T.clearcoatRoughness.value=_.clearcoatRoughness,_.clearcoatMap&&(T.clearcoatMap.value=_.clearcoatMap,n(_.clearcoatMap,T.clearcoatMapTransform)),_.clearcoatRoughnessMap&&(T.clearcoatRoughnessMap.value=_.clearcoatRoughnessMap,n(_.clearcoatRoughnessMap,T.clearcoatRoughnessMapTransform)),_.clearcoatNormalMap&&(T.clearcoatNormalMap.value=_.clearcoatNormalMap,n(_.clearcoatNormalMap,T.clearcoatNormalMapTransform),T.clearcoatNormalScale.value.copy(_.clearcoatNormalScale),_.side===Os&&T.clearcoatNormalScale.value.negate())),_.dispersion>0&&(T.dispersion.value=_.dispersion),_.iridescence>0&&(T.iridescence.value=_.iridescence,T.iridescenceIOR.value=_.iridescenceIOR,T.iridescenceThicknessMinimum.value=_.iridescenceThicknessRange[0],T.iridescenceThicknessMaximum.value=_.iridescenceThicknessRange[1],_.iridescenceMap&&(T.iridescenceMap.value=_.iridescenceMap,n(_.iridescenceMap,T.iridescenceMapTransform)),_.iridescenceThicknessMap&&(T.iridescenceThicknessMap.value=_.iridescenceThicknessMap,n(_.iridescenceThicknessMap,T.iridescenceThicknessMapTransform))),_.transmission>0&&(T.transmission.value=_.transmission,T.transmissionSamplerMap.value=w.texture,T.transmissionSamplerSize.value.set(w.width,w.height),_.transmissionMap&&(T.transmissionMap.value=_.transmissionMap,n(_.transmissionMap,T.transmissionMapTransform)),T.thickness.value=_.thickness,_.thicknessMap&&(T.thicknessMap.value=_.thicknessMap,n(_.thicknessMap,T.thicknessMapTransform)),T.attenuationDistance.value=_.attenuationDistance,T.attenuationColor.value.copy(_.attenuationColor)),_.anisotropy>0&&(T.anisotropyVector.value.set(_.anisotropy*Math.cos(_.anisotropyRotation),_.anisotropy*Math.sin(_.anisotropyRotation)),_.anisotropyMap&&(T.anisotropyMap.value=_.anisotropyMap,n(_.anisotropyMap,T.anisotropyMapTransform))),T.specularIntensity.value=_.specularIntensity,T.specularColor.value.copy(_.specularColor),_.specularColorMap&&(T.specularColorMap.value=_.specularColorMap,n(_.specularColorMap,T.specularColorMapTransform)),_.specularIntensityMap&&(T.specularIntensityMap.value=_.specularIntensityMap,n(_.specularIntensityMap,T.specularIntensityMapTransform))}function S(T,_){_.matcap&&(T.matcap.value=_.matcap)}function C(T,_){const w=e.get(_).light;T.referencePosition.value.setFromMatrixPosition(w.matrixWorld),T.nearDistance.value=w.shadow.camera.near,T.farDistance.value=w.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:r}}function Cue(t,e,n,i){let r={},s={},o=[];const l=t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS);function d(w,R){const N=R.program;i.uniformBlockBinding(w,N)}function h(w,R){let N=r[w.id];N===void 0&&(S(w),N=m(w),r[w.id]=N,w.addEventListener("dispose",T));const D=R.program;i.updateUBOMapping(w,D);const I=e.render.frame;s[w.id]!==I&&(y(w),s[w.id]=I)}function m(w){const R=g();w.__bindingPointIndex=R;const N=t.createBuffer(),D=w.__size,I=w.usage;return t.bindBuffer(t.UNIFORM_BUFFER,N),t.bufferData(t.UNIFORM_BUFFER,D,I),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,R,N),N}function g(){for(let w=0;w<l;w++)if(o.indexOf(w)===-1)return o.push(w),w;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function y(w){const R=r[w.id],N=w.uniforms,D=w.__cache;t.bindBuffer(t.UNIFORM_BUFFER,R);for(let I=0,V=N.length;I<V;I++){const B=Array.isArray(N[I])?N[I]:[N[I]];for(let L=0,z=B.length;L<z;L++){const F=B[L];if(b(F,I,L,D)===!0){const j=F.__offset,Z=Array.isArray(F.value)?F.value:[F.value];let se=0;for(let ie=0;ie<Z.length;ie++){const k=Z[ie],q=C(k);typeof k=="number"||typeof k=="boolean"?(F.__data[0]=k,t.bufferSubData(t.UNIFORM_BUFFER,j+se,F.__data)):k.isMatrix3?(F.__data[0]=k.elements[0],F.__data[1]=k.elements[1],F.__data[2]=k.elements[2],F.__data[3]=0,F.__data[4]=k.elements[3],F.__data[5]=k.elements[4],F.__data[6]=k.elements[5],F.__data[7]=0,F.__data[8]=k.elements[6],F.__data[9]=k.elements[7],F.__data[10]=k.elements[8],F.__data[11]=0):(k.toArray(F.__data,se),se+=q.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,j,F.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function b(w,R,N,D){const I=w.value,V=R+"_"+N;if(D[V]===void 0)return typeof I=="number"||typeof I=="boolean"?D[V]=I:D[V]=I.clone(),!0;{const B=D[V];if(typeof I=="number"||typeof I=="boolean"){if(B!==I)return D[V]=I,!0}else if(B.equals(I)===!1)return B.copy(I),!0}return!1}function S(w){const R=w.uniforms;let N=0;const D=16;for(let V=0,B=R.length;V<B;V++){const L=Array.isArray(R[V])?R[V]:[R[V]];for(let z=0,F=L.length;z<F;z++){const j=L[z],Z=Array.isArray(j.value)?j.value:[j.value];for(let se=0,ie=Z.length;se<ie;se++){const k=Z[se],q=C(k),$=N%D,ne=$%q.boundary,G=$+ne;N+=ne,G!==0&&D-G<q.storage&&(N+=D-G),j.__data=new Float32Array(q.storage/Float32Array.BYTES_PER_ELEMENT),j.__offset=N,N+=q.storage}}}const I=N%D;return I>0&&(N+=D-I),w.__size=N,w.__cache={},this}function C(w){const R={boundary:0,storage:0};return typeof w=="number"||typeof w=="boolean"?(R.boundary=4,R.storage=4):w.isVector2?(R.boundary=8,R.storage=8):w.isVector3||w.isColor?(R.boundary=16,R.storage=12):w.isVector4?(R.boundary=16,R.storage=16):w.isMatrix3?(R.boundary=48,R.storage=48):w.isMatrix4?(R.boundary=64,R.storage=64):w.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",w),R}function T(w){const R=w.target;R.removeEventListener("dispose",T);const N=o.indexOf(R.__bindingPointIndex);o.splice(N,1),t.deleteBuffer(r[R.id]),delete r[R.id],delete s[R.id]}function _(){for(const w in r)t.deleteBuffer(r[w]);o=[],r={},s={}}return{bind:d,update:h,dispose:_}}class P4{constructor(e={}){const{canvas:n=EB(),context:i=null,depth:r=!0,stencil:s=!1,alpha:o=!1,antialias:l=!1,premultipliedAlpha:d=!0,preserveDrawingBuffer:h=!1,powerPreference:m="default",failIfMajorPerformanceCaveat:g=!1,reversedDepthBuffer:y=!1}=e;this.isWebGLRenderer=!0;let b;if(i!==null){if(typeof WebGLRenderingContext<"u"&&i instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");b=i.getContextAttributes().alpha}else b=o;const S=new Uint32Array(4),C=new Int32Array(4);let T=null,_=null;const w=[],R=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=ql,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const N=this;let D=!1;this._outputColorSpace=es;let I=0,V=0,B=null,L=-1,z=null;const F=new Cn,j=new Cn;let Z=null;const se=new mt(0);let ie=0,k=n.width,q=n.height,$=1,ne=null,G=null;const te=new Cn(0,0,k,q),ve=new Cn(0,0,k,q);let Me=!1;const De=new $m;let qe=!1,me=!1;const Pe=new qt,de=new J,_e=new Cn,Xe={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let dt=!1;function Rt(){return B===null?$:1}let ee=i;function Ve(Y,ue){return n.getContext(Y,ue)}try{const Y={alpha:!0,depth:r,stencil:s,antialias:l,premultipliedAlpha:d,preserveDrawingBuffer:h,powerPreference:m,failIfMajorPerformanceCaveat:g};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${g0}`),n.addEventListener("webglcontextlost",nt,!1),n.addEventListener("webglcontextrestored",ht,!1),n.addEventListener("webglcontextcreationerror",Ye,!1),ee===null){const ue="webgl2";if(ee=Ve(ue,Y),ee===null)throw Ve(ue)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(Y){throw console.error("THREE.WebGLRenderer: "+Y.message),Y}let Ue,Ie,Ne,it,je,Ke,Tt,Pt,Q,W,ye,Re,ke,Oe,lt,tt,gt,vt,We,st,Et,yt,at,Ft;function ce(){Ue=new Vle(ee),Ue.init(),yt=new D4(ee,Ue),Ie=new Nle(ee,Ue,e,yt),Ne=new yue(ee,Ue),Ie.reversedDepthBuffer&&y&&Ne.buffers.depth.setReversed(!0),it=new Fle(ee),je=new sue,Ke=new xue(ee,Ue,Ne,je,Ie,yt,it),Tt=new Ple(N),Pt=new Ule(N),Q=new qse(ee),at=new Rle(ee,Q),W=new kle(ee,Q,it,at),ye=new Gle(ee,W,Q,it),We=new Hle(ee,Ie,Ke),tt=new Dle(je),Re=new rue(N,Tt,Pt,Ue,Ie,at,tt),ke=new Mue(N,je),Oe=new oue,lt=new hue(Ue),vt=new Ale(N,Tt,Pt,Ne,ye,b,d),gt=new gue(N,ye,Ie),Ft=new Cue(ee,it,Ie,Ne),st=new Ole(ee,Ue,it),Et=new Ble(ee,Ue,it),it.programs=Re.programs,N.capabilities=Ie,N.extensions=Ue,N.properties=je,N.renderLists=Oe,N.shadowMap=gt,N.state=Ne,N.info=it}ce();const Qe=new Eue(N,ee);this.xr=Qe,this.getContext=function(){return ee},this.getContextAttributes=function(){return ee.getContextAttributes()},this.forceContextLoss=function(){const Y=Ue.get("WEBGL_lose_context");Y&&Y.loseContext()},this.forceContextRestore=function(){const Y=Ue.get("WEBGL_lose_context");Y&&Y.restoreContext()},this.getPixelRatio=function(){return $},this.setPixelRatio=function(Y){Y!==void 0&&($=Y,this.setSize(k,q,!1))},this.getSize=function(Y){return Y.set(k,q)},this.setSize=function(Y,ue,be=!0){if(Qe.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}k=Y,q=ue,n.width=Math.floor(Y*$),n.height=Math.floor(ue*$),be===!0&&(n.style.width=Y+"px",n.style.height=ue+"px"),this.setViewport(0,0,Y,ue)},this.getDrawingBufferSize=function(Y){return Y.set(k*$,q*$).floor()},this.setDrawingBufferSize=function(Y,ue,be){k=Y,q=ue,$=be,n.width=Math.floor(Y*be),n.height=Math.floor(ue*be),this.setViewport(0,0,Y,ue)},this.getCurrentViewport=function(Y){return Y.copy(F)},this.getViewport=function(Y){return Y.copy(te)},this.setViewport=function(Y,ue,be,we){Y.isVector4?te.set(Y.x,Y.y,Y.z,Y.w):te.set(Y,ue,be,we),Ne.viewport(F.copy(te).multiplyScalar($).round())},this.getScissor=function(Y){return Y.copy(ve)},this.setScissor=function(Y,ue,be,we){Y.isVector4?ve.set(Y.x,Y.y,Y.z,Y.w):ve.set(Y,ue,be,we),Ne.scissor(j.copy(ve).multiplyScalar($).round())},this.getScissorTest=function(){return Me},this.setScissorTest=function(Y){Ne.setScissorTest(Me=Y)},this.setOpaqueSort=function(Y){ne=Y},this.setTransparentSort=function(Y){G=Y},this.getClearColor=function(Y){return Y.copy(vt.getClearColor())},this.setClearColor=function(){vt.setClearColor(...arguments)},this.getClearAlpha=function(){return vt.getClearAlpha()},this.setClearAlpha=function(){vt.setClearAlpha(...arguments)},this.clear=function(Y=!0,ue=!0,be=!0){let we=0;if(Y){let he=!1;if(B!==null){const $e=B.texture.format;he=$e===X1||$e===j1||$e===y0}if(he){const $e=B.texture.type,rt=$e===ao||$e===Qc||$e===wm||$e===Am||$e===H1||$e===G1,pt=vt.getClearColor(),ot=vt.getClearAlpha(),Ct=pt.r,Nt=pt.g,_t=pt.b;rt?(S[0]=Ct,S[1]=Nt,S[2]=_t,S[3]=ot,ee.clearBufferuiv(ee.COLOR,0,S)):(C[0]=Ct,C[1]=Nt,C[2]=_t,C[3]=ot,ee.clearBufferiv(ee.COLOR,0,C))}else we|=ee.COLOR_BUFFER_BIT}ue&&(we|=ee.DEPTH_BUFFER_BIT),be&&(we|=ee.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),ee.clear(we)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",nt,!1),n.removeEventListener("webglcontextrestored",ht,!1),n.removeEventListener("webglcontextcreationerror",Ye,!1),vt.dispose(),Oe.dispose(),lt.dispose(),je.dispose(),Tt.dispose(),Pt.dispose(),ye.dispose(),at.dispose(),Ft.dispose(),Re.dispose(),Qe.dispose(),Qe.removeEventListener("sessionstart",Ti),Qe.removeEventListener("sessionend",Mi),ri.stop()};function nt(Y){Y.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),D=!0}function ht(){console.log("THREE.WebGLRenderer: Context Restored."),D=!1;const Y=it.autoReset,ue=gt.enabled,be=gt.autoUpdate,we=gt.needsUpdate,he=gt.type;ce(),it.autoReset=Y,gt.enabled=ue,gt.autoUpdate=be,gt.needsUpdate=we,gt.type=he}function Ye(Y){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",Y.statusMessage)}function Fe(Y){const ue=Y.target;ue.removeEventListener("dispose",Fe),xt(ue)}function xt(Y){It(Y),je.remove(Y)}function It(Y){const ue=je.get(Y).programs;ue!==void 0&&(ue.forEach(function(be){Re.releaseProgram(be)}),Y.isShaderMaterial&&Re.releaseShaderCache(Y))}this.renderBufferDirect=function(Y,ue,be,we,he,$e){ue===null&&(ue=Xe);const rt=he.isMesh&&he.matrixWorld.determinant()<0,pt=Na(Y,ue,be,we,he);Ne.setMaterial(we,rt);let ot=be.index,Ct=1;if(we.wireframe===!0){if(ot=W.getWireframeAttribute(be),ot===void 0)return;Ct=2}const Nt=be.drawRange,_t=be.attributes.position;let en=Nt.start*Ct,yn=(Nt.start+Nt.count)*Ct;$e!==null&&(en=Math.max(en,$e.start*Ct),yn=Math.min(yn,($e.start+$e.count)*Ct)),ot!==null?(en=Math.max(en,0),yn=Math.min(yn,ot.count)):_t!=null&&(en=Math.max(en,0),yn=Math.min(yn,_t.count));const Qn=yn-en;if(Qn<0||Qn===1/0)return;at.setup(he,we,pt,be,ot);let Dn,Zt=st;if(ot!==null&&(Dn=Q.get(ot),Zt=Et,Zt.setIndex(Dn)),he.isMesh)we.wireframe===!0?(Ne.setLineWidth(we.wireframeLinewidth*Rt()),Zt.setMode(ee.LINES)):Zt.setMode(ee.TRIANGLES);else if(he.isLine){let wt=we.linewidth;wt===void 0&&(wt=1),Ne.setLineWidth(wt*Rt()),he.isLineSegments?Zt.setMode(ee.LINES):he.isLineLoop?Zt.setMode(ee.LINE_LOOP):Zt.setMode(ee.LINE_STRIP)}else he.isPoints?Zt.setMode(ee.POINTS):he.isSprite&&Zt.setMode(ee.TRIANGLES);if(he.isBatchedMesh)if(he._multiDrawInstances!==null)Wy("THREE.WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),Zt.renderMultiDrawInstances(he._multiDrawStarts,he._multiDrawCounts,he._multiDrawCount,he._multiDrawInstances);else if(Ue.get("WEBGL_multi_draw"))Zt.renderMultiDraw(he._multiDrawStarts,he._multiDrawCounts,he._multiDrawCount);else{const wt=he._multiDrawStarts,Jn=he._multiDrawCounts,cn=he._multiDrawCount,Zi=ot?Q.get(ot).bytesPerElement:1,Ls=je.get(we).currentProgram.getUniforms();for(let Qi=0;Qi<cn;Qi++)Ls.setValue(ee,"_gl_DrawID",Qi),Zt.render(wt[Qi]/Zi,Jn[Qi])}else if(he.isInstancedMesh)Zt.renderInstances(en,Qn,he.count);else if(be.isInstancedBufferGeometry){const wt=be._maxInstanceCount!==void 0?be._maxInstanceCount:1/0,Jn=Math.min(be.instanceCount,wt);Zt.renderInstances(en,Qn,Jn)}else Zt.render(en,Qn)};function gn(Y,ue,be){Y.transparent===!0&&Y.side===Vl&&Y.forceSinglePass===!1?(Y.side=Os,Y.needsUpdate=!0,cs(Y,ue,be),Y.side=$c,Y.needsUpdate=!0,cs(Y,ue,be),Y.side=Vl):cs(Y,ue,be)}this.compile=function(Y,ue,be=null){be===null&&(be=Y),_=lt.get(be),_.init(ue),R.push(_),be.traverseVisible(function(he){he.isLight&&he.layers.test(ue.layers)&&(_.pushLight(he),he.castShadow&&_.pushShadow(he))}),Y!==be&&Y.traverseVisible(function(he){he.isLight&&he.layers.test(ue.layers)&&(_.pushLight(he),he.castShadow&&_.pushShadow(he))}),_.setupLights();const we=new Set;return Y.traverse(function(he){if(!(he.isMesh||he.isPoints||he.isLine||he.isSprite))return;const $e=he.material;if($e)if(Array.isArray($e))for(let rt=0;rt<$e.length;rt++){const pt=$e[rt];gn(pt,be,he),we.add(pt)}else gn($e,be,he),we.add($e)}),_=R.pop(),we},this.compileAsync=function(Y,ue,be=null){const we=this.compile(Y,ue,be);return new Promise(he=>{function $e(){if(we.forEach(function(rt){je.get(rt).currentProgram.isReady()&&we.delete(rt)}),we.size===0){he(Y);return}setTimeout($e,10)}Ue.get("KHR_parallel_shader_compile")!==null?$e():setTimeout($e,10)})};let fn=null;function Ps(Y){fn&&fn(Y)}function Ti(){ri.stop()}function Mi(){ri.start()}const ri=new w4;ri.setAnimationLoop(Ps),typeof self<"u"&&ri.setContext(self),this.setAnimationLoop=function(Y){fn=Y,Qe.setAnimationLoop(Y),Y===null?ri.stop():ri.start()},Qe.addEventListener("sessionstart",Ti),Qe.addEventListener("sessionend",Mi),this.render=function(Y,ue){if(ue!==void 0&&ue.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(D===!0)return;if(Y.matrixWorldAutoUpdate===!0&&Y.updateMatrixWorld(),ue.parent===null&&ue.matrixWorldAutoUpdate===!0&&ue.updateMatrixWorld(),Qe.enabled===!0&&Qe.isPresenting===!0&&(Qe.cameraAutoUpdate===!0&&Qe.updateCamera(ue),ue=Qe.getCamera()),Y.isScene===!0&&Y.onBeforeRender(N,Y,ue,B),_=lt.get(Y,R.length),_.init(ue),R.push(_),Pe.multiplyMatrices(ue.projectionMatrix,ue.matrixWorldInverse),De.setFromProjectionMatrix(Pe,Ca,ue.reversedDepth),me=this.localClippingEnabled,qe=tt.init(this.clippingPlanes,me),T=Oe.get(Y,w.length),T.init(),w.push(T),Qe.enabled===!0&&Qe.isPresenting===!0){const $e=N.xr.getDepthSensingMesh();$e!==null&&Is($e,ue,-1/0,N.sortObjects)}Is(Y,ue,0,N.sortObjects),T.finish(),N.sortObjects===!0&&T.sort(ne,G),dt=Qe.enabled===!1||Qe.isPresenting===!1||Qe.hasDepthSensing()===!1,dt&&vt.addToRenderList(T,Y),this.info.render.frame++,qe===!0&&tt.beginShadows();const be=_.state.shadowsArray;gt.render(be,Y,ue),qe===!0&&tt.endShadows(),this.info.autoReset===!0&&this.info.reset();const we=T.opaque,he=T.transmissive;if(_.setupLights(),ue.isArrayCamera){const $e=ue.cameras;if(he.length>0)for(let rt=0,pt=$e.length;rt<pt;rt++){const ot=$e[rt];Md(we,he,Y,ot)}dt&&vt.render(Y);for(let rt=0,pt=$e.length;rt<pt;rt++){const ot=$e[rt];as(T,Y,ot,ot.viewport)}}else he.length>0&&Md(we,he,Y,ue),dt&&vt.render(Y),as(T,Y,ue);B!==null&&V===0&&(Ke.updateMultisampleRenderTarget(B),Ke.updateRenderTargetMipmap(B)),Y.isScene===!0&&Y.onAfterRender(N,Y,ue),at.resetDefaultState(),L=-1,z=null,R.pop(),R.length>0?(_=R[R.length-1],qe===!0&&tt.setGlobalState(N.clippingPlanes,_.state.camera)):_=null,w.pop(),w.length>0?T=w[w.length-1]:T=null};function Is(Y,ue,be,we){if(Y.visible===!1)return;if(Y.layers.test(ue.layers)){if(Y.isGroup)be=Y.renderOrder;else if(Y.isLOD)Y.autoUpdate===!0&&Y.update(ue);else if(Y.isLight)_.pushLight(Y),Y.castShadow&&_.pushShadow(Y);else if(Y.isSprite){if(!Y.frustumCulled||De.intersectsSprite(Y)){we&&_e.setFromMatrixPosition(Y.matrixWorld).applyMatrix4(Pe);const rt=ye.update(Y),pt=Y.material;pt.visible&&T.push(Y,rt,pt,be,_e.z,null)}}else if((Y.isMesh||Y.isLine||Y.isPoints)&&(!Y.frustumCulled||De.intersectsObject(Y))){const rt=ye.update(Y),pt=Y.material;if(we&&(Y.boundingSphere!==void 0?(Y.boundingSphere===null&&Y.computeBoundingSphere(),_e.copy(Y.boundingSphere.center)):(rt.boundingSphere===null&&rt.computeBoundingSphere(),_e.copy(rt.boundingSphere.center)),_e.applyMatrix4(Y.matrixWorld).applyMatrix4(Pe)),Array.isArray(pt)){const ot=rt.groups;for(let Ct=0,Nt=ot.length;Ct<Nt;Ct++){const _t=ot[Ct],en=pt[_t.materialIndex];en&&en.visible&&T.push(Y,rt,en,be,_e.z,_t)}}else pt.visible&&T.push(Y,rt,pt,be,_e.z,null)}}const $e=Y.children;for(let rt=0,pt=$e.length;rt<pt;rt++)Is($e[rt],ue,be,we)}function as(Y,ue,be,we){const he=Y.opaque,$e=Y.transmissive,rt=Y.transparent;_.setupLightsView(be),qe===!0&&tt.setGlobalState(N.clippingPlanes,be),we&&Ne.viewport(F.copy(we)),he.length>0&&os(he,ue,be),$e.length>0&&os($e,ue,be),rt.length>0&&os(rt,ue,be),Ne.buffers.depth.setTest(!0),Ne.buffers.depth.setMask(!0),Ne.buffers.color.setMask(!0),Ne.setPolygonOffset(!1)}function Md(Y,ue,be,we){if((be.isScene===!0?be.overrideMaterial:null)!==null)return;_.state.transmissionRenderTarget[we.id]===void 0&&(_.state.transmissionRenderTarget[we.id]=new ec(1,1,{generateMipmaps:!0,type:Ue.has("EXT_color_buffer_half_float")||Ue.has("EXT_color_buffer_float")?Ym:ao,minFilter:Fl,samples:4,stencilBuffer:s,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Sn.workingColorSpace}));const $e=_.state.transmissionRenderTarget[we.id],rt=we.viewport||F;$e.setSize(rt.z*N.transmissionResolutionScale,rt.w*N.transmissionResolutionScale);const pt=N.getRenderTarget(),ot=N.getActiveCubeFace(),Ct=N.getActiveMipmapLevel();N.setRenderTarget($e),N.getClearColor(se),ie=N.getClearAlpha(),ie<1&&N.setClearColor(16777215,.5),N.clear(),dt&&vt.render(be);const Nt=N.toneMapping;N.toneMapping=ql;const _t=we.viewport;if(we.viewport!==void 0&&(we.viewport=void 0),_.setupLightsView(we),qe===!0&&tt.setGlobalState(N.clippingPlanes,we),os(Y,be,we),Ke.updateMultisampleRenderTarget($e),Ke.updateRenderTargetMipmap($e),Ue.has("WEBGL_multisampled_render_to_texture")===!1){let en=!1;for(let yn=0,Qn=ue.length;yn<Qn;yn++){const Dn=ue[yn],Zt=Dn.object,wt=Dn.geometry,Jn=Dn.material,cn=Dn.group;if(Jn.side===Vl&&Zt.layers.test(we.layers)){const Zi=Jn.side;Jn.side=Os,Jn.needsUpdate=!0,ls(Zt,be,we,wt,Jn,cn),Jn.side=Zi,Jn.needsUpdate=!0,en=!0}}en===!0&&(Ke.updateMultisampleRenderTarget($e),Ke.updateRenderTargetMipmap($e))}N.setRenderTarget(pt,ot,Ct),N.setClearColor(se,ie),_t!==void 0&&(we.viewport=_t),N.toneMapping=Nt}function os(Y,ue,be){const we=ue.isScene===!0?ue.overrideMaterial:null;for(let he=0,$e=Y.length;he<$e;he++){const rt=Y[he],pt=rt.object,ot=rt.geometry,Ct=rt.group;let Nt=rt.material;Nt.allowOverride===!0&&we!==null&&(Nt=we),pt.layers.test(be.layers)&&ls(pt,ue,be,ot,Nt,Ct)}}function ls(Y,ue,be,we,he,$e){Y.onBeforeRender(N,ue,be,we,he,$e),Y.modelViewMatrix.multiplyMatrices(be.matrixWorldInverse,Y.matrixWorld),Y.normalMatrix.getNormalMatrix(Y.modelViewMatrix),he.onBeforeRender(N,ue,be,we,Y,$e),he.transparent===!0&&he.side===Vl&&he.forceSinglePass===!1?(he.side=Os,he.needsUpdate=!0,N.renderBufferDirect(be,ue,we,he,Y,$e),he.side=$c,he.needsUpdate=!0,N.renderBufferDirect(be,ue,we,he,Y,$e),he.side=Vl):N.renderBufferDirect(be,ue,we,he,Y,$e),Y.onAfterRender(N,ue,be,we,he,$e)}function cs(Y,ue,be){ue.isScene!==!0&&(ue=Xe);const we=je.get(Y),he=_.state.lights,$e=_.state.shadowsArray,rt=he.state.version,pt=Re.getParameters(Y,he.state,$e,ue,be),ot=Re.getProgramCacheKey(pt);let Ct=we.programs;we.environment=Y.isMeshStandardMaterial?ue.environment:null,we.fog=ue.fog,we.envMap=(Y.isMeshStandardMaterial?Pt:Tt).get(Y.envMap||we.environment),we.envMapRotation=we.environment!==null&&Y.envMap===null?ue.environmentRotation:Y.envMapRotation,Ct===void 0&&(Y.addEventListener("dispose",Fe),Ct=new Map,we.programs=Ct);let Nt=Ct.get(ot);if(Nt!==void 0){if(we.currentProgram===Nt&&we.lightsStateVersion===rt)return la(Y,pt),Nt}else pt.uniforms=Re.getUniforms(Y),Y.onBeforeCompile(pt,N),Nt=Re.acquireProgram(pt,ot),Ct.set(ot,Nt),we.uniforms=pt.uniforms;const _t=we.uniforms;return(!Y.isShaderMaterial&&!Y.isRawShaderMaterial||Y.clipping===!0)&&(_t.clippingPlanes=tt.uniform),la(Y,pt),we.needsLights=co(Y),we.lightsStateVersion=rt,we.needsLights&&(_t.ambientLightColor.value=he.state.ambient,_t.lightProbe.value=he.state.probe,_t.directionalLights.value=he.state.directional,_t.directionalLightShadows.value=he.state.directionalShadow,_t.spotLights.value=he.state.spot,_t.spotLightShadows.value=he.state.spotShadow,_t.rectAreaLights.value=he.state.rectArea,_t.ltc_1.value=he.state.rectAreaLTC1,_t.ltc_2.value=he.state.rectAreaLTC2,_t.pointLights.value=he.state.point,_t.pointLightShadows.value=he.state.pointShadow,_t.hemisphereLights.value=he.state.hemi,_t.directionalShadowMap.value=he.state.directionalShadowMap,_t.directionalShadowMatrix.value=he.state.directionalShadowMatrix,_t.spotShadowMap.value=he.state.spotShadowMap,_t.spotLightMatrix.value=he.state.spotLightMatrix,_t.spotLightMap.value=he.state.spotLightMap,_t.pointShadowMap.value=he.state.pointShadowMap,_t.pointShadowMatrix.value=he.state.pointShadowMatrix),we.currentProgram=Nt,we.uniformsList=null,Nt}function jn(Y){if(Y.uniformsList===null){const ue=Y.currentProgram.getUniforms();Y.uniformsList=FS.seqWithValue(ue.seq,Y.uniforms)}return Y.uniformsList}function la(Y,ue){const be=je.get(Y);be.outputColorSpace=ue.outputColorSpace,be.batching=ue.batching,be.batchingColor=ue.batchingColor,be.instancing=ue.instancing,be.instancingColor=ue.instancingColor,be.instancingMorph=ue.instancingMorph,be.skinning=ue.skinning,be.morphTargets=ue.morphTargets,be.morphNormals=ue.morphNormals,be.morphColors=ue.morphColors,be.morphTargetsCount=ue.morphTargetsCount,be.numClippingPlanes=ue.numClippingPlanes,be.numIntersection=ue.numClipIntersection,be.vertexAlphas=ue.vertexAlphas,be.vertexTangents=ue.vertexTangents,be.toneMapping=ue.toneMapping}function Na(Y,ue,be,we,he){ue.isScene!==!0&&(ue=Xe),Ke.resetTextureUnits();const $e=ue.fog,rt=we.isMeshStandardMaterial?ue.environment:null,pt=B===null?N.outputColorSpace:B.isXRRenderTarget===!0?B.texture.colorSpace:vd,ot=(we.isMeshStandardMaterial?Pt:Tt).get(we.envMap||rt),Ct=we.vertexColors===!0&&!!be.attributes.color&&be.attributes.color.itemSize===4,Nt=!!be.attributes.tangent&&(!!we.normalMap||we.anisotropy>0),_t=!!be.morphAttributes.position,en=!!be.morphAttributes.normal,yn=!!be.morphAttributes.color;let Qn=ql;we.toneMapped&&(B===null||B.isXRRenderTarget===!0)&&(Qn=N.toneMapping);const Dn=be.morphAttributes.position||be.morphAttributes.normal||be.morphAttributes.color,Zt=Dn!==void 0?Dn.length:0,wt=je.get(we),Jn=_.state.lights;if(qe===!0&&(me===!0||Y!==z)){const oi=Y===z&&we.id===L;tt.setState(we,Y,oi)}let cn=!1;we.version===wt.__version?(wt.needsLights&&wt.lightsStateVersion!==Jn.state.version||wt.outputColorSpace!==pt||he.isBatchedMesh&&wt.batching===!1||!he.isBatchedMesh&&wt.batching===!0||he.isBatchedMesh&&wt.batchingColor===!0&&he.colorTexture===null||he.isBatchedMesh&&wt.batchingColor===!1&&he.colorTexture!==null||he.isInstancedMesh&&wt.instancing===!1||!he.isInstancedMesh&&wt.instancing===!0||he.isSkinnedMesh&&wt.skinning===!1||!he.isSkinnedMesh&&wt.skinning===!0||he.isInstancedMesh&&wt.instancingColor===!0&&he.instanceColor===null||he.isInstancedMesh&&wt.instancingColor===!1&&he.instanceColor!==null||he.isInstancedMesh&&wt.instancingMorph===!0&&he.morphTexture===null||he.isInstancedMesh&&wt.instancingMorph===!1&&he.morphTexture!==null||wt.envMap!==ot||we.fog===!0&&wt.fog!==$e||wt.numClippingPlanes!==void 0&&(wt.numClippingPlanes!==tt.numPlanes||wt.numIntersection!==tt.numIntersection)||wt.vertexAlphas!==Ct||wt.vertexTangents!==Nt||wt.morphTargets!==_t||wt.morphNormals!==en||wt.morphColors!==yn||wt.toneMapping!==Qn||wt.morphTargetsCount!==Zt)&&(cn=!0):(cn=!0,wt.__version=we.version);let Zi=wt.currentProgram;cn===!0&&(Zi=cs(we,ue,he));let Ls=!1,Qi=!1,Pi=!1;const zn=Zi.getUniforms(),pr=wt.uniforms;if(Ne.useProgram(Zi.program)&&(Ls=!0,Qi=!0,Pi=!0),we.id!==L&&(L=we.id,Qi=!0),Ls||z!==Y){Ne.buffers.depth.getReversed()&&Y.reversedDepth!==!0&&(Y._reversedDepth=!0,Y.updateProjectionMatrix()),zn.setValue(ee,"projectionMatrix",Y.projectionMatrix),zn.setValue(ee,"viewMatrix",Y.matrixWorldInverse);const er=zn.map.cameraPosition;er!==void 0&&er.setValue(ee,de.setFromMatrixPosition(Y.matrixWorld)),Ie.logarithmicDepthBuffer&&zn.setValue(ee,"logDepthBufFC",2/(Math.log(Y.far+1)/Math.LN2)),(we.isMeshPhongMaterial||we.isMeshToonMaterial||we.isMeshLambertMaterial||we.isMeshBasicMaterial||we.isMeshStandardMaterial||we.isShaderMaterial)&&zn.setValue(ee,"isOrthographic",Y.isOrthographicCamera===!0),z!==Y&&(z=Y,Qi=!0,Pi=!0)}if(he.isSkinnedMesh){zn.setOptional(ee,he,"bindMatrix"),zn.setOptional(ee,he,"bindMatrixInverse");const oi=he.skeleton;oi&&(oi.boneTexture===null&&oi.computeBoneTexture(),zn.setValue(ee,"boneTexture",oi.boneTexture,Ke))}he.isBatchedMesh&&(zn.setOptional(ee,he,"batchingTexture"),zn.setValue(ee,"batchingTexture",he._matricesTexture,Ke),zn.setOptional(ee,he,"batchingIdTexture"),zn.setValue(ee,"batchingIdTexture",he._indirectTexture,Ke),zn.setOptional(ee,he,"batchingColorTexture"),he._colorsTexture!==null&&zn.setValue(ee,"batchingColorTexture",he._colorsTexture,Ke));const Ji=be.morphAttributes;if((Ji.position!==void 0||Ji.normal!==void 0||Ji.color!==void 0)&&We.update(he,be,Zi),(Qi||wt.receiveShadow!==he.receiveShadow)&&(wt.receiveShadow=he.receiveShadow,zn.setValue(ee,"receiveShadow",he.receiveShadow)),we.isMeshGouraudMaterial&&we.envMap!==null&&(pr.envMap.value=ot,pr.flipEnvMap.value=ot.isCubeTexture&&ot.isRenderTargetTexture===!1?-1:1),we.isMeshStandardMaterial&&we.envMap===null&&ue.environment!==null&&(pr.envMapIntensity.value=ue.environmentIntensity),Qi&&(zn.setValue(ee,"toneMappingExposure",N.toneMappingExposure),wt.needsLights&&Qo(pr,Pi),$e&&we.fog===!0&&ke.refreshFogUniforms(pr,$e),ke.refreshMaterialUniforms(pr,we,$,q,_.state.transmissionRenderTarget[Y.id]),FS.upload(ee,jn(wt),pr,Ke)),we.isShaderMaterial&&we.uniformsNeedUpdate===!0&&(FS.upload(ee,jn(wt),pr,Ke),we.uniformsNeedUpdate=!1),we.isSpriteMaterial&&zn.setValue(ee,"center",he.center),zn.setValue(ee,"modelViewMatrix",he.modelViewMatrix),zn.setValue(ee,"normalMatrix",he.normalMatrix),zn.setValue(ee,"modelMatrix",he.matrixWorld),we.isShaderMaterial||we.isRawShaderMaterial){const oi=we.uniformsGroups;for(let er=0,ac=oi.length;er<ac;er++){const Ii=oi[er];Ft.update(Ii,Zi),Ft.bind(Ii,Zi)}}return Zi}function Qo(Y,ue){Y.ambientLightColor.needsUpdate=ue,Y.lightProbe.needsUpdate=ue,Y.directionalLights.needsUpdate=ue,Y.directionalLightShadows.needsUpdate=ue,Y.pointLights.needsUpdate=ue,Y.pointLightShadows.needsUpdate=ue,Y.spotLights.needsUpdate=ue,Y.spotLightShadows.needsUpdate=ue,Y.rectAreaLights.needsUpdate=ue,Y.hemisphereLights.needsUpdate=ue}function co(Y){return Y.isMeshLambertMaterial||Y.isMeshToonMaterial||Y.isMeshPhongMaterial||Y.isMeshStandardMaterial||Y.isShadowMaterial||Y.isShaderMaterial&&Y.lights===!0}this.getActiveCubeFace=function(){return I},this.getActiveMipmapLevel=function(){return V},this.getRenderTarget=function(){return B},this.setRenderTargetTextures=function(Y,ue,be){const we=je.get(Y);we.__autoAllocateDepthBuffer=Y.resolveDepthBuffer===!1,we.__autoAllocateDepthBuffer===!1&&(we.__useRenderToTexture=!1),je.get(Y.texture).__webglTexture=ue,je.get(Y.depthTexture).__webglTexture=we.__autoAllocateDepthBuffer?void 0:be,we.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(Y,ue){const be=je.get(Y);be.__webglFramebuffer=ue,be.__useDefaultFramebuffer=ue===void 0};const Ci=ee.createFramebuffer();this.setRenderTarget=function(Y,ue=0,be=0){B=Y,I=ue,V=be;let we=!0,he=null,$e=!1,rt=!1;if(Y){const ot=je.get(Y);if(ot.__useDefaultFramebuffer!==void 0)Ne.bindFramebuffer(ee.FRAMEBUFFER,null),we=!1;else if(ot.__webglFramebuffer===void 0)Ke.setupRenderTarget(Y);else if(ot.__hasExternalTextures)Ke.rebindTextures(Y,je.get(Y.texture).__webglTexture,je.get(Y.depthTexture).__webglTexture);else if(Y.depthBuffer){const _t=Y.depthTexture;if(ot.__boundDepthTexture!==_t){if(_t!==null&&je.has(_t)&&(Y.width!==_t.image.width||Y.height!==_t.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");Ke.setupDepthRenderbuffer(Y)}}const Ct=Y.texture;(Ct.isData3DTexture||Ct.isDataArrayTexture||Ct.isCompressedArrayTexture)&&(rt=!0);const Nt=je.get(Y).__webglFramebuffer;Y.isWebGLCubeRenderTarget?(Array.isArray(Nt[ue])?he=Nt[ue][be]:he=Nt[ue],$e=!0):Y.samples>0&&Ke.useMultisampledRTT(Y)===!1?he=je.get(Y).__webglMultisampledFramebuffer:Array.isArray(Nt)?he=Nt[be]:he=Nt,F.copy(Y.viewport),j.copy(Y.scissor),Z=Y.scissorTest}else F.copy(te).multiplyScalar($).floor(),j.copy(ve).multiplyScalar($).floor(),Z=Me;if(be!==0&&(he=Ci),Ne.bindFramebuffer(ee.FRAMEBUFFER,he)&&we&&Ne.drawBuffers(Y,he),Ne.viewport(F),Ne.scissor(j),Ne.setScissorTest(Z),$e){const ot=je.get(Y.texture);ee.framebufferTexture2D(ee.FRAMEBUFFER,ee.COLOR_ATTACHMENT0,ee.TEXTURE_CUBE_MAP_POSITIVE_X+ue,ot.__webglTexture,be)}else if(rt){const ot=ue;for(let Ct=0;Ct<Y.textures.length;Ct++){const Nt=je.get(Y.textures[Ct]);ee.framebufferTextureLayer(ee.FRAMEBUFFER,ee.COLOR_ATTACHMENT0+Ct,Nt.__webglTexture,be,ot)}}else if(Y!==null&&be!==0){const ot=je.get(Y.texture);ee.framebufferTexture2D(ee.FRAMEBUFFER,ee.COLOR_ATTACHMENT0,ee.TEXTURE_2D,ot.__webglTexture,be)}L=-1},this.readRenderTargetPixels=function(Y,ue,be,we,he,$e,rt,pt=0){if(!(Y&&Y.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let ot=je.get(Y).__webglFramebuffer;if(Y.isWebGLCubeRenderTarget&&rt!==void 0&&(ot=ot[rt]),ot){Ne.bindFramebuffer(ee.FRAMEBUFFER,ot);try{const Ct=Y.textures[pt],Nt=Ct.format,_t=Ct.type;if(!Ie.textureFormatReadable(Nt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!Ie.textureTypeReadable(_t)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ue>=0&&ue<=Y.width-we&&be>=0&&be<=Y.height-he&&(Y.textures.length>1&&ee.readBuffer(ee.COLOR_ATTACHMENT0+pt),ee.readPixels(ue,be,we,he,yt.convert(Nt),yt.convert(_t),$e))}finally{const Ct=B!==null?je.get(B).__webglFramebuffer:null;Ne.bindFramebuffer(ee.FRAMEBUFFER,Ct)}}},this.readRenderTargetPixelsAsync=async function(Y,ue,be,we,he,$e,rt,pt=0){if(!(Y&&Y.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let ot=je.get(Y).__webglFramebuffer;if(Y.isWebGLCubeRenderTarget&&rt!==void 0&&(ot=ot[rt]),ot)if(ue>=0&&ue<=Y.width-we&&be>=0&&be<=Y.height-he){Ne.bindFramebuffer(ee.FRAMEBUFFER,ot);const Ct=Y.textures[pt],Nt=Ct.format,_t=Ct.type;if(!Ie.textureFormatReadable(Nt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Ie.textureTypeReadable(_t))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const en=ee.createBuffer();ee.bindBuffer(ee.PIXEL_PACK_BUFFER,en),ee.bufferData(ee.PIXEL_PACK_BUFFER,$e.byteLength,ee.STREAM_READ),Y.textures.length>1&&ee.readBuffer(ee.COLOR_ATTACHMENT0+pt),ee.readPixels(ue,be,we,he,yt.convert(Nt),yt.convert(_t),0);const yn=B!==null?je.get(B).__webglFramebuffer:null;Ne.bindFramebuffer(ee.FRAMEBUFFER,yn);const Qn=ee.fenceSync(ee.SYNC_GPU_COMMANDS_COMPLETE,0);return ee.flush(),await fie(ee,Qn,4),ee.bindBuffer(ee.PIXEL_PACK_BUFFER,en),ee.getBufferSubData(ee.PIXEL_PACK_BUFFER,0,$e),ee.deleteBuffer(en),ee.deleteSync(Qn),$e}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(Y,ue=null,be=0){const we=Math.pow(2,-be),he=Math.floor(Y.image.width*we),$e=Math.floor(Y.image.height*we),rt=ue!==null?ue.x:0,pt=ue!==null?ue.y:0;Ke.setTexture2D(Y,0),ee.copyTexSubImage2D(ee.TEXTURE_2D,be,0,0,rt,pt,he,$e),Ne.unbindTexture()};const iu=ee.createFramebuffer(),ru=ee.createFramebuffer();this.copyTextureToTexture=function(Y,ue,be=null,we=null,he=0,$e=null){$e===null&&(he!==0?(Wy("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),$e=he,he=0):$e=0);let rt,pt,ot,Ct,Nt,_t,en,yn,Qn;const Dn=Y.isCompressedTexture?Y.mipmaps[$e]:Y.image;if(be!==null)rt=be.max.x-be.min.x,pt=be.max.y-be.min.y,ot=be.isBox3?be.max.z-be.min.z:1,Ct=be.min.x,Nt=be.min.y,_t=be.isBox3?be.min.z:0;else{const Ji=Math.pow(2,-he);rt=Math.floor(Dn.width*Ji),pt=Math.floor(Dn.height*Ji),Y.isDataArrayTexture?ot=Dn.depth:Y.isData3DTexture?ot=Math.floor(Dn.depth*Ji):ot=1,Ct=0,Nt=0,_t=0}we!==null?(en=we.x,yn=we.y,Qn=we.z):(en=0,yn=0,Qn=0);const Zt=yt.convert(ue.format),wt=yt.convert(ue.type);let Jn;ue.isData3DTexture?(Ke.setTexture3D(ue,0),Jn=ee.TEXTURE_3D):ue.isDataArrayTexture||ue.isCompressedArrayTexture?(Ke.setTexture2DArray(ue,0),Jn=ee.TEXTURE_2D_ARRAY):(Ke.setTexture2D(ue,0),Jn=ee.TEXTURE_2D),ee.pixelStorei(ee.UNPACK_FLIP_Y_WEBGL,ue.flipY),ee.pixelStorei(ee.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ue.premultiplyAlpha),ee.pixelStorei(ee.UNPACK_ALIGNMENT,ue.unpackAlignment);const cn=ee.getParameter(ee.UNPACK_ROW_LENGTH),Zi=ee.getParameter(ee.UNPACK_IMAGE_HEIGHT),Ls=ee.getParameter(ee.UNPACK_SKIP_PIXELS),Qi=ee.getParameter(ee.UNPACK_SKIP_ROWS),Pi=ee.getParameter(ee.UNPACK_SKIP_IMAGES);ee.pixelStorei(ee.UNPACK_ROW_LENGTH,Dn.width),ee.pixelStorei(ee.UNPACK_IMAGE_HEIGHT,Dn.height),ee.pixelStorei(ee.UNPACK_SKIP_PIXELS,Ct),ee.pixelStorei(ee.UNPACK_SKIP_ROWS,Nt),ee.pixelStorei(ee.UNPACK_SKIP_IMAGES,_t);const zn=Y.isDataArrayTexture||Y.isData3DTexture,pr=ue.isDataArrayTexture||ue.isData3DTexture;if(Y.isDepthTexture){const Ji=je.get(Y),oi=je.get(ue),er=je.get(Ji.__renderTarget),ac=je.get(oi.__renderTarget);Ne.bindFramebuffer(ee.READ_FRAMEBUFFER,er.__webglFramebuffer),Ne.bindFramebuffer(ee.DRAW_FRAMEBUFFER,ac.__webglFramebuffer);for(let Ii=0;Ii<ot;Ii++)zn&&(ee.framebufferTextureLayer(ee.READ_FRAMEBUFFER,ee.COLOR_ATTACHMENT0,je.get(Y).__webglTexture,he,_t+Ii),ee.framebufferTextureLayer(ee.DRAW_FRAMEBUFFER,ee.COLOR_ATTACHMENT0,je.get(ue).__webglTexture,$e,Qn+Ii)),ee.blitFramebuffer(Ct,Nt,rt,pt,en,yn,rt,pt,ee.DEPTH_BUFFER_BIT,ee.NEAREST);Ne.bindFramebuffer(ee.READ_FRAMEBUFFER,null),Ne.bindFramebuffer(ee.DRAW_FRAMEBUFFER,null)}else if(he!==0||Y.isRenderTargetTexture||je.has(Y)){const Ji=je.get(Y),oi=je.get(ue);Ne.bindFramebuffer(ee.READ_FRAMEBUFFER,iu),Ne.bindFramebuffer(ee.DRAW_FRAMEBUFFER,ru);for(let er=0;er<ot;er++)zn?ee.framebufferTextureLayer(ee.READ_FRAMEBUFFER,ee.COLOR_ATTACHMENT0,Ji.__webglTexture,he,_t+er):ee.framebufferTexture2D(ee.READ_FRAMEBUFFER,ee.COLOR_ATTACHMENT0,ee.TEXTURE_2D,Ji.__webglTexture,he),pr?ee.framebufferTextureLayer(ee.DRAW_FRAMEBUFFER,ee.COLOR_ATTACHMENT0,oi.__webglTexture,$e,Qn+er):ee.framebufferTexture2D(ee.DRAW_FRAMEBUFFER,ee.COLOR_ATTACHMENT0,ee.TEXTURE_2D,oi.__webglTexture,$e),he!==0?ee.blitFramebuffer(Ct,Nt,rt,pt,en,yn,rt,pt,ee.COLOR_BUFFER_BIT,ee.NEAREST):pr?ee.copyTexSubImage3D(Jn,$e,en,yn,Qn+er,Ct,Nt,rt,pt):ee.copyTexSubImage2D(Jn,$e,en,yn,Ct,Nt,rt,pt);Ne.bindFramebuffer(ee.READ_FRAMEBUFFER,null),Ne.bindFramebuffer(ee.DRAW_FRAMEBUFFER,null)}else pr?Y.isDataTexture||Y.isData3DTexture?ee.texSubImage3D(Jn,$e,en,yn,Qn,rt,pt,ot,Zt,wt,Dn.data):ue.isCompressedArrayTexture?ee.compressedTexSubImage3D(Jn,$e,en,yn,Qn,rt,pt,ot,Zt,Dn.data):ee.texSubImage3D(Jn,$e,en,yn,Qn,rt,pt,ot,Zt,wt,Dn):Y.isDataTexture?ee.texSubImage2D(ee.TEXTURE_2D,$e,en,yn,rt,pt,Zt,wt,Dn.data):Y.isCompressedTexture?ee.compressedTexSubImage2D(ee.TEXTURE_2D,$e,en,yn,Dn.width,Dn.height,Zt,Dn.data):ee.texSubImage2D(ee.TEXTURE_2D,$e,en,yn,rt,pt,Zt,wt,Dn);ee.pixelStorei(ee.UNPACK_ROW_LENGTH,cn),ee.pixelStorei(ee.UNPACK_IMAGE_HEIGHT,Zi),ee.pixelStorei(ee.UNPACK_SKIP_PIXELS,Ls),ee.pixelStorei(ee.UNPACK_SKIP_ROWS,Qi),ee.pixelStorei(ee.UNPACK_SKIP_IMAGES,Pi),$e===0&&ue.generateMipmaps&&ee.generateMipmap(Jn),Ne.unbindTexture()},this.initRenderTarget=function(Y){je.get(Y).__webglFramebuffer===void 0&&Ke.setupRenderTarget(Y)},this.initTexture=function(Y){Y.isCubeTexture?Ke.setTextureCube(Y,0):Y.isData3DTexture?Ke.setTexture3D(Y,0):Y.isDataArrayTexture||Y.isCompressedArrayTexture?Ke.setTexture2DArray(Y,0):Ke.setTexture2D(Y,0),Ne.unbindTexture()},this.resetState=function(){I=0,V=0,B=null,Ne.reset(),at.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Ca}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorSpace=Sn._getDrawingBufferColorSpace(e),n.unpackColorSpace=Sn._getUnpackColorSpace()}}const wue=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:tR,AddEquation:cd,AddOperation:tB,AdditiveAnimationBlendMode:uR,AdditiveBlending:d_,AgXToneMapping:aB,AlphaFormat:oR,AlwaysCompare:SB,AlwaysDepth:m_,AlwaysStencilFunc:lw,AmbientLight:p4,AnimationAction:E4,AnimationClip:$y,AnimationLoader:kre,AnimationMixer:hse,AnimationObjectGroup:dse,AnimationUtils:Lre,ArcCurve:BB,ArrayCamera:b4,ArrowHelper:Vse,AttachedBindMode:ow,Audio:S4,AudioAnalyser:tse,AudioContext:zR,AudioListener:Qre,AudioLoader:Kre,AxesHelper:kse,BackSide:Os,BasicDepthPacking:fB,BasicShadowMap:Lk,BatchedMesh:LB,Bone:yR,BooleanKeyframeTrack:gh,Box2:_se,Box3:is,Box3Helper:zse,BoxGeometry:mh,BoxHelper:Lse,BufferAttribute:Zn,BufferGeometry:an,BufferGeometryLoader:x4,ByteType:iR,Cache:Hl,Camera:$1,CameraHelper:Ise,CanvasTexture:rre,CapsuleGeometry:iE,CatmullRomCurve3:FB,CineonToneMapping:rB,CircleGeometry:rE,ClampToEdgeWrapping:ro,Clock:UR,Color:mt,ColorKeyframeTrack:PR,ColorManagement:Sn,CompressedArrayTexture:nre,CompressedCubeTexture:ire,CompressedTexture:nE,CompressedTextureLoader:Bre,ConeGeometry:S0,ConstantAlphaFactor:Qk,ConstantColorFactor:$k,Controls:Fse,CubeCamera:AB,CubeReflectionMapping:Zc,CubeRefractionMapping:gd,CubeTexture:x0,CubeTextureLoader:Fre,CubeUVReflectionMapping:qm,CubicBezierCurve:ER,CubicBezierCurve3:HB,CubicInterpolant:o4,CullFaceBack:rw,CullFaceFront:Ik,CullFaceFrontBack:dne,CullFaceNone:Pk,Curve:Zo,CurvePath:WB,CustomBlending:zk,CustomToneMapping:sB,CylinderGeometry:b0,Cylindrical:Sse,Data3DTexture:K1,DataArrayTexture:Y1,DataTexture:Yl,DataTextureLoader:Hre,DataUtils:wie,DecrementStencilOp:Mne,DecrementWrapStencilOp:wne,DefaultLoadingManager:mm,DepthFormat:Rm,DepthStencilFormat:Om,DepthTexture:bR,DetachedBindMode:lB,DirectionalLight:h4,DirectionalLightHelper:Pse,DiscreteInterpolant:l4,DodecahedronGeometry:sE,DoubleSide:Vl,DstAlphaFactor:jk,DstColorFactor:qk,DynamicCopyUsage:Hne,DynamicDrawUsage:zne,DynamicReadUsage:kne,EdgesGeometry:kB,EllipseCurve:aE,EqualCompare:vB,EqualDepth:v_,EqualStencilFunc:Nne,EquirectangularReflectionMapping:Ly,EquirectangularRefractionMapping:zy,Euler:Oa,EventDispatcher:ic,ExternalTexture:SR,ExtrudeGeometry:oE,FileLoader:Jc,Float16BufferAttribute:Iie,Float32BufferAttribute:St,FloatType:na,Fog:Q1,FogExp2:Z1,FramebufferTexture:tre,FrontSide:$c,Frustum:$m,FrustumArray:tE,GLBufferAttribute:yse,GLSL1:Wne,GLSL3:cw,GreaterCompare:yB,GreaterDepth:x_,GreaterEqualCompare:bB,GreaterEqualDepth:y_,GreaterEqualStencilFunc:Lne,GreaterStencilFunc:Pne,GridHelper:Nse,Group:pm,HalfFloatType:Ym,HemisphereLight:u4,HemisphereLightHelper:Ose,IcosahedronGeometry:lE,ImageBitmapLoader:Yre,ImageLoader:Zy,ImageUtils:TB,IncrementStencilOp:Tne,IncrementWrapStencilOp:Cne,InstancedBufferAttribute:Lm,InstancedBufferGeometry:y4,InstancedInterleavedBuffer:vse,InstancedMesh:IB,Int16BufferAttribute:Die,Int32BufferAttribute:Pie,Int8BufferAttribute:Rie,IntType:F1,InterleavedBuffer:J1,InterleavedBufferAttribute:uh,Interpolant:T0,InterpolateDiscrete:ky,InterpolateLinear:K_,InterpolateSmooth:kS,InterpolationSamplingMode:qne,InterpolationSamplingType:Xne,InvertStencilOp:Ane,KeepStencilOp:kf,KeyframeTrack:lo,LOD:DB,LatheGeometry:cE,Layers:Pm,LessCompare:gB,LessDepth:g_,LessEqualCompare:dR,LessEqualDepth:ch,LessEqualStencilFunc:Dne,LessStencilFunc:One,Light:Td,LightProbe:v4,Line:yd,Line3:Mse,LineBasicMaterial:Ds,LineCurve:TR,LineCurve3:GB,LineDashedMaterial:r4,LineLoop:zB,LineSegments:rc,LinearFilter:cr,LinearInterpolant:DR,LinearMipMapLinearFilter:mne,LinearMipMapNearestFilter:pne,LinearMipmapLinearFilter:Fl,LinearMipmapNearestFilter:oy,LinearSRGBColorSpace:vd,LinearToneMapping:nB,LinearTransfer:Fy,Loader:oa,LoaderUtils:pw,LoadingManager:IR,LoopOnce:cB,LoopPingPong:dB,LoopRepeat:uB,MOUSE:cne,Material:rs,MaterialLoader:vE,MathUtils:uie,Matrix2:FR,Matrix3:nn,Matrix4:qt,MaxEquation:Bk,Mesh:Ki,MeshBasicMaterial:_d,MeshDepthMaterial:RR,MeshDistanceMaterial:OR,MeshLambertMaterial:n4,MeshMatcapMaterial:i4,MeshNormalMaterial:t4,MeshPhongMaterial:JB,MeshPhysicalMaterial:QB,MeshStandardMaterial:AR,MeshToonMaterial:e4,MinEquation:kk,MirroredRepeatWrapping:Vy,MixOperation:eB,MultiplyBlending:aw,MultiplyOperation:v0,NearestFilter:kr,NearestMipMapLinearFilter:hne,NearestMipMapNearestFilter:fne,NearestMipmapLinearFilter:fm,NearestMipmapNearestFilter:nR,NeutralToneMapping:oB,NeverCompare:mB,NeverDepth:p_,NeverStencilFunc:Rne,NoBlending:Gc,NoColorSpace:Fc,NoToneMapping:ql,NormalAnimationBlendMode:q1,NormalBlending:ih,NotEqualCompare:xB,NotEqualDepth:b_,NotEqualStencilFunc:Ine,NumberKeyframeTrack:Yy,Object3D:wn,ObjectLoader:Xre,ObjectSpaceNormalMap:pB,OctahedronGeometry:_0,OneFactor:Hk,OneMinusConstantAlphaFactor:Jk,OneMinusConstantColorFactor:Zk,OneMinusDstAlphaFactor:Xk,OneMinusDstColorFactor:Yk,OneMinusSrcAlphaFactor:h_,OneMinusSrcColorFactor:Wk,OrthographicCamera:C0,PCFShadowMap:k1,PCFSoftShadowMap:ay,PMREMGenerator:vw,Path:J_,PerspectiveCamera:Tr,Plane:ld,PlaneGeometry:Zm,PlaneHelper:Use,PointLight:f4,PointLightHelper:Ase,Points:UB,PointsMaterial:xR,PolarGridHelper:Dse,PolyhedronGeometry:Ed,PositionalAudio:ese,PropertyBinding:Mn,PropertyMixer:_4,QuadraticBezierCurve:MR,QuadraticBezierCurve3:CR,Quaternion:ra,QuaternionKeyframeTrack:M0,QuaternionLinearInterpolant:c4,RED_GREEN_RGTC2_Format:q_,RED_RGTC1_Format:j_,REVISION:g0,RGBADepthPacking:hB,RGBAFormat:ns,RGBAIntegerFormat:X1,RGBA_ASTC_10x10_Format:k_,RGBA_ASTC_10x5_Format:z_,RGBA_ASTC_10x6_Format:U_,RGBA_ASTC_10x8_Format:V_,RGBA_ASTC_12x10_Format:B_,RGBA_ASTC_12x12_Format:F_,RGBA_ASTC_4x4_Format:A_,RGBA_ASTC_5x4_Format:R_,RGBA_ASTC_5x5_Format:O_,RGBA_ASTC_6x5_Format:N_,RGBA_ASTC_6x6_Format:D_,RGBA_ASTC_8x5_Format:P_,RGBA_ASTC_8x6_Format:I_,RGBA_ASTC_8x8_Format:L_,RGBA_BPTC_Format:H_,RGBA_ETC2_EAC_Format:w_,RGBA_PVRTC_2BPPV1_Format:T_,RGBA_PVRTC_4BPPV1_Format:E_,RGBA_S3TC_DXT1_Format:cy,RGBA_S3TC_DXT3_Format:uy,RGBA_S3TC_DXT5_Format:dy,RGBDepthPacking:bne,RGBFormat:lR,RGBIntegerFormat:gne,RGB_BPTC_SIGNED_Format:G_,RGB_BPTC_UNSIGNED_Format:W_,RGB_ETC1_Format:M_,RGB_ETC2_Format:C_,RGB_PVRTC_2BPPV1_Format:__,RGB_PVRTC_4BPPV1_Format:S_,RGB_S3TC_DXT1_Format:ly,RGDepthPacking:Sne,RGFormat:cR,RGIntegerFormat:j1,RawShaderMaterial:ZB,Ray:Km,Raycaster:T4,RectAreaLight:m4,RedFormat:W1,RedIntegerFormat:y0,ReinhardToneMapping:iB,RenderTarget:hR,RenderTarget3D:pse,RepeatWrapping:Uy,ReplaceStencilOp:Ene,ReverseSubtractEquation:Vk,RingGeometry:uE,SIGNED_RED_GREEN_RGTC2_Format:Y_,SIGNED_RED_RGTC1_Format:X_,SRGBColorSpace:es,SRGBTransfer:Gn,Scene:gR,ShaderChunk:ln,ShaderLib:Bo,ShaderMaterial:oo,ShadowMaterial:$B,Shape:sh,ShapeGeometry:dE,ShapePath:Bse,ShapeUtils:Ho,ShortType:rR,Skeleton:eE,SkeletonHelper:wse,SkinnedMesh:PB,Source:fd,Sphere:Br,SphereGeometry:E0,Spherical:M4,SphericalHarmonics3:g4,SplineCurve:wR,SpotLight:d4,SpotLightHelper:Cse,Sprite:NB,SpriteMaterial:vR,SrcAlphaFactor:f_,SrcAlphaSaturateFactor:Kk,SrcColorFactor:Gk,StaticCopyUsage:Fne,StaticDrawUsage:Hy,StaticReadUsage:Vne,StereoCamera:$re,StreamCopyUsage:Gne,StreamDrawUsage:Une,StreamReadUsage:Bne,StringKeyframeTrack:vh,SubtractEquation:Uk,SubtractiveBlending:sw,TOUCH:une,TangentSpaceNormalMap:Sd,TetrahedronGeometry:fE,Texture:gi,TextureLoader:gE,TextureUtils:Xse,Timer:xse,TimestampQuery:jne,TorusGeometry:hE,TorusKnotGeometry:pE,Triangle:Js,TriangleFanDrawMode:xne,TriangleStripDrawMode:yne,TrianglesDrawMode:vne,TubeGeometry:mE,UVMapping:B1,Uint16BufferAttribute:pR,Uint32BufferAttribute:mR,Uint8BufferAttribute:Oie,Uint8ClampedBufferAttribute:Nie,Uniform:BR,UniformsGroup:gse,UniformsLib:ut,UniformsUtils:wB,UnsignedByteType:ao,UnsignedInt101111Type:aR,UnsignedInt248Type:Am,UnsignedInt5999Type:sR,UnsignedIntType:Qc,UnsignedShort4444Type:H1,UnsignedShort5551Type:G1,UnsignedShortType:wm,VSMShadowMap:ko,Vector2:Ge,Vector3:J,Vector4:Cn,VectorKeyframeTrack:Ky,VideoFrameTexture:ere,VideoTexture:VB,WebGL3DRenderTarget:vie,WebGLArrayRenderTarget:gie,WebGLCoordinateSystem:Ca,WebGLCubeRenderTarget:RB,WebGLRenderTarget:ec,WebGLRenderer:P4,WebGLUtils:D4,WebGPUCoordinateSystem:Nm,WebXRController:BS,WireframeGeometry:KB,WrapAroundEnding:By,ZeroCurvatureEnding:Yf,ZeroFactor:Fk,ZeroSlopeEnding:Kf,ZeroStencilOp:_ne,createCanvasElement:EB},Symbol.toStringTag,{value:"Module"}));var HM={exports:{}},Uc={};/**
 * @license React
 * react-reconciler-constants.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V3;function Aue(){return V3||(V3=1,Uc.ConcurrentRoot=1,Uc.ContinuousEventPriority=8,Uc.DefaultEventPriority=32,Uc.DiscreteEventPriority=2,Uc.IdleEventPriority=268435456,Uc.LegacyRoot=0,Uc.NoEventPriority=0),Uc}var k3;function Rue(){return k3||(k3=1,HM.exports=Aue()),HM.exports}var HS=Rue(),GM={exports:{}},WM={},jM={exports:{}},XM={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B3;function Oue(){if(B3)return XM;B3=1;var t=Vm();function e(g,y){return g===y&&(g!==0||1/g===1/y)||g!==g&&y!==y}var n=typeof Object.is=="function"?Object.is:e,i=t.useState,r=t.useEffect,s=t.useLayoutEffect,o=t.useDebugValue;function l(g,y){var b=y(),S=i({inst:{value:b,getSnapshot:y}}),C=S[0].inst,T=S[1];return s(function(){C.value=b,C.getSnapshot=y,d(C)&&T({inst:C})},[g,b,y]),r(function(){return d(C)&&T({inst:C}),g(function(){d(C)&&T({inst:C})})},[g]),o(b),b}function d(g){var y=g.getSnapshot;g=g.value;try{var b=y();return!n(g,b)}catch{return!0}}function h(g,y){return y()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:l;return XM.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:m,XM}var F3;function Nue(){return F3||(F3=1,jM.exports=Oue()),jM.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H3;function Due(){if(H3)return WM;H3=1;var t=Vm(),e=Nue();function n(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var i=typeof Object.is=="function"?Object.is:n,r=e.useSyncExternalStore,s=t.useRef,o=t.useEffect,l=t.useMemo,d=t.useDebugValue;return WM.useSyncExternalStoreWithSelector=function(h,m,g,y,b){var S=s(null);if(S.current===null){var C={hasValue:!1,value:null};S.current=C}else C=S.current;S=l(function(){function _(I){if(!w){if(w=!0,R=I,I=y(I),b!==void 0&&C.hasValue){var V=C.value;if(b(V,I))return N=V}return N=I}if(V=N,i(R,I))return V;var B=y(I);return b!==void 0&&b(V,B)?(R=I,V):(R=I,N=B)}var w=!1,R,N,D=g===void 0?null:g;return[function(){return _(m())},D===null?void 0:function(){return _(D())}]},[m,g,y,b]);var T=r(h,S[0],S[1]);return o(function(){C.hasValue=!0,C.value=T},[T]),d(T),T},WM}var G3;function Pue(){return G3||(G3=1,GM.exports=Due()),GM.exports}var Iue=Pue();const Lue=l1(Iue),W3=t=>{let e;const n=new Set,i=(h,m)=>{const g=typeof h=="function"?h(e):h;if(!Object.is(g,e)){const y=e;e=m??(typeof g!="object"||g===null)?g:Object.assign({},e,g),n.forEach(b=>b(e,y))}},r=()=>e,l={setState:i,getState:r,getInitialState:()=>d,subscribe:h=>(n.add(h),()=>n.delete(h))},d=e=t(i,r,l);return l},I4=(t=>t?W3(t):W3),{useSyncExternalStoreWithSelector:zue}=Lue,Uue=t=>t;function Vue(t,e=Uue,n){const i=zue(t.subscribe,t.getState,t.getInitialState,e,n);return Hf.useDebugValue(i),i}const j3=(t,e)=>{const n=I4(t),i=(r,s=e)=>Vue(n,r,s);return Object.assign(i,n),i},kue=((t,e)=>t?j3(t,e):j3),Bue=t=>typeof t=="object"&&typeof t.then=="function",Zf=[];function L4(t,e,n=(i,r)=>i===r){if(t===e)return!0;if(!t||!e)return!1;const i=t.length;if(e.length!==i)return!1;for(let r=0;r<i;r++)if(!n(t[r],e[r]))return!1;return!0}function z4(t,e=null,n=!1,i={}){e===null&&(e=[t]);for(const s of Zf)if(L4(e,s.keys,s.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return i.lifespan&&i.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,i.lifespan)),s.response;if(!n)throw s.promise}const r={keys:e,equal:i.equal,remove:()=>{const s=Zf.indexOf(r);s!==-1&&Zf.splice(s,1)},promise:(Bue(t)?t:t(...e)).then(s=>{r.response=s,i.lifespan&&i.lifespan>0&&(r.timeout=setTimeout(r.remove,i.lifespan))}).catch(s=>r.error=s)};if(Zf.push(r),!n)throw r.promise}const Fue=(t,e,n)=>z4(t,e,!1,n),Hue=(t,e,n)=>void z4(t,e,!0,n),Gue=t=>{if(t===void 0||t.length===0)Zf.splice(0,Zf.length);else{const e=Zf.find(n=>L4(t,n.keys,n.equal));e&&e.remove()}};var qM={exports:{}},YM={exports:{}},KM={exports:{}},$M={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X3;function Wue(){return X3||(X3=1,(function(t){function e(k,q){var $=k.length;k.push(q);e:for(;0<$;){var ne=$-1>>>1,G=k[ne];if(0<r(G,q))k[ne]=q,k[$]=G,$=ne;else break e}}function n(k){return k.length===0?null:k[0]}function i(k){if(k.length===0)return null;var q=k[0],$=k.pop();if($!==q){k[0]=$;e:for(var ne=0,G=k.length,te=G>>>1;ne<te;){var ve=2*(ne+1)-1,Me=k[ve],De=ve+1,qe=k[De];if(0>r(Me,$))De<G&&0>r(qe,Me)?(k[ne]=qe,k[De]=$,ne=De):(k[ne]=Me,k[ve]=$,ne=ve);else if(De<G&&0>r(qe,$))k[ne]=qe,k[De]=$,ne=De;else break e}}return q}function r(k,q){var $=k.sortIndex-q.sortIndex;return $!==0?$:k.id-q.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var d=[],h=[],m=1,g=null,y=3,b=!1,S=!1,C=!1,T=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;function R(k){for(var q=n(h);q!==null;){if(q.callback===null)i(h);else if(q.startTime<=k)i(h),q.sortIndex=q.expirationTime,e(d,q);else break;q=n(h)}}function N(k){if(C=!1,R(k),!S)if(n(d)!==null)S=!0,se();else{var q=n(h);q!==null&&ie(N,q.startTime-k)}}var D=!1,I=-1,V=5,B=-1;function L(){return!(t.unstable_now()-B<V)}function z(){if(D){var k=t.unstable_now();B=k;var q=!0;try{e:{S=!1,C&&(C=!1,_(I),I=-1),b=!0;var $=y;try{t:{for(R(k),g=n(d);g!==null&&!(g.expirationTime>k&&L());){var ne=g.callback;if(typeof ne=="function"){g.callback=null,y=g.priorityLevel;var G=ne(g.expirationTime<=k);if(k=t.unstable_now(),typeof G=="function"){g.callback=G,R(k),q=!0;break t}g===n(d)&&i(d),R(k)}else i(d);g=n(d)}if(g!==null)q=!0;else{var te=n(h);te!==null&&ie(N,te.startTime-k),q=!1}}break e}finally{g=null,y=$,b=!1}q=void 0}}finally{q?F():D=!1}}}var F;if(typeof w=="function")F=function(){w(z)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,Z=j.port2;j.port1.onmessage=z,F=function(){Z.postMessage(null)}}else F=function(){T(z,0)};function se(){D||(D=!0,F())}function ie(k,q){I=T(function(){k(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(k){k.callback=null},t.unstable_continueExecution=function(){S||b||(S=!0,se())},t.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<k?Math.floor(1e3/k):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(k){switch(y){case 1:case 2:case 3:var q=3;break;default:q=y}var $=y;y=q;try{return k()}finally{y=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(k,q){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var $=y;y=k;try{return q()}finally{y=$}},t.unstable_scheduleCallback=function(k,q,$){var ne=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?ne+$:ne):$=ne,k){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=$+G,k={id:m++,callback:q,priorityLevel:k,startTime:$,expirationTime:G,sortIndex:-1},$>ne?(k.sortIndex=$,e(h,k),n(d)===null&&k===n(h)&&(C?(_(I),I=-1):C=!0,ie(N,$-ne))):(k.sortIndex=G,e(d,k),S||b||(S=!0,se())),k},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(k){var q=y;return function(){var $=y;y=q;try{return k.apply(this,arguments)}finally{y=$}}}})($M)),$M}var q3;function jue(){return q3||(q3=1,KM.exports=Wue()),KM.exports}/**
 * @license React
 * react-reconciler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y3;function Xue(){return Y3||(Y3=1,(function(t){t.exports=function(e){function n(u,f,x,M){return new Og(u,f,x,M)}function i(){}function r(u){var f="https://react.dev/errors/"+u;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)f+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(u){return u===null||typeof u!="object"?null:(u=Eo&&u[Eo]||u["@@iterator"],typeof u=="function"?u:null)}function o(u){if(u==null)return null;if(typeof u=="function")return u.$$typeof===Ig?null:u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case pl:return"Fragment";case ks:return"Portal";case Hh:return"Profiler";case Jd:return"StrictMode";case Gh:return"Suspense";case Tu:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case da:return(u.displayName||"Context")+".Provider";case Dg:return(u._context.displayName||"Context")+".Consumer";case tf:var f=u.render;return u=u.displayName,u||(u=f.displayName||f.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case Wh:return f=u.displayName||null,f!==null?f:o(u.type)||"Memo";case Bs:f=u._payload,u=u._init;try{return o(u(f))}catch{}}return null}function l(u){if(za===void 0)try{throw Error()}catch(x){var f=x.stack.trim().match(/\n( *(at )?)/);za=f&&f[1]||"",To=-1<x.stack.indexOf(`
    at`)?" (<anonymous>)":-1<x.stack.indexOf("@")?"@unknown:0:0":""}return`
`+za+u+To}function d(u,f){if(!u||dc)return"";dc=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var M={DetermineComponentFrameRoot:function(){try{if(f){var ct=function(){throw Error()};if(Object.defineProperty(ct.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ct,[])}catch($t){var ft=$t}Reflect.construct(u,[],ct)}else{try{ct.call()}catch($t){ft=$t}u.call(ct.prototype)}}else{try{throw Error()}catch($t){ft=$t}(ct=u())&&typeof ct.catch=="function"&&ct.catch(function(){})}}catch($t){if($t&&ft&&typeof $t.stack=="string")return[$t.stack,ft.stack]}return[null,null]}};M.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var O=Object.getOwnPropertyDescriptor(M.DetermineComponentFrameRoot,"name");O&&O.configurable&&Object.defineProperty(M.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var P=M.DetermineComponentFrameRoot(),K=P[0],ae=P[1];if(K&&ae){var ge=K.split(`
`),Le=ae.split(`
`);for(O=M=0;M<ge.length&&!ge[M].includes("DetermineComponentFrameRoot");)M++;for(;O<Le.length&&!Le[O].includes("DetermineComponentFrameRoot");)O++;if(M===ge.length||O===Le.length)for(M=ge.length-1,O=Le.length-1;1<=M&&0<=O&&ge[M]!==Le[O];)O--;for(;1<=M&&0<=O;M--,O--)if(ge[M]!==Le[O]){if(M!==1||O!==1)do if(M--,O--,0>O||ge[M]!==Le[O]){var et=`
`+ge[M].replace(" at new "," at ");return u.displayName&&et.includes("<anonymous>")&&(et=et.replace("<anonymous>",u.displayName)),et}while(1<=M&&0<=O);break}}}finally{dc=!1,Error.prepareStackTrace=x}return(x=u?u.displayName||u.name:"")?l(x):""}function h(u){switch(u.tag){case 26:case 27:case 5:return l(u.type);case 16:return l("Lazy");case 13:return l("Suspense");case 19:return l("SuspenseList");case 0:case 15:return u=d(u.type,!1),u;case 11:return u=d(u.type.render,!1),u;case 1:return u=d(u.type,!0),u;default:return""}}function m(u){try{var f="";do f+=h(u),u=u.return;while(u);return f}catch(x){return`
Error generating stack: `+x.message+`
`+x.stack}}function g(u){var f=u,x=u;if(u.alternate)for(;f.return;)f=f.return;else{u=f;do f=u,(f.flags&4098)!==0&&(x=f.return),u=f.return;while(u)}return f.tag===3?x:null}function y(u){if(g(u)!==u)throw Error(r(188))}function b(u){var f=u.alternate;if(!f){if(f=g(u),f===null)throw Error(r(188));return f!==u?null:u}for(var x=u,M=f;;){var O=x.return;if(O===null)break;var P=O.alternate;if(P===null){if(M=O.return,M!==null){x=M;continue}break}if(O.child===P.child){for(P=O.child;P;){if(P===x)return y(O),u;if(P===M)return y(O),f;P=P.sibling}throw Error(r(188))}if(x.return!==M.return)x=O,M=P;else{for(var K=!1,ae=O.child;ae;){if(ae===x){K=!0,x=O,M=P;break}if(ae===M){K=!0,M=O,x=P;break}ae=ae.sibling}if(!K){for(ae=P.child;ae;){if(ae===x){K=!0,x=P,M=O;break}if(ae===M){K=!0,M=P,x=O;break}ae=ae.sibling}if(!K)throw Error(r(189))}}if(x.alternate!==M)throw Error(r(190))}if(x.tag!==3)throw Error(r(188));return x.stateNode.current===x?u:f}function S(u){var f=u.tag;if(f===5||f===26||f===27||f===6)return u;for(u=u.child;u!==null;){if(f=S(u),f!==null)return f;u=u.sibling}return null}function C(u){var f=u.tag;if(f===5||f===26||f===27||f===6)return u;for(u=u.child;u!==null;){if(u.tag!==4&&(f=C(u),f!==null))return f;u=u.sibling}return null}function T(u){return{current:u}}function _(u){0>Ao||(u.current=xi[Ao],xi[Ao]=null,Ao--)}function w(u,f){Ao++,xi[Ao]=u.current,u.current=f}function R(u){return u>>>=0,u===0?32:31-(Ux(u)/Vx|0)|0}function N(u){var f=u&42;if(f!==0)return f;switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return u&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return u}}function D(u,f){var x=u.pendingLanes;if(x===0)return 0;var M=0,O=u.suspendedLanes,P=u.pingedLanes,K=u.warmLanes;u=u.finishedLanes!==0;var ae=x&134217727;return ae!==0?(x=ae&~O,x!==0?M=N(x):(P&=ae,P!==0?M=N(P):u||(K=ae&~K,K!==0&&(M=N(K))))):(ae=x&~O,ae!==0?M=N(ae):P!==0?M=N(P):u||(K=x&~K,K!==0&&(M=N(K)))),M===0?0:f!==0&&f!==M&&(f&O)===0&&(O=M&-M,K=f&-f,O>=K||O===32&&(K&4194176)!==0)?f:M}function I(u,f){return(u.pendingLanes&~(u.suspendedLanes&~u.pingedLanes)&f)===0}function V(u,f){switch(u){case 1:case 2:case 4:case 8:return f+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function B(){var u=Va;return Va<<=1,(Va&4194176)===0&&(Va=128),u}function L(){var u=pc;return pc<<=1,(pc&62914560)===0&&(pc=4194304),u}function z(u){for(var f=[],x=0;31>x;x++)f.push(u);return f}function F(u,f){u.pendingLanes|=f,f!==268435456&&(u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0)}function j(u,f,x,M,O,P){var K=u.pendingLanes;u.pendingLanes=x,u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0,u.expiredLanes&=x,u.entangledLanes&=x,u.errorRecoveryDisabledLanes&=x,u.shellSuspendCounter=0;var ae=u.entanglements,ge=u.expirationTimes,Le=u.hiddenUpdates;for(x=K&~x;0<x;){var et=31-Nr(x),ct=1<<et;ae[et]=0,ge[et]=-1;var ft=Le[et];if(ft!==null)for(Le[et]=null,et=0;et<ft.length;et++){var $t=ft[et];$t!==null&&($t.lane&=-536870913)}x&=~ct}M!==0&&Z(u,M,0),P!==0&&O===0&&u.tag!==0&&(u.suspendedLanes|=P&~(K&~f))}function Z(u,f,x){u.pendingLanes|=f,u.suspendedLanes&=~f;var M=31-Nr(f);u.entangledLanes|=f,u.entanglements[M]=u.entanglements[M]|1073741824|x&4194218}function se(u,f){var x=u.entangledLanes|=f;for(u=u.entanglements;x;){var M=31-Nr(x),O=1<<M;O&f|u[M]&f&&(u[M]|=f),x&=~O}}function ie(u){return u&=-u,2<u?8<u?(u&134217727)!==0?32:268435456:8:2}function k(u){if(qr&&typeof qr.onCommitFiberRoot=="function")try{qr.onCommitFiberRoot(bi,u,void 0,(u.current.flags&128)===128)}catch{}}function q(u){if(typeof Fx=="function"&&Hi(u),qr&&typeof qr.setStrictMode=="function")try{qr.setStrictMode(bi,u)}catch{}}function $(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}function ne(u,f){if(typeof u=="object"&&u!==null){var x=Jg.get(u);return x!==void 0?x:(f={value:u,source:f,stack:m(f)},Jg.set(u,f),f)}return{value:u,source:f,stack:m(f)}}function G(u,f){mc[gc++]=Pu,mc[gc++]=vc,vc=u,Pu=f}function te(u,f,x){ps[ms++]=pa,ps[ms++]=ma,ps[ms++]=Sl,Sl=u;var M=pa;u=ma;var O=32-Nr(M)-1;M&=~(1<<O),x+=1;var P=32-Nr(f)+O;if(30<P){var K=O-O%5;P=(M&(1<<K)-1).toString(32),M>>=K,O-=K,pa=1<<32-Nr(f)+O|x<<O|M,ma=P+u}else pa=1<<P|x<<O|M,ma=u}function ve(u){u.return!==null&&(G(u,1),te(u,1,0))}function Me(u){for(;u===vc;)vc=mc[--gc],mc[gc]=null,Pu=mc[--gc],mc[gc]=null;for(;u===Sl;)Sl=ps[--ms],ps[ms]=null,ma=ps[--ms],ps[ms]=null,pa=ps[--ms],ps[ms]=null}function De(u,f){w(ka,f),w(Iu,u),w(zi,null),u=nx(f),_(zi),w(zi,u)}function qe(){_(zi),_(Iu),_(ka)}function me(u){u.memoizedState!==null&&w(yc,u);var f=zi.current,x=Au(f,u.type);f!==x&&(w(Iu,u),w(zi,x))}function Pe(u){Iu.current===u&&(_(zi),_(Iu)),yc.current===u&&(_(yc),Rr?fa._currentValue=gl:fa._currentValue2=gl)}function de(u){var f=Error(r(418,""));throw ee(ne(f,u)),df}function _e(u,f){if(!ar)throw Error(r(175));wx(u.stateNode,u.type,u.memoizedProps,f,u)||de(u)}function Xe(u){for(or=u.return;or;)switch(or.tag){case 3:case 27:Gi=!0;return;case 5:case 13:Gi=!1;return;default:or=or.return}}function dt(u){if(!ar||u!==or)return!1;if(!vn)return Xe(u),vn=!0,!1;var f=!1;if(kn?u.tag!==3&&u.tag!==27&&(u.tag!==5||Jh(u.type)&&!Jt(u.type,u.memoizedProps))&&(f=!0):u.tag!==3&&(u.tag!==5||Jh(u.type)&&!Jt(u.type,u.memoizedProps))&&(f=!0),f&&lr&&de(u),Xe(u),u.tag===13){if(!ar)throw Error(r(316));if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(317));lr=Rx(u)}else lr=or?Kg(u.stateNode):null;return!0}function Rt(){ar&&(lr=or=null,vn=!1)}function ee(u){Gs===null?Gs=[u]:Gs.push(u)}function Ve(){for(var u=xc,f=ga=xc=0;f<u;){var x=Ws[f];Ws[f++]=null;var M=Ws[f];Ws[f++]=null;var O=Ws[f];Ws[f++]=null;var P=Ws[f];if(Ws[f++]=null,M!==null&&O!==null){var K=M.pending;K===null?O.next=O:(O.next=K.next,K.next=O),M.pending=O}P!==0&&it(x,O,P)}}function Ue(u,f,x,M){Ws[xc++]=u,Ws[xc++]=f,Ws[xc++]=x,Ws[xc++]=M,ga|=M,u.lanes|=M,u=u.alternate,u!==null&&(u.lanes|=M)}function Ie(u,f,x,M){return Ue(u,f,x,M),je(u)}function Ne(u,f){return Ue(u,null,null,f),je(u)}function it(u,f,x){u.lanes|=x;var M=u.alternate;M!==null&&(M.lanes|=x);for(var O=!1,P=u.return;P!==null;)P.childLanes|=x,M=P.alternate,M!==null&&(M.childLanes|=x),P.tag===22&&(u=P.stateNode,u===null||u._visibility&1||(O=!0)),u=P,P=P.return;O&&f!==null&&u.tag===3&&(P=u.stateNode,O=31-Nr(x),P=P.hiddenUpdates,u=P[O],u===null?P[O]=[f]:u.push(f),f.lane=x|536870912)}function je(u){if(50<Gu)throw Gu=0,pp=null,Error(r(185));for(var f=u.return;f!==null;)u=f,f=u.return;return u.tag===3?u.stateNode:null}function Ke(u){u!==Ro&&u.next===null&&(Ro===null?ff=Ro=u:Ro=Ro.next=u),Xn=!0,bc||(bc=!0,Re(Pt))}function Tt(u,f){if(!ev&&Xn){ev=!0;do for(var x=!1,M=ff;M!==null;){if(u!==0){var O=M.pendingLanes;if(O===0)var P=0;else{var K=M.suspendedLanes,ae=M.pingedLanes;P=(1<<31-Nr(42|u)+1)-1,P&=O&~(K&~ae),P=P&201326677?P&201326677|1:P?P|2:0}P!==0&&(x=!0,ye(M,P))}else P=hn,P=D(M,M===On?P:0),(P&3)===0||I(M,P)||(x=!0,ye(M,P));M=M.next}while(x);ev=!1}}function Pt(){Xn=bc=!1;var u=0;Lu!==0&&(ax()&&(u=Lu),Lu=0);for(var f=Hs(),x=null,M=ff;M!==null;){var O=M.next,P=Q(M,f);P===0?(M.next=null,x===null?ff=O:x.next=O,O===null&&(Ro=x)):(x=M,(u!==0||(P&3)!==0)&&(Xn=!0)),M=O}Tt(u)}function Q(u,f){for(var x=u.suspendedLanes,M=u.pingedLanes,O=u.expirationTimes,P=u.pendingLanes&-62914561;0<P;){var K=31-Nr(P),ae=1<<K,ge=O[K];ge===-1?((ae&x)===0||(ae&M)!==0)&&(O[K]=V(ae,f)):ge<=f&&(u.expiredLanes|=ae),P&=~ae}if(f=On,x=hn,x=D(u,u===f?x:0),M=u.callbackNode,x===0||u===f&&Un===2||u.cancelPendingCommit!==null)return M!==null&&M!==null&&ip(M),u.callbackNode=null,u.callbackPriority=0;if((x&3)===0||I(u,x)){if(f=x&-x,f===u.callbackPriority)return f;switch(M!==null&&ip(M),ie(x)){case 2:case 8:x=Bx;break;case 32:x=ap;break;case 268435456:x=IE;break;default:x=ap}return M=W.bind(null,u),x=uf(x,M),u.callbackPriority=f,u.callbackNode=x,f}return M!==null&&M!==null&&ip(M),u.callbackPriority=2,u.callbackNode=null,2}function W(u,f){var x=u.callbackNode;if(ua()&&u.callbackNode!==x)return null;var M=hn;return M=D(u,u===On?M:0),M===0?null:(cl(u,M,f),Q(u,Hs()),u.callbackNode!=null&&u.callbackNode===x?W.bind(null,u):null)}function ye(u,f){if(ua())return null;cl(u,f,!0)}function Re(u){kg?wo(function(){(bn&6)!==0?uf(sp,u):u()}):uf(sp,u)}function ke(){return Lu===0&&(Lu=B()),Lu}function Oe(u,f){if(zu===null){var x=zu=[];Sc=0,gs=ke(),_c={status:"pending",value:void 0,then:function(M){x.push(M)}}}return Sc++,f.then(lt,lt),f}function lt(){if(--Sc===0&&zu!==null){_c!==null&&(_c.status="fulfilled");var u=zu;zu=null,gs=0,_c=null;for(var f=0;f<u.length;f++)(0,u[f])()}}function tt(u,f){var x=[],M={status:"pending",value:null,reason:null,then:function(O){x.push(O)}};return u.then(function(){M.status="fulfilled",M.value=f;for(var O=0;O<x.length;O++)(0,x[O])(f)},function(O){for(M.status="rejected",M.reason=O,O=0;O<x.length;O++)(0,x[O])(void 0)}),M}function gt(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vt(u,f){u=u.updateQueue,f.updateQueue===u&&(f.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,callbacks:null})}function We(u){return{lane:u,tag:0,payload:null,callback:null,next:null}}function st(u,f,x){var M=u.updateQueue;if(M===null)return null;if(M=M.shared,(bn&2)!==0){var O=M.pending;return O===null?f.next=f:(f.next=O.next,O.next=f),M.pending=f,f=je(u),it(u,null,x),f}return Ue(u,M,f,x),je(u)}function Et(u,f,x){if(f=f.updateQueue,f!==null&&(f=f.shared,(x&4194176)!==0)){var M=f.lanes;M&=u.pendingLanes,x|=M,f.lanes=x,se(u,x)}}function yt(u,f){var x=u.updateQueue,M=u.alternate;if(M!==null&&(M=M.updateQueue,x===M)){var O=null,P=null;if(x=x.firstBaseUpdate,x!==null){do{var K={lane:x.lane,tag:x.tag,payload:x.payload,callback:null,next:null};P===null?O=P=K:P=P.next=K,x=x.next}while(x!==null);P===null?O=P=f:P=P.next=f}else O=P=f;x={baseState:M.baseState,firstBaseUpdate:O,lastBaseUpdate:P,shared:M.shared,callbacks:M.callbacks},u.updateQueue=x;return}u=x.lastBaseUpdate,u===null?x.firstBaseUpdate=f:u.next=f,x.lastBaseUpdate=f}function at(){if(Ec){var u=_c;if(u!==null)throw u}}function Ft(u,f,x,M){Ec=!1;var O=u.updateQueue;Oo=!1;var P=O.firstBaseUpdate,K=O.lastBaseUpdate,ae=O.shared.pending;if(ae!==null){O.shared.pending=null;var ge=ae,Le=ge.next;ge.next=null,K===null?P=Le:K.next=Le,K=ge;var et=u.alternate;et!==null&&(et=et.updateQueue,ae=et.lastBaseUpdate,ae!==K&&(ae===null?et.firstBaseUpdate=Le:ae.next=Le,et.lastBaseUpdate=ge))}if(P!==null){var ct=O.baseState;K=0,et=Le=ge=null,ae=P;do{var ft=ae.lane&-536870913,$t=ft!==ae.lane;if($t?(hn&ft)===ft:(M&ft)===ft){ft!==0&&ft===gs&&(Ec=!0),et!==null&&(et=et.next={lane:0,tag:ae.tag,payload:ae.payload,callback:null,next:null});e:{var Ts=u,Ol=ae;ft=f;var Nl=x;switch(Ol.tag){case 1:if(Ts=Ol.payload,typeof Ts=="function"){ct=Ts.call(Nl,ct,ft);break e}ct=Ts;break e;case 3:Ts.flags=Ts.flags&-65537|128;case 0:if(Ts=Ol.payload,ft=typeof Ts=="function"?Ts.call(Nl,ct,ft):Ts,ft==null)break e;ct=Fh({},ct,ft);break e;case 2:Oo=!0}}ft=ae.callback,ft!==null&&(u.flags|=64,$t&&(u.flags|=8192),$t=O.callbacks,$t===null?O.callbacks=[ft]:$t.push(ft))}else $t={lane:ft,tag:ae.tag,payload:ae.payload,callback:ae.callback,next:null},et===null?(Le=et=$t,ge=ct):et=et.next=$t,K|=ft;if(ae=ae.next,ae===null){if(ae=O.shared.pending,ae===null)break;$t=ae,ae=$t.next,$t.next=null,O.lastBaseUpdate=$t,O.shared.pending=null}}while(!0);et===null&&(ge=ct),O.baseState=ge,O.firstBaseUpdate=Le,O.lastBaseUpdate=et,P===null&&(O.shared.lanes=0),_s|=K,u.lanes=K,u.memoizedState=ct}}function ce(u,f){if(typeof u!="function")throw Error(r(191,u));u.call(f)}function Qe(u,f){var x=u.callbacks;if(x!==null)for(u.callbacks=null,u=0;u<x.length;u++)ce(x[u],f)}function nt(u,f){if(Yr(u,f))return!0;if(typeof u!="object"||u===null||typeof f!="object"||f===null)return!1;var x=Object.keys(u),M=Object.keys(f);if(x.length!==M.length)return!1;for(M=0;M<x.length;M++){var O=x[M];if(!Ba.call(f,O)||!Yr(u[O],f[O]))return!1}return!0}function ht(u){return u=u.status,u==="fulfilled"||u==="rejected"}function Ye(){}function Fe(u,f,x){switch(x=u[x],x===void 0?u.push(f):x!==f&&(f.then(Ye,Ye),f=x),f.status){case"fulfilled":return f.value;case"rejected":throw u=f.reason,u===Uu?Error(r(483)):u;default:if(typeof f.status=="string")f.then(Ye,Ye);else{if(u=On,u!==null&&100<u.shellSuspendCounter)throw Error(r(482));u=f,u.status="pending",u.then(function(M){if(f.status==="pending"){var O=f;O.status="fulfilled",O.value=M}},function(M){if(f.status==="pending"){var O=f;O.status="rejected",O.reason=M}})}switch(f.status){case"fulfilled":return f.value;case"rejected":throw u=f.reason,u===Uu?Error(r(483)):u}throw _l=f,Uu}}function xt(){if(_l===null)throw Error(r(459));var u=_l;return _l=null,u}function It(u){var f=Tl;return Tl+=1,El===null&&(El=[]),Fe(El,u,f)}function gn(u,f){f=f.props.ref,u.ref=f!==void 0?f:null}function fn(u,f){throw f.$$typeof===wE?Error(r(525)):(u=Object.prototype.toString.call(f),Error(r(31,u==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":u)))}function Ps(u){var f=u._init;return f(u._payload)}function Ti(u){function f(Ee,oe){if(u){var Ae=Ee.deletions;Ae===null?(Ee.deletions=[oe],Ee.flags|=16):Ae.push(oe)}}function x(Ee,oe){if(!u)return null;for(;oe!==null;)f(Ee,oe),oe=oe.sibling;return null}function M(Ee){for(var oe=new Map;Ee!==null;)Ee.key!==null?oe.set(Ee.key,Ee):oe.set(Ee.index,Ee),Ee=Ee.sibling;return oe}function O(Ee,oe){return Ee=Vs(Ee,oe),Ee.index=0,Ee.sibling=null,Ee}function P(Ee,oe,Ae){return Ee.index=Ae,u?(Ae=Ee.alternate,Ae!==null?(Ae=Ae.index,Ae<oe?(Ee.flags|=33554434,oe):Ae):(Ee.flags|=33554434,oe)):(Ee.flags|=1048576,oe)}function K(Ee){return u&&Ee.alternate===null&&(Ee.flags|=33554434),Ee}function ae(Ee,oe,Ae,Je){return oe===null||oe.tag!==6?(oe=kh(Ae,Ee.mode,Je),oe.return=Ee,oe):(oe=O(oe,Ae),oe.return=Ee,oe)}function ge(Ee,oe,Ae,Je){var Mt=Ae.type;return Mt===pl?et(Ee,oe,Ae.props.children,Je,Ae.key):oe!==null&&(oe.elementType===Mt||typeof Mt=="object"&&Mt!==null&&Mt.$$typeof===Bs&&Ps(Mt)===oe.type)?(oe=O(oe,Ae.props),gn(oe,Ae),oe.return=Ee,oe):(oe=La(Ae.type,Ae.key,Ae.props,null,Ee.mode,Je),gn(oe,Ae),oe.return=Ee,oe)}function Le(Ee,oe,Ae,Je){return oe===null||oe.tag!==4||oe.stateNode.containerInfo!==Ae.containerInfo||oe.stateNode.implementation!==Ae.implementation?(oe=Ng(Ae,Ee.mode,Je),oe.return=Ee,oe):(oe=O(oe,Ae.children||[]),oe.return=Ee,oe)}function et(Ee,oe,Ae,Je,Mt){return oe===null||oe.tag!==7?(oe=ui(Ae,Ee.mode,Je,Mt),oe.return=Ee,oe):(oe=O(oe,Ae),oe.return=Ee,oe)}function ct(Ee,oe,Ae){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return oe=kh(""+oe,Ee.mode,Ae),oe.return=Ee,oe;if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case Qd:return Ae=La(oe.type,oe.key,oe.props,null,Ee.mode,Ae),gn(Ae,oe),Ae.return=Ee,Ae;case ks:return oe=Ng(oe,Ee.mode,Ae),oe.return=Ee,oe;case Bs:var Je=oe._init;return oe=Je(oe._payload),ct(Ee,oe,Ae)}if(Mu(oe)||s(oe))return oe=ui(oe,Ee.mode,Ae,null),oe.return=Ee,oe;if(typeof oe.then=="function")return ct(Ee,It(oe),Ae);if(oe.$$typeof===da)return ct(Ee,Ud(Ee,oe),Ae);fn(Ee,oe)}return null}function ft(Ee,oe,Ae,Je){var Mt=oe!==null?oe.key:null;if(typeof Ae=="string"&&Ae!==""||typeof Ae=="number"||typeof Ae=="bigint")return Mt!==null?null:ae(Ee,oe,""+Ae,Je);if(typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case Qd:return Ae.key===Mt?ge(Ee,oe,Ae,Je):null;case ks:return Ae.key===Mt?Le(Ee,oe,Ae,Je):null;case Bs:return Mt=Ae._init,Ae=Mt(Ae._payload),ft(Ee,oe,Ae,Je)}if(Mu(Ae)||s(Ae))return Mt!==null?null:et(Ee,oe,Ae,Je,null);if(typeof Ae.then=="function")return ft(Ee,oe,It(Ae),Je);if(Ae.$$typeof===da)return ft(Ee,oe,Ud(Ee,Ae),Je);fn(Ee,Ae)}return null}function $t(Ee,oe,Ae,Je,Mt){if(typeof Je=="string"&&Je!==""||typeof Je=="number"||typeof Je=="bigint")return Ee=Ee.get(Ae)||null,ae(oe,Ee,""+Je,Mt);if(typeof Je=="object"&&Je!==null){switch(Je.$$typeof){case Qd:return Ee=Ee.get(Je.key===null?Ae:Je.key)||null,ge(oe,Ee,Je,Mt);case ks:return Ee=Ee.get(Je.key===null?Ae:Je.key)||null,Le(oe,Ee,Je,Mt);case Bs:var ti=Je._init;return Je=ti(Je._payload),$t(Ee,oe,Ae,Je,Mt)}if(Mu(Je)||s(Je))return Ee=Ee.get(Ae)||null,et(oe,Ee,Je,Mt,null);if(typeof Je.then=="function")return $t(Ee,oe,Ae,It(Je),Mt);if(Je.$$typeof===da)return $t(Ee,oe,Ae,Ud(oe,Je),Mt);fn(oe,Je)}return null}function Ts(Ee,oe,Ae,Je){for(var Mt=null,ti=null,Gt=oe,Tn=oe=0,Si=null;Gt!==null&&Tn<Ae.length;Tn++){Gt.index>Tn?(Si=Gt,Gt=null):Si=Gt.sibling;var dn=ft(Ee,Gt,Ae[Tn],Je);if(dn===null){Gt===null&&(Gt=Si);break}u&&Gt&&dn.alternate===null&&f(Ee,Gt),oe=P(dn,oe,Tn),ti===null?Mt=dn:ti.sibling=dn,ti=dn,Gt=Si}if(Tn===Ae.length)return x(Ee,Gt),vn&&G(Ee,Tn),Mt;if(Gt===null){for(;Tn<Ae.length;Tn++)Gt=ct(Ee,Ae[Tn],Je),Gt!==null&&(oe=P(Gt,oe,Tn),ti===null?Mt=Gt:ti.sibling=Gt,ti=Gt);return vn&&G(Ee,Tn),Mt}for(Gt=M(Gt);Tn<Ae.length;Tn++)Si=$t(Gt,Ee,Tn,Ae[Tn],Je),Si!==null&&(u&&Si.alternate!==null&&Gt.delete(Si.key===null?Tn:Si.key),oe=P(Si,oe,Tn),ti===null?Mt=Si:ti.sibling=Si,ti=Si);return u&&Gt.forEach(function(Ya){return f(Ee,Ya)}),vn&&G(Ee,Tn),Mt}function Ol(Ee,oe,Ae,Je){if(Ae==null)throw Error(r(151));for(var Mt=null,ti=null,Gt=oe,Tn=oe=0,Si=null,dn=Ae.next();Gt!==null&&!dn.done;Tn++,dn=Ae.next()){Gt.index>Tn?(Si=Gt,Gt=null):Si=Gt.sibling;var Ya=ft(Ee,Gt,dn.value,Je);if(Ya===null){Gt===null&&(Gt=Si);break}u&&Gt&&Ya.alternate===null&&f(Ee,Gt),oe=P(Ya,oe,Tn),ti===null?Mt=Ya:ti.sibling=Ya,ti=Ya,Gt=Si}if(dn.done)return x(Ee,Gt),vn&&G(Ee,Tn),Mt;if(Gt===null){for(;!dn.done;Tn++,dn=Ae.next())dn=ct(Ee,dn.value,Je),dn!==null&&(oe=P(dn,oe,Tn),ti===null?Mt=dn:ti.sibling=dn,ti=dn);return vn&&G(Ee,Tn),Mt}for(Gt=M(Gt);!dn.done;Tn++,dn=Ae.next())dn=$t(Gt,Ee,Tn,dn.value,Je),dn!==null&&(u&&dn.alternate!==null&&Gt.delete(dn.key===null?Tn:dn.key),oe=P(dn,oe,Tn),ti===null?Mt=dn:ti.sibling=dn,ti=dn);return u&&Gt.forEach(function(mp){return f(Ee,mp)}),vn&&G(Ee,Tn),Mt}function Nl(Ee,oe,Ae,Je){if(typeof Ae=="object"&&Ae!==null&&Ae.type===pl&&Ae.key===null&&(Ae=Ae.props.children),typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case Qd:e:{for(var Mt=Ae.key;oe!==null;){if(oe.key===Mt){if(Mt=Ae.type,Mt===pl){if(oe.tag===7){x(Ee,oe.sibling),Je=O(oe,Ae.props.children),Je.return=Ee,Ee=Je;break e}}else if(oe.elementType===Mt||typeof Mt=="object"&&Mt!==null&&Mt.$$typeof===Bs&&Ps(Mt)===oe.type){x(Ee,oe.sibling),Je=O(oe,Ae.props),gn(Je,Ae),Je.return=Ee,Ee=Je;break e}x(Ee,oe);break}else f(Ee,oe);oe=oe.sibling}Ae.type===pl?(Je=ui(Ae.props.children,Ee.mode,Je,Ae.key),Je.return=Ee,Ee=Je):(Je=La(Ae.type,Ae.key,Ae.props,null,Ee.mode,Je),gn(Je,Ae),Je.return=Ee,Ee=Je)}return K(Ee);case ks:e:{for(Mt=Ae.key;oe!==null;){if(oe.key===Mt)if(oe.tag===4&&oe.stateNode.containerInfo===Ae.containerInfo&&oe.stateNode.implementation===Ae.implementation){x(Ee,oe.sibling),Je=O(oe,Ae.children||[]),Je.return=Ee,Ee=Je;break e}else{x(Ee,oe);break}else f(Ee,oe);oe=oe.sibling}Je=Ng(Ae,Ee.mode,Je),Je.return=Ee,Ee=Je}return K(Ee);case Bs:return Mt=Ae._init,Ae=Mt(Ae._payload),Nl(Ee,oe,Ae,Je)}if(Mu(Ae))return Ts(Ee,oe,Ae,Je);if(s(Ae)){if(Mt=s(Ae),typeof Mt!="function")throw Error(r(150));return Ae=Mt.call(Ae),Ol(Ee,oe,Ae,Je)}if(typeof Ae.then=="function")return Nl(Ee,oe,It(Ae),Je);if(Ae.$$typeof===da)return Nl(Ee,oe,Ud(Ee,Ae),Je);fn(Ee,Ae)}return typeof Ae=="string"&&Ae!==""||typeof Ae=="number"||typeof Ae=="bigint"?(Ae=""+Ae,oe!==null&&oe.tag===6?(x(Ee,oe.sibling),Je=O(oe,Ae),Je.return=Ee,Ee=Je):(x(Ee,oe),Je=kh(Ae,Ee.mode,Je),Je.return=Ee,Ee=Je),K(Ee)):x(Ee,oe)}return function(Ee,oe,Ae,Je){try{Tl=0;var Mt=Nl(Ee,oe,Ae,Je);return El=null,Mt}catch(Gt){if(Gt===Uu)throw Gt;var ti=n(29,Gt,null,Ee.mode);return ti.lanes=Je,ti.return=Ee,ti}finally{}}}function Mi(u,f){u=yr,w(Vu,u),w(qn,f),yr=u|f.baseLanes}function ri(){w(Vu,yr),w(qn,qn.current)}function Is(){yr=Vu.current,_(qn),_(Vu)}function as(u){var f=u.alternate;w(Ui,Ui.current&1),w(vs,u),Bn===null&&(f===null||qn.current!==null||f.memoizedState!==null)&&(Bn=u)}function Md(u){if(u.tag===22){if(w(Ui,Ui.current),w(vs,u),Bn===null){var f=u.alternate;f!==null&&f.memoizedState!==null&&(Bn=u)}}else os()}function os(){w(Ui,Ui.current),w(vs,vs.current)}function ls(u){_(vs),Bn===u&&(Bn=null),_(Ui)}function cs(u){for(var f=u;f!==null;){if(f.tag===13){var x=f.memoizedState;if(x!==null&&(x=x.dehydrated,x===null||$h(x)||Zh(x)))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if((f.flags&128)!==0)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}function jn(){throw Error(r(321))}function la(u,f){if(f===null)return!1;for(var x=0;x<f.length&&x<u.length;x++)if(!Yr(u[x],f[x]))return!1;return!0}function Na(u,f,x,M,O,P){return No=P,rn=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,Ht.H=u===null||u.memoizedState===null?wl:Dr,Cl=!1,P=x(M,O),Cl=!1,Tc&&(P=co(f,x,M,O)),Qo(u),P}function Qo(u){Ht.H=di;var f=Dt!==null&&Dt.next!==null;if(No=0,xn=Dt=rn=null,js=!1,Mc=0,Wi=null,f)throw Error(r(300));u===null||Fn||(u=u.dependencies,u!==null&&zd(u)&&(Fn=!0))}function co(u,f,x,M){rn=u;var O=0;do{if(Tc&&(Wi=null),Mc=0,Tc=!1,25<=O)throw Error(r(301));if(O+=1,xn=Dt=null,u.updateQueue!=null){var P=u.updateQueue;P.lastEffect=null,P.events=null,P.stores=null,P.memoCache!=null&&(P.memoCache.index=0)}Ht.H=ys,P=f(x,M)}while(Tc);return P}function Ci(){var u=Ht.H,f=u.useState()[0];return f=typeof f.then=="function"?we(f):f,u=u.useState()[0],(Dt!==null?Dt.memoizedState:null)!==u&&(rn.flags|=1024),f}function iu(){var u=op!==0;return op=0,u}function ru(u,f,x){f.updateQueue=u.updateQueue,f.flags&=-2053,u.lanes&=~x}function Y(u){if(js){for(u=u.memoizedState;u!==null;){var f=u.queue;f!==null&&(f.pending=null),u=u.next}js=!1}No=0,xn=Dt=rn=null,Tc=!1,Mc=op=0,Wi=null}function ue(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xn===null?rn.memoizedState=xn=u:xn=xn.next=u,xn}function be(){if(Dt===null){var u=rn.alternate;u=u!==null?u.memoizedState:null}else u=Dt.next;var f=xn===null?rn.memoizedState:xn.next;if(f!==null)xn=f,Dt=u;else{if(u===null)throw rn.alternate===null?Error(r(467)):Error(r(310));Dt=u,u={memoizedState:Dt.memoizedState,baseState:Dt.baseState,baseQueue:Dt.baseQueue,queue:Dt.queue,next:null},xn===null?rn.memoizedState=xn=u:xn=xn.next=u}return xn}function we(u){var f=Mc;return Mc+=1,Wi===null&&(Wi=[]),u=Fe(Wi,u,f),f=rn,(xn===null?f.memoizedState:xn.next)===null&&(f=f.alternate,Ht.H=f===null||f.memoizedState===null?wl:Dr),u}function he(u){if(u!==null&&typeof u=="object"){if(typeof u.then=="function")return we(u);if(u.$$typeof===da)return nr(u)}throw Error(r(438,String(u)))}function $e(u){var f=null,x=rn.updateQueue;if(x!==null&&(f=x.memoCache),f==null){var M=rn.alternate;M!==null&&(M=M.updateQueue,M!==null&&(M=M.memoCache,M!=null&&(f={data:M.data.map(function(O){return O.slice()}),index:0})))}if(f==null&&(f={data:[],index:0}),x===null&&(x=lp(),rn.updateQueue=x),x.memoCache=f,x=f.data[f.index],x===void 0)for(x=f.data[f.index]=Array(u),M=0;M<u;M++)x[M]=tx;return f.index++,x}function rt(u,f){return typeof f=="function"?f(u):f}function pt(u){var f=be();return ot(f,Dt,u)}function ot(u,f,x){var M=u.queue;if(M===null)throw Error(r(311));M.lastRenderedReducer=x;var O=u.baseQueue,P=M.pending;if(P!==null){if(O!==null){var K=O.next;O.next=P.next,P.next=K}f.baseQueue=O=P,M.pending=null}if(P=u.baseState,O===null)u.memoizedState=P;else{f=O.next;var ae=K=null,ge=null,Le=f,et=!1;do{var ct=Le.lane&-536870913;if(ct!==Le.lane?(hn&ct)===ct:(No&ct)===ct){var ft=Le.revertLane;if(ft===0)ge!==null&&(ge=ge.next={lane:0,revertLane:0,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null}),ct===gs&&(et=!0);else if((No&ft)===ft){Le=Le.next,ft===gs&&(et=!0);continue}else ct={lane:0,revertLane:Le.revertLane,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null},ge===null?(ae=ge=ct,K=P):ge=ge.next=ct,rn.lanes|=ft,_s|=ft;ct=Le.action,Cl&&x(P,ct),P=Le.hasEagerState?Le.eagerState:x(P,ct)}else ft={lane:ct,revertLane:Le.revertLane,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null},ge===null?(ae=ge=ft,K=P):ge=ge.next=ft,rn.lanes|=ct,_s|=ct;Le=Le.next}while(Le!==null&&Le!==f);if(ge===null?K=P:ge.next=ae,!Yr(P,u.memoizedState)&&(Fn=!0,et&&(x=_c,x!==null)))throw x;u.memoizedState=P,u.baseState=K,u.baseQueue=ge,M.lastRenderedState=P}return O===null&&(M.lanes=0),[u.memoizedState,M.dispatch]}function Ct(u){var f=be(),x=f.queue;if(x===null)throw Error(r(311));x.lastRenderedReducer=u;var M=x.dispatch,O=x.pending,P=f.memoizedState;if(O!==null){x.pending=null;var K=O=O.next;do P=u(P,K.action),K=K.next;while(K!==O);Yr(P,f.memoizedState)||(Fn=!0),f.memoizedState=P,f.baseQueue===null&&(f.baseState=P),x.lastRenderedState=P}return[P,M]}function Nt(u,f,x){var M=rn,O=be(),P=vn;if(P){if(x===void 0)throw Error(r(407));x=x()}else x=f();var K=!Yr((Dt||O).memoizedState,x);if(K&&(O.memoizedState=x,Fn=!0),O=O.queue,ng(yn.bind(null,M,O,u),[u]),O.getSnapshot!==f||K||xn!==null&&xn.memoizedState.tag&1){if(M.flags|=2048,Ii(9,en.bind(null,M,O,x,f),{destroy:void 0},null),On===null)throw Error(r(349));P||(No&60)!==0||_t(M,f,x)}return x}function _t(u,f,x){u.flags|=16384,u={getSnapshot:f,value:x},f=rn.updateQueue,f===null?(f=lp(),rn.updateQueue=f,f.stores=[u]):(x=f.stores,x===null?f.stores=[u]:x.push(u))}function en(u,f,x,M){f.value=x,f.getSnapshot=M,Qn(f)&&Dn(u)}function yn(u,f,x){return x(function(){Qn(f)&&Dn(u)})}function Qn(u){var f=u.getSnapshot;u=u.value;try{var x=f();return!Yr(u,x)}catch{return!0}}function Dn(u){var f=Ne(u,2);f!==null&&Fi(f,u,2)}function Zt(u){var f=ue();if(typeof u=="function"){var x=u;if(u=x(),Cl){q(!0);try{x()}finally{q(!1)}}}return f.memoizedState=f.baseState=u,f.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rt,lastRenderedState:u},f}function wt(u,f,x,M){return u.baseState=x,ot(u,Dt,typeof M=="function"?M:rt)}function Jn(u,f,x,M,O){if(Nd(u))throw Error(r(485));if(u=f.action,u!==null){var P={payload:O,action:u,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(K){P.listeners.push(K)}};Ht.T!==null?x(!0):P.isTransition=!1,M(P),x=f.pending,x===null?(P.next=f.pending=P,cn(f,P)):(P.next=x.next,f.pending=x.next=P)}}function cn(u,f){var x=f.action,M=f.payload,O=u.state;if(f.isTransition){var P=Ht.T,K={};Ht.T=K;try{var ae=x(O,M),ge=Ht.S;ge!==null&&ge(K,ae),Zi(u,f,ae)}catch(Le){Qi(u,f,Le)}finally{Ht.T=P}}else try{P=x(O,M),Zi(u,f,P)}catch(Le){Qi(u,f,Le)}}function Zi(u,f,x){x!==null&&typeof x=="object"&&typeof x.then=="function"?x.then(function(M){Ls(u,f,M)},function(M){return Qi(u,f,M)}):Ls(u,f,x)}function Ls(u,f,x){f.status="fulfilled",f.value=x,Pi(f),u.state=x,f=u.pending,f!==null&&(x=f.next,x===f?u.pending=null:(x=x.next,f.next=x,cn(u,x)))}function Qi(u,f,x){var M=u.pending;if(u.pending=null,M!==null){M=M.next;do f.status="rejected",f.reason=x,Pi(f),f=f.next;while(f!==M)}u.action=null}function Pi(u){u=u.listeners;for(var f=0;f<u.length;f++)(0,u[f])()}function zn(u,f){return f}function pr(u,f){if(vn){var x=On.formState;if(x!==null){e:{var M=rn;if(vn){if(lr){var O=Yg(lr,Gi);if(O){lr=Kg(O),M=Ex(O);break e}}de(M)}M=!1}M&&(f=x[0])}}x=ue(),x.memoizedState=x.baseState=f,M={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zn,lastRenderedState:f},x.queue=M,x=ag.bind(null,rn,M),M.dispatch=x,M=Zt(!1);var P=ou.bind(null,rn,!1,M.queue);return M=ue(),O={state:f,dispatch:null,action:u,pending:null},M.queue=O,x=Jn.bind(null,rn,O,P,x),O.dispatch=x,M.memoizedState=u,[f,x,!1]}function Ji(u){var f=be();return oi(f,Dt,u)}function oi(u,f,x){f=ot(u,f,zn)[0],u=pt(rt)[0],f=typeof f=="object"&&f!==null&&typeof f.then=="function"?we(f):f;var M=be(),O=M.queue,P=O.dispatch;return x!==M.memoizedState&&(rn.flags|=2048,Ii(9,er.bind(null,O,x),{destroy:void 0},null)),[f,P,u]}function er(u,f){u.action=f}function ac(u){var f=be(),x=Dt;if(x!==null)return oi(f,x,u);be(),f=f.memoizedState,x=be();var M=x.queue.dispatch;return x.memoizedState=u,[f,M,!1]}function Ii(u,f,x,M){return u={tag:u,create:f,inst:x,deps:M,next:null},f=rn.updateQueue,f===null&&(f=lp(),rn.updateQueue=f),x=f.lastEffect,x===null?f.lastEffect=u.next=u:(M=x.next,x.next=u,u.next=M,f.lastEffect=u),u}function D0(){return be().memoizedState}function Cd(u,f,x,M){var O=ue();rn.flags|=u,O.memoizedState=Ii(1|f,x,{destroy:void 0},M===void 0?null:M)}function wd(u,f,x,M){var O=be();M=M===void 0?null:M;var P=O.memoizedState.inst;Dt!==null&&M!==null&&la(M,Dt.memoizedState.deps)?O.memoizedState=Ii(f,x,P,M):(rn.flags|=u,O.memoizedState=Ii(1|f,x,P,M))}function xh(u,f){Cd(8390656,8,u,f)}function ng(u,f){wd(2048,8,u,f)}function P0(u,f){return wd(4,2,u,f)}function Ad(u,f){return wd(4,4,u,f)}function bh(u,f){if(typeof f=="function"){u=u();var x=f(u);return function(){typeof x=="function"?x():f(null)}}if(f!=null)return u=u(),f.current=u,function(){f.current=null}}function Sh(u,f,x){x=x!=null?x.concat([u]):null,wd(4,4,bh.bind(null,f,u),x)}function Jo(){}function oc(u,f){var x=be();f=f===void 0?null:f;var M=x.memoizedState;return f!==null&&la(f,M[1])?M[0]:(x.memoizedState=[u,f],u)}function ig(u,f){var x=be();f=f===void 0?null:f;var M=x.memoizedState;if(f!==null&&la(f,M[1]))return M[0];if(M=u(),Cl){q(!0);try{u()}finally{q(!1)}}return x.memoizedState=[M,f],M}function Rd(u,f,x){return x===void 0||(No&1073741824)!==0?u.memoizedState=f:(u.memoizedState=x,u=Mg(),rn.lanes|=u,_s|=u,x)}function rg(u,f,x,M){return Yr(x,f)?x:qn.current!==null?(u=Rd(u,x,M),Yr(u,f)||(Fn=!0),u):(No&42)===0?(Fn=!0,u.memoizedState=x):(u=Mg(),rn.lanes|=u,_s|=u,f)}function su(u,f,x,M,O){var P=Co();gr(P!==0&&8>P?P:8);var K=Ht.T,ae={};Ht.T=ae,ou(u,!1,f,x);try{var ge=O(),Le=Ht.S;if(Le!==null&&Le(ae,ge),ge!==null&&typeof ge=="object"&&typeof ge.then=="function"){var et=tt(ge,M);el(u,f,et,vi(u))}else el(u,f,M,vi(u))}catch(ct){el(u,f,{then:function(){},status:"rejected",reason:ct},vi())}finally{gr(P),Ht.T=K}}function Da(u){var f=u.memoizedState;if(f!==null)return f;f={memoizedState:gl,baseState:gl,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rt,lastRenderedState:gl},next:null};var x={};return f.next={memoizedState:x,baseState:x,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rt,lastRenderedState:x},next:null},u.memoizedState=f,u=u.alternate,u!==null&&(u.memoizedState=f),f}function Od(){return nr(fa)}function au(){return be().memoizedState}function uo(){return be().memoizedState}function sg(u){for(var f=u.return;f!==null;){switch(f.tag){case 24:case 3:var x=vi();u=We(x);var M=st(f,u,x);M!==null&&(Fi(M,f,x),Et(M,f,x)),f={cache:rl()},u.payload=f;return}f=f.return}}function _h(u,f,x){var M=vi();x={lane:M,revertLane:0,action:x,hasEagerState:!1,eagerState:null,next:null},Nd(u)?Cr(f,x):(x=Ie(u,f,x,M),x!==null&&(Fi(x,u,M),tl(x,f,M)))}function ag(u,f,x){var M=vi();el(u,f,x,M)}function el(u,f,x,M){var O={lane:M,revertLane:0,action:x,hasEagerState:!1,eagerState:null,next:null};if(Nd(u))Cr(f,O);else{var P=u.alternate;if(u.lanes===0&&(P===null||P.lanes===0)&&(P=f.lastRenderedReducer,P!==null))try{var K=f.lastRenderedState,ae=P(K,x);if(O.hasEagerState=!0,O.eagerState=ae,Yr(ae,K))return Ue(u,f,O,0),On===null&&Ve(),!1}catch{}finally{}if(x=Ie(u,f,O,M),x!==null)return Fi(x,u,M),tl(x,f,M),!0}return!1}function ou(u,f,x,M){if(M={lane:2,revertLane:ke(),action:M,hasEagerState:!1,eagerState:null,next:null},Nd(u)){if(f)throw Error(r(479))}else f=Ie(u,x,M,2),f!==null&&Fi(f,u,2)}function Nd(u){var f=u.alternate;return u===rn||f!==null&&f===rn}function Cr(u,f){Tc=js=!0;var x=u.pending;x===null?f.next=f:(f.next=x.next,x.next=f),u.pending=f}function tl(u,f,x){if((x&4194176)!==0){var M=f.lanes;M&=u.pendingLanes,x|=M,f.lanes=x,se(u,x)}}function lu(u,f,x,M){f=u.memoizedState,x=x(M,f),x=x==null?f:Fh({},f,x),u.memoizedState=x,u.lanes===0&&(u.updateQueue.baseState=x)}function cu(u,f,x,M,O,P,K){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(M,P,K):f.prototype&&f.prototype.isPureReactComponent?!nt(x,M)||!nt(O,P):!0}function I0(u,f,x,M){u=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(x,M),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(x,M),f.state!==u&&Ha.enqueueReplaceState(f,f.state,null)}function fo(u,f){var x=f;if("ref"in f){x={};for(var M in f)M!=="ref"&&(x[M]=f[M])}if(u=u.defaultProps){x===f&&(x=Fh({},x));for(var O in u)x[O]===void 0&&(x[O]=u[O])}return x}function uu(u,f){try{var x=u.onUncaughtError;x(f.value,{componentStack:f.stack})}catch(M){setTimeout(function(){throw M})}}function du(u,f,x){try{var M=u.onCaughtError;M(x.value,{componentStack:x.stack,errorBoundary:f.tag===1?f.stateNode:null})}catch(O){setTimeout(function(){throw O})}}function fu(u,f,x){return x=We(x),x.tag=3,x.payload={element:null},x.callback=function(){uu(u,f)},x}function og(u){return u=We(u),u.tag=3,u}function L0(u,f,x,M){var O=x.type.getDerivedStateFromError;if(typeof O=="function"){var P=M.value;u.payload=function(){return O(P)},u.callback=function(){du(f,x,M)}}var K=x.stateNode;K!==null&&typeof K.componentDidCatch=="function"&&(u.callback=function(){du(f,x,M),typeof O!="function"&&(Al===null?Al=new Set([this]):Al.add(this));var ae=M.stack;this.componentDidCatch(M.value,{componentStack:ae!==null?ae:""})})}function EE(u,f,x,M,O){if(x.flags|=32768,M!==null&&typeof M=="object"&&typeof M.then=="function"){if(f=x.alternate,f!==null&&Ld(f,x,O,!0),x=vs.current,x!==null){switch(x.tag){case 13:return Bn===null?bo():x.alternate===null&&Hn===0&&(Hn=3),x.flags&=-257,x.flags|=65536,x.lanes=O,M===pf?x.flags|=16384:(f=x.updateQueue,f===null?x.updateQueue=new Set([M]):f.add(M),uc(u,M,O)),!1;case 22:return x.flags|=65536,M===pf?x.flags|=16384:(f=x.updateQueue,f===null?(f={transitions:null,markerInstances:null,retryQueue:new Set([M])},x.updateQueue=f):(x=f.retryQueue,x===null?f.retryQueue=new Set([M]):x.add(M)),uc(u,M,O)),!1}throw Error(r(435,x.tag))}return uc(u,M,O),bo(),!1}if(vn)return f=vs.current,f!==null?((f.flags&65536)===0&&(f.flags|=256),f.flags|=65536,f.lanes=O,M!==df&&(u=Error(r(422),{cause:M}),ee(ne(u,x)))):(M!==df&&(f=Error(r(423),{cause:M}),ee(ne(f,x))),u=u.current.alternate,u.flags|=65536,O&=-O,u.lanes|=O,M=ne(M,x),O=fu(u.stateNode,M,O),yt(u,O),Hn!==4&&(Hn=2)),!1;var P=Error(r(520),{cause:M});if(P=ne(P,x),wc===null?wc=[P]:wc.push(P),Hn!==4&&(Hn=2),f===null)return!0;M=ne(M,x),x=f;do{switch(x.tag){case 3:return x.flags|=65536,u=O&-O,x.lanes|=u,u=fu(x.stateNode,M,u),yt(x,u),!1;case 1:if(f=x.type,P=x.stateNode,(x.flags&128)===0&&(typeof f.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(Al===null||!Al.has(P))))return x.flags|=65536,O&=-O,x.lanes|=O,O=og(O),L0(O,u,x,M),yt(x,O),!1}x=x.return}while(x!==null);return!1}function tr(u,f,x,M){f.child=u===null?Fa(f,null,x,M):Ml(f,u.child,x,M)}function Eh(u,f,x,M,O){x=x.render;var P=f.ref;if("ref"in M){var K={};for(var ae in M)ae!=="ref"&&(K[ae]=M[ae])}else K=M;return il(f),M=Na(u,f,x,K,P,O),ae=iu(),u!==null&&!Fn?(ru(u,f,O),ho(u,f,O)):(vn&&ae&&ve(f),f.flags|=1,tr(u,f,M,O),f.child)}function z0(u,f,x,M,O){if(u===null){var P=x.type;return typeof P=="function"&&!Yd(P)&&P.defaultProps===void 0&&x.compare===null?(f.tag=15,f.type=P,U0(u,f,P,M,O)):(u=La(x.type,null,M,f,f.mode,O),u.ref=f.ref,u.return=f,f.child=u)}if(P=u.child,!fg(u,O)){var K=P.memoizedProps;if(x=x.compare,x=x!==null?x:nt,x(K,M)&&u.ref===f.ref)return ho(u,f,O)}return f.flags|=1,u=Vs(P,M),u.ref=f.ref,u.return=f,f.child=u}function U0(u,f,x,M,O){if(u!==null){var P=u.memoizedProps;if(nt(P,M)&&u.ref===f.ref)if(Fn=!1,f.pendingProps=M=P,fg(u,O))(u.flags&131072)!==0&&(Fn=!0);else return f.lanes=u.lanes,ho(u,f,O)}return Th(u,f,x,M,O)}function V0(u,f,x){var M=f.pendingProps,O=M.children,P=(f.stateNode._pendingVisibility&2)!==0,K=u!==null?u.memoizedState:null;if(Dd(u,f),M.mode==="hidden"||P){if((f.flags&128)!==0){if(M=K!==null?K.baseLanes|x:x,u!==null){for(O=f.child=u.child,P=0;O!==null;)P=P|O.lanes|O.childLanes,O=O.sibling;f.childLanes=P&~M}else f.childLanes=0,f.child=null;return k0(u,f,M,x)}if((x&536870912)!==0)f.memoizedState={baseLanes:0,cachePool:null},u!==null&&Ch(f,K!==null?K.cachePool:null),K!==null?Mi(f,K):ri(),Md(f);else return f.lanes=f.childLanes=536870912,k0(u,f,K!==null?K.baseLanes|x:x,x)}else K!==null?(Ch(f,K.cachePool),Mi(f,K),os(),f.memoizedState=null):(u!==null&&Ch(f,null),ri(),os());return tr(u,f,O,x),f.child}function k0(u,f,x,M){var O=pg();return O=O===null?null:{parent:Rr?Yn._currentValue:Yn._currentValue2,pool:O},f.memoizedState={baseLanes:x,cachePool:O},u!==null&&Ch(f,null),ri(),Md(f),u!==null&&Ld(u,f,M,!0),null}function Dd(u,f){var x=f.ref;if(x===null)u!==null&&u.ref!==null&&(f.flags|=2097664);else{if(typeof x!="function"&&typeof x!="object")throw Error(r(284));(u===null||u.ref!==x)&&(f.flags|=2097664)}}function Th(u,f,x,M,O){return il(f),x=Na(u,f,x,M,void 0,O),M=iu(),u!==null&&!Fn?(ru(u,f,O),ho(u,f,O)):(vn&&M&&ve(f),f.flags|=1,tr(u,f,x,O),f.child)}function B0(u,f,x,M,O,P){return il(f),f.updateQueue=null,x=co(f,M,x,O),Qo(u),M=iu(),u!==null&&!Fn?(ru(u,f,P),ho(u,f,P)):(vn&&M&&ve(f),f.flags|=1,tr(u,f,x,P),f.child)}function F0(u,f,x,M,O){if(il(f),f.stateNode===null){var P=bl,K=x.contextType;typeof K=="object"&&K!==null&&(P=nr(K)),P=new x(M,P),f.memoizedState=P.state!==null&&P.state!==void 0?P.state:null,P.updater=Ha,f.stateNode=P,P._reactInternals=f,P=f.stateNode,P.props=M,P.state=f.memoizedState,P.refs={},gt(f),K=x.contextType,P.context=typeof K=="object"&&K!==null?nr(K):bl,P.state=f.memoizedState,K=x.getDerivedStateFromProps,typeof K=="function"&&(lu(f,x,K,M),P.state=f.memoizedState),typeof x.getDerivedStateFromProps=="function"||typeof P.getSnapshotBeforeUpdate=="function"||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(K=P.state,typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount(),K!==P.state&&Ha.enqueueReplaceState(P,P.state,null),Ft(f,M,P,O),at(),P.state=f.memoizedState),typeof P.componentDidMount=="function"&&(f.flags|=4194308),M=!0}else if(u===null){P=f.stateNode;var ae=f.memoizedProps,ge=fo(x,ae);P.props=ge;var Le=P.context,et=x.contextType;K=bl,typeof et=="object"&&et!==null&&(K=nr(et));var ct=x.getDerivedStateFromProps;et=typeof ct=="function"||typeof P.getSnapshotBeforeUpdate=="function",ae=f.pendingProps!==ae,et||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(ae||Le!==K)&&I0(f,P,M,K),Oo=!1;var ft=f.memoizedState;P.state=ft,Ft(f,M,P,O),at(),Le=f.memoizedState,ae||ft!==Le||Oo?(typeof ct=="function"&&(lu(f,x,ct,M),Le=f.memoizedState),(ge=Oo||cu(f,x,ge,M,ft,Le,K))?(et||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount()),typeof P.componentDidMount=="function"&&(f.flags|=4194308)):(typeof P.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=M,f.memoizedState=Le),P.props=M,P.state=Le,P.context=K,M=ge):(typeof P.componentDidMount=="function"&&(f.flags|=4194308),M=!1)}else{P=f.stateNode,vt(u,f),K=f.memoizedProps,et=fo(x,K),P.props=et,ct=f.pendingProps,ft=P.context,Le=x.contextType,ge=bl,typeof Le=="object"&&Le!==null&&(ge=nr(Le)),ae=x.getDerivedStateFromProps,(Le=typeof ae=="function"||typeof P.getSnapshotBeforeUpdate=="function")||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(K!==ct||ft!==ge)&&I0(f,P,M,ge),Oo=!1,ft=f.memoizedState,P.state=ft,Ft(f,M,P,O),at();var $t=f.memoizedState;K!==ct||ft!==$t||Oo||u!==null&&u.dependencies!==null&&zd(u.dependencies)?(typeof ae=="function"&&(lu(f,x,ae,M),$t=f.memoizedState),(et=Oo||cu(f,x,et,M,ft,$t,ge)||u!==null&&u.dependencies!==null&&zd(u.dependencies))?(Le||typeof P.UNSAFE_componentWillUpdate!="function"&&typeof P.componentWillUpdate!="function"||(typeof P.componentWillUpdate=="function"&&P.componentWillUpdate(M,$t,ge),typeof P.UNSAFE_componentWillUpdate=="function"&&P.UNSAFE_componentWillUpdate(M,$t,ge)),typeof P.componentDidUpdate=="function"&&(f.flags|=4),typeof P.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof P.componentDidUpdate!="function"||K===u.memoizedProps&&ft===u.memoizedState||(f.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||K===u.memoizedProps&&ft===u.memoizedState||(f.flags|=1024),f.memoizedProps=M,f.memoizedState=$t),P.props=M,P.state=$t,P.context=ge,M=et):(typeof P.componentDidUpdate!="function"||K===u.memoizedProps&&ft===u.memoizedState||(f.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||K===u.memoizedProps&&ft===u.memoizedState||(f.flags|=1024),M=!1)}return P=M,Dd(u,f),M=(f.flags&128)!==0,P||M?(P=f.stateNode,x=M&&typeof x.getDerivedStateFromError!="function"?null:P.render(),f.flags|=1,u!==null&&M?(f.child=Ml(f,u.child,null,O),f.child=Ml(f,null,x,O)):tr(u,f,x,O),f.memoizedState=P.state,u=f.child):u=ho(u,f,O),u}function H0(u,f,x,M){return Rt(),f.flags|=256,tr(u,f,x,M),f.child}function lg(u){return{baseLanes:u,cachePool:mg()}}function Pd(u,f,x){return u=u!==null?u.childLanes&~x:0,f&&(u|=Es),u}function G0(u,f,x){var M=f.pendingProps,O=!1,P=(f.flags&128)!==0,K;if((K=P)||(K=u!==null&&u.memoizedState===null?!1:(Ui.current&2)!==0),K&&(O=!0,f.flags&=-129),K=(f.flags&32)!==0,f.flags&=-33,u===null){if(vn){if(O?as(f):os(),vn){var ae=lr,ge;(ge=ae)&&(ae=Cx(ae,Gi),ae!==null?(f.memoizedState={dehydrated:ae,treeContext:Sl!==null?{id:pa,overflow:ma}:null,retryLane:536870912},ge=n(18,null,null,0),ge.stateNode=ae,ge.return=f,f.child=ge,or=f,lr=null,ge=!0):ge=!1),ge||de(f)}if(ae=f.memoizedState,ae!==null&&(ae=ae.dehydrated,ae!==null))return Zh(ae)?f.lanes=16:f.lanes=536870912,null;ls(f)}return ae=M.children,M=M.fallback,O?(os(),O=f.mode,ae=ug({mode:"hidden",children:ae},O),M=ui(M,O,x,null),ae.return=f,M.return=f,ae.sibling=M,f.child=ae,O=f.child,O.memoizedState=lg(x),O.childLanes=Pd(u,K,x),f.memoizedState=dp,M):(as(f),cg(f,ae))}if(ge=u.memoizedState,ge!==null&&(ae=ge.dehydrated,ae!==null)){if(P)f.flags&256?(as(f),f.flags&=-257,f=Mh(u,f,x)):f.memoizedState!==null?(os(),f.child=u.child,f.flags|=128,f=null):(os(),O=M.fallback,ae=f.mode,M=ug({mode:"visible",children:M.children},ae),O=ui(O,ae,x,null),O.flags|=2,M.return=f,O.return=f,M.sibling=O,f.child=M,Ml(f,u.child,null,x),M=f.child,M.memoizedState=lg(x),M.childLanes=Pd(u,K,x),f.memoizedState=dp,f=O);else if(as(f),Zh(ae))K=Sx(ae).digest,M=Error(r(419)),M.stack="",M.digest=K,ee({value:M,source:null,stack:null}),f=Mh(u,f,x);else if(Fn||Ld(u,f,x,!1),K=(x&u.childLanes)!==0,Fn||K){if(K=On,K!==null){if(M=x&-x,(M&42)!==0)M=1;else switch(M){case 2:M=1;break;case 8:M=4;break;case 32:M=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:M=64;break;case 268435456:M=134217728;break;default:M=0}if(M=(M&(K.suspendedLanes|x))!==0?0:M,M!==0&&M!==ge.retryLane)throw ge.retryLane=M,Ne(u,M),Fi(K,u,M),up}$h(ae)||bo(),f=Mh(u,f,x)}else $h(ae)?(f.flags|=128,f.child=u.child,f=So.bind(null,u),_x(ae,f),f=null):(u=ge.treeContext,ar&&(lr=Mx(ae),or=f,vn=!0,Gs=null,Gi=!1,u!==null&&(ps[ms++]=pa,ps[ms++]=ma,ps[ms++]=Sl,pa=u.id,ma=u.overflow,Sl=f)),f=cg(f,M.children),f.flags|=4096);return f}return O?(os(),O=M.fallback,ae=f.mode,ge=u.child,P=ge.sibling,M=Vs(ge,{mode:"hidden",children:M.children}),M.subtreeFlags=ge.subtreeFlags&31457280,P!==null?O=Vs(P,O):(O=ui(O,ae,x,null),O.flags|=2),O.return=f,M.return=f,M.sibling=O,f.child=M,M=O,O=f.child,ae=u.child.memoizedState,ae===null?ae=lg(x):(ge=ae.cachePool,ge!==null?(P=Rr?Yn._currentValue:Yn._currentValue2,ge=ge.parent!==P?{parent:P,pool:P}:ge):ge=mg(),ae={baseLanes:ae.baseLanes|x,cachePool:ge}),O.memoizedState=ae,O.childLanes=Pd(u,K,x),f.memoizedState=dp,M):(as(f),x=u.child,u=x.sibling,x=Vs(x,{mode:"visible",children:M.children}),x.return=f,x.sibling=null,u!==null&&(K=f.deletions,K===null?(f.deletions=[u],f.flags|=16):K.push(u)),f.child=x,f.memoizedState=null,x)}function cg(u,f){return f=ug({mode:"visible",children:f},u.mode),f.return=u,u.child=f}function ug(u,f){return $d(u,f,0,null)}function Mh(u,f,x){return Ml(f,u.child,null,x),u=cg(f,f.pendingProps.children),u.flags|=2,f.memoizedState=null,u}function W0(u,f,x){u.lanes|=f;var M=u.alternate;M!==null&&(M.lanes|=f),Id(u.return,f,x)}function dg(u,f,x,M,O){var P=u.memoizedState;P===null?u.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:M,tail:x,tailMode:O}:(P.isBackwards=f,P.rendering=null,P.renderingStartTime=0,P.last=M,P.tail=x,P.tailMode=O)}function j0(u,f,x){var M=f.pendingProps,O=M.revealOrder,P=M.tail;if(tr(u,f,M.children,x),M=Ui.current,(M&2)!==0)M=M&1|2,f.flags|=128;else{if(u!==null&&(u.flags&128)!==0)e:for(u=f.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&W0(u,x,f);else if(u.tag===19)W0(u,x,f);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===f)break e;for(;u.sibling===null;){if(u.return===null||u.return===f)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}M&=1}switch(w(Ui,M),O){case"forwards":for(x=f.child,O=null;x!==null;)u=x.alternate,u!==null&&cs(u)===null&&(O=x),x=x.sibling;x=O,x===null?(O=f.child,f.child=null):(O=x.sibling,x.sibling=null),dg(f,!1,O,x,P);break;case"backwards":for(x=null,O=f.child,f.child=null;O!==null;){if(u=O.alternate,u!==null&&cs(u)===null){f.child=O;break}u=O.sibling,O.sibling=x,x=O,O=u}dg(f,!0,x,null,P);break;case"together":dg(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function ho(u,f,x){if(u!==null&&(f.dependencies=u.dependencies),_s|=f.lanes,(x&f.childLanes)===0)if(u!==null){if(Ld(u,f,x,!1),(x&f.childLanes)===0)return null}else return null;if(u!==null&&f.child!==u.child)throw Error(r(153));if(f.child!==null){for(u=f.child,x=Vs(u,u.pendingProps),f.child=x,x.return=f;u.sibling!==null;)u=u.sibling,x=x.sibling=Vs(u,u.pendingProps),x.return=f;x.sibling=null}return f.child}function fg(u,f){return(u.lanes&f)!==0?!0:(u=u.dependencies,!!(u!==null&&zd(u)))}function TE(u,f,x){switch(f.tag){case 3:De(f,f.stateNode.containerInfo),nl(f,Yn,u.memoizedState.cache),Rt();break;case 27:case 5:me(f);break;case 4:De(f,f.stateNode.containerInfo);break;case 10:nl(f,f.type,f.memoizedProps.value);break;case 13:var M=f.memoizedState;if(M!==null)return M.dehydrated!==null?(as(f),f.flags|=128,null):(x&f.child.childLanes)!==0?G0(u,f,x):(as(f),u=ho(u,f,x),u!==null?u.sibling:null);as(f);break;case 19:var O=(u.flags&128)!==0;if(M=(x&f.childLanes)!==0,M||(Ld(u,f,x,!1),M=(x&f.childLanes)!==0),O){if(M)return j0(u,f,x);f.flags|=128}if(O=f.memoizedState,O!==null&&(O.rendering=null,O.tail=null,O.lastEffect=null),w(Ui,Ui.current),M)break;return null;case 22:case 23:return f.lanes=0,V0(u,f,x);case 24:nl(f,Yn,u.memoizedState.cache)}return ho(u,f,x)}function X0(u,f,x){if(u!==null)if(u.memoizedProps!==f.pendingProps)Fn=!0;else{if(!fg(u,x)&&(f.flags&128)===0)return Fn=!1,TE(u,f,x);Fn=(u.flags&131072)!==0}else Fn=!1,vn&&(f.flags&1048576)!==0&&te(f,Pu,f.index);switch(f.lanes=0,f.tag){case 16:e:{u=f.pendingProps;var M=f.elementType,O=M._init;if(M=O(M._payload),f.type=M,typeof M=="function")Yd(M)?(u=fo(M,u),f.tag=1,f=F0(null,f,M,u,x)):(f.tag=0,f=Th(null,f,M,u,x));else{if(M!=null){if(O=M.$$typeof,O===tf){f.tag=11,f=Eh(null,f,M,u,x);break e}else if(O===Wh){f.tag=14,f=z0(null,f,M,u,x);break e}}throw f=o(M)||M,Error(r(306,f,""))}}return f;case 0:return Th(u,f,f.type,f.pendingProps,x);case 1:return M=f.type,O=fo(M,f.pendingProps),F0(u,f,M,O,x);case 3:e:{if(De(f,f.stateNode.containerInfo),u===null)throw Error(r(387));var P=f.pendingProps;O=f.memoizedState,M=O.element,vt(u,f),Ft(f,P,null,x);var K=f.memoizedState;if(P=K.cache,nl(f,Yn,P),P!==O.cache&&lc(f,[Yn],x,!0),at(),P=K.element,ar&&O.isDehydrated)if(O={element:P,isDehydrated:!1,cache:K.cache},f.updateQueue.baseState=O,f.memoizedState=O,f.flags&256){f=H0(u,f,P,x);break e}else if(P!==M){M=ne(Error(r(424)),f),ee(M),f=H0(u,f,P,x);break e}else for(ar&&(lr=Tx(f.stateNode.containerInfo),or=f,vn=!0,Gs=null,Gi=!0),x=Fa(f,null,P,x),f.child=x;x;)x.flags=x.flags&-3|4096,x=x.sibling;else{if(Rt(),P===M){f=ho(u,f,x);break e}tr(u,f,P,x)}f=f.child}return f;case 26:if(hs)return Dd(u,f),u===null?(x=Qg(f.type,null,f.pendingProps,null))?f.memoizedState=x:vn||(f.stateNode=np(f.type,f.pendingProps,ka.current,f)):f.memoizedState=Qg(f.type,u.memoizedProps,f.pendingProps,u.memoizedState),null;case 27:if(kn)return me(f),u===null&&kn&&vn&&(M=f.stateNode=ha(f.type,f.pendingProps,ka.current,zi.current,!1),or=f,Gi=!0,lr=Qh(M)),M=f.pendingProps.children,u!==null||vn?tr(u,f,M,x):f.child=Ml(f,null,M,x),Dd(u,f),f.child;case 5:return u===null&&vn&&(ep(f.type,f.pendingProps,zi.current),(O=M=lr)&&(M=NE(M,f.type,f.pendingProps,Gi),M!==null?(f.stateNode=M,or=f,lr=Qh(M),Gi=!1,O=!0):O=!1),O||de(f)),me(f),O=f.type,P=f.pendingProps,K=u!==null?u.memoizedProps:null,M=P.children,Jt(O,P)?M=null:K!==null&&Jt(O,K)&&(f.flags|=32),f.memoizedState!==null&&(O=Na(u,f,Ci,null,null,x),Rr?fa._currentValue=O:fa._currentValue2=O),Dd(u,f),tr(u,f,M,x),f.child;case 6:return u===null&&vn&&(Nx(f.pendingProps,zi.current),(u=x=lr)&&(x=$g(x,f.pendingProps,Gi),x!==null?(f.stateNode=x,or=f,lr=null,u=!0):u=!1),u||de(f)),null;case 13:return G0(u,f,x);case 4:return De(f,f.stateNode.containerInfo),M=f.pendingProps,u===null?f.child=Ml(f,null,M,x):tr(u,f,M,x),f.child;case 11:return Eh(u,f,f.type,f.pendingProps,x);case 7:return tr(u,f,f.pendingProps,x),f.child;case 8:return tr(u,f,f.pendingProps.children,x),f.child;case 12:return tr(u,f,f.pendingProps.children,x),f.child;case 10:return M=f.pendingProps,nl(f,f.type,M.value),tr(u,f,M.children,x),f.child;case 9:return O=f.type._context,M=f.pendingProps.children,il(f),O=nr(O),M=M(O),f.flags|=1,tr(u,f,M,x),f.child;case 14:return z0(u,f,f.type,f.pendingProps,x);case 15:return U0(u,f,f.type,f.pendingProps,x);case 19:return j0(u,f,x);case 22:return V0(u,f,x);case 24:return il(f),M=nr(Yn),u===null?(O=pg(),O===null&&(O=On,P=rl(),O.pooledCache=P,P.refCount++,P!==null&&(O.pooledCacheLanes|=x),O=P),f.memoizedState={parent:M,cache:O},gt(f),nl(f,Yn,O)):((u.lanes&x)!==0&&(vt(u,f),Ft(f,null,null,x),at()),O=u.memoizedState,P=f.memoizedState,O.parent!==M?(O={parent:M,cache:M},f.memoizedState=O,f.lanes===0&&(f.memoizedState=f.updateQueue.baseState=O),nl(f,Yn,M)):(M=P.cache,nl(f,Yn,M),M!==O.cache&&lc(f,[Yn],x,!0))),tr(u,f,f.pendingProps.children,x),f.child;case 29:throw f.pendingProps}throw Error(r(156,f.tag))}function nl(u,f,x){Rr?(w(Do,f._currentValue),f._currentValue=x):(w(Do,f._currentValue2),f._currentValue2=x)}function po(u){var f=Do.current;Rr?u._currentValue=f:u._currentValue2=f,_(Do)}function Id(u,f,x){for(;u!==null;){var M=u.alternate;if((u.childLanes&f)!==f?(u.childLanes|=f,M!==null&&(M.childLanes|=f)):M!==null&&(M.childLanes&f)!==f&&(M.childLanes|=f),u===x)break;u=u.return}}function lc(u,f,x,M){var O=u.child;for(O!==null&&(O.return=u);O!==null;){var P=O.dependencies;if(P!==null){var K=O.child;P=P.firstContext;e:for(;P!==null;){var ae=P;P=O;for(var ge=0;ge<f.length;ge++)if(ae.context===f[ge]){P.lanes|=x,ae=P.alternate,ae!==null&&(ae.lanes|=x),Id(P.return,x,u),M||(K=null);break e}P=ae.next}}else if(O.tag===18){if(K=O.return,K===null)throw Error(r(341));K.lanes|=x,P=K.alternate,P!==null&&(P.lanes|=x),Id(K,x,u),K=null}else K=O.child;if(K!==null)K.return=O;else for(K=O;K!==null;){if(K===u){K=null;break}if(O=K.sibling,O!==null){O.return=K.return,K=O;break}K=K.return}O=K}}function Ld(u,f,x,M){u=null;for(var O=f,P=!1;O!==null;){if(!P){if((O.flags&524288)!==0)P=!0;else if((O.flags&262144)!==0)break}if(O.tag===10){var K=O.alternate;if(K===null)throw Error(r(387));if(K=K.memoizedProps,K!==null){var ae=O.type;Yr(O.pendingProps.value,K.value)||(u!==null?u.push(ae):u=[ae])}}else if(O===yc.current){if(K=O.alternate,K===null)throw Error(r(387));K.memoizedState.memoizedState!==O.memoizedState.memoizedState&&(u!==null?u.push(fa):u=[fa])}O=O.return}u!==null&&lc(f,u,x,M),f.flags|=262144}function zd(u){for(u=u.firstContext;u!==null;){var f=u.context;if(!Yr(Rr?f._currentValue:f._currentValue2,u.memoizedValue))return!0;u=u.next}return!1}function il(u){ya=u,xs=null,u=u.dependencies,u!==null&&(u.firstContext=null)}function nr(u){return hg(ya,u)}function Ud(u,f){return ya===null&&il(u),hg(u,f)}function hg(u,f){var x=Rr?f._currentValue:f._currentValue2;if(f={context:f,memoizedValue:x,next:null},xs===null){if(u===null)throw Error(r(308));xs=f,u.dependencies={lanes:0,firstContext:f},u.flags|=524288}else xs=xs.next=f;return x}function rl(){return{controller:new ku,data:new Map,refCount:0}}function Vd(u){u.refCount--,u.refCount===0&&Hx(Gx,function(){u.controller.abort()})}function pg(){var u=Ga.current;return u!==null?u:On.pooledCache}function Ch(u,f){f===null?w(Ga,Ga.current):w(Ga,f.pool)}function mg(){var u=pg();return u===null?null:{parent:Rr?Yn._currentValue:Yn._currentValue2,pool:u}}function Fr(u){u.flags|=4}function hu(u,f){if(u!==null&&u.child===f.child)return!1;if((f.flags&16)!==0)return!0;for(u=f.child;u!==null;){if((u.flags&13878)!==0||(u.subtreeFlags&13878)!==0)return!0;u=u.sibling}return!1}function cc(u,f,x,M){if(Li)for(x=f.child;x!==null;){if(x.tag===5||x.tag===6)rf(u,x.stateNode);else if(!(x.tag===4||kn&&x.tag===27)&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===f)break;for(;x.sibling===null;){if(x.return===null||x.return===f)return;x=x.return}x.sibling.return=x.return,x=x.sibling}else if(Fs)for(var O=f.child;O!==null;){if(O.tag===5){var P=O.stateNode;x&&M&&(P=Xg(P,O.type,O.memoizedProps)),rf(u,P)}else if(O.tag===6)P=O.stateNode,x&&M&&(P=qg(P,O.memoizedProps)),rf(u,P);else if(O.tag!==4){if(O.tag===22&&O.memoizedState!==null)P=O.child,P!==null&&(P.return=O),cc(u,O,!0,!0);else if(O.child!==null){O.child.return=O,O=O.child;continue}}if(O===f)break;for(;O.sibling===null;){if(O.return===null||O.return===f)return;O=O.return}O.sibling.return=O.return,O=O.sibling}}function q0(u,f,x,M){if(Fs)for(var O=f.child;O!==null;){if(O.tag===5){var P=O.stateNode;x&&M&&(P=Xg(P,O.type,O.memoizedProps)),jg(u,P)}else if(O.tag===6)P=O.stateNode,x&&M&&(P=qg(P,O.memoizedProps)),jg(u,P);else if(O.tag!==4){if(O.tag===22&&O.memoizedState!==null)P=O.child,P!==null&&(P.return=O),q0(u,O,!(O.memoizedProps!==null&&O.memoizedProps.mode==="manual"),!0);else if(O.child!==null){O.child.return=O,O=O.child;continue}}if(O===f)break;for(;O.sibling===null;){if(O.return===null||O.return===f)return;O=O.return}O.sibling.return=O.return,O=O.sibling}}function kd(u,f){if(Fs&&hu(u,f)){u=f.stateNode;var x=u.containerInfo,M=sf();q0(M,f,!1,!1),u.pendingChildren=M,Fr(f),Kh(x,M)}}function wh(u,f,x,M){if(Li)u.memoizedProps!==M&&Fr(f);else if(Fs){var O=u.stateNode,P=u.memoizedProps;if((u=hu(u,f))||P!==M){var K=zi.current;P=Ou(O,x,P,M,!u,null),P===O?f.stateNode=O:(Mo(P,x,M,K)&&Fr(f),f.stateNode=P,u?cc(P,f,!1,!1):Fr(f))}else f.stateNode=O}}function Ah(u,f,x){if(Ug(f,x)){if(u.flags|=16777216,!qh(f,x))if(ul())u.flags|=8192;else throw _l=pf,hf}else u.flags&=-16777217}function Rh(u,f){if(Ix(f)){if(u.flags|=16777216,!hc(f))if(ul())u.flags|=8192;else throw _l=pf,hf}else u.flags&=-16777217}function pu(u,f){f!==null&&(u.flags|=4),u.flags&16384&&(f=u.tag!==22?L():536870912,u.lanes|=f,Xa|=f)}function mu(u,f){if(!vn)switch(u.tailMode){case"hidden":f=u.tail;for(var x=null;f!==null;)f.alternate!==null&&(x=f),f=f.sibling;x===null?u.tail=null:x.sibling=null;break;case"collapsed":x=u.tail;for(var M=null;x!==null;)x.alternate!==null&&(M=x),x=x.sibling;M===null?f||u.tail===null?u.tail=null:u.tail.sibling=null:M.sibling=null}}function si(u){var f=u.alternate!==null&&u.alternate.child===u.child,x=0,M=0;if(f)for(var O=u.child;O!==null;)x|=O.lanes|O.childLanes,M|=O.subtreeFlags&31457280,M|=O.flags&31457280,O.return=u,O=O.sibling;else for(O=u.child;O!==null;)x|=O.lanes|O.childLanes,M|=O.subtreeFlags,M|=O.flags,O.return=u,O=O.sibling;return u.subtreeFlags|=M,u.childLanes=x,f}function Y0(u,f,x){var M=f.pendingProps;switch(Me(f),f.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return si(f),null;case 1:return si(f),null;case 3:return x=f.stateNode,M=null,u!==null&&(M=u.memoizedState.cache),f.memoizedState.cache!==M&&(f.flags|=2048),po(Yn),qe(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(u===null||u.child===null)&&(dt(f)?Fr(f):u===null||u.memoizedState.isDehydrated&&(f.flags&256)===0||(f.flags|=1024,Gs!==null&&(Xd(Gs),Gs=null))),kd(u,f),si(f),null;case 26:if(hs){x=f.type;var O=f.memoizedState;return u===null?(Fr(f),O!==null?(si(f),Rh(f,O)):(si(f),Ah(f,x,M))):O?O!==u.memoizedState?(Fr(f),si(f),Rh(f,O)):(si(f),f.flags&=-16777217):(Li?u.memoizedProps!==M&&Fr(f):wh(u,f,x,M),si(f),Ah(f,x,M)),null}case 27:if(kn){if(Pe(f),x=ka.current,O=f.type,u!==null&&f.stateNode!=null)Li?u.memoizedProps!==M&&Fr(f):wh(u,f,O,M);else{if(!M){if(f.stateNode===null)throw Error(r(166));return si(f),null}u=zi.current,dt(f)?_e(f,u):(u=ha(O,M,x,u,!0),f.stateNode=u,Fr(f))}return si(f),null}case 5:if(Pe(f),x=f.type,u!==null&&f.stateNode!=null)wh(u,f,x,M);else{if(!M){if(f.stateNode===null)throw Error(r(166));return si(f),null}u=zi.current,dt(f)?_e(f,u):(O=zg(x,M,ka.current,u,f),cc(O,f,!1,!1),f.stateNode=O,Mo(O,x,M,u)&&Fr(f))}return si(f),Ah(f,f.type,f.pendingProps),null;case 6:if(u&&f.stateNode!=null)x=u.memoizedProps,Li?x!==M&&Fr(f):Fs&&(x!==M?(f.stateNode=Pn(M,ka.current,zi.current,f),Fr(f)):f.stateNode=u.stateNode);else{if(typeof M!="string"&&f.stateNode===null)throw Error(r(166));if(u=ka.current,x=zi.current,dt(f)){if(!ar)throw Error(r(176));if(u=f.stateNode,x=f.memoizedProps,M=null,O=or,O!==null)switch(O.tag){case 27:case 5:M=O.memoizedProps}Zg(u,x,f,M)||de(f)}else f.stateNode=Pn(M,u,x,f)}return si(f),null;case 13:if(M=f.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(O=dt(f),M!==null&&M.dehydrated!==null){if(u===null){if(!O)throw Error(r(318));if(!ar)throw Error(r(344));if(O=f.memoizedState,O=O!==null?O.dehydrated:null,!O)throw Error(r(317));Ax(O,f)}else Rt(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;si(f),O=!1}else Gs!==null&&(Xd(Gs),Gs=null),O=!0;if(!O)return f.flags&256?(ls(f),f):(ls(f),null)}if(ls(f),(f.flags&128)!==0)return f.lanes=x,f;if(x=M!==null,u=u!==null&&u.memoizedState!==null,x){M=f.child,O=null,M.alternate!==null&&M.alternate.memoizedState!==null&&M.alternate.memoizedState.cachePool!==null&&(O=M.alternate.memoizedState.cachePool.pool);var P=null;M.memoizedState!==null&&M.memoizedState.cachePool!==null&&(P=M.memoizedState.cachePool.pool),P!==O&&(M.flags|=2048)}return x!==u&&x&&(f.child.flags|=8192),pu(f,f.updateQueue),si(f),null;case 4:return qe(),kd(u,f),u===null&&yi(f.stateNode.containerInfo),si(f),null;case 10:return po(f.type),si(f),null;case 19:if(_(Ui),O=f.memoizedState,O===null)return si(f),null;if(M=(f.flags&128)!==0,P=O.rendering,P===null)if(M)mu(O,!1);else{if(Hn!==0||u!==null&&(u.flags&128)!==0)for(u=f.child;u!==null;){if(P=cs(u),P!==null){for(f.flags|=128,mu(O,!1),u=P.updateQueue,f.updateQueue=u,pu(f,u),f.subtreeFlags=0,u=x,x=f.child;x!==null;)Kd(x,u),x=x.sibling;return w(Ui,Ui.current&1|2),f.child}u=u.sibling}O.tail!==null&&Hs()>Hu&&(f.flags|=128,M=!0,mu(O,!1),f.lanes=4194304)}else{if(!M)if(u=cs(P),u!==null){if(f.flags|=128,M=!0,u=u.updateQueue,f.updateQueue=u,pu(f,u),mu(O,!0),O.tail===null&&O.tailMode==="hidden"&&!P.alternate&&!vn)return si(f),null}else 2*Hs()-O.renderingStartTime>Hu&&x!==536870912&&(f.flags|=128,M=!0,mu(O,!1),f.lanes=4194304);O.isBackwards?(P.sibling=f.child,f.child=P):(u=O.last,u!==null?u.sibling=P:f.child=P,O.last=P)}return O.tail!==null?(f=O.tail,O.rendering=f,O.tail=f.sibling,O.renderingStartTime=Hs(),f.sibling=null,u=Ui.current,w(Ui,M?u&1|2:u&1),f):(si(f),null);case 22:case 23:return ls(f),Is(),M=f.memoizedState!==null,u!==null?u.memoizedState!==null!==M&&(f.flags|=8192):M&&(f.flags|=8192),M?(x&536870912)!==0&&(f.flags&128)===0&&(si(f),f.subtreeFlags&6&&(f.flags|=8192)):si(f),x=f.updateQueue,x!==null&&pu(f,x.retryQueue),x=null,u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(x=u.memoizedState.cachePool.pool),M=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(M=f.memoizedState.cachePool.pool),M!==x&&(f.flags|=2048),u!==null&&_(Ga),null;case 24:return x=null,u!==null&&(x=u.memoizedState.cache),f.memoizedState.cache!==x&&(f.flags|=2048),po(Yn),si(f),null;case 25:return null}throw Error(r(156,f.tag))}function ME(u,f){switch(Me(f),f.tag){case 1:return u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 3:return po(Yn),qe(),u=f.flags,(u&65536)!==0&&(u&128)===0?(f.flags=u&-65537|128,f):null;case 26:case 27:case 5:return Pe(f),null;case 13:if(ls(f),u=f.memoizedState,u!==null&&u.dehydrated!==null){if(f.alternate===null)throw Error(r(340));Rt()}return u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 19:return _(Ui),null;case 4:return qe(),null;case 10:return po(f.type),null;case 22:case 23:return ls(f),Is(),u!==null&&_(Ga),u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 24:return po(Yn),null;case 25:return null;default:return null}}function K0(u,f){switch(Me(f),f.tag){case 3:po(Yn),qe();break;case 26:case 27:case 5:Pe(f);break;case 4:qe();break;case 13:ls(f);break;case 19:_(Ui);break;case 10:po(f.type);break;case 22:case 23:ls(f),Is(),u!==null&&_(Ga);break;case 24:po(Yn)}}function Bd(u,f){try{var x=f.updateQueue,M=x!==null?x.lastEffect:null;if(M!==null){var O=M.next;x=O;do{if((x.tag&u)===u){M=void 0;var P=x.create,K=x.inst;M=P(),K.destroy=M}x=x.next}while(x!==O)}}catch(ae){An(f,f.return,ae)}}function sl(u,f,x){try{var M=f.updateQueue,O=M!==null?M.lastEffect:null;if(O!==null){var P=O.next;M=P;do{if((M.tag&u)===u){var K=M.inst,ae=K.destroy;if(ae!==void 0){K.destroy=void 0,O=f;var ge=x;try{ae()}catch(Le){An(O,ge,Le)}}}M=M.next}while(M!==P)}}catch(Le){An(f,f.return,Le)}}function $0(u){var f=u.updateQueue;if(f!==null){var x=u.stateNode;try{Qe(f,x)}catch(M){An(u,u.return,M)}}}function Hr(u,f,x){x.props=fo(u.type,u.memoizedProps),x.state=u.memoizedState;try{x.componentWillUnmount()}catch(M){An(u,f,M)}}function ca(u,f){try{var x=u.ref;if(x!==null){var M=u.stateNode;switch(u.tag){case 26:case 27:case 5:var O=wu(M);break;default:O=M}typeof x=="function"?u.refCleanup=x(O):x.current=O}}catch(P){An(u,f,P)}}function Gr(u,f){var x=u.ref,M=u.refCleanup;if(x!==null)if(typeof M=="function")try{M()}catch(O){An(u,f,O)}finally{u.refCleanup=null,u=u.alternate,u!=null&&(u.refCleanup=null)}else if(typeof x=="function")try{x(null)}catch(O){An(u,f,O)}else x.current=null}function gg(u){var f=u.type,x=u.memoizedProps,M=u.stateNode;try{RE(M,f,x,u)}catch(O){An(u,u.return,O)}}function vg(u,f,x){try{hx(u.stateNode,u.type,x,f,u)}catch(M){An(u,u.return,M)}}function yg(u){return u.tag===5||u.tag===3||(hs?u.tag===26:!1)||(kn?u.tag===27:!1)||u.tag===4}function Fd(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||yg(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&(!kn||u.tag!==27)&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function xg(u,f,x){var M=u.tag;if(M===5||M===6)u=u.stateNode,f?mx(x,u,f):Hg(x,u);else if(!(M===4||kn&&M===27)&&(u=u.child,u!==null))for(xg(u,f,x),u=u.sibling;u!==null;)xg(u,f,x),u=u.sibling}function mo(u,f,x){var M=u.tag;if(M===5||M===6)u=u.stateNode,f?px(x,u,f):dx(x,u);else if(!(M===4||kn&&M===27)&&(u=u.child,u!==null))for(mo(u,f,x),u=u.sibling;u!==null;)mo(u,f,x),u=u.sibling}function Oh(u,f,x){u=u.containerInfo;try{Nu(u,x)}catch(M){An(f,f.return,M)}}function Hd(u,f){for(jh(u.containerInfo),Kt=f;Kt!==null;)if(u=Kt,f=u.child,(u.subtreeFlags&1028)!==0&&f!==null)f.return=u,Kt=f;else for(;Kt!==null;){u=Kt;var x=u.alternate;switch(f=u.flags,u.tag){case 0:break;case 11:case 15:break;case 1:if((f&1024)!==0&&x!==null){f=void 0;var M=u,O=x.memoizedProps;x=x.memoizedState;var P=M.stateNode;try{var K=fo(M.type,O,M.elementType===M.type);f=P.getSnapshotBeforeUpdate(K,x),P.__reactInternalSnapshotBeforeUpdate=f}catch(ae){An(M,M.return,ae)}}break;case 3:(f&1024)!==0&&Li&&bx(u.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((f&1024)!==0)throw Error(r(163))}if(f=u.sibling,f!==null){f.return=u.return,Kt=f;break}Kt=u.return}return K=un,un=!1,K}function Nh(u,f,x){var M=x.flags;switch(x.tag){case 0:case 11:case 15:vo(u,x),M&4&&Bd(5,x);break;case 1:if(vo(u,x),M&4)if(u=x.stateNode,f===null)try{u.componentDidMount()}catch(ae){An(x,x.return,ae)}else{var O=fo(x.type,f.memoizedProps);f=f.memoizedState;try{u.componentDidUpdate(O,f,u.__reactInternalSnapshotBeforeUpdate)}catch(ae){An(x,x.return,ae)}}M&64&&$0(x),M&512&&ca(x,x.return);break;case 3:if(vo(u,x),M&64&&(M=x.updateQueue,M!==null)){if(u=null,x.child!==null)switch(x.child.tag){case 27:case 5:u=wu(x.child.stateNode);break;case 1:u=x.child.stateNode}try{Qe(M,u)}catch(ae){An(x,x.return,ae)}}break;case 26:if(hs){vo(u,x),M&512&&ca(x,x.return);break}case 27:case 5:vo(u,x),f===null&&M&4&&gg(x),M&512&&ca(x,x.return);break;case 12:vo(u,x);break;case 13:vo(u,x),M&4&&Dh(u,x);break;case 22:if(O=x.memoizedState!==null||Wa,!O){f=f!==null&&f.memoizedState!==null||fi;var P=Wa,K=fi;Wa=O,(fi=f)&&!K?yo(u,x,(x.subtreeFlags&8772)!==0):vo(u,x),Wa=P,fi=K}M&512&&(x.memoizedProps.mode==="manual"?ca(x,x.return):Gr(x,x.return));break;default:vo(u,x)}}function bg(u){var f=u.alternate;f!==null&&(u.alternate=null,bg(f)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(f=u.stateNode,f!==null&&AE(f)),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}function ir(u,f,x){for(x=x.child;x!==null;)al(u,f,x),x=x.sibling}function al(u,f,x){if(qr&&typeof qr.onCommitFiberUnmount=="function")try{qr.onCommitFiberUnmount(bi,x)}catch{}switch(x.tag){case 26:if(hs){fi||Gr(x,f),ir(u,f,x),x.memoizedState?fc(x.memoizedState):x.stateNode&&Du(x.stateNode);break}case 27:if(kn){fi||Gr(x,f);var M=Ot,O=tn;Ot=x.stateNode,ir(u,f,x),xl(x.stateNode),Ot=M,tn=O;break}case 5:fi||Gr(x,f);case 6:if(Li){if(M=Ot,O=tn,Ot=null,ir(u,f,x),Ot=M,tn=O,Ot!==null)if(tn)try{gx(Ot,x.stateNode)}catch(P){An(x,f,P)}else try{Gg(Ot,x.stateNode)}catch(P){An(x,f,P)}}else ir(u,f,x);break;case 18:Li&&Ot!==null&&(tn?af(Ot,x.stateNode):Ox(Ot,x.stateNode));break;case 4:Li?(M=Ot,O=tn,Ot=x.stateNode.containerInfo,tn=!0,ir(u,f,x),Ot=M,tn=O):(Fs&&Oh(x.stateNode,x,sf()),ir(u,f,x));break;case 0:case 11:case 14:case 15:fi||sl(2,x,f),fi||sl(4,x,f),ir(u,f,x);break;case 1:fi||(Gr(x,f),M=x.stateNode,typeof M.componentWillUnmount=="function"&&Hr(x,f,M)),ir(u,f,x);break;case 21:ir(u,f,x);break;case 22:fi||Gr(x,f),fi=(M=fi)||x.memoizedState!==null,ir(u,f,x),fi=M;break;default:ir(u,f,x)}}function Dh(u,f){if(ar&&f.memoizedState===null&&(u=f.alternate,u!==null&&(u=u.memoizedState,u!==null&&(u=u.dehydrated,u!==null))))try{PE(u)}catch(x){An(f,f.return,x)}}function Z0(u){switch(u.tag){case 13:case 19:var f=u.stateNode;return f===null&&(f=u.stateNode=new Rn),f;case 22:return u=u.stateNode,f=u._retryCache,f===null&&(f=u._retryCache=new Rn),f;default:throw Error(r(435,u.tag))}}function go(u,f){var x=Z0(u);f.forEach(function(M){var O=hl.bind(null,u,M);x.has(M)||(x.add(M),M.then(O,O))})}function wr(u,f){var x=f.deletions;if(x!==null)for(var M=0;M<x.length;M++){var O=x[M],P=u,K=f;if(Li){var ae=K;e:for(;ae!==null;){switch(ae.tag){case 27:case 5:Ot=ae.stateNode,tn=!1;break e;case 3:Ot=ae.stateNode.containerInfo,tn=!0;break e;case 4:Ot=ae.stateNode.containerInfo,tn=!0;break e}ae=ae.return}if(Ot===null)throw Error(r(160));al(P,K,O),Ot=null,tn=!1}else al(P,K,O);P=O.alternate,P!==null&&(P.return=null),O.return=null}if(f.subtreeFlags&13878)for(f=f.child;f!==null;)Sg(f,u),f=f.sibling}function Sg(u,f){var x=u.alternate,M=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:wr(f,u),Wr(u),M&4&&(sl(3,u,u.return),Bd(3,u),sl(5,u,u.return));break;case 1:wr(f,u),Wr(u),M&512&&(fi||x===null||Gr(x,x.return)),M&64&&Wa&&(u=u.updateQueue,u!==null&&(M=u.callbacks,M!==null&&(x=u.shared.hiddenCallbacks,u.shared.hiddenCallbacks=x===null?M:x.concat(M))));break;case 26:if(hs){var O=ci;wr(f,u),Wr(u),M&512&&(fi||x===null||Gr(x,x.return)),M&4&&(M=x!==null?x.memoizedState:null,f=u.memoizedState,x===null?f===null?u.stateNode===null?u.stateNode=lf(O,u.type,u.memoizedProps,u):cf(O,u.type,u.stateNode):u.stateNode=Dx(O,f,u.memoizedProps):M!==f?(M===null?x.stateNode!==null&&Du(x.stateNode):fc(M),f===null?cf(O,u.type,u.stateNode):Dx(O,f,u.memoizedProps)):f===null&&u.stateNode!==null&&vg(u,u.memoizedProps,x.memoizedProps));break}case 27:if(kn&&M&4&&u.alternate===null){O=u.stateNode;var P=u.memoizedProps;try{yl(O),zx(u.type,P,O,u)}catch(et){An(u,u.return,et)}}case 5:if(wr(f,u),Wr(u),M&512&&(fi||x===null||Gr(x,x.return)),Li){if(u.flags&32){f=u.stateNode;try{Wg(f)}catch(et){An(u,u.return,et)}}M&4&&u.stateNode!=null&&(f=u.memoizedProps,vg(u,f,x!==null?x.memoizedProps:f)),M&1024&&(nv=!0)}break;case 6:if(wr(f,u),Wr(u),M&4&&Li){if(u.stateNode===null)throw Error(r(162));M=u.memoizedProps,x=x!==null?x.memoizedProps:M,f=u.stateNode;try{fx(f,x,M)}catch(et){An(u,u.return,et)}}break;case 3:if(hs?(Px(),O=ci,ci=tp(f.containerInfo),wr(f,u),ci=O):wr(f,u),Wr(u),M&4){if(Li&&ar&&x!==null&&x.memoizedState.isDehydrated)try{DE(f.containerInfo)}catch(et){An(u,u.return,et)}if(Fs){M=f.containerInfo,x=f.pendingChildren;try{Nu(M,x)}catch(et){An(u,u.return,et)}}}nv&&(nv=!1,Q0(u));break;case 4:hs?(x=ci,ci=tp(u.stateNode.containerInfo),wr(f,u),Wr(u),ci=x):(wr(f,u),Wr(u)),M&4&&Fs&&Oh(u.stateNode,u,u.stateNode.pendingChildren);break;case 12:wr(f,u),Wr(u);break;case 13:wr(f,u),Wr(u),u.child.flags&8192&&u.memoizedState!==null!=(x!==null&&x.memoizedState!==null)&&(Pr=Hs()),M&4&&(M=u.updateQueue,M!==null&&(u.updateQueue=null,go(u,M)));break;case 22:M&512&&(fi||x===null||Gr(x,x.return)),O=u.memoizedState!==null;var K=x!==null&&x.memoizedState!==null,ae=Wa,ge=fi;if(Wa=ae||O,fi=ge||K,wr(f,u),fi=ge,Wa=ae,Wr(u),f=u.stateNode,f._current=u,f._visibility&=-3,f._visibility|=f._pendingVisibility&2,M&8192&&(f._visibility=O?f._visibility&-2:f._visibility|1,O&&(f=Wa||fi,x===null||K||f||gu(u)),Li&&(u.memoizedProps===null||u.memoizedProps.mode!=="manual"))){e:if(x=null,Li)for(f=u;;){if(f.tag===5||hs&&f.tag===26||kn&&f.tag===27){if(x===null){K=x=f;try{P=K.stateNode,O?vx(P):xx(K.stateNode,K.memoizedProps)}catch(et){An(K,K.return,et)}}}else if(f.tag===6){if(x===null){K=f;try{var Le=K.stateNode;O?yx(Le):OE(Le,K.memoizedProps)}catch(et){An(K,K.return,et)}}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===u)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===u)break e;for(;f.sibling===null;){if(f.return===null||f.return===u)break e;x===f&&(x=null),f=f.return}x===f&&(x=null),f.sibling.return=f.return,f=f.sibling}}M&4&&(M=u.updateQueue,M!==null&&(x=M.retryQueue,x!==null&&(M.retryQueue=null,go(u,x))));break;case 19:wr(f,u),Wr(u),M&4&&(M=u.updateQueue,M!==null&&(u.updateQueue=null,go(u,M)));break;case 21:break;default:wr(f,u),Wr(u)}}function Wr(u){var f=u.flags;if(f&2){try{if(Li&&(!kn||u.tag!==27)){e:{for(var x=u.return;x!==null;){if(yg(x)){var M=x;break e}x=x.return}throw Error(r(160))}switch(M.tag){case 27:if(kn){var O=M.stateNode,P=Fd(u);mo(u,P,O);break}case 5:var K=M.stateNode;M.flags&32&&(Wg(K),M.flags&=-33);var ae=Fd(u);mo(u,ae,K);break;case 3:case 4:var ge=M.stateNode.containerInfo,Le=Fd(u);xg(u,Le,ge);break;default:throw Error(r(161))}}}catch(et){An(u,u.return,et)}u.flags&=-3}f&4096&&(u.flags&=-4097)}function Q0(u){if(u.subtreeFlags&1024)for(u=u.child;u!==null;){var f=u;Q0(f),f.tag===5&&f.flags&1024&&Yh(f.stateNode),u=u.sibling}}function vo(u,f){if(f.subtreeFlags&8772)for(f=f.child;f!==null;)Nh(u,f.alternate,f),f=f.sibling}function gu(u){for(u=u.child;u!==null;){var f=u;switch(f.tag){case 0:case 11:case 14:case 15:sl(4,f,f.return),gu(f);break;case 1:Gr(f,f.return);var x=f.stateNode;typeof x.componentWillUnmount=="function"&&Hr(f,f.return,x),gu(f);break;case 26:case 27:case 5:Gr(f,f.return),gu(f);break;case 22:Gr(f,f.return),f.memoizedState===null&&gu(f);break;default:gu(f)}u=u.sibling}}function yo(u,f,x){for(x=x&&(f.subtreeFlags&8772)!==0,f=f.child;f!==null;){var M=f.alternate,O=u,P=f,K=P.flags;switch(P.tag){case 0:case 11:case 15:yo(O,P,x),Bd(4,P);break;case 1:if(yo(O,P,x),M=P,O=M.stateNode,typeof O.componentDidMount=="function")try{O.componentDidMount()}catch(Le){An(M,M.return,Le)}if(M=P,O=M.updateQueue,O!==null){var ae=M.stateNode;try{var ge=O.shared.hiddenCallbacks;if(ge!==null)for(O.shared.hiddenCallbacks=null,O=0;O<ge.length;O++)ce(ge[O],ae)}catch(Le){An(M,M.return,Le)}}x&&K&64&&$0(P),ca(P,P.return);break;case 26:case 27:case 5:yo(O,P,x),x&&M===null&&K&4&&gg(P),ca(P,P.return);break;case 12:yo(O,P,x);break;case 13:yo(O,P,x),x&&K&4&&Dh(O,P);break;case 22:P.memoizedState===null&&yo(O,P,x),ca(P,P.return);break;default:yo(O,P,x)}f=f.sibling}}function Ph(u,f){var x=null;u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(x=u.memoizedState.cachePool.pool),u=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(u=f.memoizedState.cachePool.pool),u!==x&&(u!=null&&u.refCount++,x!=null&&Vd(x))}function Gd(u,f){u=null,f.alternate!==null&&(u=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==u&&(f.refCount++,u!=null&&Vd(u))}function Bi(u,f,x,M){if(f.subtreeFlags&10256)for(f=f.child;f!==null;)_g(u,f,x,M),f=f.sibling}function _g(u,f,x,M){var O=f.flags;switch(f.tag){case 0:case 11:case 15:Bi(u,f,x,M),O&2048&&Bd(9,f);break;case 3:Bi(u,f,x,M),O&2048&&(u=null,f.alternate!==null&&(u=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==u&&(f.refCount++,u!=null&&Vd(u)));break;case 12:if(O&2048){Bi(u,f,x,M),u=f.stateNode;try{var P=f.memoizedProps,K=P.id,ae=P.onPostCommit;typeof ae=="function"&&ae(K,f.alternate===null?"mount":"update",u.passiveEffectDuration,-0)}catch(ge){An(f,f.return,ge)}}else Bi(u,f,x,M);break;case 23:break;case 22:P=f.stateNode,f.memoizedState!==null?P._visibility&4?Bi(u,f,x,M):mr(u,f):P._visibility&4?Bi(u,f,x,M):(P._visibility|=4,rr(u,f,x,M,(f.subtreeFlags&10256)!==0)),O&2048&&Ph(f.alternate,f);break;case 24:Bi(u,f,x,M),O&2048&&Gd(f.alternate,f);break;default:Bi(u,f,x,M)}}function rr(u,f,x,M,O){for(O=O&&(f.subtreeFlags&10256)!==0,f=f.child;f!==null;){var P=u,K=f,ae=x,ge=M,Le=K.flags;switch(K.tag){case 0:case 11:case 15:rr(P,K,ae,ge,O),Bd(8,K);break;case 23:break;case 22:var et=K.stateNode;K.memoizedState!==null?et._visibility&4?rr(P,K,ae,ge,O):mr(P,K):(et._visibility|=4,rr(P,K,ae,ge,O)),O&&Le&2048&&Ph(K.alternate,K);break;case 24:rr(P,K,ae,ge,O),O&&Le&2048&&Gd(K.alternate,K);break;default:rr(P,K,ae,ge,O)}f=f.sibling}}function mr(u,f){if(f.subtreeFlags&10256)for(f=f.child;f!==null;){var x=u,M=f,O=M.flags;switch(M.tag){case 22:mr(x,M),O&2048&&Ph(M.alternate,M);break;case 24:mr(x,M),O&2048&&Gd(M.alternate,M);break;default:mr(x,M)}f=f.sibling}}function zs(u){if(u.subtreeFlags&bs)for(u=u.child;u!==null;)Ih(u),u=u.sibling}function Ih(u){switch(u.tag){case 26:zs(u),u.flags&bs&&(u.memoizedState!==null?Lx(ci,u.memoizedState,u.memoizedProps):Or(u.type,u.memoizedProps));break;case 5:zs(u),u.flags&bs&&Or(u.type,u.memoizedProps);break;case 3:case 4:if(hs){var f=ci;ci=tp(u.stateNode.containerInfo),zs(u),ci=f}else zs(u);break;case 22:u.memoizedState===null&&(f=u.alternate,f!==null&&f.memoizedState!==null?(f=bs,bs=16777216,zs(u),bs=f):zs(u));break;default:zs(u)}}function Wd(u){var f=u.alternate;if(f!==null&&(u=f.child,u!==null)){f.child=null;do f=u.sibling,u.sibling=null,u=f;while(u!==null)}}function ol(u){var f=u.deletions;if((u.flags&16)!==0){if(f!==null)for(var x=0;x<f.length;x++){var M=f[x];Kt=M,Eg(M,u)}Wd(u)}if(u.subtreeFlags&10256)for(u=u.child;u!==null;)Lh(u),u=u.sibling}function Lh(u){switch(u.tag){case 0:case 11:case 15:ol(u),u.flags&2048&&sl(9,u,u.return);break;case 3:ol(u);break;case 12:ol(u);break;case 22:var f=u.stateNode;u.memoizedState!==null&&f._visibility&4&&(u.return===null||u.return.tag!==13)?(f._visibility&=-5,xo(u)):ol(u);break;default:ol(u)}}function xo(u){var f=u.deletions;if((u.flags&16)!==0){if(f!==null)for(var x=0;x<f.length;x++){var M=f[x];Kt=M,Eg(M,u)}Wd(u)}for(u=u.child;u!==null;){switch(f=u,f.tag){case 0:case 11:case 15:sl(8,f,f.return),xo(f);break;case 22:x=f.stateNode,x._visibility&4&&(x._visibility&=-5,xo(f));break;default:xo(f)}u=u.sibling}}function Eg(u,f){for(;Kt!==null;){var x=Kt;switch(x.tag){case 0:case 11:case 15:sl(8,x,f);break;case 23:case 22:if(x.memoizedState!==null&&x.memoizedState.cachePool!==null){var M=x.memoizedState.cachePool.pool;M!=null&&M.refCount++}break;case 24:Vd(x.memoizedState.cache)}if(M=x.child,M!==null)M.return=x,Kt=M;else e:for(x=u;Kt!==null;){M=Kt;var O=M.sibling,P=M.return;if(bg(M),M===x){Kt=null;break e}if(O!==null){O.return=P,Kt=O;break e}Kt=P}}}function vu(u){var f=rx(u);if(f!=null){if(typeof f.memoizedProps["data-testname"]!="string")throw Error(r(364));return f}if(u=Bg(u),u===null)throw Error(r(362));return u.stateNode.current}function ll(u,f){var x=u.tag;switch(f.$$typeof){case Fu:if(u.type===f.value)return!0;break;case Xs:e:{for(f=f.value,u=[u,0],x=0;x<u.length;){var M=u[x++],O=M.tag,P=u[x++],K=f[P];if(O!==5&&O!==26&&O!==27||!Ru(M)){for(;K!=null&&ll(M,K);)P++,K=f[P];if(P===f.length){f=!0;break e}else for(M=M.child;M!==null;)u.push(M,P),M=M.sibling}}f=!1}return f;case ei:if((x===5||x===26||x===27)&&lx(u.stateNode,f.value))return!0;break;case ja:if((x===5||x===6||x===26||x===27)&&(u=ox(u),u!==null&&0<=u.indexOf(f.value)))return!0;break;case xa:if((x===5||x===26||x===27)&&(u=u.memoizedProps["data-testname"],typeof u=="string"&&u.toLowerCase()===f.value.toLowerCase()))return!0;break;default:throw Error(r(365))}return!1}function Tg(u){switch(u.$$typeof){case Fu:return"<"+(o(u.value)||"Unknown")+">";case Xs:return":has("+(Tg(u)||"")+")";case ei:return'[role="'+u.value+'"]';case ja:return'"'+u.value+'"';case xa:return'[data-testname="'+u.value+'"]';default:throw Error(r(365))}}function jr(u,f){var x=[];u=[u,0];for(var M=0;M<u.length;){var O=u[M++],P=O.tag,K=u[M++],ae=f[K];if(P!==5&&P!==26&&P!==27||!Ru(O)){for(;ae!=null&&ll(O,ae);)K++,ae=f[K];if(K===f.length)x.push(O);else for(O=O.child;O!==null;)u.push(O,K),O=O.sibling}}return x}function jd(u,f){if(!vl)throw Error(r(363));u=vu(u),u=jr(u,f),f=[],u=Array.from(u);for(var x=0;x<u.length;){var M=u[x++],O=M.tag;if(O===5||O===26||O===27)Ru(M)||f.push(M.stateNode);else for(M=M.child;M!==null;)u.push(M),M=M.sibling}return f}function vi(){if((bn&2)!==0&&hn!==0)return hn&-hn;if(Ht.T!==null){var u=gs;return u!==0?u:ke()}return sx()}function Mg(){Es===0&&(Es=(hn&536870912)===0||vn?B():536870912);var u=vs.current;return u!==null&&(u.flags|=32),Es}function Fi(u,f,x){(u===On&&Un===2||u.cancelPendingCommit!==null)&&(sr(u,0),Xr(u,hn,Es,!1)),F(u,x),((bn&2)===0||u!==On)&&(u===On&&((bn&2)===0&&(Po|=x),Hn===4&&Xr(u,hn,Es,!1)),Ke(u))}function cl(u,f,x){if((bn&6)!==0)throw Error(r(327));var M=!x&&(f&60)===0&&(f&u.expiredLanes)===0||I(u,f),O=M?wg(u,f):Uh(u,f,!0),P=M;do{if(O===0){Ss&&!M&&Xr(u,f,0,!1);break}else if(O===6)Xr(u,f,0,!Ys);else{if(x=u.current.alternate,P&&!yu(x)){O=Uh(u,f,!1),P=!1;continue}if(O===2){if(P=f,u.errorRecoveryDisabledLanes&P)var K=0;else K=u.pendingLanes&-536870913,K=K!==0?K:K&536870912?536870912:0;if(K!==0){f=K;e:{var ae=u;O=wc;var ge=ar&&ae.current.memoizedState.isDehydrated;if(ge&&(sr(ae,K).flags|=256),K=Uh(ae,K,!1),K!==2){if(Vi&&!ge){ae.errorRecoveryDisabledLanes|=P,Po|=P,O=4;break e}P=hi,hi=O,P!==null&&Xd(P)}O=K}if(P=!1,O!==2)continue}}if(O===1){sr(u,0),Xr(u,f,0,!0);break}e:{switch(M=u,O){case 0:case 1:throw Error(r(345));case 4:if((f&4194176)===f){Xr(M,f,Es,!Ys);break e}break;case 2:hi=null;break;case 3:case 5:break;default:throw Error(r(329))}if(M.finishedWork=x,M.finishedLanes=f,(f&62914560)===f&&(P=Pr+300-Hs(),10<P)){if(Xr(M,f,Es,!Ys),D(M,0)!==0)break e;M.timeoutHandle=Ai(zh.bind(null,M,x,hi,gf,fp,f,Es,Po,Xa,Ys,2,-0,0),P);break e}zh(M,x,hi,gf,fp,f,Es,Po,Xa,Ys,0,-0,0)}}break}while(!0);Ke(u)}function Xd(u){hi===null?hi=u:hi.push.apply(hi,u)}function zh(u,f,x,M,O,P,K,ae,ge,Le,et,ct,ft){var $t=f.subtreeFlags;if(($t&8192||($t&16785408)===16785408)&&(Vg(),Ih(f),f=Ri(),f!==null)){u.cancelPendingCommit=f(dl.bind(null,u,x,M,O,K,ae,ge,1,ct,ft)),Xr(u,P,K,!Le);return}dl(u,x,M,O,K,ae,ge,et,ct,ft)}function yu(u){for(var f=u;;){var x=f.tag;if((x===0||x===11||x===15)&&f.flags&16384&&(x=f.updateQueue,x!==null&&(x=x.stores,x!==null)))for(var M=0;M<x.length;M++){var O=x[M],P=O.getSnapshot;O=O.value;try{if(!Yr(P(),O))return!1}catch{return!1}}if(x=f.child,f.subtreeFlags&16384&&x!==null)x.return=f,f=x;else{if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function Xr(u,f,x,M){f&=~mf,f&=~Po,u.suspendedLanes|=f,u.pingedLanes&=~f,M&&(u.warmLanes|=f),M=u.expirationTimes;for(var O=f;0<O;){var P=31-Nr(O),K=1<<P;M[P]=-1,O&=~K}x!==0&&Z(u,x,f)}function qd(){return(bn&6)===0?(Tt(0),!1):!0}function xu(){if(Lt!==null){if(Un===0)var u=Lt.return;else u=Lt,xs=ya=null,Y(u),El=null,Tl=0,u=Lt;for(;u!==null;)K0(u.alternate,u),u=u.return;Lt=null}}function sr(u,f){u.finishedWork=null,u.finishedLanes=0;var x=u.timeoutHandle;x!==ml&&(u.timeoutHandle=ml,Xh(x)),x=u.cancelPendingCommit,x!==null&&(u.cancelPendingCommit=null,x()),xu(),On=u,Lt=x=Vs(u.current,null),hn=f,Un=0,vr=null,Ys=!1,Ss=I(u,f),Vi=!1,Xa=Es=mf=Po=_s=Hn=0,hi=wc=null,fp=!1,(f&8)!==0&&(f|=f&32);var M=u.entangledLanes;if(M!==0)for(u=u.entanglements,M&=f;0<M;){var O=31-Nr(M),P=1<<O;f|=u[O],M&=~P}return yr=f,Ve(),x}function us(u,f){rn=null,Ht.H=di,f===Uu?(f=xt(),Un=3):f===hf?(f=xt(),Un=4):Un=f===up?8:f!==null&&typeof f=="object"&&typeof f.then=="function"?6:1,vr=f,Lt===null&&(Hn=1,uu(u,ne(f,u.current)))}function ul(){var u=vs.current;return u===null?!0:(hn&4194176)===hn?Bn===null:(hn&62914560)===hn||(hn&536870912)!==0?u===Bn:!1}function Pa(){var u=Ht.H;return Ht.H=di,u===null?di:u}function Ia(){var u=Ht.A;return Ht.A=Bu,u}function bo(){Hn=4,Ys||(hn&4194176)!==hn&&vs.current!==null||(Ss=!0),(_s&134217727)===0&&(Po&134217727)===0||On===null||Xr(On,hn,Es,!1)}function Uh(u,f,x){var M=bn;bn|=2;var O=Pa(),P=Ia();(On!==u||hn!==f)&&(gf=null,sr(u,f)),f=!1;var K=Hn;e:do try{if(Un!==0&&Lt!==null){var ae=Lt,ge=vr;switch(Un){case 8:xu(),K=6;break e;case 3:case 2:case 6:vs.current===null&&(f=!0);var Le=Un;if(Un=0,vr=null,Us(u,ae,ge,Le),x&&Ss){K=0;break e}break;default:Le=Un,Un=0,vr=null,Us(u,ae,ge,Le)}}Cg(),K=Hn;break}catch(et){us(u,et)}while(!0);return f&&u.shellSuspendCounter++,xs=ya=null,bn=M,Ht.H=O,Ht.A=P,Lt===null&&(On=null,hn=0,Ve()),K}function Cg(){for(;Lt!==null;)li(Lt)}function wg(u,f){var x=bn;bn|=2;var M=Pa(),O=Ia();On!==u||hn!==f?(gf=null,Hu=Hs()+500,sr(u,f)):Ss=I(u,f);e:do try{if(Un!==0&&Lt!==null){f=Lt;var P=vr;t:switch(Un){case 1:Un=0,vr=null,Us(u,f,P,1);break;case 2:if(ht(P)){Un=0,vr=null,En(f);break}f=function(){Un===2&&On===u&&(Un=7),Ke(u)},P.then(f,f);break e;case 3:Un=7;break e;case 4:Un=5;break e;case 7:ht(P)?(Un=0,vr=null,En(f)):(Un=0,vr=null,Us(u,f,P,7));break;case 5:var K=null;switch(Lt.tag){case 26:K=Lt.memoizedState;case 5:case 27:var ae=Lt,ge=ae.type,Le=ae.pendingProps;if(K?hc(K):qh(ge,Le)){Un=0,vr=null;var et=ae.sibling;if(et!==null)Lt=et;else{var ct=ae.return;ct!==null?(Lt=ct,ds(ct)):Lt=null}break t}}Un=0,vr=null,Us(u,f,P,5);break;case 6:Un=0,vr=null,Us(u,f,P,6);break;case 8:xu(),Hn=6;break e;default:throw Error(r(462))}}Ar();break}catch(ft){us(u,ft)}while(!0);return xs=ya=null,Ht.H=M,Ht.A=O,bn=x,Lt!==null?0:(On=null,hn=0,Ve(),Hn)}function Ar(){for(;Lt!==null&&!kx();)li(Lt)}function li(u){var f=X0(u.alternate,u,yr);u.memoizedProps=u.pendingProps,f===null?ds(u):Lt=f}function En(u){var f=u,x=f.alternate;switch(f.tag){case 15:case 0:f=B0(x,f,f.pendingProps,f.type,void 0,hn);break;case 11:f=B0(x,f,f.pendingProps,f.type.render,f.ref,hn);break;case 5:Y(f);default:K0(x,f),f=Lt=Kd(f,yr),f=X0(x,f,yr)}u.memoizedProps=u.pendingProps,f===null?ds(u):Lt=f}function Us(u,f,x,M){xs=ya=null,Y(f),El=null,Tl=0;var O=f.return;try{if(EE(u,O,f,x,hn)){Hn=1,uu(u,ne(x,u.current)),Lt=null;return}}catch(P){if(O!==null)throw Lt=O,P;Hn=1,uu(u,ne(x,u.current)),Lt=null;return}f.flags&32768?(vn||M===1?u=!0:Ss||(hn&536870912)!==0?u=!1:(Ys=u=!0,(M===2||M===3||M===6)&&(M=vs.current,M!==null&&M.tag===13&&(M.flags|=16384))),Vh(f,u)):ds(f)}function ds(u){var f=u;do{if((f.flags&32768)!==0){Vh(f,Ys);return}u=f.return;var x=Y0(f.alternate,f,yr);if(x!==null){Lt=x;return}if(f=f.sibling,f!==null){Lt=f;return}Lt=f=u}while(f!==null);Hn===0&&(Hn=5)}function Vh(u,f){do{var x=ME(u.alternate,u);if(x!==null){x.flags&=32767,Lt=x;return}if(x=u.return,x!==null&&(x.flags|=32768,x.subtreeFlags=0,x.deletions=null),!f&&(u=u.sibling,u!==null)){Lt=u;return}Lt=u=x}while(u!==null);Hn=6,Lt=null}function dl(u,f,x,M,O,P,K,ae,ge,Le){var et=Ht.T,ct=Co();try{gr(2),Ht.T=null,J0(u,f,x,M,ct,O,P,K,ae,ge,Le)}finally{Ht.T=et,gr(ct)}}function J0(u,f,x,M,O,P,K,ae){do ua();while(qa!==null);if((bn&6)!==0)throw Error(r(327));var ge=u.finishedWork;if(M=u.finishedLanes,ge===null)return null;if(u.finishedWork=null,u.finishedLanes=0,ge===u.current)throw Error(r(177));u.callbackNode=null,u.callbackPriority=0,u.cancelPendingCommit=null;var Le=ge.lanes|ge.childLanes;if(Le|=ga,j(u,M,Le,P,K,ae),u===On&&(Lt=On=null,hn=0),(ge.subtreeFlags&10256)===0&&(ge.flags&10256)===0||ba||(ba=!0,Rl=Le,hp=x,_o(ap,function(){return ua(),null})),x=(ge.flags&15990)!==0,(ge.subtreeFlags&15990)!==0||x?(x=Ht.T,Ht.T=null,P=Co(),gr(2),K=bn,bn|=4,Hd(u,ge),Sg(ge,u),ix(u.containerInfo),u.current=ge,Nh(u,ge.alternate,ge),rp(),bn=K,gr(P),Ht.T=x):u.current=ge,ba?(ba=!1,qa=u,Ac=M):Ag(u,Le),Le=u.pendingLanes,Le===0&&(Al=null),k(ge.stateNode),Ke(u),f!==null)for(O=u.onRecoverableError,ge=0;ge<f.length;ge++)Le=f[ge],O(Le.value,{componentStack:Le.stack});return(Ac&3)!==0&&ua(),Le=u.pendingLanes,(M&4194218)!==0&&(Le&42)!==0?u===pp?Gu++:(Gu=0,pp=u):Gu=0,Tt(0),null}function Ag(u,f){(u.pooledCacheLanes&=f)===0&&(f=u.pooledCache,f!=null&&(u.pooledCache=null,Vd(f)))}function ua(){if(qa!==null){var u=qa,f=Rl;Rl=0;var x=ie(Ac),M=32>x?32:x;x=Ht.T;var O=Co();try{if(gr(M),Ht.T=null,qa===null)var P=!1;else{M=hp,hp=null;var K=qa,ae=Ac;if(qa=null,Ac=0,(bn&6)!==0)throw Error(r(331));var ge=bn;if(bn|=4,Lh(K.current),_g(K,K.current,ae,M),bn=ge,Tt(0,!1),qr&&typeof qr.onPostCommitFiberRoot=="function")try{qr.onPostCommitFiberRoot(bi,K)}catch{}P=!0}return P}finally{gr(O),Ht.T=x,Ag(u,f)}}return!1}function bu(u,f,x){f=ne(x,f),f=fu(u.stateNode,f,2),u=st(u,f,2),u!==null&&(F(u,2),Ke(u))}function An(u,f,x){if(u.tag===3)bu(u,u,x);else for(;f!==null;){if(f.tag===3){bu(f,u,x);break}else if(f.tag===1){var M=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof M.componentDidCatch=="function"&&(Al===null||!Al.has(M))){u=ne(x,u),x=og(2),M=st(f,x,2),M!==null&&(L0(x,M,f,u),F(M,2),Ke(M));break}}f=f.return}}function uc(u,f,x){var M=u.pingCache;if(M===null){M=u.pingCache=new qs;var O=new Set;M.set(f,O)}else O=M.get(f),O===void 0&&(O=new Set,M.set(f,O));O.has(x)||(Vi=!0,O.add(x),u=Rg.bind(null,u,f,x),f.then(u,u))}function Rg(u,f,x){var M=u.pingCache;M!==null&&M.delete(f),u.pingedLanes|=u.suspendedLanes&x,u.warmLanes&=~x,On===u&&(hn&x)===x&&(Hn===4||Hn===3&&(hn&62914560)===hn&&300>Hs()-Pr?(bn&2)===0&&sr(u,0):mf|=x,Xa===hn&&(Xa=0)),Ke(u)}function fl(u,f){f===0&&(f=L()),u=Ne(u,f),u!==null&&(F(u,f),Ke(u))}function So(u){var f=u.memoizedState,x=0;f!==null&&(x=f.retryLane),fl(u,x)}function hl(u,f){var x=0;switch(u.tag){case 13:var M=u.stateNode,O=u.memoizedState;O!==null&&(x=O.retryLane);break;case 19:M=u.stateNode;break;case 22:M=u.stateNode._retryCache;break;default:throw Error(r(314))}M!==null&&M.delete(f),fl(u,x)}function _o(u,f){return uf(u,f)}function Og(u,f,x,M){this.tag=u,this.key=x,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=M,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yd(u){return u=u.prototype,!(!u||!u.isReactComponent)}function Vs(u,f){var x=u.alternate;return x===null?(x=n(u.tag,f,u.key,u.mode),x.elementType=u.elementType,x.type=u.type,x.stateNode=u.stateNode,x.alternate=u,u.alternate=x):(x.pendingProps=f,x.type=u.type,x.flags=0,x.subtreeFlags=0,x.deletions=null),x.flags=u.flags&31457280,x.childLanes=u.childLanes,x.lanes=u.lanes,x.child=u.child,x.memoizedProps=u.memoizedProps,x.memoizedState=u.memoizedState,x.updateQueue=u.updateQueue,f=u.dependencies,x.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},x.sibling=u.sibling,x.index=u.index,x.ref=u.ref,x.refCleanup=u.refCleanup,x}function Kd(u,f){u.flags&=31457282;var x=u.alternate;return x===null?(u.childLanes=0,u.lanes=f,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=x.childLanes,u.lanes=x.lanes,u.child=x.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=x.memoizedProps,u.memoizedState=x.memoizedState,u.updateQueue=x.updateQueue,u.type=x.type,f=x.dependencies,u.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),u}function La(u,f,x,M,O,P){var K=0;if(M=u,typeof u=="function")Yd(u)&&(K=1);else if(typeof u=="string")K=hs&&kn?of(u,x,zi.current)?26:Ua(u)?27:5:hs?of(u,x,zi.current)?26:5:kn&&Ua(u)?27:5;else e:switch(u){case pl:return ui(x.children,O,P,f);case Jd:K=8,O|=24;break;case Hh:return u=n(12,x,f,O|2),u.elementType=Hh,u.lanes=P,u;case Gh:return u=n(13,x,f,O),u.elementType=Gh,u.lanes=P,u;case Tu:return u=n(19,x,f,O),u.elementType=Tu,u.lanes=P,u;case Pg:return $d(x,O,P,f);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case ef:case da:K=10;break e;case Dg:K=9;break e;case tf:K=11;break e;case Wh:K=14;break e;case Bs:K=16,M=null;break e}K=29,x=Error(r(130,u===null?"null":typeof u,"")),M=null}return f=n(K,x,f,O),f.elementType=u,f.type=M,f.lanes=P,f}function ui(u,f,x,M){return u=n(7,u,M,f),u.lanes=x,u}function $d(u,f,x,M){u=n(22,u,M,f),u.elementType=Pg,u.lanes=x;var O={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var P=O._current;if(P===null)throw Error(r(456));if((O._pendingVisibility&2)===0){var K=Ne(P,2);K!==null&&(O._pendingVisibility|=2,Fi(K,P,2))}},attach:function(){var P=O._current;if(P===null)throw Error(r(456));if((O._pendingVisibility&2)!==0){var K=Ne(P,2);K!==null&&(O._pendingVisibility&=-3,Fi(K,P,2))}}};return u.stateNode=O,u}function kh(u,f,x){return u=n(6,u,null,f),u.lanes=x,u}function Ng(u,f,x){return f=n(4,u.children!==null?u.children:[],u.key,f),f.lanes=x,f.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},f}function CE(u,f,x,M,O,P,K,ae){this.tag=1,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=ml,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=z(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=z(0),this.hiddenUpdates=z(null),this.identifierPrefix=M,this.onUncaughtError=O,this.onCaughtError=P,this.onRecoverableError=K,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ae,this.incompleteTransitions=new Map}function ex(u,f,x,M,O,P,K,ae,ge,Le,et,ct){return u=new CE(u,f,x,K,ae,ge,Le,ct),f=1,P===!0&&(f|=24),P=n(3,null,null,f),u.current=P,P.stateNode=u,f=rl(),f.refCount++,u.pooledCache=f,f.refCount++,P.memoizedState={element:M,isDehydrated:x,cache:f},gt(P),u}function wi(u){return u?(u=bl,u):bl}function Bh(u){var f=u._reactInternals;if(f===void 0)throw typeof u.render=="function"?Error(r(188)):(u=Object.keys(u).join(","),Error(r(268,u)));return u=b(f),u=u!==null?S(u):null,u===null?null:wu(u.stateNode)}function Su(u,f,x,M,O,P){O=wi(O),M.context===null?M.context=O:M.pendingContext=O,M=We(f),M.payload={element:x},P=P===void 0?null:P,P!==null&&(M.callback=P),x=st(u,M,f),x!==null&&(Fi(x,u,f),Et(x,u,f))}function _u(u,f){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var x=u.retryLane;u.retryLane=x!==0&&x<f?x:f}}function Zd(u,f){_u(u,f),(u=u.alternate)&&_u(u,f)}var Qt={},Eu=Vm(),fs=jue(),Fh=Object.assign,wE=Symbol.for("react.element"),Qd=Symbol.for("react.transitional.element"),ks=Symbol.for("react.portal"),pl=Symbol.for("react.fragment"),Jd=Symbol.for("react.strict_mode"),Hh=Symbol.for("react.profiler"),ef=Symbol.for("react.provider"),Dg=Symbol.for("react.consumer"),da=Symbol.for("react.context"),tf=Symbol.for("react.forward_ref"),Gh=Symbol.for("react.suspense"),Tu=Symbol.for("react.suspense_list"),Wh=Symbol.for("react.memo"),Bs=Symbol.for("react.lazy"),Pg=Symbol.for("react.offscreen"),tx=Symbol.for("react.memo_cache_sentinel"),Eo=Symbol.iterator,Ig=Symbol.for("react.client.reference"),Ht=Eu.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,za,To,dc=!1,Mu=Array.isArray,Lg=e.rendererVersion,nf=e.rendererPackageName,Cu=e.extraDevToolsConfig,wu=e.getPublicInstance,nx=e.getRootHostContext,Au=e.getChildHostContext,jh=e.prepareForCommit,ix=e.resetAfterCommit,zg=e.createInstance,rf=e.appendInitialChild,Mo=e.finalizeInitialChildren,Jt=e.shouldSetTextContent,Pn=e.createTextInstance,Ai=e.scheduleTimeout,Xh=e.cancelTimeout,ml=e.noTimeout,Rr=e.isPrimaryRenderer;e.warnsIfNotActing;var Li=e.supportsMutation,Fs=e.supportsPersistence,ar=e.supportsHydration,rx=e.getInstanceFromNode;e.beforeActiveInstanceBlur,e.afterActiveInstanceBlur;var yi=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var gr=e.setCurrentUpdatePriority,Co=e.getCurrentUpdatePriority,sx=e.resolveUpdatePriority;e.resolveEventType,e.resolveEventTimeStamp;var ax=e.shouldAttemptEagerTransition,AE=e.detachDeletedInstance;e.requestPostPaintCallback;var Ug=e.maySuspendCommit,qh=e.preloadInstance,Vg=e.startSuspendingCommit,Or=e.suspendInstance,Ri=e.waitForCommitToBeReady,gl=e.NotPendingTransition,fa=e.HostTransitionContext,Yh=e.resetFormInstance;e.bindToConsole;var kg=e.supportsMicrotasks,wo=e.scheduleMicrotask,vl=e.supportsTestSelectors,Bg=e.findFiberRoot,Fg=e.getBoundingRect,ox=e.getTextContent,Ru=e.isHiddenSubtree,lx=e.matchAccessibilityRole,cx=e.setFocusIfFocusable,ux=e.setupIntersectionObserver,dx=e.appendChild,Hg=e.appendChildToContainer,fx=e.commitTextUpdate,RE=e.commitMount,hx=e.commitUpdate,px=e.insertBefore,mx=e.insertInContainerBefore,Gg=e.removeChild,gx=e.removeChildFromContainer,Wg=e.resetTextContent,vx=e.hideInstance,yx=e.hideTextInstance,xx=e.unhideInstance,OE=e.unhideTextInstance,bx=e.clearContainer,Ou=e.cloneInstance,sf=e.createContainerChildSet,jg=e.appendChildToContainerChildSet,Kh=e.finalizeContainerChildren,Nu=e.replaceContainerChildren,Xg=e.cloneHiddenInstance,qg=e.cloneHiddenTextInstance,$h=e.isSuspenseInstancePending,Zh=e.isSuspenseInstanceFallback,Sx=e.getSuspenseInstanceFallbackErrorDetails,_x=e.registerSuspenseInstanceRetry,Yg=e.canHydrateFormStateMarker,Ex=e.isFormStateMarkerMatching,Kg=e.getNextHydratableSibling,Qh=e.getFirstHydratableChild,Tx=e.getFirstHydratableChildWithinContainer,Mx=e.getFirstHydratableChildWithinSuspenseInstance,NE=e.canHydrateInstance,$g=e.canHydrateTextInstance,Cx=e.canHydrateSuspenseInstance,wx=e.hydrateInstance,Zg=e.hydrateTextInstance,Ax=e.hydrateSuspenseInstance,Rx=e.getNextHydratableInstanceAfterSuspenseInstance,DE=e.commitHydratedContainer,PE=e.commitHydratedSuspenseInstance,Ox=e.clearSuspenseBoundary,af=e.clearSuspenseBoundaryFromContainer,Jh=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var ep=e.validateHydratableInstance,Nx=e.validateHydratableTextInstance,hs=e.supportsResources,of=e.isHostHoistableType,tp=e.getHoistableRoot,Qg=e.getResource,Dx=e.acquireResource,fc=e.releaseResource,lf=e.hydrateHoistable,cf=e.mountHoistable,Du=e.unmountHoistable,np=e.createHoistableInstance,Px=e.prepareToCommitHoistables,Ix=e.mayResourceSuspendCommit,hc=e.preloadResource,Lx=e.suspendResource,kn=e.supportsSingletons,ha=e.resolveSingletonInstance,yl=e.clearSingleton,zx=e.acquireSingletonInstance,xl=e.releaseSingletonInstance,Ua=e.isHostSingletonType,xi=[],Ao=-1,bl={},Nr=Math.clz32?Math.clz32:R,Ux=Math.log,Vx=Math.LN2,Va=128,pc=4194304,uf=fs.unstable_scheduleCallback,ip=fs.unstable_cancelCallback,kx=fs.unstable_shouldYield,rp=fs.unstable_requestPaint,Hs=fs.unstable_now,sp=fs.unstable_ImmediatePriority,Bx=fs.unstable_UserBlockingPriority,ap=fs.unstable_NormalPriority,IE=fs.unstable_IdlePriority,Fx=fs.log,Hi=fs.unstable_setDisableYieldValue,bi=null,qr=null,Yr=typeof Object.is=="function"?Object.is:$,Jg=new WeakMap,mc=[],gc=0,vc=null,Pu=0,ps=[],ms=0,Sl=null,pa=1,ma="",zi=T(null),Iu=T(null),ka=T(null),yc=T(null),or=null,lr=null,vn=!1,Gs=null,Gi=!1,df=Error(r(519)),Ws=[],xc=0,ga=0,ff=null,Ro=null,bc=!1,Xn=!1,ev=!1,Lu=0,zu=null,Sc=0,gs=0,_c=null,Oo=!1,Ec=!1,Ba=Object.prototype.hasOwnProperty,Uu=Error(r(460)),hf=Error(r(474)),pf={then:function(){}},_l=null,El=null,Tl=0,Ml=Ti(!0),Fa=Ti(!1),qn=T(null),Vu=T(0),vs=T(null),Bn=null,Ui=T(0),No=0,rn=null,Dt=null,xn=null,js=!1,Tc=!1,Cl=!1,op=0,Mc=0,Wi=null,va=0,lp=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}},di={readContext:nr,use:he,useCallback:jn,useContext:jn,useEffect:jn,useImperativeHandle:jn,useLayoutEffect:jn,useInsertionEffect:jn,useMemo:jn,useReducer:jn,useRef:jn,useState:jn,useDebugValue:jn,useDeferredValue:jn,useTransition:jn,useSyncExternalStore:jn,useId:jn};di.useCacheRefresh=jn,di.useMemoCache=jn,di.useHostTransitionStatus=jn,di.useFormState=jn,di.useActionState=jn,di.useOptimistic=jn;var wl={readContext:nr,use:he,useCallback:function(u,f){return ue().memoizedState=[u,f===void 0?null:f],u},useContext:nr,useEffect:xh,useImperativeHandle:function(u,f,x){x=x!=null?x.concat([u]):null,Cd(4194308,4,bh.bind(null,f,u),x)},useLayoutEffect:function(u,f){return Cd(4194308,4,u,f)},useInsertionEffect:function(u,f){Cd(4,2,u,f)},useMemo:function(u,f){var x=ue();f=f===void 0?null:f;var M=u();if(Cl){q(!0);try{u()}finally{q(!1)}}return x.memoizedState=[M,f],M},useReducer:function(u,f,x){var M=ue();if(x!==void 0){var O=x(f);if(Cl){q(!0);try{x(f)}finally{q(!1)}}}else O=f;return M.memoizedState=M.baseState=O,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:O},M.queue=u,u=u.dispatch=_h.bind(null,rn,u),[M.memoizedState,u]},useRef:function(u){var f=ue();return u={current:u},f.memoizedState=u},useState:function(u){u=Zt(u);var f=u.queue,x=ag.bind(null,rn,f);return f.dispatch=x,[u.memoizedState,x]},useDebugValue:Jo,useDeferredValue:function(u,f){var x=ue();return Rd(x,u,f)},useTransition:function(){var u=Zt(!1);return u=su.bind(null,rn,u.queue,!0,!1),ue().memoizedState=u,[!1,u]},useSyncExternalStore:function(u,f,x){var M=rn,O=ue();if(vn){if(x===void 0)throw Error(r(407));x=x()}else{if(x=f(),On===null)throw Error(r(349));(hn&60)!==0||_t(M,f,x)}O.memoizedState=x;var P={value:x,getSnapshot:f};return O.queue=P,xh(yn.bind(null,M,P,u),[u]),M.flags|=2048,Ii(9,en.bind(null,M,P,x,f),{destroy:void 0},null),x},useId:function(){var u=ue(),f=On.identifierPrefix;if(vn){var x=ma,M=pa;x=(M&~(1<<32-Nr(M)-1)).toString(32)+x,f=":"+f+"R"+x,x=op++,0<x&&(f+="H"+x.toString(32)),f+=":"}else x=va++,f=":"+f+"r"+x.toString(32)+":";return u.memoizedState=f},useCacheRefresh:function(){return ue().memoizedState=sg.bind(null,rn)}};wl.useMemoCache=$e,wl.useHostTransitionStatus=Od,wl.useFormState=pr,wl.useActionState=pr,wl.useOptimistic=function(u){var f=ue();f.memoizedState=f.baseState=u;var x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return f.queue=x,f=ou.bind(null,rn,!0,x),x.dispatch=f,[u,f]};var Dr={readContext:nr,use:he,useCallback:oc,useContext:nr,useEffect:ng,useImperativeHandle:Sh,useInsertionEffect:P0,useLayoutEffect:Ad,useMemo:ig,useReducer:pt,useRef:D0,useState:function(){return pt(rt)},useDebugValue:Jo,useDeferredValue:function(u,f){var x=be();return rg(x,Dt.memoizedState,u,f)},useTransition:function(){var u=pt(rt)[0],f=be().memoizedState;return[typeof u=="boolean"?u:we(u),f]},useSyncExternalStore:Nt,useId:au};Dr.useCacheRefresh=uo,Dr.useMemoCache=$e,Dr.useHostTransitionStatus=Od,Dr.useFormState=Ji,Dr.useActionState=Ji,Dr.useOptimistic=function(u,f){var x=be();return wt(x,Dt,u,f)};var ys={readContext:nr,use:he,useCallback:oc,useContext:nr,useEffect:ng,useImperativeHandle:Sh,useInsertionEffect:P0,useLayoutEffect:Ad,useMemo:ig,useReducer:Ct,useRef:D0,useState:function(){return Ct(rt)},useDebugValue:Jo,useDeferredValue:function(u,f){var x=be();return Dt===null?Rd(x,u,f):rg(x,Dt.memoizedState,u,f)},useTransition:function(){var u=Ct(rt)[0],f=be().memoizedState;return[typeof u=="boolean"?u:we(u),f]},useSyncExternalStore:Nt,useId:au};ys.useCacheRefresh=uo,ys.useMemoCache=$e,ys.useHostTransitionStatus=Od,ys.useFormState=ac,ys.useActionState=ac,ys.useOptimistic=function(u,f){var x=be();return Dt!==null?wt(x,Dt,u,f):(x.baseState=u,[u,x.queue.dispatch])};var Ha={isMounted:function(u){return(u=u._reactInternals)?g(u)===u:!1},enqueueSetState:function(u,f,x){u=u._reactInternals;var M=vi(),O=We(M);O.payload=f,x!=null&&(O.callback=x),f=st(u,O,M),f!==null&&(Fi(f,u,M),Et(f,u,M))},enqueueReplaceState:function(u,f,x){u=u._reactInternals;var M=vi(),O=We(M);O.tag=1,O.payload=f,x!=null&&(O.callback=x),f=st(u,O,M),f!==null&&(Fi(f,u,M),Et(f,u,M))},enqueueForceUpdate:function(u,f){u=u._reactInternals;var x=vi(),M=We(x);M.tag=2,f!=null&&(M.callback=f),f=st(u,M,x),f!==null&&(Fi(f,u,x),Et(f,u,x))}},cp=typeof reportError=="function"?reportError:function(u){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var f=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof u=="object"&&u!==null&&typeof u.message=="string"?String(u.message):String(u),error:u});if(!window.dispatchEvent(f))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",u);return}console.error(u)},up=Error(r(461)),Fn=!1,dp={dehydrated:null,treeContext:null,retryLane:0},Do=T(null),ya=null,xs=null,ku=typeof AbortController<"u"?AbortController:function(){var u=[],f=this.signal={aborted:!1,addEventListener:function(x,M){u.push(M)}};this.abort=function(){f.aborted=!0,u.forEach(function(x){return x()})}},Hx=fs.unstable_scheduleCallback,Gx=fs.unstable_NormalPriority,Yn={$$typeof:da,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},tv=Ht.S;Ht.S=function(u,f){typeof f=="object"&&f!==null&&typeof f.then=="function"&&Oe(u,f),tv!==null&&tv(u,f)};var Ga=T(null),Wa=!1,fi=!1,nv=!1,Rn=typeof WeakSet=="function"?WeakSet:Set,Kt=null,un=!1,Ot=null,tn=!1,ci=null,bs=8192,Bu={getCacheForType:function(u){var f=nr(Yn),x=f.data.get(u);return x===void 0&&(x=u(),f.data.set(u,x)),x}},Fu=0,Xs=1,ei=2,xa=3,ja=4;if(typeof Symbol=="function"&&Symbol.for){var Cc=Symbol.for;Fu=Cc("selector.component"),Xs=Cc("selector.has_pseudo_class"),ei=Cc("selector.role"),xa=Cc("selector.test_id"),ja=Cc("selector.text")}var qs=typeof WeakMap=="function"?WeakMap:Map,bn=0,On=null,Lt=null,hn=0,Un=0,vr=null,Ys=!1,Ss=!1,Vi=!1,yr=0,Hn=0,_s=0,Po=0,mf=0,Es=0,Xa=0,wc=null,hi=null,fp=!1,Pr=0,Hu=1/0,gf=null,Al=null,ba=!1,qa=null,Ac=0,Rl=0,hp=null,Gu=0,pp=null;return Qt.attemptContinuousHydration=function(u){if(u.tag===13){var f=Ne(u,67108864);f!==null&&Fi(f,u,67108864),Zd(u,67108864)}},Qt.attemptHydrationAtCurrentPriority=function(u){if(u.tag===13){var f=vi(),x=Ne(u,f);x!==null&&Fi(x,u,f),Zd(u,f)}},Qt.attemptSynchronousHydration=function(u){switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var f=N(u.pendingLanes);if(f!==0){for(u.pendingLanes|=2,u.entangledLanes|=2;f;){var x=1<<31-Nr(f);u.entanglements[1]|=x,f&=~x}Ke(u),(bn&6)===0&&(Hu=Hs()+500,Tt(0))}}break;case 13:f=Ne(u,2),f!==null&&Fi(f,u,2),qd(),Zd(u,2)}},Qt.batchedUpdates=function(u,f){return u(f)},Qt.createComponentSelector=function(u){return{$$typeof:Fu,value:u}},Qt.createContainer=function(u,f,x,M,O,P,K,ae,ge,Le){return ex(u,f,!1,null,x,M,P,K,ae,ge,Le,null)},Qt.createHasPseudoClassSelector=function(u){return{$$typeof:Xs,value:u}},Qt.createHydrationContainer=function(u,f,x,M,O,P,K,ae,ge,Le,et,ct,ft){return u=ex(x,M,!0,u,O,P,ae,ge,Le,et,ct,ft),u.context=wi(null),x=u.current,M=vi(),O=We(M),O.callback=f??null,st(x,O,M),u.current.lanes=M,F(u,M),Ke(u),u},Qt.createPortal=function(u,f,x){var M=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ks,key:M==null?null:""+M,children:u,containerInfo:f,implementation:x}},Qt.createRoleSelector=function(u){return{$$typeof:ei,value:u}},Qt.createTestNameSelector=function(u){return{$$typeof:xa,value:u}},Qt.createTextSelector=function(u){return{$$typeof:ja,value:u}},Qt.defaultOnCaughtError=function(u){console.error(u)},Qt.defaultOnRecoverableError=function(u){cp(u)},Qt.defaultOnUncaughtError=function(u){cp(u)},Qt.deferredUpdates=function(u){var f=Ht.T,x=Co();try{return gr(32),Ht.T=null,u()}finally{gr(x),Ht.T=f}},Qt.discreteUpdates=function(u,f,x,M,O){var P=Ht.T,K=Co();try{return gr(2),Ht.T=null,u(f,x,M,O)}finally{gr(K),Ht.T=P,bn===0&&(Hu=Hs()+500)}},Qt.findAllNodes=jd,Qt.findBoundingRects=function(u,f){if(!vl)throw Error(r(363));f=jd(u,f),u=[];for(var x=0;x<f.length;x++)u.push(Fg(f[x]));for(f=u.length-1;0<f;f--){x=u[f];for(var M=x.x,O=M+x.width,P=x.y,K=P+x.height,ae=f-1;0<=ae;ae--)if(f!==ae){var ge=u[ae],Le=ge.x,et=Le+ge.width,ct=ge.y,ft=ct+ge.height;if(M>=Le&&P>=ct&&O<=et&&K<=ft){u.splice(f,1);break}else if(M!==Le||x.width!==ge.width||ft<P||ct>K){if(!(P!==ct||x.height!==ge.height||et<M||Le>O)){Le>M&&(ge.width+=Le-M,ge.x=M),et<O&&(ge.width=O-Le),u.splice(f,1);break}}else{ct>P&&(ge.height+=ct-P,ge.y=P),ft<K&&(ge.height=K-ct),u.splice(f,1);break}}}return u},Qt.findHostInstance=Bh,Qt.findHostInstanceWithNoPortals=function(u){return u=b(u),u=u!==null?C(u):null,u===null?null:wu(u.stateNode)},Qt.findHostInstanceWithWarning=function(u){return Bh(u)},Qt.flushPassiveEffects=ua,Qt.flushSyncFromReconciler=function(u){var f=bn;bn|=1;var x=Ht.T,M=Co();try{if(gr(2),Ht.T=null,u)return u()}finally{gr(M),Ht.T=x,bn=f,(bn&6)===0&&Tt(0)}},Qt.flushSyncWork=qd,Qt.focusWithin=function(u,f){if(!vl)throw Error(r(363));for(u=vu(u),f=jr(u,f),f=Array.from(f),u=0;u<f.length;){var x=f[u++],M=x.tag;if(!Ru(x)){if((M===5||M===26||M===27)&&cx(x.stateNode))return!0;for(x=x.child;x!==null;)f.push(x),x=x.sibling}}return!1},Qt.getFindAllNodesFailureDescription=function(u,f){if(!vl)throw Error(r(363));var x=0,M=[];u=[vu(u),0];for(var O=0;O<u.length;){var P=u[O++],K=P.tag,ae=u[O++],ge=f[ae];if((K!==5&&K!==26&&K!==27||!Ru(P))&&(ll(P,ge)&&(M.push(Tg(ge)),ae++,ae>x&&(x=ae)),ae<f.length))for(P=P.child;P!==null;)u.push(P,ae),P=P.sibling}if(x<f.length){for(u=[];x<f.length;x++)u.push(Tg(f[x]));return`findAllNodes was able to match part of the selector:
  `+(M.join(" > ")+`

No matching component was found for:
  `)+u.join(" > ")}return null},Qt.getPublicRootInstance=function(u){if(u=u.current,!u.child)return null;switch(u.child.tag){case 27:case 5:return wu(u.child.stateNode);default:return u.child.stateNode}},Qt.injectIntoDevTools=function(){var u={bundleType:0,version:Lg,rendererPackageName:nf,currentDispatcherRef:Ht,findFiberByHostInstance:rx,reconcilerVersion:"19.0.0"};if(Cu!==null&&(u.rendererConfig=Cu),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")u=!1;else{var f=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(f.isDisabled||!f.supportsFiber)u=!0;else{try{bi=f.inject(u),qr=f}catch{}u=!!f.checkDCE}}return u},Qt.isAlreadyRendering=function(){return!1},Qt.observeVisibleRects=function(u,f,x,M){if(!vl)throw Error(r(363));u=jd(u,f);var O=ux(u,x,M).disconnect;return{disconnect:function(){O()}}},Qt.shouldError=function(){return null},Qt.shouldSuspend=function(){return!1},Qt.startHostTransition=function(u,f,x,M){if(u.tag!==5)throw Error(r(476));var O=Da(u).queue;su(u,O,f,gl,x===null?i:function(){var P=Da(u).next.queue;return el(u,P,{},vi()),x(M)})},Qt.updateContainer=function(u,f,x,M){var O=f.current,P=vi();return Su(O,P,u,f,x,M),P},Qt.updateContainerSync=function(u,f,x,M){return f.tag===0&&ua(),Su(f.current,2,u,f,x,M),2},Qt},t.exports.default=t.exports,Object.defineProperty(t.exports,"__esModule",{value:!0})})(YM)),YM.exports}var K3;function que(){return K3||(K3=1,qM.exports=Xue()),qM.exports}var Yue=que();const Kue=l1(Yue);var ZM={exports:{}},QM={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $3;function $ue(){return $3||($3=1,(function(t){function e(k,q){var $=k.length;k.push(q);e:for(;0<$;){var ne=$-1>>>1,G=k[ne];if(0<r(G,q))k[ne]=q,k[$]=G,$=ne;else break e}}function n(k){return k.length===0?null:k[0]}function i(k){if(k.length===0)return null;var q=k[0],$=k.pop();if($!==q){k[0]=$;e:for(var ne=0,G=k.length,te=G>>>1;ne<te;){var ve=2*(ne+1)-1,Me=k[ve],De=ve+1,qe=k[De];if(0>r(Me,$))De<G&&0>r(qe,Me)?(k[ne]=qe,k[De]=$,ne=De):(k[ne]=Me,k[ve]=$,ne=ve);else if(De<G&&0>r(qe,$))k[ne]=qe,k[De]=$,ne=De;else break e}}return q}function r(k,q){var $=k.sortIndex-q.sortIndex;return $!==0?$:k.id-q.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var d=[],h=[],m=1,g=null,y=3,b=!1,S=!1,C=!1,T=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;function R(k){for(var q=n(h);q!==null;){if(q.callback===null)i(h);else if(q.startTime<=k)i(h),q.sortIndex=q.expirationTime,e(d,q);else break;q=n(h)}}function N(k){if(C=!1,R(k),!S)if(n(d)!==null)S=!0,se();else{var q=n(h);q!==null&&ie(N,q.startTime-k)}}var D=!1,I=-1,V=5,B=-1;function L(){return!(t.unstable_now()-B<V)}function z(){if(D){var k=t.unstable_now();B=k;var q=!0;try{e:{S=!1,C&&(C=!1,_(I),I=-1),b=!0;var $=y;try{t:{for(R(k),g=n(d);g!==null&&!(g.expirationTime>k&&L());){var ne=g.callback;if(typeof ne=="function"){g.callback=null,y=g.priorityLevel;var G=ne(g.expirationTime<=k);if(k=t.unstable_now(),typeof G=="function"){g.callback=G,R(k),q=!0;break t}g===n(d)&&i(d),R(k)}else i(d);g=n(d)}if(g!==null)q=!0;else{var te=n(h);te!==null&&ie(N,te.startTime-k),q=!1}}break e}finally{g=null,y=$,b=!1}q=void 0}}finally{q?F():D=!1}}}var F;if(typeof w=="function")F=function(){w(z)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,Z=j.port2;j.port1.onmessage=z,F=function(){Z.postMessage(null)}}else F=function(){T(z,0)};function se(){D||(D=!0,F())}function ie(k,q){I=T(function(){k(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(k){k.callback=null},t.unstable_continueExecution=function(){S||b||(S=!0,se())},t.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<k?Math.floor(1e3/k):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(k){switch(y){case 1:case 2:case 3:var q=3;break;default:q=y}var $=y;y=q;try{return k()}finally{y=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(k,q){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var $=y;y=k;try{return q()}finally{y=$}},t.unstable_scheduleCallback=function(k,q,$){var ne=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?ne+$:ne):$=ne,k){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=$+G,k={id:m++,callback:q,priorityLevel:k,startTime:$,expirationTime:G,sortIndex:-1},$>ne?(k.sortIndex=$,e(h,k),n(d)===null&&k===n(h)&&(C?(_(I),I=-1):C=!0,ie(N,$-ne))):(k.sortIndex=G,e(d,k),S||b||(S=!0,se())),k},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(k){var q=y;return function(){var $=y;y=q;try{return k.apply(this,arguments)}finally{y=$}}}})(QM)),QM}var Z3;function Zue(){return Z3||(Z3=1,ZM.exports=$ue()),ZM.exports}var Q3=Zue();function GR(t,e,n){if(!t)return;if(n(t)===!0)return t;let i=e?t.return:t.child;for(;i;){const r=GR(i,e,n);if(r)return r;i=e?null:i.sibling}}function U4(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const WR=U4(H.createContext(null));class V4 extends H.Component{render(){return H.createElement(WR.Provider,{value:this._reactInternals},this.props.children)}}function k4(){const t=H.useContext(WR);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=H.useId();return H.useMemo(()=>{for(const n of[t,t?.alternate]){if(!n)continue;const i=GR(n,!1,r=>{let s=r.memoizedState;for(;s;){if(s.memoizedState===e)return!0;s=s.next}});if(i)return i}},[t,e])}const Que=Symbol.for("react.context"),Jue=t=>t!==null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===Que;function ede(){const t=k4(),[e]=H.useState(()=>new Map);e.clear();let n=t;for(;n;){const i=n.type;Jue(i)&&i!==WR&&!e.has(i)&&e.set(i,H.use(U4(i))),n=n.return}return e}function tde(){const t=ede();return H.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>i=>H.createElement(e,null,H.createElement(n.Provider,{...i,value:t.get(n)})),e=>H.createElement(V4,{...e})),[t])}function B4(t){let e=t.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const F4=t=>t&&t.isOrthographicCamera,nde=t=>t&&t.hasOwnProperty("current"),ide=t=>t!=null&&(typeof t=="string"||typeof t=="number"||t.isColor),w0=((t,e)=>typeof window<"u"&&(((t=window.document)==null?void 0:t.createElement)||((e=window.navigator)==null?void 0:e.product)==="ReactNative"))()?H.useLayoutEffect:H.useEffect;function H4(t){const e=H.useRef(t);return w0(()=>void(e.current=t),[t]),e}function rde(){const t=k4(),e=tde();return H.useMemo(()=>({children:n})=>{const r=!!GR(t,!0,s=>s.type===H.StrictMode)?H.StrictMode:H.Fragment;return pe.jsx(r,{children:pe.jsx(e,{children:n})})},[t,e])}function sde({set:t}){return w0(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}const ade=(t=>(t=class extends H.Component{constructor(...n){super(...n),this.state={error:!1}}componentDidCatch(n){this.props.set(n)}render(){return this.state.error?null:this.props.children}},t.getDerivedStateFromError=()=>({error:!0}),t))();function G4(t){var e;const n=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],n),t[1]):t}function qp(t){var e;return(e=t.__r3f)==null?void 0:e.root.getState()}const pi={obj:t=>t===Object(t)&&!pi.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,nul:t=>t===null,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:i="reference",strict:r=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(pi.str(t)||pi.num(t)||pi.boo(t))return t===e;const s=pi.obj(t);if(s&&i==="reference")return t===e;const o=pi.arr(t);if(o&&n==="reference")return t===e;if((o||s)&&t===e)return!0;let l;for(l in t)if(!(l in e))return!1;if(s&&n==="shallow"&&i==="shallow"){for(l in r?e:t)if(!pi.equ(t[l],e[l],{strict:r,objects:"reference"}))return!1}else for(l in r?e:t)if(t[l]!==e[l])return!1;if(pi.und(l)){if(o&&t.length===0&&e.length===0||s&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function ode(t){const e={nodes:{},materials:{},meshes:{}};return t&&t.traverse(n=>{n.name&&(e.nodes[n.name]=n),n.material&&!e.materials[n.material.name]&&(e.materials[n.material.name]=n.material),n.isMesh&&!e.meshes[n.name]&&(e.meshes[n.name]=n)}),e}function lde(t){t.type!=="Scene"&&(t.dispose==null||t.dispose());for(const e in t){const n=t[e];n?.type!=="Scene"&&(n==null||n.dispose==null||n.dispose())}}const W4=["children","key","ref"];function cde(t){const e={};for(const n in t)W4.includes(n)||(e[n]=t[n]);return e}function e1(t,e,n,i){const r=t;let s=r?.__r3f;return s||(s={root:e,type:n,parent:null,children:[],props:cde(i),object:r,eventCount:0,handlers:{},isHidden:!1},r&&(r.__r3f=s)),s}function Qy(t,e){if(!e.includes("-"))return{root:t,key:e,target:t[e]};if(e in t)return{root:t,key:e,target:t[e]};let n=t;const i=e.split("-");for(const r of i){if(typeof n!="object"||n===null){if(n!==void 0){const s=i.slice(i.indexOf(r)).join("-");return{root:n,key:s,target:void 0}}return{root:t,key:e,target:void 0}}e=r,t=n,n=n[e]}return{root:t,key:e,target:n}}const J3=/-\d+$/;function t1(t,e){if(pi.str(e.props.attach)){if(J3.test(e.props.attach)){const r=e.props.attach.replace(J3,""),{root:s,key:o}=Qy(t.object,r);Array.isArray(s[o])||(s[o]=[])}const{root:n,key:i}=Qy(t.object,e.props.attach);e.previousAttach=n[i],n[i]=e.object}else pi.fun(e.props.attach)&&(e.previousAttach=e.props.attach(t.object,e.object))}function n1(t,e){if(pi.str(e.props.attach)){const{root:n,key:i}=Qy(t.object,e.props.attach),r=e.previousAttach;r===void 0?delete n[i]:n[i]=r}else e.previousAttach==null||e.previousAttach(t.object,e.object);delete e.previousAttach}const xw=[...W4,"args","dispose","attach","object","onUpdate","dispose"],eI=new Map;function ude(t){let e=eI.get(t.constructor);try{e||(e=new t.constructor,eI.set(t.constructor,e))}catch{}return e}function dde(t,e){const n={};for(const i in e)if(!xw.includes(i)&&!pi.equ(e[i],t.props[i])){n[i]=e[i];for(const r in e)r.startsWith(`${i}-`)&&(n[r]=e[r])}for(const i in t.props){if(xw.includes(i)||e.hasOwnProperty(i))continue;const{root:r,key:s}=Qy(t.object,i);if(r.constructor&&r.constructor.length===0){const o=ude(r);pi.und(o)||(n[s]=o[s])}else n[s]=0}return n}const fde=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],hde=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function ud(t,e){var n;const i=t.__r3f,r=i&&B4(i).getState(),s=i?.eventCount;for(const l in e){let d=e[l];if(xw.includes(l))continue;if(i&&hde.test(l)){typeof d=="function"?i.handlers[l]=d:delete i.handlers[l],i.eventCount=Object.keys(i.handlers).length;continue}if(d===void 0)continue;let{root:h,key:m,target:g}=Qy(t,l);if(g===void 0&&(typeof h!="object"||h===null))throw Error(`R3F: Cannot set "${l}". Ensure it is an object before setting "${m}".`);if(g instanceof Pm&&d instanceof Pm)g.mask=d.mask;else if(g instanceof mt&&ide(d))g.set(d);else if(g!==null&&typeof g=="object"&&typeof g.set=="function"&&typeof g.copy=="function"&&d!=null&&d.constructor&&g.constructor===d.constructor)g.copy(d);else if(g!==null&&typeof g=="object"&&typeof g.set=="function"&&Array.isArray(d))typeof g.fromArray=="function"?g.fromArray(d):g.set(...d);else if(g!==null&&typeof g=="object"&&typeof g.set=="function"&&typeof d=="number")typeof g.setScalar=="function"?g.setScalar(d):g.set(d);else{var o;h[m]=d,r&&!r.linear&&fde.includes(m)&&(o=h[m])!=null&&o.isTexture&&h[m].format===ns&&h[m].type===ao&&(h[m].colorSpace=es)}}if(i!=null&&i.parent&&r!=null&&r.internal&&(n=i.object)!=null&&n.isObject3D&&s!==i.eventCount){const l=i.object,d=r.internal.interaction.indexOf(l);d>-1&&r.internal.interaction.splice(d,1),i.eventCount&&l.raycast!==null&&r.internal.interaction.push(l)}return i&&i.props.attach===void 0&&(i.object.isBufferGeometry?i.props.attach="geometry":i.object.isMaterial&&(i.props.attach="material")),i&&Jm(i),t}function Jm(t){var e;if(!t.parent)return;t.props.onUpdate==null||t.props.onUpdate(t.object);const n=(e=t.root)==null||e.getState==null?void 0:e.getState();n&&n.internal.frames===0&&n.invalidate()}function pde(t,e){t.manual||(F4(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix())}const ws=t=>t?.isObject3D;function gS(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function j4(t,e,n,i){const r=n.get(e);r&&(n.delete(e),n.size===0&&(t.delete(i),r.target.releasePointerCapture(i)))}function mde(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(i=>i!==e),n.initialHits=n.initialHits.filter(i=>i!==e),n.hovered.forEach((i,r)=>{(i.eventObject===e||i.object===e)&&n.hovered.delete(r)}),n.capturedMap.forEach((i,r)=>{j4(n.capturedMap,e,i,r)})}function gde(t){function e(d){const{internal:h}=t.getState(),m=d.offsetX-h.initialClick[0],g=d.offsetY-h.initialClick[1];return Math.round(Math.sqrt(m*m+g*g))}function n(d){return d.filter(h=>["Move","Over","Enter","Out","Leave"].some(m=>{var g;return(g=h.__r3f)==null?void 0:g.handlers["onPointer"+m]}))}function i(d,h){const m=t.getState(),g=new Set,y=[],b=h?h(m.internal.interaction):m.internal.interaction;for(let _=0;_<b.length;_++){const w=qp(b[_]);w&&(w.raycaster.camera=void 0)}m.previousRoot||m.events.compute==null||m.events.compute(d,m);function S(_){const w=qp(_);if(!w||!w.events.enabled||w.raycaster.camera===null)return[];if(w.raycaster.camera===void 0){var R;w.events.compute==null||w.events.compute(d,w,(R=w.previousRoot)==null?void 0:R.getState()),w.raycaster.camera===void 0&&(w.raycaster.camera=null)}return w.raycaster.camera?w.raycaster.intersectObject(_,!0):[]}let C=b.flatMap(S).sort((_,w)=>{const R=qp(_.object),N=qp(w.object);return!R||!N?_.distance-w.distance:N.events.priority-R.events.priority||_.distance-w.distance}).filter(_=>{const w=gS(_);return g.has(w)?!1:(g.add(w),!0)});m.events.filter&&(C=m.events.filter(C,m));for(const _ of C){let w=_.object;for(;w;){var T;(T=w.__r3f)!=null&&T.eventCount&&y.push({..._,eventObject:w}),w=w.parent}}if("pointerId"in d&&m.internal.capturedMap.has(d.pointerId))for(let _ of m.internal.capturedMap.get(d.pointerId).values())g.has(gS(_.intersection))||y.push(_.intersection);return y}function r(d,h,m,g){if(d.length){const y={stopped:!1};for(const b of d){let S=qp(b.object);if(S||b.object.traverseAncestors(C=>{const T=qp(C);if(T)return S=T,!1}),S){const{raycaster:C,pointer:T,camera:_,internal:w}=S,R=new J(T.x,T.y,0).unproject(_),N=L=>{var z,F;return(z=(F=w.capturedMap.get(L))==null?void 0:F.has(b.eventObject))!=null?z:!1},D=L=>{const z={intersection:b,target:h.target};w.capturedMap.has(L)?w.capturedMap.get(L).set(b.eventObject,z):w.capturedMap.set(L,new Map([[b.eventObject,z]])),h.target.setPointerCapture(L)},I=L=>{const z=w.capturedMap.get(L);z&&j4(w.capturedMap,b.eventObject,z,L)};let V={};for(let L in h){let z=h[L];typeof z!="function"&&(V[L]=z)}let B={...b,...V,pointer:T,intersections:d,stopped:y.stopped,delta:m,unprojectedPoint:R,ray:C.ray,camera:_,stopPropagation(){const L="pointerId"in h&&w.capturedMap.get(h.pointerId);if((!L||L.has(b.eventObject))&&(B.stopped=y.stopped=!0,w.hovered.size&&Array.from(w.hovered.values()).find(z=>z.eventObject===b.eventObject))){const z=d.slice(0,d.indexOf(b));s([...z,b])}},target:{hasPointerCapture:N,setPointerCapture:D,releasePointerCapture:I},currentTarget:{hasPointerCapture:N,setPointerCapture:D,releasePointerCapture:I},nativeEvent:h};if(g(B),y.stopped===!0)break}}}return d}function s(d){const{internal:h}=t.getState();for(const m of h.hovered.values())if(!d.length||!d.find(g=>g.object===m.object&&g.index===m.index&&g.instanceId===m.instanceId)){const y=m.eventObject.__r3f;if(h.hovered.delete(gS(m)),y!=null&&y.eventCount){const b=y.handlers,S={...m,intersections:d};b.onPointerOut==null||b.onPointerOut(S),b.onPointerLeave==null||b.onPointerLeave(S)}}}function o(d,h){for(let m=0;m<h.length;m++){const g=h[m].__r3f;g==null||g.handlers.onPointerMissed==null||g.handlers.onPointerMissed(d)}}function l(d){switch(d){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return h=>{const{internal:m}=t.getState();"pointerId"in h&&m.capturedMap.has(h.pointerId)&&requestAnimationFrame(()=>{m.capturedMap.has(h.pointerId)&&(m.capturedMap.delete(h.pointerId),s([]))})}}return function(m){const{onPointerMissed:g,internal:y}=t.getState();y.lastEvent.current=m;const b=d==="onPointerMove",S=d==="onClick"||d==="onContextMenu"||d==="onDoubleClick",T=i(m,b?n:void 0),_=S?e(m):0;d==="onPointerDown"&&(y.initialClick=[m.offsetX,m.offsetY],y.initialHits=T.map(R=>R.eventObject)),S&&!T.length&&_<=2&&(o(m,y.interaction),g&&g(m)),b&&s(T);function w(R){const N=R.eventObject,D=N.__r3f;if(!(D!=null&&D.eventCount))return;const I=D.handlers;if(b){if(I.onPointerOver||I.onPointerEnter||I.onPointerOut||I.onPointerLeave){const V=gS(R),B=y.hovered.get(V);B?B.stopped&&R.stopPropagation():(y.hovered.set(V,R),I.onPointerOver==null||I.onPointerOver(R),I.onPointerEnter==null||I.onPointerEnter(R))}I.onPointerMove==null||I.onPointerMove(R)}else{const V=I[d];V?(!S||y.initialHits.includes(N))&&(o(m,y.interaction.filter(B=>!y.initialHits.includes(B))),V(R)):S&&y.initialHits.includes(N)&&o(m,y.interaction.filter(B=>!y.initialHits.includes(B)))}}r(T,m,_,w)}}return{handlePointer:l}}const tI=t=>!!(t!=null&&t.render),X4=H.createContext(null),vde=(t,e)=>{const n=kue((l,d)=>{const h=new J,m=new J,g=new J;function y(_=d().camera,w=m,R=d().size){const{width:N,height:D,top:I,left:V}=R,B=N/D;w.isVector3?g.copy(w):g.set(...w);const L=_.getWorldPosition(h).distanceTo(g);if(F4(_))return{width:N/_.zoom,height:D/_.zoom,top:I,left:V,factor:1,distance:L,aspect:B};{const z=_.fov*Math.PI/180,F=2*Math.tan(z/2)*L,j=F*(N/D);return{width:j,height:F,top:I,left:V,factor:N/j,distance:L,aspect:B}}}let b;const S=_=>l(w=>({performance:{...w.performance,current:_}})),C=new Ge;return{set:l,get:d,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(_=1)=>t(d(),_),advance:(_,w)=>e(_,w,d()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new UR,pointer:C,mouse:C,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const _=d();b&&clearTimeout(b),_.performance.current!==_.performance.min&&S(_.performance.min),b=setTimeout(()=>S(d().performance.max),_.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:y},setEvents:_=>l(w=>({...w,events:{...w.events,..._}})),setSize:(_,w,R=0,N=0)=>{const D=d().camera,I={width:_,height:w,top:R,left:N};l(V=>({size:I,viewport:{...V.viewport,...y(D,m,I)}}))},setDpr:_=>l(w=>{const R=G4(_);return{viewport:{...w.viewport,dpr:R,initialDpr:w.viewport.initialDpr||R}}}),setFrameloop:(_="always")=>{const w=d().clock;w.stop(),w.elapsedTime=0,_!=="never"&&(w.start(),w.elapsedTime=0),l(()=>({frameloop:_}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:H.createRef(),active:!1,frames:0,priority:0,subscribe:(_,w,R)=>{const N=d().internal;return N.priority=N.priority+(w>0?1:0),N.subscribers.push({ref:_,priority:w,store:R}),N.subscribers=N.subscribers.sort((D,I)=>D.priority-I.priority),()=>{const D=d().internal;D!=null&&D.subscribers&&(D.priority=D.priority-(w>0?1:0),D.subscribers=D.subscribers.filter(I=>I.ref!==_))}}}}}),i=n.getState();let r=i.size,s=i.viewport.dpr,o=i.camera;return n.subscribe(()=>{const{camera:l,size:d,viewport:h,gl:m,set:g}=n.getState();if(d.width!==r.width||d.height!==r.height||h.dpr!==s){r=d,s=h.dpr,pde(l,d),h.dpr>0&&m.setPixelRatio(h.dpr);const y=typeof HTMLCanvasElement<"u"&&m.domElement instanceof HTMLCanvasElement;m.setSize(d.width,d.height,y)}l!==o&&(o=l,g(y=>({viewport:{...y.viewport,...y.viewport.getCurrentViewport(l)}})))}),n.subscribe(l=>t(l)),n};function q4(){const t=H.useContext(X4);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function Y4(t=n=>n,e){return q4()(t,e)}function jR(t,e=0){const n=q4(),i=n.getState().internal.subscribe,r=H4(t);return w0(()=>i(r,e,n),[e,i,n]),null}const nI=new WeakMap,yde=t=>{var e;return typeof t=="function"&&(t==null||(e=t.prototype)==null?void 0:e.constructor)===t};function K4(t,e){return function(n,...i){let r;return yde(n)?(r=nI.get(n),r||(r=new n,nI.set(n,r))):r=n,t&&t(r),Promise.all(i.map(s=>new Promise((o,l)=>r.load(s,d=>{ws(d?.scene)&&Object.assign(d,ode(d.scene)),o(d)},e,d=>l(new Error(`Could not load ${s}: ${d?.message}`))))))}}function A0(t,e,n,i){const r=Array.isArray(e)?e:[e],s=Fue(K4(n,i),[t,...r],{equal:pi.equ});return Array.isArray(e)?s:s[0]}A0.preload=function(t,e,n){const i=Array.isArray(e)?e:[e];return Hue(K4(n),[t,...i])};A0.clear=function(t,e){const n=Array.isArray(e)?e:[e];return Gue([t,...n])};function xde(t){const e=Kue(t);return e.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:H.version}),e}const $4=0,Um={},bde=/^three(?=[A-Z])/,xE=t=>`${t[0].toUpperCase()}${t.slice(1)}`;let Sde=0;const _de=t=>typeof t=="function";function Ede(t){if(_de(t)){const e=`${Sde++}`;return Um[e]=t,e}else Object.assign(Um,t)}function Z4(t,e){const n=xE(t),i=Um[n];if(t!=="primitive"&&!i)throw new Error(`R3F: ${n} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(t==="primitive"&&!e.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(e.args!==void 0&&!Array.isArray(e.args))throw new Error("R3F: The args prop must be an array!")}function Tde(t,e,n){var i;return t=xE(t)in Um?t:t.replace(bde,""),Z4(t,e),t==="primitive"&&(i=e.object)!=null&&i.__r3f&&delete e.object.__r3f,e1(e.object,n,t,e)}function Mde(t){if(!t.isHidden){var e;t.props.attach&&(e=t.parent)!=null&&e.object?n1(t.parent,t):ws(t.object)&&(t.object.visible=!1),t.isHidden=!0,Jm(t)}}function Q4(t){if(t.isHidden){var e;t.props.attach&&(e=t.parent)!=null&&e.object?t1(t.parent,t):ws(t.object)&&t.props.visible!==!1&&(t.object.visible=!0),t.isHidden=!1,Jm(t)}}function XR(t,e,n){const i=e.root.getState();if(!(!t.parent&&t.object!==i.scene)){if(!e.object){var r,s;const o=Um[xE(e.type)];e.object=(r=e.props.object)!=null?r:new o(...(s=e.props.args)!=null?s:[]),e.object.__r3f=e}if(ud(e.object,e.props),e.props.attach)t1(t,e);else if(ws(e.object)&&ws(t.object)){const o=t.object.children.indexOf(n?.object);if(n&&o!==-1){const l=t.object.children.indexOf(e.object);if(l!==-1){t.object.children.splice(l,1);const d=l<o?o-1:o;t.object.children.splice(d,0,e.object)}else e.object.parent=t.object,t.object.children.splice(o,0,e.object),e.object.dispatchEvent({type:"added"}),t.object.dispatchEvent({type:"childadded",child:e.object})}else t.object.add(e.object)}for(const o of e.children)XR(e,o);Jm(e)}}function JM(t,e){e&&(e.parent=t,t.children.push(e),XR(t,e))}function iI(t,e,n){if(!e||!n)return;e.parent=t;const i=t.children.indexOf(n);i!==-1?t.children.splice(i,0,e):t.children.push(e),XR(t,e,n)}function J4(t){if(typeof t.dispose=="function"){const e=()=>{try{t.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT<"u"?e():Q3.unstable_scheduleCallback(Q3.unstable_IdlePriority,e)}}function bw(t,e,n){if(!e)return;e.parent=null;const i=t.children.indexOf(e);i!==-1&&t.children.splice(i,1),e.props.attach?n1(t,e):ws(e.object)&&ws(t.object)&&(t.object.remove(e.object),mde(B4(e),e.object));const r=e.props.dispose!==null&&n!==!1;for(let s=e.children.length-1;s>=0;s--){const o=e.children[s];bw(e,o,r)}e.children.length=0,delete e.object.__r3f,r&&e.type!=="primitive"&&e.object.type!=="Scene"&&J4(e.object),n===void 0&&Jm(e)}function Cde(t,e){for(const n of[t,t.alternate])if(n!==null)if(typeof n.ref=="function"){n.refCleanup==null||n.refCleanup();const i=n.ref(e);typeof i=="function"&&(n.refCleanup=i)}else n.ref&&(n.ref.current=e)}const GS=[];function wde(){for(const[n]of GS){const i=n.parent;if(i){n.props.attach?n1(i,n):ws(n.object)&&ws(i.object)&&i.object.remove(n.object);for(const r of n.children)r.props.attach?n1(n,r):ws(r.object)&&ws(n.object)&&n.object.remove(r.object)}n.isHidden&&Q4(n),n.object.__r3f&&delete n.object.__r3f,n.type!=="primitive"&&J4(n.object)}for(const[n,i,r]of GS){n.props=i;const s=n.parent;if(s){var t,e;const o=Um[xE(n.type)];n.object=(t=n.props.object)!=null?t:new o(...(e=n.props.args)!=null?e:[]),n.object.__r3f=n,Cde(r,n.object),ud(n.object,n.props),n.props.attach?t1(s,n):ws(n.object)&&ws(s.object)&&s.object.add(n.object);for(const l of n.children)l.props.attach?t1(n,l):ws(l.object)&&ws(n.object)&&n.object.add(l.object);Jm(n)}}GS.length=0}const eC=()=>{},rI={};let vS=$4;const Ade=0,Rde=4,Sw=xde({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:Tde,removeChild:bw,appendChild:JM,appendInitialChild:JM,insertBefore:iI,appendChildToContainer(t,e){const n=t.getState().scene.__r3f;!e||!n||JM(n,e)},removeChildFromContainer(t,e){const n=t.getState().scene.__r3f;!e||!n||bw(n,e)},insertInContainerBefore(t,e,n){const i=t.getState().scene.__r3f;!e||!n||!i||iI(i,e,n)},getRootHostContext:()=>rI,getChildHostContext:()=>rI,commitUpdate(t,e,n,i,r){var s,o,l;Z4(e,i);let d=!1;if((t.type==="primitive"&&n.object!==i.object||((s=i.args)==null?void 0:s.length)!==((o=n.args)==null?void 0:o.length)||(l=i.args)!=null&&l.some((m,g)=>{var y;return m!==((y=n.args)==null?void 0:y[g])}))&&(d=!0),d)GS.push([t,{...i},r]);else{const m=dde(t,i);Object.keys(m).length&&(Object.assign(t.props,m),ud(t.object,m))}(r.sibling===null||(r.flags&Rde)===Ade)&&wde()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:t=>t?.object,prepareForCommit:()=>null,preparePortalMount:t=>e1(t.getState().scene,t,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:Mde,unhideInstance:Q4,createTextInstance:eC,hideTextInstance:eC,unhideTextInstance:eC,scheduleTimeout:typeof setTimeout=="function"?setTimeout:void 0,cancelTimeout:typeof clearTimeout=="function"?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,startSuspendingCommit(){},suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:H.createContext(null),setCurrentUpdatePriority(t){vS=t},getCurrentUpdatePriority(){return vS},resolveUpdatePriority(){var t;if(vS!==$4)return vS;switch(typeof window<"u"&&((t=window.event)==null?void 0:t.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return HS.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return HS.ContinuousEventPriority;default:return HS.DefaultEventPriority}},resetFormInstance(){}}),fh=new Map,Yp={objects:"shallow",strict:!1};function Ode(t,e){if(!e&&typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:n,height:i,top:r,left:s}=t.parentElement.getBoundingClientRect();return{width:n,height:i,top:r,left:s}}else if(!e&&typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0};return{width:0,height:0,top:0,left:0,...e}}function Nde(t){const e=fh.get(t),n=e?.fiber,i=e?.store;e&&console.warn("R3F.createRoot should only be called once!");const r=typeof reportError=="function"?reportError:console.error,s=i||vde(Tw,aI),o=n||Sw.createContainer(s,HS.ConcurrentRoot,null,!1,null,"",r,r,r,null);e||fh.set(t,{fiber:o,store:s});let l,d,h=!1,m=null;return{async configure(g={}){let y;m=new Promise(te=>y=te);let{gl:b,size:S,scene:C,events:T,onCreated:_,shadows:w=!1,linear:R=!1,flat:N=!1,legacy:D=!1,orthographic:I=!1,frameloop:V="always",dpr:B=[1,2],performance:L,raycaster:z,camera:F,onPointerMissed:j}=g,Z=s.getState(),se=Z.gl;if(!Z.gl){const te={canvas:t,powerPreference:"high-performance",antialias:!0,alpha:!0},ve=typeof b=="function"?await b(te):b;tI(ve)?se=ve:se=new P4({...te,...b}),Z.set({gl:se})}let ie=Z.raycaster;ie||Z.set({raycaster:ie=new T4});const{params:k,...q}=z||{};if(pi.equ(q,ie,Yp)||ud(ie,{...q}),pi.equ(k,ie.params,Yp)||ud(ie,{params:{...ie.params,...k}}),!Z.camera||Z.camera===d&&!pi.equ(d,F,Yp)){d=F;const te=F?.isCamera,ve=te?F:I?new C0(0,0,0,0,.1,1e3):new Tr(75,0,.1,1e3);te||(ve.position.z=5,F&&(ud(ve,F),ve.manual||("aspect"in F||"left"in F||"right"in F||"bottom"in F||"top"in F)&&(ve.manual=!0,ve.updateProjectionMatrix())),!Z.camera&&!(F!=null&&F.rotation)&&ve.lookAt(0,0,0)),Z.set({camera:ve}),ie.camera=ve}if(!Z.scene){let te;C!=null&&C.isScene?(te=C,e1(te,s,"",{})):(te=new gR,e1(te,s,"",{}),C&&ud(te,C)),Z.set({scene:te})}T&&!Z.events.handlers&&Z.set({events:T(s)});const $=Ode(t,S);if(pi.equ($,Z.size,Yp)||Z.setSize($.width,$.height,$.top,$.left),B&&Z.viewport.dpr!==G4(B)&&Z.setDpr(B),Z.frameloop!==V&&Z.setFrameloop(V),Z.onPointerMissed||Z.set({onPointerMissed:j}),L&&!pi.equ(L,Z.performance,Yp)&&Z.set(te=>({performance:{...te.performance,...L}})),!Z.xr){var ne;const te=(De,qe)=>{const me=s.getState();me.frameloop!=="never"&&aI(De,!0,me,qe)},ve=()=>{const De=s.getState();De.gl.xr.enabled=De.gl.xr.isPresenting,De.gl.xr.setAnimationLoop(De.gl.xr.isPresenting?te:null),De.gl.xr.isPresenting||Tw(De)},Me={connect(){const De=s.getState().gl;De.xr.addEventListener("sessionstart",ve),De.xr.addEventListener("sessionend",ve)},disconnect(){const De=s.getState().gl;De.xr.removeEventListener("sessionstart",ve),De.xr.removeEventListener("sessionend",ve)}};typeof((ne=se.xr)==null?void 0:ne.addEventListener)=="function"&&Me.connect(),Z.set({xr:Me})}if(se.shadowMap){const te=se.shadowMap.enabled,ve=se.shadowMap.type;if(se.shadowMap.enabled=!!w,pi.boo(w))se.shadowMap.type=ay;else if(pi.str(w)){var G;const Me={basic:Lk,percentage:k1,soft:ay,variance:ko};se.shadowMap.type=(G=Me[w])!=null?G:ay}else pi.obj(w)&&Object.assign(se.shadowMap,w);(te!==se.shadowMap.enabled||ve!==se.shadowMap.type)&&(se.shadowMap.needsUpdate=!0)}return Sn.enabled=!D,h||(se.outputColorSpace=R?vd:es,se.toneMapping=N?ql:tR),Z.legacy!==D&&Z.set(()=>({legacy:D})),Z.linear!==R&&Z.set(()=>({linear:R})),Z.flat!==N&&Z.set(()=>({flat:N})),b&&!pi.fun(b)&&!tI(b)&&!pi.equ(b,se,Yp)&&ud(se,b),l=_,h=!0,y(),this},render(g){return!h&&!m&&this.configure(),m.then(()=>{Sw.updateContainer(pe.jsx(Dde,{store:s,children:g,onCreated:l,rootElement:t}),o,null,()=>{})}),s},unmount(){e5(t)}}}function Dde({store:t,children:e,onCreated:n,rootElement:i}){return w0(()=>{const r=t.getState();r.set(s=>({internal:{...s.internal,active:!0}})),n&&n(r),t.getState().events.connected||r.events.connect==null||r.events.connect(i)},[]),pe.jsx(X4.Provider,{value:t,children:e})}function e5(t,e){const n=fh.get(t),i=n?.fiber;if(i){const r=n?.store.getState();r&&(r.internal.active=!1),Sw.updateContainer(null,i,null,()=>{r&&setTimeout(()=>{try{var s,o,l,d;r.events.disconnect==null||r.events.disconnect(),(s=r.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(l=r.gl)==null||l.forceContextLoss==null||l.forceContextLoss(),(d=r.gl)!=null&&d.xr&&r.xr.disconnect(),lde(r.scene),fh.delete(t)}catch{}},500)})}}const Pde=new Set,Ide=new Set,Lde=new Set;function tC(t,e){if(t.size)for(const{callback:n}of t.values())n(e)}function my(t,e){switch(t){case"before":return tC(Pde,e);case"after":return tC(Ide,e);case"tail":return tC(Lde,e)}}let nC,iC;function _w(t,e,n){let i=e.clock.getDelta();e.frameloop==="never"&&typeof t=="number"&&(i=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),nC=e.internal.subscribers;for(let r=0;r<nC.length;r++)iC=nC[r],iC.ref.current(iC.store.getState(),i,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}let i1=!1,Ew=!1,rC,sI,Kp;function t5(t){sI=requestAnimationFrame(t5),i1=!0,rC=0,my("before",t),Ew=!0;for(const n of fh.values()){var e;Kp=n.store.getState(),Kp.internal.active&&(Kp.frameloop==="always"||Kp.internal.frames>0)&&!((e=Kp.gl.xr)!=null&&e.isPresenting)&&(rC+=_w(t,Kp))}if(Ew=!1,my("after",t),rC===0)return my("tail",t),i1=!1,cancelAnimationFrame(sI)}function Tw(t,e=1){var n;if(!t)return fh.forEach(i=>Tw(i.store.getState(),e));(n=t.gl.xr)!=null&&n.isPresenting||!t.internal.active||t.frameloop==="never"||(e>1?t.internal.frames=Math.min(60,t.internal.frames+e):Ew?t.internal.frames=2:t.internal.frames=1,i1||(i1=!0,requestAnimationFrame(t5)))}function aI(t,e=!0,n,i){if(e&&my("before",t),n)_w(t,n,i);else for(const r of fh.values())_w(t,r.store.getState());e&&my("after",t)}const sC={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function zde(t){const{handlePointer:e}=gde(t);return{priority:1,enabled:!0,compute(n,i,r){i.pointer.set(n.offsetX/i.size.width*2-1,-(n.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys(sC).reduce((n,i)=>({...n,[i]:e(i)}),{}),update:()=>{var n;const{events:i,internal:r}=t.getState();(n=r.lastEvent)!=null&&n.current&&i.handlers&&i.handlers.onPointerMove(r.lastEvent.current)},connect:n=>{const{set:i,events:r}=t.getState();if(r.disconnect==null||r.disconnect(),i(s=>({events:{...s.events,connected:n}})),r.handlers)for(const s in r.handlers){const o=r.handlers[s],[l,d]=sC[s];n.addEventListener(l,o,{passive:d})}},disconnect:()=>{const{set:n,events:i}=t.getState();if(i.connected){if(i.handlers)for(const r in i.handlers){const s=i.handlers[r],[o]=sC[r];i.connected.removeEventListener(o,s)}n(r=>({events:{...r.events,connected:void 0}}))}}}}function oI(t,e){let n;return(...i)=>{window.clearTimeout(n),n=window.setTimeout(()=>t(...i),e)}}function Ude({debounce:t,scroll:e,polyfill:n,offsetSize:i}={debounce:0,scroll:!1,offsetSize:!1}){const r=n||(typeof window>"u"?class{}:window.ResizeObserver);if(!r)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[s,o]=H.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=H.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s,orientationHandler:null}),d=t?typeof t=="number"?t:t.scroll:null,h=t?typeof t=="number"?t:t.resize:null,m=H.useRef(!1);H.useEffect(()=>(m.current=!0,()=>void(m.current=!1)));const[g,y,b]=H.useMemo(()=>{const _=()=>{if(!l.current.element)return;const{left:w,top:R,width:N,height:D,bottom:I,right:V,x:B,y:L}=l.current.element.getBoundingClientRect(),z={left:w,top:R,width:N,height:D,bottom:I,right:V,x:B,y:L};l.current.element instanceof HTMLElement&&i&&(z.height=l.current.element.offsetHeight,z.width=l.current.element.offsetWidth),Object.freeze(z),m.current&&!Fde(l.current.lastBounds,z)&&o(l.current.lastBounds=z)};return[_,h?oI(_,h):_,d?oI(_,d):_]},[o,i,d,h]);function S(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(_=>_.removeEventListener("scroll",b,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null),l.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",l.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",l.current.orientationHandler))}function C(){l.current.element&&(l.current.resizeObserver=new r(b),l.current.resizeObserver.observe(l.current.element),e&&l.current.scrollContainers&&l.current.scrollContainers.forEach(_=>_.addEventListener("scroll",b,{capture:!0,passive:!0})),l.current.orientationHandler=()=>{b()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",l.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",l.current.orientationHandler))}const T=_=>{!_||_===l.current.element||(S(),l.current.element=_,l.current.scrollContainers=n5(_),C())};return kde(b,!!e),Vde(y),H.useEffect(()=>{S(),C()},[e,b,y]),H.useEffect(()=>S,[]),[T,s,g]}function Vde(t){H.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function kde(t,e){H.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function n5(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:i,overflowY:r}=window.getComputedStyle(t);return[n,i,r].some(s=>s==="auto"||s==="scroll")&&e.push(t),[...e,...n5(t.parentElement)]}const Bde=["x","y","top","bottom","left","right","width","height"],Fde=(t,e)=>Bde.every(n=>t[n]===e[n]);function Hde({ref:t,children:e,fallback:n,resize:i,style:r,gl:s,events:o=zde,eventSource:l,eventPrefix:d,shadows:h,linear:m,flat:g,legacy:y,orthographic:b,frameloop:S,dpr:C,performance:T,raycaster:_,camera:w,scene:R,onPointerMissed:N,onCreated:D,...I}){H.useMemo(()=>Ede(wue),[]);const V=rde(),[B,L]=Ude({scroll:!0,debounce:{scroll:50,resize:0},...i}),z=H.useRef(null),F=H.useRef(null);H.useImperativeHandle(t,()=>z.current);const j=H4(N),[Z,se]=H.useState(!1),[ie,k]=H.useState(!1);if(Z)throw Z;if(ie)throw ie;const q=H.useRef(null);w0(()=>{const ne=z.current;if(L.width>0&&L.height>0&&ne){q.current||(q.current=Nde(ne));async function G(){await q.current.configure({gl:s,scene:R,events:o,shadows:h,linear:m,flat:g,legacy:y,orthographic:b,frameloop:S,dpr:C,performance:T,raycaster:_,camera:w,size:L,onPointerMissed:(...te)=>j.current==null?void 0:j.current(...te),onCreated:te=>{te.events.connect==null||te.events.connect(l?nde(l)?l.current:l:F.current),d&&te.setEvents({compute:(ve,Me)=>{const De=ve[d+"X"],qe=ve[d+"Y"];Me.pointer.set(De/Me.size.width*2-1,-(qe/Me.size.height)*2+1),Me.raycaster.setFromCamera(Me.pointer,Me.camera)}}),D?.(te)}}),q.current.render(pe.jsx(V,{children:pe.jsx(ade,{set:k,children:pe.jsx(H.Suspense,{fallback:pe.jsx(sde,{set:se}),children:e??null})})}))}G()}}),H.useEffect(()=>{const ne=z.current;if(ne)return()=>e5(ne)},[]);const $=l?"none":"auto";return pe.jsx("div",{ref:F,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:$,...r},...I,children:pe.jsx("div",{ref:B,style:{width:"100%",height:"100%"},children:pe.jsx("canvas",{ref:z,style:{display:"block"},children:n})})})}function Gde(t){return pe.jsx(V4,{children:pe.jsx(Hde,{...t})})}const Wde=t=>t;function jde(t,e=Wde){const n=Hf.useSyncExternalStore(t.subscribe,Hf.useCallback(()=>e(t.getState()),[t,e]),Hf.useCallback(()=>e(t.getInitialState()),[t,e]));return Hf.useDebugValue(n),n}const lI=t=>{const e=I4(t),n=i=>jde(e,i);return Object.assign(n,e),n},Xde=(t=>t?lI(t):lI);let Vv=0;const qde=Xde(t=>(mm.onStart=(e,n,i)=>{t({active:!0,item:e,loaded:n,total:i,progress:(n-Vv)/(i-Vv)*100})},mm.onLoad=()=>{t({active:!1})},mm.onError=e=>t(n=>({errors:[...n.errors,e]})),mm.onProgress=(e,n,i)=>{n===i&&(Vv=i),t({active:!0,item:e,loaded:n,total:i,progress:(n-Vv)/(i-Vv)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0})),aC=t=>t===Object(t)&&!Array.isArray(t)&&typeof t!="function";function gy(t,e){const n=Y4(s=>s.gl),i=A0(gE,aC(t)?Object.values(t):t);return H.useLayoutEffect(()=>{e?.(i)},[e]),H.useEffect(()=>{if("initTexture"in n){let s=[];Array.isArray(i)?s=i:i instanceof gi?s=[i]:aC(i)&&(s=Object.values(i)),s.forEach(o=>{o instanceof gi&&n.initTexture(o)})}},[n,i]),H.useMemo(()=>{if(aC(t)){const s={};let o=0;for(const l in t)s[l]=i[o++];return s}else return i},[t,i])}gy.preload=t=>A0.preload(gE,t);gy.clear=t=>A0.clear(gE,t);const Yde=()=>parseInt(g0.replace(/\D+/g,"")),Kde=Yde();class $de extends oo{constructor(){super({uniforms:{time:{value:0},fade:{value:1}},vertexShader:`
      uniform float time;
      attribute float size;
      varying vec3 vColor;
      void main() {
        vColor = color;
        vec4 mvPosition = modelViewMatrix * vec4(position, 0.5);
        gl_PointSize = size * (30.0 / -mvPosition.z) * (3.0 + sin(time + 100.0));
        gl_Position = projectionMatrix * mvPosition;
      }`,fragmentShader:`
      uniform sampler2D pointTexture;
      uniform float fade;
      varying vec3 vColor;
      void main() {
        float opacity = 1.0;
        if (fade == 1.0) {
          float d = distance(gl_PointCoord, vec2(0.5, 0.5));
          opacity = 1.0 / (1.0 + exp(16.0 * (d - 0.25)));
        }
        gl_FragColor = vec4(vColor, opacity);

        #include <tonemapping_fragment>
	      #include <${Kde>=154?"colorspace_fragment":"encodings_fragment"}>
      }`})}}const Zde=t=>new J().setFromSpherical(new M4(t,Math.acos(1-Math.random()*2),Math.random()*2*Math.PI)),Qde=H.forwardRef(({radius:t=100,depth:e=50,count:n=5e3,saturation:i=0,factor:r=4,fade:s=!1,speed:o=1},l)=>{const d=H.useRef(null),[h,m,g]=H.useMemo(()=>{const b=[],S=[],C=Array.from({length:n},()=>(.5+.5*Math.random())*r),T=new mt;let _=t+e;const w=e/n;for(let R=0;R<n;R++)_-=w*Math.random(),b.push(...Zde(_).toArray()),T.setHSL(R/n,i,.9),S.push(T.r,T.g,T.b);return[new Float32Array(b),new Float32Array(S),new Float32Array(C)]},[n,e,r,t,i]);jR(b=>d.current&&(d.current.uniforms.time.value=b.clock.elapsedTime*o));const[y]=H.useState(()=>new $de);return H.createElement("points",{ref:l},H.createElement("bufferGeometry",null,H.createElement("bufferAttribute",{attach:"attributes-position",args:[h,3]}),H.createElement("bufferAttribute",{attach:"attributes-color",args:[m,3]}),H.createElement("bufferAttribute",{attach:"attributes-size",args:[g,1]})),H.createElement("primitive",{ref:d,object:y,attach:"material",blending:d_,"uniforms-fade-value":s,depthWrite:!1,transparent:!0,vertexColors:!0}))}),Jde=()=>{const{camera:t}=Y4(),{scrollYProgress:e}=Ste();return jR(()=>{const i=e.get()*3;t.position.lerp(new J(1+i,0,1.8-i),.05)}),pe.jsxs(pe.Fragment,{children:[pe.jsx(tfe,{}),pe.jsx(Qde,{radius:100,depth:20,count:3e3,factor:4,saturation:10,speed:0,fade:!0}),pe.jsx(efe,{})]})},efe=({radius:t=1.5,rotationSpeed:e=.02})=>{const n=H.useRef(null),i=gy("/moonmap4k.jpg"),r=gy("/moonbump4k.jpg"),s=gy("/normal.jpg");return jR((o,l)=>{n.current&&(n.current.rotation.y+=e*l)}),pe.jsxs("mesh",{ref:n,castShadow:!0,receiveShadow:!0,children:[pe.jsx("sphereGeometry",{args:[t,1024,1024]}),pe.jsx("meshStandardMaterial",{map:i,roughness:1,metalness:0,bumpMap:r,bumpScale:.24,normalMap:s,normalScale:.2})]})},tfe=()=>pe.jsx("directionalLight",{position:[2,2.5,-2.5],intensity:4.2,"target-position":[0,0,0],castShadow:!0}),nfe=()=>pe.jsx(ts,{as:"figure",pos:"fixed",inset:0,w:"vw",h:"vh",bg:"#000",zIndex:-1,children:pe.jsx(Gde,{shadows:!0,camera:{position:[1,0,1.8],fov:50,rotation:[.4,-.4,0]},children:pe.jsx(Jde,{})})});var qR=(t=>(t.EN="en",t.RU="ru",t))(qR||{});const ife=()=>{const{i18n:t}=Dk();return pe.jsxs(f$,{value:t.language,onValueChange:e=>t.changeLanguage(e.value??"en"),background:"transparent",children:[pe.jsx(m$,{background:"transparent",borderWidth:"1px",borderStyle:"solid",borderColor:"gray.50"}),Object.values(qR).map(e=>pe.jsxs(h$,{background:"transparent",color:"gray.50",cursor:"pointer",value:e,children:[pe.jsx(p$,{children:e}),pe.jsx(g$,{})]},e))]})},rfe=()=>pe.jsx(ts,{as:"header",position:"fixed",top:4,w:"full",overflowY:"hidden",color:"gray.50",zIndex:1,children:pe.jsxs(ts,{h:"3rem",mx:"2rem",px:1.5,display:"flex",alignItems:"center",justifyContent:"space-between",children:[pe.jsx(bb,{borderRadius:10,overflow:"hidden",href:"/",children:pe.jsx(u$,{w:10,src:"/star.svg"})}),pe.jsxs(y$,{gap:4,display:{base:"none",md:"flex"},flex:1,justifyContent:"center",children:[pe.jsx(bb,{href:"#home",color:"gray.50",children:pe.jsx(ZT,{text:"header.home"})}),pe.jsx(bb,{href:"#home",color:"gray.50",children:pe.jsx(ZT,{text:"header.experience"})}),pe.jsx(bb,{href:"#contacts",color:"gray.50",boxShadow:"none",children:pe.jsx(ZT,{text:"header.contacts"})})]}),pe.jsx(ts,{display:{base:"none",md:"flex"},children:pe.jsx(ife,{})}),pe.jsx(ts,{display:{base:"flex",md:"none"}})]})}),sfe=({children:t})=>{const{active:e,progress:n}=qde(),i=e||n!==100,r={show:{opacity:1},hide:{opacity:0,display:"none",transition:{duration:.5,display:{delay:.5}}}};return pe.jsxs(pe.Fragment,{children:[pe.jsx(DU,{asChild:!0,position:"fixed",inset:0,backgroundColor:"#000",zIndex:1e3,children:pe.jsx(dm.div,{variants:r,animate:i?"show":"hide",children:pe.jsxs(x$,{children:[pe.jsx(NU,{color:"gray.50"}),pe.jsx(Qv,{color:"gray.50",children:"Loading..."})]})})}),!i&&t]})};var afe="1.3.13";function i5(t,e,n){return Math.max(t,Math.min(e,n))}function ofe(t,e,n){return(1-n)*t+n*e}function lfe(t,e,n,i){return ofe(t,e,1-Math.exp(-n*i))}function cfe(t,e){return(t%e+e)%e}var ufe=class{isRunning=!1;value=0;from=0;to=0;currentTime=0;lerp;duration;easing;onUpdate;advance(t){if(!this.isRunning)return;let e=!1;if(this.duration&&this.easing){this.currentTime+=t;const n=i5(0,this.currentTime/this.duration,1);e=n>=1;const i=e?1:this.easing(n);this.value=this.from+(this.to-this.from)*i}else this.lerp?(this.value=lfe(this.value,this.to,this.lerp*60,t),Math.round(this.value)===this.to&&(this.value=this.to,e=!0)):(this.value=this.to,e=!0);e&&this.stop(),this.onUpdate?.(this.value,e)}stop(){this.isRunning=!1}fromTo(t,e,{lerp:n,duration:i,easing:r,onStart:s,onUpdate:o}){this.from=this.value=t,this.to=e,this.lerp=n,this.duration=i,this.easing=r,this.currentTime=0,this.isRunning=!0,s?.(),this.onUpdate=o}};function dfe(t,e){let n;return function(...i){let r=this;clearTimeout(n),n=setTimeout(()=>{n=void 0,t.apply(r,i)},e)}}var ffe=class{constructor(t,e,{autoResize:n=!0,debounce:i=250}={}){this.wrapper=t,this.content=e,n&&(this.debouncedResize=dfe(this.resize,i),this.wrapper instanceof Window?window.addEventListener("resize",this.debouncedResize,!1):(this.wrapperResizeObserver=new ResizeObserver(this.debouncedResize),this.wrapperResizeObserver.observe(this.wrapper)),this.contentResizeObserver=new ResizeObserver(this.debouncedResize),this.contentResizeObserver.observe(this.content)),this.resize()}width=0;height=0;scrollHeight=0;scrollWidth=0;debouncedResize;wrapperResizeObserver;contentResizeObserver;destroy(){this.wrapperResizeObserver?.disconnect(),this.contentResizeObserver?.disconnect(),this.wrapper===window&&this.debouncedResize&&window.removeEventListener("resize",this.debouncedResize,!1)}resize=()=>{this.onWrapperResize(),this.onContentResize()};onWrapperResize=()=>{this.wrapper instanceof Window?(this.width=window.innerWidth,this.height=window.innerHeight):(this.width=this.wrapper.clientWidth,this.height=this.wrapper.clientHeight)};onContentResize=()=>{this.wrapper instanceof Window?(this.scrollHeight=this.content.scrollHeight,this.scrollWidth=this.content.scrollWidth):(this.scrollHeight=this.wrapper.scrollHeight,this.scrollWidth=this.wrapper.scrollWidth)};get limit(){return{x:this.scrollWidth-this.width,y:this.scrollHeight-this.height}}},r5=class{events={};emit(t,...e){let n=this.events[t]||[];for(let i=0,r=n.length;i<r;i++)n[i]?.(...e)}on(t,e){return this.events[t]?.push(e)||(this.events[t]=[e]),()=>{this.events[t]=this.events[t]?.filter(n=>e!==n)}}off(t,e){this.events[t]=this.events[t]?.filter(n=>e!==n)}destroy(){this.events={}}},cI=100/6,rd={passive:!1},hfe=class{constructor(t,e={wheelMultiplier:1,touchMultiplier:1}){this.element=t,this.options=e,window.addEventListener("resize",this.onWindowResize,!1),this.onWindowResize(),this.element.addEventListener("wheel",this.onWheel,rd),this.element.addEventListener("touchstart",this.onTouchStart,rd),this.element.addEventListener("touchmove",this.onTouchMove,rd),this.element.addEventListener("touchend",this.onTouchEnd,rd)}touchStart={x:0,y:0};lastDelta={x:0,y:0};window={width:0,height:0};emitter=new r5;on(t,e){return this.emitter.on(t,e)}destroy(){this.emitter.destroy(),window.removeEventListener("resize",this.onWindowResize,!1),this.element.removeEventListener("wheel",this.onWheel,rd),this.element.removeEventListener("touchstart",this.onTouchStart,rd),this.element.removeEventListener("touchmove",this.onTouchMove,rd),this.element.removeEventListener("touchend",this.onTouchEnd,rd)}onTouchStart=t=>{const{clientX:e,clientY:n}=t.targetTouches?t.targetTouches[0]:t;this.touchStart.x=e,this.touchStart.y=n,this.lastDelta={x:0,y:0},this.emitter.emit("scroll",{deltaX:0,deltaY:0,event:t})};onTouchMove=t=>{const{clientX:e,clientY:n}=t.targetTouches?t.targetTouches[0]:t,i=-(e-this.touchStart.x)*this.options.touchMultiplier,r=-(n-this.touchStart.y)*this.options.touchMultiplier;this.touchStart.x=e,this.touchStart.y=n,this.lastDelta={x:i,y:r},this.emitter.emit("scroll",{deltaX:i,deltaY:r,event:t})};onTouchEnd=t=>{this.emitter.emit("scroll",{deltaX:this.lastDelta.x,deltaY:this.lastDelta.y,event:t})};onWheel=t=>{let{deltaX:e,deltaY:n,deltaMode:i}=t;const r=i===1?cI:i===2?this.window.width:1,s=i===1?cI:i===2?this.window.height:1;e*=r,n*=s,e*=this.options.wheelMultiplier,n*=this.options.wheelMultiplier,this.emitter.emit("scroll",{deltaX:e,deltaY:n,event:t})};onWindowResize=()=>{this.window={width:window.innerWidth,height:window.innerHeight}}},uI=t=>Math.min(1,1.001-Math.pow(2,-10*t)),pfe=class{_isScrolling=!1;_isStopped=!1;_isLocked=!1;_preventNextNativeScrollEvent=!1;_resetVelocityTimeout=null;__rafID=null;isTouching;time=0;userData={};lastVelocity=0;velocity=0;direction=0;options;targetScroll;animatedScroll;animate=new ufe;emitter=new r5;dimensions;virtualScroll;constructor({wrapper:t=window,content:e=document.documentElement,eventsTarget:n=t,smoothWheel:i=!0,syncTouch:r=!1,syncTouchLerp:s=.075,touchInertiaExponent:o=1.7,duration:l,easing:d,lerp:h=.1,infinite:m=!1,orientation:g="vertical",gestureOrientation:y=g==="horizontal"?"both":"vertical",touchMultiplier:b=1,wheelMultiplier:S=1,autoResize:C=!0,prevent:T,virtualScroll:_,overscroll:w=!0,autoRaf:R=!1,anchors:N=!1,autoToggle:D=!1,allowNestedScroll:I=!1,__experimental__naiveDimensions:V=!1}={}){window.lenisVersion=afe,(!t||t===document.documentElement)&&(t=window),typeof l=="number"&&typeof d!="function"?d=uI:typeof d=="function"&&typeof l!="number"&&(l=1),this.options={wrapper:t,content:e,eventsTarget:n,smoothWheel:i,syncTouch:r,syncTouchLerp:s,touchInertiaExponent:o,duration:l,easing:d,lerp:h,infinite:m,gestureOrientation:y,orientation:g,touchMultiplier:b,wheelMultiplier:S,autoResize:C,prevent:T,virtualScroll:_,overscroll:w,autoRaf:R,anchors:N,autoToggle:D,allowNestedScroll:I,__experimental__naiveDimensions:V},this.dimensions=new ffe(t,e,{autoResize:C}),this.updateClassName(),this.targetScroll=this.animatedScroll=this.actualScroll,this.options.wrapper.addEventListener("scroll",this.onNativeScroll,!1),this.options.wrapper.addEventListener("scrollend",this.onScrollEnd,{capture:!0}),this.options.anchors&&this.options.wrapper===window&&this.options.wrapper.addEventListener("click",this.onClick,!1),this.options.wrapper.addEventListener("pointerdown",this.onPointerDown,!1),this.virtualScroll=new hfe(n,{touchMultiplier:b,wheelMultiplier:S}),this.virtualScroll.on("scroll",this.onVirtualScroll),this.options.autoToggle&&this.rootElement.addEventListener("transitionend",this.onTransitionEnd,{passive:!0}),this.options.autoRaf&&(this.__rafID=requestAnimationFrame(this.raf))}destroy(){this.emitter.destroy(),this.options.wrapper.removeEventListener("scroll",this.onNativeScroll,!1),this.options.wrapper.removeEventListener("scrollend",this.onScrollEnd,{capture:!0}),this.options.wrapper.removeEventListener("pointerdown",this.onPointerDown,!1),this.options.anchors&&this.options.wrapper===window&&this.options.wrapper.removeEventListener("click",this.onClick,!1),this.virtualScroll.destroy(),this.dimensions.destroy(),this.cleanUpClassName(),this.__rafID&&cancelAnimationFrame(this.__rafID)}on(t,e){return this.emitter.on(t,e)}off(t,e){return this.emitter.off(t,e)}onScrollEnd=t=>{t instanceof CustomEvent||(this.isScrolling==="smooth"||this.isScrolling===!1)&&t.stopPropagation()};dispatchScrollendEvent=()=>{this.options.wrapper.dispatchEvent(new CustomEvent("scrollend",{bubbles:this.options.wrapper===window,detail:{lenisScrollEnd:!0}}))};onTransitionEnd=t=>{if(t.propertyName.includes("overflow")){const e=this.isHorizontal?"overflow-x":"overflow-y",n=getComputedStyle(this.rootElement)[e];["hidden","clip"].includes(n)?this.internalStop():this.internalStart()}};setScroll(t){this.isHorizontal?this.options.wrapper.scrollTo({left:t,behavior:"instant"}):this.options.wrapper.scrollTo({top:t,behavior:"instant"})}onClick=t=>{const n=t.composedPath().find(i=>i instanceof HTMLAnchorElement&&i.getAttribute("href")?.includes("#"));if(n){const i=n.getAttribute("href");if(i){const r=typeof this.options.anchors=="object"&&this.options.anchors?this.options.anchors:void 0,s=`#${i.split("#")[1]}`;this.scrollTo(s,r)}}};onPointerDown=t=>{t.button===1&&this.reset()};onVirtualScroll=t=>{if(typeof this.options.virtualScroll=="function"&&this.options.virtualScroll(t)===!1)return;const{deltaX:e,deltaY:n,event:i}=t;if(this.emitter.emit("virtual-scroll",{deltaX:e,deltaY:n,event:i}),i.ctrlKey||i.lenisStopPropagation)return;const r=i.type.includes("touch"),s=i.type.includes("wheel");this.isTouching=i.type==="touchstart"||i.type==="touchmove";const o=e===0&&n===0;if(this.options.syncTouch&&r&&i.type==="touchstart"&&o&&!this.isStopped&&!this.isLocked){this.reset();return}const d=this.options.gestureOrientation==="vertical"&&n===0||this.options.gestureOrientation==="horizontal"&&e===0;if(o||d)return;let h=i.composedPath();h=h.slice(0,h.indexOf(this.rootElement));const m=this.options.prevent;if(h.find(T=>T instanceof HTMLElement&&(typeof m=="function"&&m?.(T)||T.hasAttribute?.("data-lenis-prevent")||r&&T.hasAttribute?.("data-lenis-prevent-touch")||s&&T.hasAttribute?.("data-lenis-prevent-wheel")||this.options.allowNestedScroll&&this.checkNestedScroll(T,{deltaX:e,deltaY:n}))))return;if(this.isStopped||this.isLocked){i.cancelable&&i.preventDefault();return}if(!(this.options.syncTouch&&r||this.options.smoothWheel&&s)){this.isScrolling="native",this.animate.stop(),i.lenisStopPropagation=!0;return}let y=n;this.options.gestureOrientation==="both"?y=Math.abs(n)>Math.abs(e)?n:e:this.options.gestureOrientation==="horizontal"&&(y=e),(!this.options.overscroll||this.options.infinite||this.options.wrapper!==window&&this.limit>0&&(this.animatedScroll>0&&this.animatedScroll<this.limit||this.animatedScroll===0&&n>0||this.animatedScroll===this.limit&&n<0))&&(i.lenisStopPropagation=!0),i.cancelable&&i.preventDefault();const b=r&&this.options.syncTouch,C=r&&i.type==="touchend";C&&(y=Math.sign(this.velocity)*Math.pow(Math.abs(this.velocity),this.options.touchInertiaExponent)),this.scrollTo(this.targetScroll+y,{programmatic:!1,...b?{lerp:C?this.options.syncTouchLerp:1}:{lerp:this.options.lerp,duration:this.options.duration,easing:this.options.easing}})};resize(){this.dimensions.resize(),this.animatedScroll=this.targetScroll=this.actualScroll,this.emit()}emit(){this.emitter.emit("scroll",this)}onNativeScroll=()=>{if(this._resetVelocityTimeout!==null&&(clearTimeout(this._resetVelocityTimeout),this._resetVelocityTimeout=null),this._preventNextNativeScrollEvent){this._preventNextNativeScrollEvent=!1;return}if(this.isScrolling===!1||this.isScrolling==="native"){const t=this.animatedScroll;this.animatedScroll=this.targetScroll=this.actualScroll,this.lastVelocity=this.velocity,this.velocity=this.animatedScroll-t,this.direction=Math.sign(this.animatedScroll-t),this.isStopped||(this.isScrolling="native"),this.emit(),this.velocity!==0&&(this._resetVelocityTimeout=setTimeout(()=>{this.lastVelocity=this.velocity,this.velocity=0,this.isScrolling=!1,this.emit()},400))}};reset(){this.isLocked=!1,this.isScrolling=!1,this.animatedScroll=this.targetScroll=this.actualScroll,this.lastVelocity=this.velocity=0,this.animate.stop()}start(){if(this.isStopped){if(this.options.autoToggle){this.rootElement.style.removeProperty("overflow");return}this.internalStart()}}internalStart(){this.isStopped&&(this.reset(),this.isStopped=!1,this.emit())}stop(){if(!this.isStopped){if(this.options.autoToggle){this.rootElement.style.setProperty("overflow","clip");return}this.internalStop()}}internalStop(){this.isStopped||(this.reset(),this.isStopped=!0,this.emit())}raf=t=>{const e=t-(this.time||t);this.time=t,this.animate.advance(e*.001),this.options.autoRaf&&(this.__rafID=requestAnimationFrame(this.raf))};scrollTo(t,{offset:e=0,immediate:n=!1,lock:i=!1,duration:r=this.options.duration,easing:s=this.options.easing,lerp:o=this.options.lerp,onStart:l,onComplete:d,force:h=!1,programmatic:m=!0,userData:g}={}){if(!((this.isStopped||this.isLocked)&&!h)){if(typeof t=="string"&&["top","left","start","#"].includes(t))t=0;else if(typeof t=="string"&&["bottom","right","end"].includes(t))t=this.limit;else{let y;if(typeof t=="string"?(y=document.querySelector(t),y||(t==="#top"?t=0:console.warn("Lenis: Target not found",t))):t instanceof HTMLElement&&t?.nodeType&&(y=t),y){if(this.options.wrapper!==window){const S=this.rootElement.getBoundingClientRect();e-=this.isHorizontal?S.left:S.top}const b=y.getBoundingClientRect();t=(this.isHorizontal?b.left:b.top)+this.animatedScroll}}if(typeof t=="number"){if(t+=e,t=Math.round(t),this.options.infinite){if(m){this.targetScroll=this.animatedScroll=this.scroll;const y=t-this.animatedScroll;y>this.limit/2?t=t-this.limit:y<-this.limit/2&&(t=t+this.limit)}}else t=i5(0,t,this.limit);if(t===this.targetScroll){l?.(this),d?.(this);return}if(this.userData=g??{},n){this.animatedScroll=this.targetScroll=t,this.setScroll(this.scroll),this.reset(),this.preventNextNativeScrollEvent(),this.emit(),d?.(this),this.userData={},requestAnimationFrame(()=>{this.dispatchScrollendEvent()});return}m||(this.targetScroll=t),typeof r=="number"&&typeof s!="function"?s=uI:typeof s=="function"&&typeof r!="number"&&(r=1),this.animate.fromTo(this.animatedScroll,t,{duration:r,easing:s,lerp:o,onStart:()=>{i&&(this.isLocked=!0),this.isScrolling="smooth",l?.(this)},onUpdate:(y,b)=>{this.isScrolling="smooth",this.lastVelocity=this.velocity,this.velocity=y-this.animatedScroll,this.direction=Math.sign(this.velocity),this.animatedScroll=y,this.setScroll(this.scroll),m&&(this.targetScroll=y),b||this.emit(),b&&(this.reset(),this.emit(),d?.(this),this.userData={},requestAnimationFrame(()=>{this.dispatchScrollendEvent()}),this.preventNextNativeScrollEvent())}})}}}preventNextNativeScrollEvent(){this._preventNextNativeScrollEvent=!0,requestAnimationFrame(()=>{this._preventNextNativeScrollEvent=!1})}checkNestedScroll(t,{deltaX:e,deltaY:n}){const i=Date.now(),r=t._lenis??={};let s,o,l,d,h,m,g,y;const b=this.options.gestureOrientation;if(i-(r.time??0)>2e3){r.time=Date.now();const D=window.getComputedStyle(t);r.computedStyle=D;const I=D.overflowX,V=D.overflowY;if(s=["auto","overlay","scroll"].includes(I),o=["auto","overlay","scroll"].includes(V),r.hasOverflowX=s,r.hasOverflowY=o,!s&&!o||b==="vertical"&&!o||b==="horizontal"&&!s)return!1;h=t.scrollWidth,m=t.scrollHeight,g=t.clientWidth,y=t.clientHeight,l=h>g,d=m>y,r.isScrollableX=l,r.isScrollableY=d,r.scrollWidth=h,r.scrollHeight=m,r.clientWidth=g,r.clientHeight=y}else l=r.isScrollableX,d=r.isScrollableY,s=r.hasOverflowX,o=r.hasOverflowY,h=r.scrollWidth,m=r.scrollHeight,g=r.clientWidth,y=r.clientHeight;if(!s&&!o||!l&&!d||b==="vertical"&&(!o||!d)||b==="horizontal"&&(!s||!l))return!1;let S;if(b==="horizontal")S="x";else if(b==="vertical")S="y";else{const D=e!==0,I=n!==0;D&&s&&l&&(S="x"),I&&o&&d&&(S="y")}if(!S)return!1;let C,T,_,w,R;if(S==="x")C=t.scrollLeft,T=h-g,_=e,w=s,R=l;else if(S==="y")C=t.scrollTop,T=m-y,_=n,w=o,R=d;else return!1;return(_>0?C<T:C>0)&&w&&R}get rootElement(){return this.options.wrapper===window?document.documentElement:this.options.wrapper}get limit(){return this.options.__experimental__naiveDimensions?this.isHorizontal?this.rootElement.scrollWidth-this.rootElement.clientWidth:this.rootElement.scrollHeight-this.rootElement.clientHeight:this.dimensions.limit[this.isHorizontal?"x":"y"]}get isHorizontal(){return this.options.orientation==="horizontal"}get actualScroll(){const t=this.options.wrapper;return this.isHorizontal?t.scrollX??t.scrollLeft:t.scrollY??t.scrollTop}get scroll(){return this.options.infinite?cfe(this.animatedScroll,this.limit):this.animatedScroll}get progress(){return this.limit===0?1:this.scroll/this.limit}get isScrolling(){return this._isScrolling}set isScrolling(t){this._isScrolling!==t&&(this._isScrolling=t,this.updateClassName())}get isStopped(){return this._isStopped}set isStopped(t){this._isStopped!==t&&(this._isStopped=t,this.updateClassName())}get isLocked(){return this._isLocked}set isLocked(t){this._isLocked!==t&&(this._isLocked=t,this.updateClassName())}get isSmooth(){return this.isScrolling==="smooth"}get className(){let t="lenis";return this.options.autoToggle&&(t+=" lenis-autoToggle"),this.isStopped&&(t+=" lenis-stopped"),this.isLocked&&(t+=" lenis-locked"),this.isScrolling&&(t+=" lenis-scrolling"),this.isScrolling==="smooth"&&(t+=" lenis-smooth"),t}updateClassName(){this.cleanUpClassName(),this.rootElement.className=`${this.rootElement.className} ${this.className}`.trim()}cleanUpClassName(){this.rootElement.className=this.rootElement.className.replace(/lenis(-\w+)?/g,"").trim()}},mfe=class{constructor(t){this.state=t}listeners=[];set(t){this.state=t;for(let e of this.listeners)e(this.state)}subscribe(t){return this.listeners=[...this.listeners,t],()=>{this.listeners=this.listeners.filter(e=>e!==t)}}get(){return this.state}},gfe=H.createContext(null),dI=new mfe(null),vfe=H.forwardRef(({children:t,root:e=!1,options:n={},autoRaf:i=!0,...r},s)=>{const o=H.useRef(null),l=H.useRef(null),[d,h]=H.useState(void 0);H.useImperativeHandle(s,()=>({wrapper:o.current,content:l.current,lenis:d}),[d]),H.useEffect(()=>{const b=new pfe({...n,...o.current&&l.current&&{wrapper:o.current,content:l.current},autoRaf:n?.autoRaf??i});return h(b),()=>{b.destroy(),h(void 0)}},[e,JSON.stringify({...n,wrapper:null,content:null})]);const m=H.useRef([]),g=H.useCallback((b,S)=>{m.current.push({callback:b,priority:S}),m.current.sort((C,T)=>C.priority-T.priority)},[]),y=H.useCallback(b=>{m.current=m.current.filter(S=>S.callback!==b)},[]);return H.useEffect(()=>{if(e&&d)return dI.set({lenis:d,addCallback:g,removeCallback:y}),()=>dI.set(null)},[e,d,g,y]),H.useEffect(()=>{if(!d)return;const b=S=>{for(let C=0;C<m.current.length;C++)m.current[C]?.callback(S)};return d.on("scroll",b),()=>{d.off("scroll",b)}},[d]),t?pe.jsx(gfe.Provider,{value:{lenis:d,addCallback:g,removeCallback:y},children:e&&e!=="asChild"?t:pe.jsx("div",{ref:o,...r,children:pe.jsx("div",{ref:l,children:t})})}):null});const yfe=H.memo(()=>{const t=H.useRef(null);return H.useEffect(()=>{const e=n=>{const i=n.timestamp;t.current?.lenis?.raf(i)};return Wn.update(e,!0),()=>Yo(e)},[]),pe.jsxs(pe.Fragment,{children:[pe.jsx(vfe,{root:!0,options:{autoRaf:!1},ref:t}),pe.jsx(nfe,{}),pe.jsxs(sfe,{children:[pe.jsx(rfe,{}),pe.jsxs(ts,{w:"full",minH:"100vh",position:"relative",children:[pe.jsx(ts,{position:"absolute",inset:0,display:"flex",h:"100vh",justifyContent:"center",children:pe.jsx(lne,{text:"Nothing is impossible",textProps:{fontSize:"3rem",wordSpacing:"1.5rem"},cursorProps:{width:"2rem",height:"3rem"}})}),pe.jsx(ts,{h:"100vh"}),pe.jsx(ts,{h:"100vh"}),pe.jsx(ts,{h:"100vh"}),pe.jsx(ts,{h:"100vh"})]})]})]})});/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var fI="popstate";function xfe(t={}){function e(i,r){let{pathname:s,search:o,hash:l}=i.location;return Mw("",{pathname:s,search:o,hash:l},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(i,r){return typeof r=="string"?r:Jy(r)}return Sfe(e,n,null,t)}function Ei(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function tc(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function bfe(){return Math.random().toString(36).substring(2,10)}function hI(t,e){return{usr:t.state,key:t.key,idx:e}}function Mw(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?eg(e):e,state:n,key:e&&e.key||i||bfe()}}function Jy({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function eg(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function Sfe(t,e,n,i={}){let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,l="POP",d=null,h=m();h==null&&(h=0,o.replaceState({...o.state,idx:h},""));function m(){return(o.state||{idx:null}).idx}function g(){l="POP";let T=m(),_=T==null?null:T-h;h=T,d&&d({action:l,location:C.location,delta:_})}function y(T,_){l="PUSH";let w=Mw(C.location,T,_);h=m()+1;let R=hI(w,h),N=C.createHref(w);try{o.pushState(R,"",N)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;r.location.assign(N)}s&&d&&d({action:l,location:C.location,delta:1})}function b(T,_){l="REPLACE";let w=Mw(C.location,T,_);h=m();let R=hI(w,h),N=C.createHref(w);o.replaceState(R,"",N),s&&d&&d({action:l,location:C.location,delta:0})}function S(T){return _fe(T)}let C={get action(){return l},get location(){return t(r,o)},listen(T){if(d)throw new Error("A history only accepts one active listener");return r.addEventListener(fI,g),d=T,()=>{r.removeEventListener(fI,g),d=null}},createHref(T){return e(r,T)},createURL:S,encodeLocation(T){let _=S(T);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:y,replace:b,go(T){return o.go(T)}};return C}function _fe(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ei(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:Jy(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function s5(t,e,n="/"){return Efe(t,e,n,!1)}function Efe(t,e,n,i){let r=typeof e=="string"?eg(e):e,s=eu(r.pathname||"/",n);if(s==null)return null;let o=a5(t);Tfe(o);let l=null;for(let d=0;l==null&&d<o.length;++d){let h=Lfe(s);l=Pfe(o[d],h,i)}return l}function a5(t,e=[],n=[],i="",r=!1){let s=(o,l,d=r,h)=>{let m={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(i)&&d)return;Ei(m.relativePath.startsWith(i),`Absolute route path "${m.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(i.length)}let g=jc([i,m.relativePath]),y=n.concat(m);o.children&&o.children.length>0&&(Ei(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),a5(o.children,e,y,g,d)),!(o.path==null&&!o.index)&&e.push({path:g,score:Nfe(g,o.index),routesMeta:y})};return t.forEach((o,l)=>{if(o.path===""||!o.path?.includes("?"))s(o,l);else for(let d of o5(o.path))s(o,l,!0,d)}),e}function o5(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let o=o5(i.join("/")),l=[];return l.push(...o.map(d=>d===""?s:[s,d].join("/"))),r&&l.push(...o),l.map(d=>t.startsWith("/")&&d===""?"/":d)}function Tfe(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Dfe(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var Mfe=/^:[\w-]+$/,Cfe=3,wfe=2,Afe=1,Rfe=10,Ofe=-2,pI=t=>t==="*";function Nfe(t,e){let n=t.split("/"),i=n.length;return n.some(pI)&&(i+=Ofe),e&&(i+=wfe),n.filter(r=>!pI(r)).reduce((r,s)=>r+(Mfe.test(s)?Cfe:s===""?Afe:Rfe),i)}function Dfe(t,e){return t.length===e.length&&t.slice(0,-1).every((i,r)=>i===e[r])?t[t.length-1]-e[e.length-1]:0}function Pfe(t,e,n=!1){let{routesMeta:i}=t,r={},s="/",o=[];for(let l=0;l<i.length;++l){let d=i[l],h=l===i.length-1,m=s==="/"?e:e.slice(s.length)||"/",g=r1({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},m),y=d.route;if(!g&&h&&n&&!i[i.length-1].route.index&&(g=r1({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!g)return null;Object.assign(r,g.params),o.push({params:r,pathname:jc([s,g.pathname]),pathnameBase:kfe(jc([s,g.pathnameBase])),route:y}),g.pathnameBase!=="/"&&(s=jc([s,g.pathnameBase]))}return o}function r1(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=Ife(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),l=r.slice(1);return{params:i.reduce((h,{paramName:m,isOptional:g},y)=>{if(m==="*"){let S=l[y]||"";o=s.slice(0,s.length-S.length).replace(/(.)\/+$/,"$1")}const b=l[y];return g&&!b?h[m]=void 0:h[m]=(b||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:o,pattern:t}}function Ife(t,e=!1,n=!0){tc(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,d)=>(i.push({paramName:l,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function Lfe(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return tc(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function eu(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function zfe(t,e="/"){let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?eg(t):t;return{pathname:n?n.startsWith("/")?n:Ufe(n,e):e,search:Bfe(i),hash:Ffe(r)}}function Ufe(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function oC(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Vfe(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function l5(t){let e=Vfe(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function c5(t,e,n,i=!1){let r;typeof t=="string"?r=eg(t):(r={...t},Ei(!r.pathname||!r.pathname.includes("?"),oC("?","pathname","search",r)),Ei(!r.pathname||!r.pathname.includes("#"),oC("#","pathname","hash",r)),Ei(!r.search||!r.search.includes("#"),oC("#","search","hash",r)));let s=t===""||r.pathname==="",o=s?"/":r.pathname,l;if(o==null)l=n;else{let g=e.length-1;if(!i&&o.startsWith("..")){let y=o.split("/");for(;y[0]==="..";)y.shift(),g-=1;r.pathname=y.join("/")}l=g>=0?e[g]:"/"}let d=zfe(r,l),h=o&&o!=="/"&&o.endsWith("/"),m=(s||o===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(h||m)&&(d.pathname+="/"),d}var jc=t=>t.join("/").replace(/\/\/+/g,"/"),kfe=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Bfe=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Ffe=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Hfe(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var u5=["POST","PUT","PATCH","DELETE"];new Set(u5);var Gfe=["GET",...u5];new Set(Gfe);var tg=H.createContext(null);tg.displayName="DataRouter";var bE=H.createContext(null);bE.displayName="DataRouterState";H.createContext(!1);var d5=H.createContext({isTransitioning:!1});d5.displayName="ViewTransition";var Wfe=H.createContext(new Map);Wfe.displayName="Fetchers";var jfe=H.createContext(null);jfe.displayName="Await";var sc=H.createContext(null);sc.displayName="Navigation";var R0=H.createContext(null);R0.displayName="Location";var nu=H.createContext({outlet:null,matches:[],isDataRoute:!1});nu.displayName="Route";var YR=H.createContext(null);YR.displayName="RouteError";function Xfe(t,{relative:e}={}){Ei(O0(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=H.useContext(sc),{hash:r,pathname:s,search:o}=N0(t,{relative:e}),l=s;return n!=="/"&&(l=s==="/"?n:jc([n,s])),i.createHref({pathname:l,search:o,hash:r})}function O0(){return H.useContext(R0)!=null}function yh(){return Ei(O0(),"useLocation() may be used only in the context of a <Router> component."),H.useContext(R0).location}var f5="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function h5(t){H.useContext(sc).static||H.useLayoutEffect(t)}function qfe(){let{isDataRoute:t}=H.useContext(nu);return t?ahe():Yfe()}function Yfe(){Ei(O0(),"useNavigate() may be used only in the context of a <Router> component.");let t=H.useContext(tg),{basename:e,navigator:n}=H.useContext(sc),{matches:i}=H.useContext(nu),{pathname:r}=yh(),s=JSON.stringify(l5(i)),o=H.useRef(!1);return h5(()=>{o.current=!0}),H.useCallback((d,h={})=>{if(tc(o.current,f5),!o.current)return;if(typeof d=="number"){n.go(d);return}let m=c5(d,JSON.parse(s),r,h.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:jc([e,m.pathname])),(h.replace?n.replace:n.push)(m,h.state,h)},[e,n,s,r,t])}H.createContext(null);function N0(t,{relative:e}={}){let{matches:n}=H.useContext(nu),{pathname:i}=yh(),r=JSON.stringify(l5(n));return H.useMemo(()=>c5(t,JSON.parse(r),i,e==="path"),[t,r,i,e])}function Kfe(t,e){return p5(t,e)}function p5(t,e,n,i,r){Ei(O0(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=H.useContext(sc),{matches:o}=H.useContext(nu),l=o[o.length-1],d=l?l.params:{},h=l?l.pathname:"/",m=l?l.pathnameBase:"/",g=l&&l.route;{let w=g&&g.path||"";m5(h,!g||w.endsWith("*")||w.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${w}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${w}"> to <Route path="${w==="/"?"*":`${w}/*`}">.`)}let y=yh(),b;if(e){let w=typeof e=="string"?eg(e):e;Ei(m==="/"||w.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${w.pathname}" was given in the \`location\` prop.`),b=w}else b=y;let S=b.pathname||"/",C=S;if(m!=="/"){let w=m.replace(/^\//,"").split("/");C="/"+S.replace(/^\//,"").split("/").slice(w.length).join("/")}let T=s5(t,{pathname:C});tc(g||T!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),tc(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=ehe(T&&T.map(w=>Object.assign({},w,{params:Object.assign({},d,w.params),pathname:jc([m,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?m:jc([m,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),o,n,i,r);return e&&_?H.createElement(R0.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},_):_}function $fe(){let t=she(),e=Hfe(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=H.createElement(H.Fragment,null,H.createElement("p",null," Hey developer "),H.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",H.createElement("code",{style:s},"ErrorBoundary")," or"," ",H.createElement("code",{style:s},"errorElement")," prop on your route.")),H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},e),n?H.createElement("pre",{style:r},n):null,o)}var Zfe=H.createElement($fe,null),Qfe=class extends H.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?H.createElement(nu.Provider,{value:this.props.routeContext},H.createElement(YR.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Jfe({routeContext:t,match:e,children:n}){let i=H.useContext(tg);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),H.createElement(nu.Provider,{value:t},n)}function ehe(t,e=[],n=null,i=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,o=n?.errors;if(o!=null){let h=s.findIndex(m=>m.route.id&&o?.[m.route.id]!==void 0);Ei(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,h+1))}let l=!1,d=-1;if(n)for(let h=0;h<s.length;h++){let m=s[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=h),m.route.id){let{loaderData:g,errors:y}=n,b=m.route.loader&&!g.hasOwnProperty(m.route.id)&&(!y||y[m.route.id]===void 0);if(m.route.lazy||b){l=!0,d>=0?s=s.slice(0,d+1):s=[s[0]];break}}}return s.reduceRight((h,m,g)=>{let y,b=!1,S=null,C=null;n&&(y=o&&m.route.id?o[m.route.id]:void 0,S=m.route.errorElement||Zfe,l&&(d<0&&g===0?(m5("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,C=null):d===g&&(b=!0,C=m.route.hydrateFallbackElement||null)));let T=e.concat(s.slice(0,g+1)),_=()=>{let w;return y?w=S:b?w=C:m.route.Component?w=H.createElement(m.route.Component,null):m.route.element?w=m.route.element:w=h,H.createElement(Jfe,{match:m,routeContext:{outlet:h,matches:T,isDataRoute:n!=null},children:w})};return n&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?H.createElement(Qfe,{location:n.location,revalidation:n.revalidation,component:S,error:y,children:_(),routeContext:{outlet:null,matches:T,isDataRoute:!0},unstable_onError:i}):_()},null)}function KR(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function the(t){let e=H.useContext(tg);return Ei(e,KR(t)),e}function nhe(t){let e=H.useContext(bE);return Ei(e,KR(t)),e}function ihe(t){let e=H.useContext(nu);return Ei(e,KR(t)),e}function $R(t){let e=ihe(t),n=e.matches[e.matches.length-1];return Ei(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function rhe(){return $R("useRouteId")}function she(){let t=H.useContext(YR),e=nhe("useRouteError"),n=$R("useRouteError");return t!==void 0?t:e.errors?.[n]}function ahe(){let{router:t}=the("useNavigate"),e=$R("useNavigate"),n=H.useRef(!1);return h5(()=>{n.current=!0}),H.useCallback(async(r,s={})=>{tc(n.current,f5),n.current&&(typeof r=="number"?t.navigate(r):await t.navigate(r,{fromRouteId:e,...s}))},[t,e])}var mI={};function m5(t,e,n){!e&&!mI[t]&&(mI[t]=!0,tc(!1,n))}H.memo(ohe);function ohe({routes:t,future:e,state:n,unstable_onError:i}){return p5(t,void 0,n,i,e)}function g5(t){Ei(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function lhe({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:r,static:s=!1}){Ei(!O0(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),l=H.useMemo(()=>({basename:o,navigator:r,static:s,future:{}}),[o,r,s]);typeof n=="string"&&(n=eg(n));let{pathname:d="/",search:h="",hash:m="",state:g=null,key:y="default"}=n,b=H.useMemo(()=>{let S=eu(d,o);return S==null?null:{location:{pathname:S,search:h,hash:m,state:g,key:y},navigationType:i}},[o,d,h,m,g,y,i]);return tc(b!=null,`<Router basename="${o}"> is not able to match the URL "${d}${h}${m}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:H.createElement(sc.Provider,{value:l},H.createElement(R0.Provider,{children:e,value:b}))}function che({children:t,location:e}){return Kfe(Cw(t),e)}function Cw(t,e=[]){let n=[];return H.Children.forEach(t,(i,r)=>{if(!H.isValidElement(i))return;let s=[...e,r];if(i.type===H.Fragment){n.push.apply(n,Cw(i.props.children,s));return}Ei(i.type===g5,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ei(!i.props.index||!i.props.children,"An index route cannot have child routes.");let o={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=Cw(i.props.children,s)),n.push(o)}),n}var WS="get",jS="application/x-www-form-urlencoded";function SE(t){return t!=null&&typeof t.tagName=="string"}function uhe(t){return SE(t)&&t.tagName.toLowerCase()==="button"}function dhe(t){return SE(t)&&t.tagName.toLowerCase()==="form"}function fhe(t){return SE(t)&&t.tagName.toLowerCase()==="input"}function hhe(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function phe(t,e){return t.button===0&&(!e||e==="_self")&&!hhe(t)}var yS=null;function mhe(){if(yS===null)try{new FormData(document.createElement("form"),0),yS=!1}catch{yS=!0}return yS}var ghe=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function lC(t){return t!=null&&!ghe.has(t)?(tc(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${jS}"`),null):t}function vhe(t,e){let n,i,r,s,o;if(dhe(t)){let l=t.getAttribute("action");i=l?eu(l,e):null,n=t.getAttribute("method")||WS,r=lC(t.getAttribute("enctype"))||jS,s=new FormData(t)}else if(uhe(t)||fhe(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||l.getAttribute("action");if(i=d?eu(d,e):null,n=t.getAttribute("formmethod")||l.getAttribute("method")||WS,r=lC(t.getAttribute("formenctype"))||lC(l.getAttribute("enctype"))||jS,s=new FormData(l,t),!mhe()){let{name:h,type:m,value:g}=t;if(m==="image"){let y=h?`${h}.`:"";s.append(`${y}x`,"0"),s.append(`${y}y`,"0")}else h&&s.append(h,g)}}else{if(SE(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=WS,i=null,r=jS,o=t}return s&&r==="text/plain"&&(o=s,s=void 0),{action:i,method:n.toLowerCase(),encType:r,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ZR(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function yhe(t,e,n){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return i.pathname==="/"?i.pathname=`_root.${n}`:e&&eu(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function xhe(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function bhe(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function She(t,e,n){let i=await Promise.all(t.map(async r=>{let s=e.routes[r.route.id];if(s){let o=await xhe(s,n);return o.links?o.links():[]}return[]}));return Mhe(i.flat(1).filter(bhe).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function gI(t,e,n,i,r,s){let o=(d,h)=>n[h]?d.route.id!==n[h].route.id:!0,l=(d,h)=>n[h].pathname!==d.pathname||n[h].route.path?.endsWith("*")&&n[h].params["*"]!==d.params["*"];return s==="assets"?e.filter((d,h)=>o(d,h)||l(d,h)):s==="data"?e.filter((d,h)=>{let m=i.routes[d.route.id];if(!m||!m.hasLoader)return!1;if(o(d,h)||l(d,h))return!0;if(d.route.shouldRevalidate){let g=d.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function _he(t,e,{includeHydrateFallback:n}={}){return Ehe(t.map(i=>{let r=e.routes[i.route.id];if(!r)return[];let s=[r.module];return r.clientActionModule&&(s=s.concat(r.clientActionModule)),r.clientLoaderModule&&(s=s.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(s=s.concat(r.hydrateFallbackModule)),r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function Ehe(t){return[...new Set(t)]}function The(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function Mhe(t,e){let n=new Set;return new Set(e),t.reduce((i,r)=>{let s=JSON.stringify(The(r));return n.has(s)||(n.add(s),i.push({key:s,link:r})),i},[])}function v5(){let t=H.useContext(tg);return ZR(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Che(){let t=H.useContext(bE);return ZR(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var QR=H.createContext(void 0);QR.displayName="FrameworkContext";function y5(){let t=H.useContext(QR);return ZR(t,"You must render this element inside a <HydratedRouter> element"),t}function whe(t,e){let n=H.useContext(QR),[i,r]=H.useState(!1),[s,o]=H.useState(!1),{onFocus:l,onBlur:d,onMouseEnter:h,onMouseLeave:m,onTouchStart:g}=e,y=H.useRef(null);H.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let C=_=>{_.forEach(w=>{o(w.isIntersecting)})},T=new IntersectionObserver(C,{threshold:.5});return y.current&&T.observe(y.current),()=>{T.disconnect()}}},[t]),H.useEffect(()=>{if(i){let C=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(C)}}},[i]);let b=()=>{r(!0)},S=()=>{r(!1),o(!1)};return n?t!=="intent"?[s,y,{}]:[s,y,{onFocus:kv(l,b),onBlur:kv(d,S),onMouseEnter:kv(h,b),onMouseLeave:kv(m,S),onTouchStart:kv(g,b)}]:[!1,y,{}]}function kv(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function Ahe({page:t,...e}){let{router:n}=v5(),i=H.useMemo(()=>s5(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?H.createElement(Ohe,{page:t,matches:i,...e}):null}function Rhe(t){let{manifest:e,routeModules:n}=y5(),[i,r]=H.useState([]);return H.useEffect(()=>{let s=!1;return She(t,e,n).then(o=>{s||r(o)}),()=>{s=!0}},[t,e,n]),i}function Ohe({page:t,matches:e,...n}){let i=yh(),{manifest:r,routeModules:s}=y5(),{basename:o}=v5(),{loaderData:l,matches:d}=Che(),h=H.useMemo(()=>gI(t,e,d,r,i,"data"),[t,e,d,r,i]),m=H.useMemo(()=>gI(t,e,d,r,i,"assets"),[t,e,d,r,i]),g=H.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let S=new Set,C=!1;if(e.forEach(_=>{let w=r.routes[_.route.id];!w||!w.hasLoader||(!h.some(R=>R.route.id===_.route.id)&&_.route.id in l&&s[_.route.id]?.shouldRevalidate||w.hasClientLoader?C=!0:S.add(_.route.id))}),S.size===0)return[];let T=yhe(t,o,"data");return C&&S.size>0&&T.searchParams.set("_routes",e.filter(_=>S.has(_.route.id)).map(_=>_.route.id).join(",")),[T.pathname+T.search]},[o,l,i,r,h,e,t,s]),y=H.useMemo(()=>_he(m,r),[m,r]),b=Rhe(m);return H.createElement(H.Fragment,null,g.map(S=>H.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),y.map(S=>H.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),b.map(({key:S,link:C})=>H.createElement("link",{key:S,nonce:n.nonce,...C})))}function Nhe(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var x5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{x5&&(window.__reactRouterVersion="7.9.1")}catch{}function Dhe({basename:t,children:e,window:n}){let i=H.useRef();i.current==null&&(i.current=xfe({window:n,v5Compat:!0}));let r=i.current,[s,o]=H.useState({action:r.action,location:r.location}),l=H.useCallback(d=>{H.startTransition(()=>o(d))},[o]);return H.useLayoutEffect(()=>r.listen(l),[r,l]),H.createElement(lhe,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:r})}var b5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,S5=H.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:r,reloadDocument:s,replace:o,state:l,target:d,to:h,preventScrollReset:m,viewTransition:g,...y},b){let{basename:S}=H.useContext(sc),C=typeof h=="string"&&b5.test(h),T,_=!1;if(typeof h=="string"&&C&&(T=h,x5))try{let L=new URL(window.location.href),z=h.startsWith("//")?new URL(L.protocol+h):new URL(h),F=eu(z.pathname,S);z.origin===L.origin&&F!=null?h=F+z.search+z.hash:_=!0}catch{tc(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let w=Xfe(h,{relative:r}),[R,N,D]=whe(i,y),I=zhe(h,{replace:o,state:l,target:d,preventScrollReset:m,relative:r,viewTransition:g});function V(L){e&&e(L),L.defaultPrevented||I(L)}let B=H.createElement("a",{...y,...D,href:T||w,onClick:_||s?e:V,ref:Nhe(b,N),target:d,"data-discover":!C&&n==="render"?"true":void 0});return R&&!C?H.createElement(H.Fragment,null,B,H.createElement(Ahe,{page:w})):B});S5.displayName="Link";var Phe=H.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:r=!1,style:s,to:o,viewTransition:l,children:d,...h},m){let g=N0(o,{relative:h.relative}),y=yh(),b=H.useContext(bE),{navigator:S,basename:C}=H.useContext(sc),T=b!=null&&Fhe(g)&&l===!0,_=S.encodeLocation?S.encodeLocation(g).pathname:g.pathname,w=y.pathname,R=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(w=w.toLowerCase(),R=R?R.toLowerCase():null,_=_.toLowerCase()),R&&C&&(R=eu(R,C)||R);const N=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let D=w===_||!r&&w.startsWith(_)&&w.charAt(N)==="/",I=R!=null&&(R===_||!r&&R.startsWith(_)&&R.charAt(_.length)==="/"),V={isActive:D,isPending:I,isTransitioning:T},B=D?e:void 0,L;typeof i=="function"?L=i(V):L=[i,D?"active":null,I?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let z=typeof s=="function"?s(V):s;return H.createElement(S5,{...h,"aria-current":B,className:L,ref:m,style:z,to:o,viewTransition:l},typeof d=="function"?d(V):d)});Phe.displayName="NavLink";var Ihe=H.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:r,state:s,method:o=WS,action:l,onSubmit:d,relative:h,preventScrollReset:m,viewTransition:g,...y},b)=>{let S=khe(),C=Bhe(l,{relative:h}),T=o.toLowerCase()==="get"?"get":"post",_=typeof l=="string"&&b5.test(l),w=R=>{if(d&&d(R),R.defaultPrevented)return;R.preventDefault();let N=R.nativeEvent.submitter,D=N?.getAttribute("formmethod")||o;S(N||R.currentTarget,{fetcherKey:e,method:D,navigate:n,replace:r,state:s,relative:h,preventScrollReset:m,viewTransition:g})};return H.createElement("form",{ref:b,method:T,action:C,onSubmit:i?d:w,...y,"data-discover":!_&&t==="render"?"true":void 0})});Ihe.displayName="Form";function Lhe(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _5(t){let e=H.useContext(tg);return Ei(e,Lhe(t)),e}function zhe(t,{target:e,replace:n,state:i,preventScrollReset:r,relative:s,viewTransition:o}={}){let l=qfe(),d=yh(),h=N0(t,{relative:s});return H.useCallback(m=>{if(phe(m,e)){m.preventDefault();let g=n!==void 0?n:Jy(d)===Jy(h);l(t,{replace:g,state:i,preventScrollReset:r,relative:s,viewTransition:o})}},[d,l,h,n,i,e,t,r,s,o])}var Uhe=0,Vhe=()=>`__${String(++Uhe)}__`;function khe(){let{router:t}=_5("useSubmit"),{basename:e}=H.useContext(sc),n=rhe();return H.useCallback(async(i,r={})=>{let{action:s,method:o,encType:l,formData:d,body:h}=vhe(i,e);if(r.navigate===!1){let m=r.fetcherKey||Vhe();await t.fetch(m,n,r.action||s,{preventScrollReset:r.preventScrollReset,formData:d,body:h,formMethod:r.method||o,formEncType:r.encType||l,flushSync:r.flushSync})}else await t.navigate(r.action||s,{preventScrollReset:r.preventScrollReset,formData:d,body:h,formMethod:r.method||o,formEncType:r.encType||l,replace:r.replace,state:r.state,fromRouteId:n,flushSync:r.flushSync,viewTransition:r.viewTransition})},[t,e,n])}function Bhe(t,{relative:e}={}){let{basename:n}=H.useContext(sc),i=H.useContext(nu);Ei(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),s={...N0(t||".",{relative:e})},o=yh();if(t==null){s.search=o.search;let l=new URLSearchParams(s.search),d=l.getAll("index");if(d.some(m=>m==="")){l.delete("index"),d.filter(g=>g).forEach(g=>l.append("index",g));let m=l.toString();s.search=m?`?${m}`:""}}return(!t||t===".")&&r.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:jc([n,s.pathname])),Jy(s)}function Fhe(t,{relative:e}={}){let n=H.useContext(d5);Ei(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=_5("useViewTransitionState"),r=N0(t,{relative:e});if(!n.isTransitioning)return!1;let s=eu(n.currentLocation.pathname,i)||n.currentLocation.pathname,o=eu(n.nextLocation.pathname,i)||n.nextLocation.pathname;return r1(r.pathname,o)!=null||r1(r.pathname,s)!=null}const Hhe=()=>pe.jsx(Dhe,{children:pe.jsx(che,{children:pe.jsx(g5,{path:"/",element:pe.jsx(yfe,{})})})}),Yt=t=>typeof t=="string",Bv=()=>{let t,e;const n=new Promise((i,r)=>{t=i,e=r});return n.resolve=t,n.reject=e,n},vI=t=>t==null?"":""+t,Ghe=(t,e,n)=>{t.forEach(i=>{e[i]&&(n[i]=e[i])})},Whe=/###/g,yI=t=>t&&t.indexOf("###")>-1?t.replace(Whe,"."):t,xI=t=>!t||Yt(t),vy=(t,e,n)=>{const i=Yt(e)?e.split("."):e;let r=0;for(;r<i.length-1;){if(xI(t))return{};const s=yI(i[r]);!t[s]&&n&&(t[s]=new n),Object.prototype.hasOwnProperty.call(t,s)?t=t[s]:t={},++r}return xI(t)?{}:{obj:t,k:yI(i[r])}},bI=(t,e,n)=>{const{obj:i,k:r}=vy(t,e,Object);if(i!==void 0||e.length===1){i[r]=n;return}let s=e[e.length-1],o=e.slice(0,e.length-1),l=vy(t,o,Object);for(;l.obj===void 0&&o.length;)s=`${o[o.length-1]}.${s}`,o=o.slice(0,o.length-1),l=vy(t,o,Object),l?.obj&&typeof l.obj[`${l.k}.${s}`]<"u"&&(l.obj=void 0);l.obj[`${l.k}.${s}`]=n},jhe=(t,e,n,i)=>{const{obj:r,k:s}=vy(t,e,Object);r[s]=r[s]||[],r[s].push(n)},s1=(t,e)=>{const{obj:n,k:i}=vy(t,e);if(n&&Object.prototype.hasOwnProperty.call(n,i))return n[i]},Xhe=(t,e,n)=>{const i=s1(t,n);return i!==void 0?i:s1(e,n)},E5=(t,e,n)=>{for(const i in e)i!=="__proto__"&&i!=="constructor"&&(i in t?Yt(t[i])||t[i]instanceof String||Yt(e[i])||e[i]instanceof String?n&&(t[i]=e[i]):E5(t[i],e[i],n):t[i]=e[i]);return t},$p=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var qhe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Yhe=t=>Yt(t)?t.replace(/[&<>"'\/]/g,e=>qhe[e]):t;class Khe{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const i=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,i),this.regExpQueue.push(e),i}}const $he=[" ",",","?","!",";"],Zhe=new Khe(20),Qhe=(t,e,n)=>{e=e||"",n=n||"";const i=$he.filter(o=>e.indexOf(o)<0&&n.indexOf(o)<0);if(i.length===0)return!0;const r=Zhe.getRegExp(`(${i.map(o=>o==="?"?"\\?":o).join("|")})`);let s=!r.test(t);if(!s){const o=t.indexOf(n);o>0&&!r.test(t.substring(0,o))&&(s=!0)}return s},ww=(t,e,n=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const i=e.split(n);let r=t;for(let s=0;s<i.length;){if(!r||typeof r!="object")return;let o,l="";for(let d=s;d<i.length;++d)if(d!==s&&(l+=n),l+=i[d],o=r[l],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&d<i.length-1)continue;s+=d-s+1;break}r=o}return r},e0=t=>t?.replace("_","-"),Jhe={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console?.[t]?.apply?.(console,e)}};class a1{constructor(e,n={}){this.init(e,n)}init(e,n={}){this.prefix=n.prefix||"i18next:",this.logger=e||Jhe,this.options=n,this.debug=n.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,i,r){return r&&!this.debug?null:(Yt(e[0])&&(e[0]=`${i}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new a1(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new a1(this.logger,e)}}var Gl=new a1;class _E{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(i=>{this.observers[i]||(this.observers[i]=new Map);const r=this.observers[i].get(n)||0;this.observers[i].set(n,r+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e,...n){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([r,s])=>{for(let o=0;o<s;o++)r(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([r,s])=>{for(let o=0;o<s;o++)r.apply(r,[e,...n])})}}class SI extends _E{constructor(e,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,i,r={}){const s=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,o=r.ignoreJSONStructure!==void 0?r.ignoreJSONStructure:this.options.ignoreJSONStructure;let l;e.indexOf(".")>-1?l=e.split("."):(l=[e,n],i&&(Array.isArray(i)?l.push(...i):Yt(i)&&s?l.push(...i.split(s)):l.push(i)));const d=s1(this.data,l);return!d&&!n&&!i&&e.indexOf(".")>-1&&(e=l[0],n=l[1],i=l.slice(2).join(".")),d||!o||!Yt(i)?d:ww(this.data?.[e]?.[n],i,s)}addResource(e,n,i,r,s={silent:!1}){const o=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let l=[e,n];i&&(l=l.concat(o?i.split(o):i)),e.indexOf(".")>-1&&(l=e.split("."),r=n,n=l[1]),this.addNamespaces(n),bI(this.data,l,r),s.silent||this.emit("added",e,n,i,r)}addResources(e,n,i,r={silent:!1}){for(const s in i)(Yt(i[s])||Array.isArray(i[s]))&&this.addResource(e,n,s,i[s],{silent:!0});r.silent||this.emit("added",e,n,i)}addResourceBundle(e,n,i,r,s,o={silent:!1,skipCopy:!1}){let l=[e,n];e.indexOf(".")>-1&&(l=e.split("."),r=i,i=n,n=l[1]),this.addNamespaces(n);let d=s1(this.data,l)||{};o.skipCopy||(i=JSON.parse(JSON.stringify(i))),r?E5(d,i,s):d={...d,...i},bI(this.data,l,d),o.silent||this.emit("added",e,n,i)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(r=>n[r]&&Object.keys(n[r]).length>0)}toJSON(){return this.data}}var T5={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,i,r){return t.forEach(s=>{e=this.processors[s]?.process(e,n,i,r)??e}),e}};const M5=Symbol("i18next/PATH_KEY");function epe(){const t=[],e=Object.create(null);let n;return e.get=(i,r)=>(n?.revoke?.(),r===M5?t:(t.push(r),n=Proxy.revocable(i,e),n.proxy)),Proxy.revocable(Object.create(null),e).proxy}function Aw(t,e){const{[M5]:n}=t(epe());return n.join(e?.keySeparator??".")}const _I={},EI=t=>!Yt(t)&&typeof t!="boolean"&&typeof t!="number";class o1 extends _E{constructor(e,n={}){super(),Ghe(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Gl.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,n={interpolation:{}}){const i={...n};return e==null?!1:this.resolve(e,i)?.res!==void 0}extractFromKey(e,n){let i=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;i===void 0&&(i=":");const r=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let s=n.ns||this.options.defaultNS||[];const o=i&&e.indexOf(i)>-1,l=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!Qhe(e,i,r);if(o&&!l){const d=e.match(this.interpolator.nestingRegexp);if(d&&d.length>0)return{key:e,namespaces:Yt(s)?[s]:s};const h=e.split(i);(i!==r||i===r&&this.options.ns.indexOf(h[0])>-1)&&(s=h.shift()),e=h.join(r)}return{key:e,namespaces:Yt(s)?[s]:s}}translate(e,n,i){let r=typeof n=="object"?{...n}:n;if(typeof r!="object"&&this.options.overloadTranslationOptionHandler&&(r=this.options.overloadTranslationOptionHandler(arguments)),typeof r=="object"&&(r={...r}),r||(r={}),e==null)return"";typeof e=="function"&&(e=Aw(e,{...this.options,...r})),Array.isArray(e)||(e=[String(e)]);const s=r.returnDetails!==void 0?r.returnDetails:this.options.returnDetails,o=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,{key:l,namespaces:d}=this.extractFromKey(e[e.length-1],r),h=d[d.length-1];let m=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;m===void 0&&(m=":");const g=r.lng||this.language,y=r.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(g?.toLowerCase()==="cimode")return y?s?{res:`${h}${m}${l}`,usedKey:l,exactUsedKey:l,usedLng:g,usedNS:h,usedParams:this.getUsedParamsDetails(r)}:`${h}${m}${l}`:s?{res:l,usedKey:l,exactUsedKey:l,usedLng:g,usedNS:h,usedParams:this.getUsedParamsDetails(r)}:l;const b=this.resolve(e,r);let S=b?.res;const C=b?.usedKey||l,T=b?.exactUsedKey||l,_=["[object Number]","[object Function]","[object RegExp]"],w=r.joinArrays!==void 0?r.joinArrays:this.options.joinArrays,R=!this.i18nFormat||this.i18nFormat.handleAsObject,N=r.count!==void 0&&!Yt(r.count),D=o1.hasDefaultValue(r),I=N?this.pluralResolver.getSuffix(g,r.count,r):"",V=r.ordinal&&N?this.pluralResolver.getSuffix(g,r.count,{ordinal:!1}):"",B=N&&!r.ordinal&&r.count===0,L=B&&r[`defaultValue${this.options.pluralSeparator}zero`]||r[`defaultValue${I}`]||r[`defaultValue${V}`]||r.defaultValue;let z=S;R&&!S&&D&&(z=L);const F=EI(z),j=Object.prototype.toString.apply(z);if(R&&z&&F&&_.indexOf(j)<0&&!(Yt(w)&&Array.isArray(z))){if(!r.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const Z=this.options.returnedObjectHandler?this.options.returnedObjectHandler(C,z,{...r,ns:d}):`key '${l} (${this.language})' returned an object instead of string.`;return s?(b.res=Z,b.usedParams=this.getUsedParamsDetails(r),b):Z}if(o){const Z=Array.isArray(z),se=Z?[]:{},ie=Z?T:C;for(const k in z)if(Object.prototype.hasOwnProperty.call(z,k)){const q=`${ie}${o}${k}`;D&&!S?se[k]=this.translate(q,{...r,defaultValue:EI(L)?L[k]:void 0,joinArrays:!1,ns:d}):se[k]=this.translate(q,{...r,joinArrays:!1,ns:d}),se[k]===q&&(se[k]=z[k])}S=se}}else if(R&&Yt(w)&&Array.isArray(S))S=S.join(w),S&&(S=this.extendTranslation(S,e,r,i));else{let Z=!1,se=!1;!this.isValidLookup(S)&&D&&(Z=!0,S=L),this.isValidLookup(S)||(se=!0,S=l);const k=(r.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&se?void 0:S,q=D&&L!==S&&this.options.updateMissing;if(se||Z||q){if(this.logger.log(q?"updateKey":"missingKey",g,h,l,q?L:S),o){const te=this.resolve(l,{...r,keySeparator:!1});te&&te.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let $=[];const ne=this.languageUtils.getFallbackCodes(this.options.fallbackLng,r.lng||this.language);if(this.options.saveMissingTo==="fallback"&&ne&&ne[0])for(let te=0;te<ne.length;te++)$.push(ne[te]);else this.options.saveMissingTo==="all"?$=this.languageUtils.toResolveHierarchy(r.lng||this.language):$.push(r.lng||this.language);const G=(te,ve,Me)=>{const De=D&&Me!==S?Me:k;this.options.missingKeyHandler?this.options.missingKeyHandler(te,h,ve,De,q,r):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(te,h,ve,De,q,r),this.emit("missingKey",te,h,ve,S)};this.options.saveMissing&&(this.options.saveMissingPlurals&&N?$.forEach(te=>{const ve=this.pluralResolver.getSuffixes(te,r);B&&r[`defaultValue${this.options.pluralSeparator}zero`]&&ve.indexOf(`${this.options.pluralSeparator}zero`)<0&&ve.push(`${this.options.pluralSeparator}zero`),ve.forEach(Me=>{G([te],l+Me,r[`defaultValue${Me}`]||L)})}):G($,l,L))}S=this.extendTranslation(S,e,r,b,i),se&&S===l&&this.options.appendNamespaceToMissingKey&&(S=`${h}${m}${l}`),(se||Z)&&this.options.parseMissingKeyHandler&&(S=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${h}${m}${l}`:l,Z?S:void 0,r))}return s?(b.res=S,b.usedParams=this.getUsedParamsDetails(r),b):S}extendTranslation(e,n,i,r,s){if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...i},i.lng||this.language||r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!i.skipInterpolation){i.interpolation&&this.interpolator.init({...i,interpolation:{...this.options.interpolation,...i.interpolation}});const d=Yt(e)&&(i?.interpolation?.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let h;if(d){const g=e.match(this.interpolator.nestingRegexp);h=g&&g.length}let m=i.replace&&!Yt(i.replace)?i.replace:i;if(this.options.interpolation.defaultVariables&&(m={...this.options.interpolation.defaultVariables,...m}),e=this.interpolator.interpolate(e,m,i.lng||this.language||r.usedLng,i),d){const g=e.match(this.interpolator.nestingRegexp),y=g&&g.length;h<y&&(i.nest=!1)}!i.lng&&r&&r.res&&(i.lng=this.language||r.usedLng),i.nest!==!1&&(e=this.interpolator.nest(e,(...g)=>s?.[0]===g[0]&&!i.context?(this.logger.warn(`It seems you are nesting recursively key: ${g[0]} in key: ${n[0]}`),null):this.translate(...g,n),i)),i.interpolation&&this.interpolator.reset()}const o=i.postProcess||this.options.postProcess,l=Yt(o)?[o]:o;return e!=null&&l?.length&&i.applyPostProcessor!==!1&&(e=T5.handle(l,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...r,usedParams:this.getUsedParamsDetails(i)},...i}:i,this)),e}resolve(e,n={}){let i,r,s,o,l;return Yt(e)&&(e=[e]),e.forEach(d=>{if(this.isValidLookup(i))return;const h=this.extractFromKey(d,n),m=h.key;r=m;let g=h.namespaces;this.options.fallbackNS&&(g=g.concat(this.options.fallbackNS));const y=n.count!==void 0&&!Yt(n.count),b=y&&!n.ordinal&&n.count===0,S=n.context!==void 0&&(Yt(n.context)||typeof n.context=="number")&&n.context!=="",C=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);g.forEach(T=>{this.isValidLookup(i)||(l=T,!_I[`${C[0]}-${T}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(l)&&(_I[`${C[0]}-${T}`]=!0,this.logger.warn(`key "${r}" for languages "${C.join(", ")}" won't get resolved as namespace "${l}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),C.forEach(_=>{if(this.isValidLookup(i))return;o=_;const w=[m];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(w,m,_,T,n);else{let N;y&&(N=this.pluralResolver.getSuffix(_,n.count,n));const D=`${this.options.pluralSeparator}zero`,I=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(y&&(n.ordinal&&N.indexOf(I)===0&&w.push(m+N.replace(I,this.options.pluralSeparator)),w.push(m+N),b&&w.push(m+D)),S){const V=`${m}${this.options.contextSeparator||"_"}${n.context}`;w.push(V),y&&(n.ordinal&&N.indexOf(I)===0&&w.push(V+N.replace(I,this.options.pluralSeparator)),w.push(V+N),b&&w.push(V+D))}}let R;for(;R=w.pop();)this.isValidLookup(i)||(s=R,i=this.getResource(_,T,R,n))}))})}),{res:i,usedKey:r,exactUsedKey:s,usedLng:o,usedNS:l}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,i,r={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,n,i,r):this.resourceStore.getResource(e,n,i,r)}getUsedParamsDetails(e={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],i=e.replace&&!Yt(e.replace);let r=i?e.replace:e;if(i&&typeof e.count<"u"&&(r.count=e.count),this.options.interpolation.defaultVariables&&(r={...this.options.interpolation.defaultVariables,...r}),!i){r={...r};for(const s of n)delete r[s]}return r}static hasDefaultValue(e){const n="defaultValue";for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&n===i.substring(0,n.length)&&e[i]!==void 0)return!0;return!1}}class TI{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Gl.create("languageUtils")}getScriptPartFromCode(e){if(e=e0(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=e0(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(Yt(e)&&e.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(e)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(i=>{if(n)return;const r=this.formatLanguageCode(i);(!this.options.supportedLngs||this.isSupportedCode(r))&&(n=r)}),!n&&this.options.supportedLngs&&e.forEach(i=>{if(n)return;const r=this.getScriptPartFromCode(i);if(this.isSupportedCode(r))return n=r;const s=this.getLanguagePartFromCode(i);if(this.isSupportedCode(s))return n=s;n=this.options.supportedLngs.find(o=>{if(o===s)return o;if(!(o.indexOf("-")<0&&s.indexOf("-")<0)&&(o.indexOf("-")>0&&s.indexOf("-")<0&&o.substring(0,o.indexOf("-"))===s||o.indexOf(s)===0&&s.length>1))return o})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),Yt(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let i=e[n];return i||(i=e[this.getScriptPartFromCode(n)]),i||(i=e[this.formatLanguageCode(n)]),i||(i=e[this.getLanguagePartFromCode(n)]),i||(i=e.default),i||[]}toResolveHierarchy(e,n){const i=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],e),r=[],s=o=>{o&&(this.isSupportedCode(o)?r.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return Yt(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(e))):Yt(e)&&s(this.formatLanguageCode(e)),i.forEach(o=>{r.indexOf(o)<0&&s(this.formatLanguageCode(o))}),r}}const MI={zero:0,one:1,two:2,few:3,many:4,other:5},CI={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class tpe{constructor(e,n={}){this.languageUtils=e,this.options=n,this.logger=Gl.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,n){this.rules[e]=n}clearCache(){this.pluralRulesCache={}}getRule(e,n={}){const i=e0(e==="dev"?"en":e),r=n.ordinal?"ordinal":"cardinal",s=JSON.stringify({cleanedCode:i,type:r});if(s in this.pluralRulesCache)return this.pluralRulesCache[s];let o;try{o=new Intl.PluralRules(i,{type:r})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),CI;if(!e.match(/-|_/))return CI;const d=this.languageUtils.getLanguagePartFromCode(e);o=this.getRule(d,n)}return this.pluralRulesCache[s]=o,o}needsPlural(e,n={}){let i=this.getRule(e,n);return i||(i=this.getRule("dev",n)),i?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,n,i={}){return this.getSuffixes(e,i).map(r=>`${n}${r}`)}getSuffixes(e,n={}){let i=this.getRule(e,n);return i||(i=this.getRule("dev",n)),i?i.resolvedOptions().pluralCategories.sort((r,s)=>MI[r]-MI[s]).map(r=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${r}`):[]}getSuffix(e,n,i={}){const r=this.getRule(e,i);return r?`${this.options.prepend}${i.ordinal?`ordinal${this.options.prepend}`:""}${r.select(n)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",n,i))}}const wI=(t,e,n,i=".",r=!0)=>{let s=Xhe(t,e,n);return!s&&r&&Yt(n)&&(s=ww(t,n,i),s===void 0&&(s=ww(e,n,i))),s},cC=t=>t.replace(/\$/g,"$$$$");class npe{constructor(e={}){this.logger=Gl.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(n=>n),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:i,useRawValueToEscape:r,prefix:s,prefixEscaped:o,suffix:l,suffixEscaped:d,formatSeparator:h,unescapeSuffix:m,unescapePrefix:g,nestingPrefix:y,nestingPrefixEscaped:b,nestingSuffix:S,nestingSuffixEscaped:C,nestingOptionsSeparator:T,maxReplaces:_,alwaysFormat:w}=e.interpolation;this.escape=n!==void 0?n:Yhe,this.escapeValue=i!==void 0?i:!0,this.useRawValueToEscape=r!==void 0?r:!1,this.prefix=s?$p(s):o||"{{",this.suffix=l?$p(l):d||"}}",this.formatSeparator=h||",",this.unescapePrefix=m?"":g||"-",this.unescapeSuffix=this.unescapePrefix?"":m||"",this.nestingPrefix=y?$p(y):b||$p("$t("),this.nestingSuffix=S?$p(S):C||$p(")"),this.nestingOptionsSeparator=T||",",this.maxReplaces=_||1e3,this.alwaysFormat=w!==void 0?w:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,i)=>n?.source===i?(n.lastIndex=0,n):new RegExp(i,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,n,i,r){let s,o,l;const d=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},h=b=>{if(b.indexOf(this.formatSeparator)<0){const _=wI(n,d,b,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(_,void 0,i,{...r,...n,interpolationkey:b}):_}const S=b.split(this.formatSeparator),C=S.shift().trim(),T=S.join(this.formatSeparator).trim();return this.format(wI(n,d,C,this.options.keySeparator,this.options.ignoreJSONStructure),T,i,{...r,...n,interpolationkey:C})};this.resetRegExp();const m=r?.missingInterpolationHandler||this.options.missingInterpolationHandler,g=r?.interpolation?.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:b=>cC(b)},{regex:this.regexp,safeValue:b=>this.escapeValue?cC(this.escape(b)):cC(b)}].forEach(b=>{for(l=0;s=b.regex.exec(e);){const S=s[1].trim();if(o=h(S),o===void 0)if(typeof m=="function"){const T=m(e,s,r);o=Yt(T)?T:""}else if(r&&Object.prototype.hasOwnProperty.call(r,S))o="";else if(g){o=s[0];continue}else this.logger.warn(`missed to pass in variable ${S} for interpolating ${e}`),o="";else!Yt(o)&&!this.useRawValueToEscape&&(o=vI(o));const C=b.safeValue(o);if(e=e.replace(s[0],C),g?(b.regex.lastIndex+=o.length,b.regex.lastIndex-=s[0].length):b.regex.lastIndex=0,l++,l>=this.maxReplaces)break}}),e}nest(e,n,i={}){let r,s,o;const l=(d,h)=>{const m=this.nestingOptionsSeparator;if(d.indexOf(m)<0)return d;const g=d.split(new RegExp(`${m}[ ]*{`));let y=`{${g[1]}`;d=g[0],y=this.interpolate(y,o);const b=y.match(/'/g),S=y.match(/"/g);((b?.length??0)%2===0&&!S||S.length%2!==0)&&(y=y.replace(/'/g,'"'));try{o=JSON.parse(y),h&&(o={...h,...o})}catch(C){return this.logger.warn(`failed parsing options string in nesting for key ${d}`,C),`${d}${m}${y}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,d};for(;r=this.nestingRegexp.exec(e);){let d=[];o={...i},o=o.replace&&!Yt(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;const h=/{.*}/.test(r[1])?r[1].lastIndexOf("}")+1:r[1].indexOf(this.formatSeparator);if(h!==-1&&(d=r[1].slice(h).split(this.formatSeparator).map(m=>m.trim()).filter(Boolean),r[1]=r[1].slice(0,h)),s=n(l.call(this,r[1].trim(),o),o),s&&r[0]===e&&!Yt(s))return s;Yt(s)||(s=vI(s)),s||(this.logger.warn(`missed to resolve ${r[1]} for nesting ${e}`),s=""),d.length&&(s=d.reduce((m,g)=>this.format(m,g,i.lng,{...i,interpolationkey:r[1].trim()}),s.trim())),e=e.replace(r[0],s),this.regexp.lastIndex=0}return e}}const ipe=t=>{let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const i=t.split("(");e=i[0].toLowerCase().trim();const r=i[1].substring(0,i[1].length-1);e==="currency"&&r.indexOf(":")<0?n.currency||(n.currency=r.trim()):e==="relativetime"&&r.indexOf(":")<0?n.range||(n.range=r.trim()):r.split(";").forEach(o=>{if(o){const[l,...d]=o.split(":"),h=d.join(":").trim().replace(/^'+|'+$/g,""),m=l.trim();n[m]||(n[m]=h),h==="false"&&(n[m]=!1),h==="true"&&(n[m]=!0),isNaN(h)||(n[m]=parseInt(h,10))}})}return{formatName:e,formatOptions:n}},AI=t=>{const e={};return(n,i,r)=>{let s=r;r&&r.interpolationkey&&r.formatParams&&r.formatParams[r.interpolationkey]&&r[r.interpolationkey]&&(s={...s,[r.interpolationkey]:void 0});const o=i+JSON.stringify(s);let l=e[o];return l||(l=t(e0(i),r),e[o]=l),l(n)}},rpe=t=>(e,n,i)=>t(e0(n),i)(e);class spe{constructor(e={}){this.logger=Gl.create("formatter"),this.options=e,this.init(e)}init(e,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const i=n.cacheInBuiltFormats?AI:rpe;this.formats={number:i((r,s)=>{const o=new Intl.NumberFormat(r,{...s});return l=>o.format(l)}),currency:i((r,s)=>{const o=new Intl.NumberFormat(r,{...s,style:"currency"});return l=>o.format(l)}),datetime:i((r,s)=>{const o=new Intl.DateTimeFormat(r,{...s});return l=>o.format(l)}),relativetime:i((r,s)=>{const o=new Intl.RelativeTimeFormat(r,{...s});return l=>o.format(l,s.range||"day")}),list:i((r,s)=>{const o=new Intl.ListFormat(r,{...s});return l=>o.format(l)})}}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=AI(n)}format(e,n,i,r={}){const s=n.split(this.formatSeparator);if(s.length>1&&s[0].indexOf("(")>1&&s[0].indexOf(")")<0&&s.find(l=>l.indexOf(")")>-1)){const l=s.findIndex(d=>d.indexOf(")")>-1);s[0]=[s[0],...s.splice(1,l)].join(this.formatSeparator)}return s.reduce((l,d)=>{const{formatName:h,formatOptions:m}=ipe(d);if(this.formats[h]){let g=l;try{const y=r?.formatParams?.[r.interpolationkey]||{},b=y.locale||y.lng||r.locale||r.lng||i;g=this.formats[h](l,b,{...m,...r,...y})}catch(y){this.logger.warn(y)}return g}else this.logger.warn(`there was no format function for ${h}`);return l},e)}}const ape=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class ope extends _E{constructor(e,n,i,r={}){super(),this.backend=e,this.store=n,this.services=i,this.languageUtils=i.languageUtils,this.options=r,this.logger=Gl.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=r.maxParallelReads||10,this.readingCalls=0,this.maxRetries=r.maxRetries>=0?r.maxRetries:5,this.retryTimeout=r.retryTimeout>=1?r.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(i,r.backend,r)}queueLoad(e,n,i,r){const s={},o={},l={},d={};return e.forEach(h=>{let m=!0;n.forEach(g=>{const y=`${h}|${g}`;!i.reload&&this.store.hasResourceBundle(h,g)?this.state[y]=2:this.state[y]<0||(this.state[y]===1?o[y]===void 0&&(o[y]=!0):(this.state[y]=1,m=!1,o[y]===void 0&&(o[y]=!0),s[y]===void 0&&(s[y]=!0),d[g]===void 0&&(d[g]=!0)))}),m||(l[h]=!0)}),(Object.keys(s).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(s),pending:Object.keys(o),toLoadLanguages:Object.keys(l),toLoadNamespaces:Object.keys(d)}}loaded(e,n,i){const r=e.split("|"),s=r[0],o=r[1];n&&this.emit("failedLoading",s,o,n),!n&&i&&this.store.addResourceBundle(s,o,i,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&i&&(this.state[e]=0);const l={};this.queue.forEach(d=>{jhe(d.loaded,[s],o),ape(d,e),n&&d.errors.push(n),d.pendingCount===0&&!d.done&&(Object.keys(d.loaded).forEach(h=>{l[h]||(l[h]={});const m=d.loaded[h];m.length&&m.forEach(g=>{l[h][g]===void 0&&(l[h][g]=!0)})}),d.done=!0,d.errors.length?d.callback(d.errors):d.callback())}),this.emit("loaded",l),this.queue=this.queue.filter(d=>!d.done)}read(e,n,i,r=0,s=this.retryTimeout,o){if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:i,tried:r,wait:s,callback:o});return}this.readingCalls++;const l=(h,m)=>{if(this.readingCalls--,this.waitingReads.length>0){const g=this.waitingReads.shift();this.read(g.lng,g.ns,g.fcName,g.tried,g.wait,g.callback)}if(h&&m&&r<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,i,r+1,s*2,o)},s);return}o(h,m)},d=this.backend[i].bind(this.backend);if(d.length===2){try{const h=d(e,n);h&&typeof h.then=="function"?h.then(m=>l(null,m)).catch(l):l(null,h)}catch(h){l(h)}return}return d(e,n,l)}prepareLoading(e,n,i={},r){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),r&&r();Yt(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Yt(n)&&(n=[n]);const s=this.queueLoad(e,n,i,r);if(!s.toLoad.length)return s.pending.length||r(),null;s.toLoad.forEach(o=>{this.loadOne(o)})}load(e,n,i){this.prepareLoading(e,n,{},i)}reload(e,n,i){this.prepareLoading(e,n,{reload:!0},i)}loadOne(e,n=""){const i=e.split("|"),r=i[0],s=i[1];this.read(r,s,"read",void 0,void 0,(o,l)=>{o&&this.logger.warn(`${n}loading namespace ${s} for language ${r} failed`,o),!o&&l&&this.logger.log(`${n}loaded namespace ${s} for language ${r}`,l),this.loaded(e,o,l)})}saveMissing(e,n,i,r,s,o={},l=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${i}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(i==null||i==="")){if(this.backend?.create){const d={...o,isUpdate:s},h=this.backend.create.bind(this.backend);if(h.length<6)try{let m;h.length===5?m=h(e,n,i,r,d):m=h(e,n,i,r),m&&typeof m.then=="function"?m.then(g=>l(null,g)).catch(l):l(null,m)}catch(m){l(m)}else h(e,n,i,r,l,d)}!e||!e[0]||this.store.addResource(e[0],n,i,r)}}}const RI=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),Yt(t[1])&&(e.defaultValue=t[1]),Yt(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const n=t[3]||t[2];Object.keys(n).forEach(i=>{e[i]=n[i]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),OI=t=>(Yt(t.ns)&&(t.ns=[t.ns]),Yt(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),Yt(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs?.indexOf?.("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t),xS=()=>{},lpe=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})};class t0 extends _E{constructor(e={},n){if(super(),this.options=OI(e),this.services={},this.logger=Gl,this.modules={external:[]},lpe(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(e={},n){this.isInitializing=!0,typeof e=="function"&&(n=e,e={}),e.defaultNS==null&&e.ns&&(Yt(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const i=RI();this.options={...i,...this.options,...OI(e)},this.options.interpolation={...i.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const r=h=>h?typeof h=="function"?new h:h:null;if(!this.options.isClone){this.modules.logger?Gl.init(r(this.modules.logger),this.options):Gl.init(null,this.options);let h;this.modules.formatter?h=this.modules.formatter:h=spe;const m=new TI(this.options);this.store=new SI(this.options.resources,this.options);const g=this.services;g.logger=Gl,g.resourceStore=this.store,g.languageUtils=m,g.pluralResolver=new tpe(m,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==i.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),h&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(g.formatter=r(h),g.formatter.init&&g.formatter.init(g,this.options),this.options.interpolation.format=g.formatter.format.bind(g.formatter)),g.interpolator=new npe(this.options),g.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},g.backendConnector=new ope(r(this.modules.backend),g.resourceStore,g,this.options),g.backendConnector.on("*",(b,...S)=>{this.emit(b,...S)}),this.modules.languageDetector&&(g.languageDetector=r(this.modules.languageDetector),g.languageDetector.init&&g.languageDetector.init(g,this.options.detection,this.options)),this.modules.i18nFormat&&(g.i18nFormat=r(this.modules.i18nFormat),g.i18nFormat.init&&g.i18nFormat.init(this)),this.translator=new o1(this.services,this.options),this.translator.on("*",(b,...S)=>{this.emit(b,...S)}),this.modules.external.forEach(b=>{b.init&&b.init(this)})}if(this.format=this.options.interpolation.format,n||(n=xS),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const h=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);h.length>0&&h[0]!=="dev"&&(this.options.lng=h[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(h=>{this[h]=(...m)=>this.store[h](...m)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(h=>{this[h]=(...m)=>(this.store[h](...m),this)});const l=Bv(),d=()=>{const h=(m,g)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(g),n(m,g)};if(this.languages&&!this.isInitialized)return h(null,this.t.bind(this));this.changeLanguage(this.options.lng,h)};return this.options.resources||!this.options.initAsync?d():setTimeout(d,0),l}loadResources(e,n=xS){let i=n;const r=Yt(e)?e:this.language;if(typeof e=="function"&&(i=e),!this.options.resources||this.options.partialBundledLanguages){if(r?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return i();const s=[],o=l=>{if(!l||l==="cimode")return;this.services.languageUtils.toResolveHierarchy(l).forEach(h=>{h!=="cimode"&&s.indexOf(h)<0&&s.push(h)})};r?o(r):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(d=>o(d)),this.options.preload?.forEach?.(l=>o(l)),this.services.backendConnector.load(s,this.options.ns,l=>{!l&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),i(l)})}else i(null)}reloadResources(e,n,i){const r=Bv();return typeof e=="function"&&(i=e,e=void 0),typeof n=="function"&&(i=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),i||(i=xS),this.services.backendConnector.reload(e,n,s=>{r.resolve(),i(s)}),r}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&T5.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let n=0;n<this.languages.length;n++){const i=this.languages[n];if(!(["cimode","dev"].indexOf(i)>-1)&&this.store.hasLanguageSomeTranslations(i)){this.resolvedLanguage=i;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,n){this.isLanguageChangingTo=e;const i=Bv();this.emit("languageChanging",e);const r=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},s=(l,d)=>{d?this.isLanguageChangingTo===e&&(r(d),this.translator.changeLanguage(d),this.isLanguageChangingTo=void 0,this.emit("languageChanged",d),this.logger.log("languageChanged",d)):this.isLanguageChangingTo=void 0,i.resolve((...h)=>this.t(...h)),n&&n(l,(...h)=>this.t(...h))},o=l=>{!e&&!l&&this.services.languageDetector&&(l=[]);const d=Yt(l)?l:l&&l[0],h=this.store.hasLanguageSomeTranslations(d)?d:this.services.languageUtils.getBestMatchFromCodes(Yt(l)?[l]:l);h&&(this.language||r(h),this.translator.language||this.translator.changeLanguage(h),this.services.languageDetector?.cacheUserLanguage?.(h)),this.loadResources(h,m=>{s(m,h)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(e),i}getFixedT(e,n,i){const r=(s,o,...l)=>{let d;typeof o!="object"?d=this.options.overloadTranslationOptionHandler([s,o].concat(l)):d={...o},d.lng=d.lng||r.lng,d.lngs=d.lngs||r.lngs,d.ns=d.ns||r.ns,d.keyPrefix!==""&&(d.keyPrefix=d.keyPrefix||i||r.keyPrefix);const h=this.options.keySeparator||".";let m;return d.keyPrefix&&Array.isArray(s)?m=s.map(g=>(typeof g=="function"&&(g=Aw(g,{...this.options,...o})),`${d.keyPrefix}${h}${g}`)):(typeof s=="function"&&(s=Aw(s,{...this.options,...o})),m=d.keyPrefix?`${d.keyPrefix}${h}${s}`:s),this.t(m,d)};return Yt(e)?r.lng=e:r.lngs=e,r.ns=n,r.keyPrefix=i,r}t(...e){return this.translator?.translate(...e)}exists(...e){return this.translator?.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const i=n.lng||this.resolvedLanguage||this.languages[0],r=this.options?this.options.fallbackLng:!1,s=this.languages[this.languages.length-1];if(i.toLowerCase()==="cimode")return!0;const o=(l,d)=>{const h=this.services.backendConnector.state[`${l}|${d}`];return h===-1||h===0||h===2};if(n.precheck){const l=n.precheck(this,o);if(l!==void 0)return l}return!!(this.hasResourceBundle(i,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(i,e)&&(!r||o(s,e)))}loadNamespaces(e,n){const i=Bv();return this.options.ns?(Yt(e)&&(e=[e]),e.forEach(r=>{this.options.ns.indexOf(r)<0&&this.options.ns.push(r)}),this.loadResources(r=>{i.resolve(),n&&n(r)}),i):(n&&n(),Promise.resolve())}loadLanguages(e,n){const i=Bv();Yt(e)&&(e=[e]);const r=this.options.preload||[],s=e.filter(o=>r.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return s.length?(this.options.preload=r.concat(s),this.loadResources(o=>{i.resolve(),n&&n(o)}),i):(n&&n(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";try{const r=new Intl.Locale(e);if(r&&r.getTextInfo){const s=r.getTextInfo();if(s&&s.direction)return s.direction}}catch{}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],i=this.services?.languageUtils||new TI(RI());return e.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(i.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},n){return new t0(e,n)}cloneInstance(e={},n=xS){const i=e.forkResourceStore;i&&delete e.forkResourceStore;const r={...this.options,...e,isClone:!0},s=new t0(r);if((e.debug!==void 0||e.prefix!==void 0)&&(s.logger=s.logger.clone(e)),["store","services","language"].forEach(l=>{s[l]=this[l]}),s.services={...this.services},s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},i){const l=Object.keys(this.store.data).reduce((d,h)=>(d[h]={...this.store.data[h]},d[h]=Object.keys(d[h]).reduce((m,g)=>(m[g]={...d[h][g]},m),d[h]),d),{});s.store=new SI(l,r),s.services.resourceStore=s.store}return s.translator=new o1(s.services,r),s.translator.on("*",(l,...d)=>{s.emit(l,...d)}),s.init(r,n),s.translator.options=r,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const ss=t0.createInstance();ss.createInstance=t0.createInstance;ss.createInstance;ss.dir;ss.init;ss.loadResources;ss.reloadResources;ss.use;ss.changeLanguage;ss.getFixedT;ss.t;ss.exists;ss.setDefaultNamespace;ss.hasLoadedNamespace;ss.loadNamespaces;ss.loadLanguages;const cpe={common:{OK:"Ok"},header:{home:"Home",experience:"Experience",contacts:"Contacts"}},upe={translation:cpe},dpe={common:{OK:""},header:{home:"",experience:"",contacts:""}},fpe={translation:dpe},hpe={en:upe,ru:fpe};ss.use(tne).init({compatibilityJSON:"v4",resources:hpe,lng:qR.EN,interpolation:{escapeValue:!1}});/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ppe=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mpe=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),NI=t=>{const e=mpe(t);return e.charAt(0).toUpperCase()+e.slice(1)},C5=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),gpe=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var vpe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ype=H.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:r="",children:s,iconNode:o,...l},d)=>H.createElement("svg",{ref:d,...vpe,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:C5("lucide",r),...!s&&!gpe(l)&&{"aria-hidden":"true"},...l},[...o.map(([h,m])=>H.createElement(h,m)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w5=(t,e)=>{const n=H.forwardRef(({className:i,...r},s)=>H.createElement(ype,{ref:s,iconNode:e,className:C5(`lucide-${ppe(NI(t))}`,`lucide-${t}`,i),...r}));return n.displayName=NI(t),n};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xpe=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],bpe=w5("moon",xpe);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Spe=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],_pe=w5("sun",Spe);var Epe=(t,e,n,i,r,s,o,l)=>{let d=document.documentElement,h=["light","dark"];function m(b){(Array.isArray(t)?t:[t]).forEach(S=>{let C=S==="class",T=C&&s?r.map(_=>s[_]||_):r;C?(d.classList.remove(...T),d.classList.add(s&&s[b]?s[b]:b)):d.setAttribute(S,b)}),g(b)}function g(b){l&&h.includes(b)&&(d.style.colorScheme=b)}function y(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(i)m(i);else try{let b=localStorage.getItem(e)||n,S=o&&b==="system"?y():b;m(S)}catch{}},DI=["light","dark"],A5="(prefers-color-scheme: dark)",Tpe=typeof window>"u",JR=H.createContext(void 0),Mpe={setTheme:t=>{},themes:[]},Cpe=()=>{var t;return(t=H.useContext(JR))!=null?t:Mpe},wpe=t=>H.useContext(JR)?H.createElement(H.Fragment,null,t.children):H.createElement(Rpe,{...t}),Ape=["light","dark"],Rpe=({forcedTheme:t,disableTransitionOnChange:e=!1,enableSystem:n=!0,enableColorScheme:i=!0,storageKey:r="theme",themes:s=Ape,defaultTheme:o=n?"system":"light",attribute:l="data-theme",value:d,children:h,nonce:m,scriptProps:g})=>{let[y,b]=H.useState(()=>Npe(r,o)),[S,C]=H.useState(()=>y==="system"?uC():y),T=d?Object.values(d):s,_=H.useCallback(D=>{let I=D;if(!I)return;D==="system"&&n&&(I=uC());let V=d?d[I]:I,B=e?Dpe(m):null,L=document.documentElement,z=F=>{F==="class"?(L.classList.remove(...T),V&&L.classList.add(V)):F.startsWith("data-")&&(V?L.setAttribute(F,V):L.removeAttribute(F))};if(Array.isArray(l)?l.forEach(z):z(l),i){let F=DI.includes(o)?o:null,j=DI.includes(I)?I:F;L.style.colorScheme=j}B?.()},[m]),w=H.useCallback(D=>{let I=typeof D=="function"?D(y):D;b(I);try{localStorage.setItem(r,I)}catch{}},[y]),R=H.useCallback(D=>{let I=uC(D);C(I),y==="system"&&n&&!t&&_("system")},[y,t]);H.useEffect(()=>{let D=window.matchMedia(A5);return D.addListener(R),R(D),()=>D.removeListener(R)},[R]),H.useEffect(()=>{let D=I=>{I.key===r&&(I.newValue?b(I.newValue):w(o))};return window.addEventListener("storage",D),()=>window.removeEventListener("storage",D)},[w]),H.useEffect(()=>{_(t??y)},[t,y]);let N=H.useMemo(()=>({theme:y,setTheme:w,forcedTheme:t,resolvedTheme:y==="system"?S:y,themes:n?[...s,"system"]:s,systemTheme:n?S:void 0}),[y,w,t,S,n,s]);return H.createElement(JR.Provider,{value:N},H.createElement(Ope,{forcedTheme:t,storageKey:r,attribute:l,enableSystem:n,enableColorScheme:i,defaultTheme:o,value:d,themes:s,nonce:m,scriptProps:g}),h)},Ope=H.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:i,enableColorScheme:r,defaultTheme:s,value:o,themes:l,nonce:d,scriptProps:h})=>{let m=JSON.stringify([n,e,s,t,l,o,i,r]).slice(1,-1);return H.createElement("script",{...h,suppressHydrationWarning:!0,nonce:typeof window>"u"?d:"",dangerouslySetInnerHTML:{__html:`(${Epe.toString()})(${m})`}})}),Npe=(t,e)=>{if(Tpe)return;let n;try{n=localStorage.getItem(t)||void 0}catch{}return n||e},Dpe=t=>{let e=document.createElement("style");return t&&e.setAttribute("nonce",t),e.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},uC=t=>(t||(t=window.matchMedia(A5)),t.matches?"dark":"light");function Ppe(t){return pe.jsx(wpe,{attribute:"class",disableTransitionOnChange:!0,...t})}function R5(){const{resolvedTheme:t,setTheme:e,forcedTheme:n}=Cpe();return{colorMode:n||t,setColorMode:e,toggleColorMode:()=>{e(t==="dark"?"light":"dark")}}}function Ipe(){const{colorMode:t}=R5();return t==="dark"?pe.jsx(bpe,{}):pe.jsx(_pe,{})}H.forwardRef(function(e,n){const{toggleColorMode:i}=R5();return pe.jsx(o$,{fallback:pe.jsx(xA,{boxSize:"9"}),children:pe.jsx(s$,{onClick:i,variant:"ghost","aria-label":"Toggle color mode",size:"sm",ref:n,...e,css:{_icon:{width:"5",height:"5"}},children:pe.jsx(Ipe,{})})})});H.forwardRef(function(e,n){return pe.jsx(im,{color:"fg",display:"contents",className:"chakra-theme light",colorPalette:"gray",colorScheme:"light",ref:n,...e})});H.forwardRef(function(e,n){return pe.jsx(im,{color:"fg",display:"contents",className:"chakra-theme dark",colorPalette:"gray",colorScheme:"dark",ref:n,...e})});function Lpe(t){return pe.jsx(MH,{value:$K,children:pe.jsx(Ppe,{...t})})}Uj({placement:"bottom-end",pauseOnPageIdle:!0});H.forwardRef(function(e,n){const{showArrow:i,children:r,disabled:s,portalled:o=!0,content:l,contentProps:d,portalRef:h,...m}=e;return s?r:pe.jsxs(b$,{...m,children:[pe.jsx(S$,{asChild:!0,children:r}),pe.jsx(oj,{disabled:!o,container:h,children:pe.jsx(_$,{children:pe.jsxs(E$,{ref:n,...d,children:[i&&pe.jsx(T$,{children:pe.jsx(LU,{})}),l]})})})]})});function zpe(){return pe.jsx(Lpe,{children:pe.jsx(Hhe,{})})}const Upe=document.getElementById("root"),Vpe=TF.createRoot(Upe);Vpe.render(pe.jsx(Hf.StrictMode,{children:pe.jsx(zpe,{})}));
